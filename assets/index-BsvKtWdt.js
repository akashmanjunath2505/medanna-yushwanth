var v7=Object.defineProperty;var y7=(t,e,r)=>e in t?v7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Jt=(t,e,r)=>y7(t,typeof e!="symbol"?e+"":e,r);function gE(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var rg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ar(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function b7(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var vE={exports:{}},iy={},yE={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=Symbol.for("react.element"),x7=Symbol.for("react.portal"),w7=Symbol.for("react.fragment"),_7=Symbol.for("react.strict_mode"),S7=Symbol.for("react.profiler"),j7=Symbol.for("react.provider"),A7=Symbol.for("react.context"),N7=Symbol.for("react.forward_ref"),k7=Symbol.for("react.suspense"),O7=Symbol.for("react.memo"),P7=Symbol.for("react.lazy"),Uj=Symbol.iterator;function E7(t){return t===null||typeof t!="object"?null:(t=Uj&&t[Uj]||t["@@iterator"],typeof t=="function"?t:null)}var bE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xE=Object.assign,wE={};function ef(t,e,r){this.props=t,this.context=e,this.refs=wE,this.updater=r||bE}ef.prototype.isReactComponent={};ef.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ef.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _E(){}_E.prototype=ef.prototype;function $5(t,e,r){this.props=t,this.context=e,this.refs=wE,this.updater=r||bE}var R5=$5.prototype=new _E;R5.constructor=$5;xE(R5,ef.prototype);R5.isPureReactComponent=!0;var zj=Array.isArray,SE=Object.prototype.hasOwnProperty,M5={current:null},jE={key:!0,ref:!0,__self:!0,__source:!0};function AE(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)SE.call(e,n)&&!jE.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:rm,type:t,key:a,ref:s,props:i,_owner:M5.current}}function T7(t,e){return{$$typeof:rm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function D5(t){return typeof t=="object"&&t!==null&&t.$$typeof===rm}function C7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var qj=/\/+/g;function tb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?C7(""+t.key):e.toString(36)}function Zg(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case rm:case x7:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+tb(s,0):n,zj(i)?(r="",t!=null&&(r=t.replace(qj,"$&/")+"/"),Zg(i,e,r,"",function(c){return c})):i!=null&&(D5(i)&&(i=T7(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(qj,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",zj(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+tb(a,o);s+=Zg(a,e,r,l,i)}else if(l=E7(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+tb(a,o++),s+=Zg(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ng(t,e,r){if(t==null)return t;var n=[],i=0;return Zg(t,n,"","",function(a){return e.call(r,a,i++)}),n}function L7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ci={current:null},Qg={transition:null},I7={ReactCurrentDispatcher:ci,ReactCurrentBatchConfig:Qg,ReactCurrentOwner:M5};function NE(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:ng,forEach:function(t,e,r){ng(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ng(t,function(){e++}),e},toArray:function(t){return ng(t,function(e){return e})||[]},only:function(t){if(!D5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dt.Component=ef;Dt.Fragment=w7;Dt.Profiler=S7;Dt.PureComponent=$5;Dt.StrictMode=_7;Dt.Suspense=k7;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I7;Dt.act=NE;Dt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=xE({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=M5.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)SE.call(e,l)&&!jE.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:rm,type:t.type,key:i,ref:a,props:n,_owner:s}};Dt.createContext=function(t){return t={$$typeof:A7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:j7,_context:t},t.Consumer=t};Dt.createElement=AE;Dt.createFactory=function(t){var e=AE.bind(null,t);return e.type=t,e};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(t){return{$$typeof:N7,render:t}};Dt.isValidElement=D5;Dt.lazy=function(t){return{$$typeof:P7,_payload:{_status:-1,_result:t},_init:L7}};Dt.memo=function(t,e){return{$$typeof:O7,type:t,compare:e===void 0?null:e}};Dt.startTransition=function(t){var e=Qg.transition;Qg.transition={};try{t()}finally{Qg.transition=e}};Dt.unstable_act=NE;Dt.useCallback=function(t,e){return ci.current.useCallback(t,e)};Dt.useContext=function(t){return ci.current.useContext(t)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(t){return ci.current.useDeferredValue(t)};Dt.useEffect=function(t,e){return ci.current.useEffect(t,e)};Dt.useId=function(){return ci.current.useId()};Dt.useImperativeHandle=function(t,e,r){return ci.current.useImperativeHandle(t,e,r)};Dt.useInsertionEffect=function(t,e){return ci.current.useInsertionEffect(t,e)};Dt.useLayoutEffect=function(t,e){return ci.current.useLayoutEffect(t,e)};Dt.useMemo=function(t,e){return ci.current.useMemo(t,e)};Dt.useReducer=function(t,e,r){return ci.current.useReducer(t,e,r)};Dt.useRef=function(t){return ci.current.useRef(t)};Dt.useState=function(t){return ci.current.useState(t)};Dt.useSyncExternalStore=function(t,e,r){return ci.current.useSyncExternalStore(t,e,r)};Dt.useTransition=function(){return ci.current.useTransition()};Dt.version="18.3.1";yE.exports=Dt;var X=yE.exports;const le=ar(X),$7=gE({__proto__:null,default:le},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R7=X,M7=Symbol.for("react.element"),D7=Symbol.for("react.fragment"),B7=Object.prototype.hasOwnProperty,F7=R7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,U7={key:!0,ref:!0,__self:!0,__source:!0};function kE(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)B7.call(e,n)&&!U7.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:M7,type:t,key:a,ref:s,props:i,_owner:F7.current}}iy.Fragment=D7;iy.jsx=kE;iy.jsxs=kE;vE.exports=iy;var d=vE.exports,$x={},OE={exports:{}},Gi={},PE={exports:{}},EE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,Z){var ne=M.length;M.push(Z);e:for(;0<ne;){var ae=ne-1>>>1,E=M[ae];if(0<i(E,Z))M[ae]=Z,M[ne]=E,ne=ae;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var Z=M[0],ne=M.pop();if(ne!==Z){M[0]=ne;e:for(var ae=0,E=M.length,z=E>>>1;ae<z;){var H=2*(ae+1)-1,re=M[H],se=H+1,ue=M[se];if(0>i(re,ne))se<E&&0>i(ue,re)?(M[ae]=ue,M[se]=ne,ae=se):(M[ae]=re,M[H]=ne,ae=H);else if(se<E&&0>i(ue,ne))M[ae]=ue,M[se]=ne,ae=se;else break e}}return Z}function i(M,Z){var ne=M.sortIndex-Z.sortIndex;return ne!==0?ne:M.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,p=3,h=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(M){for(var Z=r(c);Z!==null;){if(Z.callback===null)n(c);else if(Z.startTime<=M)n(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=r(c)}}function A(M){if(g=!1,_(M),!v)if(r(l)!==null)v=!0,K(S);else{var Z=r(c);Z!==null&&V(A,Z.startTime-M)}}function S(M,Z){v=!1,g&&(g=!1,y(C),C=-1),h=!0;var ne=p;try{for(_(Z),f=r(l);f!==null&&(!(f.expirationTime>Z)||M&&!O());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,p=f.priorityLevel;var E=ae(f.expirationTime<=Z);Z=t.unstable_now(),typeof E=="function"?f.callback=E:f===r(l)&&n(l),_(Z)}else n(l);f=r(l)}if(f!==null)var z=!0;else{var H=r(c);H!==null&&V(A,H.startTime-Z),z=!1}return z}finally{f=null,p=ne,h=!1}}var k=!1,P=null,C=-1,L=5,D=-1;function O(){return!(t.unstable_now()-D<L)}function I(){if(P!==null){var M=t.unstable_now();D=M;var Z=!0;try{Z=P(!0,M)}finally{Z?B():(k=!1,P=null)}}else k=!1}var B;if(typeof w=="function")B=function(){w(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,U=F.port2;F.port1.onmessage=I,B=function(){U.postMessage(null)}}else B=function(){x(I,0)};function K(M){P=M,k||(k=!0,B())}function V(M,Z){C=x(function(){M(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,K(S))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var ne=p;p=Z;try{return M()}finally{p=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,Z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ne=p;p=M;try{return Z()}finally{p=ne}},t.unstable_scheduleCallback=function(M,Z,ne){var ae=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ae+ne:ae):ne=ae,M){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=ne+E,M={id:u++,callback:Z,priorityLevel:M,startTime:ne,expirationTime:E,sortIndex:-1},ne>ae?(M.sortIndex=ne,e(c,M),r(l)===null&&M===r(c)&&(g?(y(C),C=-1):g=!0,V(A,ne-ae))):(M.sortIndex=E,e(l,M),v||h||(v=!0,K(S))),M},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(M){var Z=p;return function(){var ne=p;p=Z;try{return M.apply(this,arguments)}finally{p=ne}}}})(EE);PE.exports=EE;var z7=PE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q7=X,Vi=z7;function Re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TE=new Set,Kh={};function Hc(t,e){md(t,e),md(t+"Capture",e)}function md(t,e){for(Kh[t]=e,t=0;t<e.length;t++)TE.add(e[t])}var ao=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rx=Object.prototype.hasOwnProperty,W7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wj={},Hj={};function H7(t){return Rx.call(Hj,t)?!0:Rx.call(Wj,t)?!1:W7.test(t)?Hj[t]=!0:(Wj[t]=!0,!1)}function V7(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function G7(t,e,r,n){if(e===null||typeof e>"u"||V7(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ui(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dn[t]=new ui(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dn[e]=new ui(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dn[t]=new ui(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dn[t]=new ui(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dn[t]=new ui(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dn[t]=new ui(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dn[t]=new ui(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dn[t]=new ui(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dn[t]=new ui(t,5,!1,t.toLowerCase(),null,!1,!1)});var B5=/[\-:]([a-z])/g;function F5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(B5,F5);Dn[e]=new ui(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(B5,F5);Dn[e]=new ui(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(B5,F5);Dn[e]=new ui(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dn[t]=new ui(t,1,!1,t.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new ui("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dn[t]=new ui(t,1,!1,t.toLowerCase(),null,!0,!0)});function U5(t,e,r,n){var i=Dn.hasOwnProperty(e)?Dn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(G7(e,r,i,n)&&(r=null),n||i===null?H7(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var mo=q7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ig=Symbol.for("react.element"),Ru=Symbol.for("react.portal"),Mu=Symbol.for("react.fragment"),z5=Symbol.for("react.strict_mode"),Mx=Symbol.for("react.profiler"),CE=Symbol.for("react.provider"),LE=Symbol.for("react.context"),q5=Symbol.for("react.forward_ref"),Dx=Symbol.for("react.suspense"),Bx=Symbol.for("react.suspense_list"),W5=Symbol.for("react.memo"),Wo=Symbol.for("react.lazy"),IE=Symbol.for("react.offscreen"),Vj=Symbol.iterator;function Qf(t){return t===null||typeof t!="object"?null:(t=Vj&&t[Vj]||t["@@iterator"],typeof t=="function"?t:null)}var Lr=Object.assign,rb;function xh(t){if(rb===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);rb=e&&e[1]||""}return`
`+rb+t}var nb=!1;function ib(t,e){if(!t||nb)return"";nb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{nb=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?xh(t):""}function K7(t){switch(t.tag){case 5:return xh(t.type);case 16:return xh("Lazy");case 13:return xh("Suspense");case 19:return xh("SuspenseList");case 0:case 2:case 15:return t=ib(t.type,!1),t;case 11:return t=ib(t.type.render,!1),t;case 1:return t=ib(t.type,!0),t;default:return""}}function Fx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mu:return"Fragment";case Ru:return"Portal";case Mx:return"Profiler";case z5:return"StrictMode";case Dx:return"Suspense";case Bx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LE:return(t.displayName||"Context")+".Consumer";case CE:return(t._context.displayName||"Context")+".Provider";case q5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W5:return e=t.displayName||null,e!==null?e:Fx(t.type)||"Memo";case Wo:e=t._payload,t=t._init;try{return Fx(t(e))}catch{}}return null}function Y7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fx(e);case 8:return e===z5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $E(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function X7(t){var e=$E(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ag(t){t._valueTracker||(t._valueTracker=X7(t))}function RE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=$E(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function v0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ux(t,e){var r=e.checked;return Lr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Gj(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=pl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ME(t,e){e=e.checked,e!=null&&U5(t,"checked",e,!1)}function zx(t,e){ME(t,e);var r=pl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qx(t,e.type,r):e.hasOwnProperty("defaultValue")&&qx(t,e.type,pl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kj(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function qx(t,e,r){(e!=="number"||v0(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var wh=Array.isArray;function ed(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+pl(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Wx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Re(91));return Lr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yj(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Re(92));if(wh(r)){if(1<r.length)throw Error(Re(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:pl(r)}}function DE(t,e){var r=pl(e.value),n=pl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Xj(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function BE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?BE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sg,FE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sg=sg||document.createElement("div"),sg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var kh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J7=["Webkit","ms","Moz","O"];Object.keys(kh).forEach(function(t){J7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kh[e]=kh[t]})});function UE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||kh.hasOwnProperty(t)&&kh[t]?(""+e).trim():e+"px"}function zE(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=UE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Z7=Lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vx(t,e){if(e){if(Z7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Re(62))}}function Gx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kx=null;function H5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yx=null,td=null,rd=null;function Jj(t){if(t=am(t)){if(typeof Yx!="function")throw Error(Re(280));var e=t.stateNode;e&&(e=cy(e),Yx(t.stateNode,t.type,e))}}function qE(t){td?rd?rd.push(t):rd=[t]:td=t}function WE(){if(td){var t=td,e=rd;if(rd=td=null,Jj(t),e)for(t=0;t<e.length;t++)Jj(e[t])}}function HE(t,e){return t(e)}function VE(){}var ab=!1;function GE(t,e,r){if(ab)return t(e,r);ab=!0;try{return HE(t,e,r)}finally{ab=!1,(td!==null||rd!==null)&&(VE(),WE())}}function Xh(t,e){var r=t.stateNode;if(r===null)return null;var n=cy(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Re(231,e,typeof r));return r}var Xx=!1;if(ao)try{var eh={};Object.defineProperty(eh,"passive",{get:function(){Xx=!0}}),window.addEventListener("test",eh,eh),window.removeEventListener("test",eh,eh)}catch{Xx=!1}function Q7(t,e,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Oh=!1,y0=null,b0=!1,Jx=null,eM={onError:function(t){Oh=!0,y0=t}};function tM(t,e,r,n,i,a,s,o,l){Oh=!1,y0=null,Q7.apply(eM,arguments)}function rM(t,e,r,n,i,a,s,o,l){if(tM.apply(this,arguments),Oh){if(Oh){var c=y0;Oh=!1,y0=null}else throw Error(Re(198));b0||(b0=!0,Jx=c)}}function Vc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function KE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zj(t){if(Vc(t)!==t)throw Error(Re(188))}function nM(t){var e=t.alternate;if(!e){if(e=Vc(t),e===null)throw Error(Re(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Zj(i),t;if(a===n)return Zj(i),e;a=a.sibling}throw Error(Re(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(Re(189))}}if(r.alternate!==n)throw Error(Re(190))}if(r.tag!==3)throw Error(Re(188));return r.stateNode.current===r?t:e}function YE(t){return t=nM(t),t!==null?XE(t):null}function XE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=XE(t);if(e!==null)return e;t=t.sibling}return null}var JE=Vi.unstable_scheduleCallback,Qj=Vi.unstable_cancelCallback,iM=Vi.unstable_shouldYield,aM=Vi.unstable_requestPaint,Gr=Vi.unstable_now,sM=Vi.unstable_getCurrentPriorityLevel,V5=Vi.unstable_ImmediatePriority,ZE=Vi.unstable_UserBlockingPriority,x0=Vi.unstable_NormalPriority,oM=Vi.unstable_LowPriority,QE=Vi.unstable_IdlePriority,ay=null,fs=null;function lM(t){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(ay,t,void 0,(t.current.flags&128)===128)}catch{}}var za=Math.clz32?Math.clz32:dM,cM=Math.log,uM=Math.LN2;function dM(t){return t>>>=0,t===0?32:31-(cM(t)/uM|0)|0}var og=64,lg=4194304;function _h(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function w0(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=_h(o):(a&=s,a!==0&&(n=_h(a)))}else s=r&~i,s!==0?n=_h(s):a!==0&&(n=_h(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-za(e),i=1<<r,n|=t[r],e&=~i;return n}function fM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hM(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-za(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=fM(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function Zx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e6(){var t=og;return og<<=1,!(og&4194240)&&(og=64),t}function sb(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function nm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-za(e),t[e]=r}function pM(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-za(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function G5(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-za(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ir=0;function t6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var r6,K5,n6,i6,a6,Qx=!1,cg=[],nl=null,il=null,al=null,Jh=new Map,Zh=new Map,Ko=[],mM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eA(t,e){switch(t){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":al=null;break;case"pointerover":case"pointerout":Jh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zh.delete(e.pointerId)}}function th(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=am(e),e!==null&&K5(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gM(t,e,r,n,i){switch(e){case"focusin":return nl=th(nl,t,e,r,n,i),!0;case"dragenter":return il=th(il,t,e,r,n,i),!0;case"mouseover":return al=th(al,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Jh.set(a,th(Jh.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Zh.set(a,th(Zh.get(a)||null,t,e,r,n,i)),!0}return!1}function s6(t){var e=mc(t.target);if(e!==null){var r=Vc(e);if(r!==null){if(e=r.tag,e===13){if(e=KE(r),e!==null){t.blockedOn=e,a6(t.priority,function(){n6(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function e0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=e2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Kx=n,r.target.dispatchEvent(n),Kx=null}else return e=am(r),e!==null&&K5(e),t.blockedOn=r,!1;e.shift()}return!0}function tA(t,e,r){e0(t)&&r.delete(e)}function vM(){Qx=!1,nl!==null&&e0(nl)&&(nl=null),il!==null&&e0(il)&&(il=null),al!==null&&e0(al)&&(al=null),Jh.forEach(tA),Zh.forEach(tA)}function rh(t,e){t.blockedOn===e&&(t.blockedOn=null,Qx||(Qx=!0,Vi.unstable_scheduleCallback(Vi.unstable_NormalPriority,vM)))}function Qh(t){function e(i){return rh(i,t)}if(0<cg.length){rh(cg[0],t);for(var r=1;r<cg.length;r++){var n=cg[r];n.blockedOn===t&&(n.blockedOn=null)}}for(nl!==null&&rh(nl,t),il!==null&&rh(il,t),al!==null&&rh(al,t),Jh.forEach(e),Zh.forEach(e),r=0;r<Ko.length;r++)n=Ko[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ko.length&&(r=Ko[0],r.blockedOn===null);)s6(r),r.blockedOn===null&&Ko.shift()}var nd=mo.ReactCurrentBatchConfig,_0=!0;function yM(t,e,r,n){var i=ir,a=nd.transition;nd.transition=null;try{ir=1,Y5(t,e,r,n)}finally{ir=i,nd.transition=a}}function bM(t,e,r,n){var i=ir,a=nd.transition;nd.transition=null;try{ir=4,Y5(t,e,r,n)}finally{ir=i,nd.transition=a}}function Y5(t,e,r,n){if(_0){var i=e2(t,e,r,n);if(i===null)gb(t,e,n,S0,r),eA(t,n);else if(gM(i,t,e,r,n))n.stopPropagation();else if(eA(t,n),e&4&&-1<mM.indexOf(t)){for(;i!==null;){var a=am(i);if(a!==null&&r6(a),a=e2(t,e,r,n),a===null&&gb(t,e,n,S0,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else gb(t,e,n,null,r)}}var S0=null;function e2(t,e,r,n){if(S0=null,t=H5(n),t=mc(t),t!==null)if(e=Vc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=KE(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return S0=t,null}function o6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sM()){case V5:return 1;case ZE:return 4;case x0:case oM:return 16;case QE:return 536870912;default:return 16}default:return 16}}var Zo=null,X5=null,t0=null;function l6(){if(t0)return t0;var t,e=X5,r=e.length,n,i="value"in Zo?Zo.value:Zo.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return t0=i.slice(t,1<n?1-n:void 0)}function r0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ug(){return!0}function rA(){return!1}function Ki(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ug:rA,this.isPropagationStopped=rA,this}return Lr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ug)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ug)},persist:function(){},isPersistent:ug}),e}var tf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},J5=Ki(tf),im=Lr({},tf,{view:0,detail:0}),xM=Ki(im),ob,lb,nh,sy=Lr({},im,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Z5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nh&&(nh&&t.type==="mousemove"?(ob=t.screenX-nh.screenX,lb=t.screenY-nh.screenY):lb=ob=0,nh=t),ob)},movementY:function(t){return"movementY"in t?t.movementY:lb}}),nA=Ki(sy),wM=Lr({},sy,{dataTransfer:0}),_M=Ki(wM),SM=Lr({},im,{relatedTarget:0}),cb=Ki(SM),jM=Lr({},tf,{animationName:0,elapsedTime:0,pseudoElement:0}),AM=Ki(jM),NM=Lr({},tf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kM=Ki(NM),OM=Lr({},tf,{data:0}),iA=Ki(OM),PM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TM[t])?!!e[t]:!1}function Z5(){return CM}var LM=Lr({},im,{key:function(t){if(t.key){var e=PM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=r0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Z5,charCode:function(t){return t.type==="keypress"?r0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?r0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IM=Ki(LM),$M=Lr({},sy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aA=Ki($M),RM=Lr({},im,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Z5}),MM=Ki(RM),DM=Lr({},tf,{propertyName:0,elapsedTime:0,pseudoElement:0}),BM=Ki(DM),FM=Lr({},sy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),UM=Ki(FM),zM=[9,13,27,32],Q5=ao&&"CompositionEvent"in window,Ph=null;ao&&"documentMode"in document&&(Ph=document.documentMode);var qM=ao&&"TextEvent"in window&&!Ph,c6=ao&&(!Q5||Ph&&8<Ph&&11>=Ph),sA=" ",oA=!1;function u6(t,e){switch(t){case"keyup":return zM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Du=!1;function WM(t,e){switch(t){case"compositionend":return d6(e);case"keypress":return e.which!==32?null:(oA=!0,sA);case"textInput":return t=e.data,t===sA&&oA?null:t;default:return null}}function HM(t,e){if(Du)return t==="compositionend"||!Q5&&u6(t,e)?(t=l6(),t0=X5=Zo=null,Du=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return c6&&e.locale!=="ko"?null:e.data;default:return null}}var VM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!VM[t.type]:e==="textarea"}function f6(t,e,r,n){qE(n),e=j0(e,"onChange"),0<e.length&&(r=new J5("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Eh=null,ep=null;function GM(t){S6(t,0)}function oy(t){var e=Uu(t);if(RE(e))return t}function KM(t,e){if(t==="change")return e}var h6=!1;if(ao){var ub;if(ao){var db="oninput"in document;if(!db){var cA=document.createElement("div");cA.setAttribute("oninput","return;"),db=typeof cA.oninput=="function"}ub=db}else ub=!1;h6=ub&&(!document.documentMode||9<document.documentMode)}function uA(){Eh&&(Eh.detachEvent("onpropertychange",p6),ep=Eh=null)}function p6(t){if(t.propertyName==="value"&&oy(ep)){var e=[];f6(e,ep,t,H5(t)),GE(GM,e)}}function YM(t,e,r){t==="focusin"?(uA(),Eh=e,ep=r,Eh.attachEvent("onpropertychange",p6)):t==="focusout"&&uA()}function XM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oy(ep)}function JM(t,e){if(t==="click")return oy(e)}function ZM(t,e){if(t==="input"||t==="change")return oy(e)}function QM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Va=typeof Object.is=="function"?Object.is:QM;function tp(t,e){if(Va(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Rx.call(e,i)||!Va(t[i],e[i]))return!1}return!0}function dA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fA(t,e){var r=dA(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dA(r)}}function m6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function g6(){for(var t=window,e=v0();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=v0(t.document)}return e}function e_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eD(t){var e=g6(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&m6(r.ownerDocument.documentElement,r)){if(n!==null&&e_(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=fA(r,a);var s=fA(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tD=ao&&"documentMode"in document&&11>=document.documentMode,Bu=null,t2=null,Th=null,r2=!1;function hA(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;r2||Bu==null||Bu!==v0(n)||(n=Bu,"selectionStart"in n&&e_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Th&&tp(Th,n)||(Th=n,n=j0(t2,"onSelect"),0<n.length&&(e=new J5("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Bu)))}function dg(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Fu={animationend:dg("Animation","AnimationEnd"),animationiteration:dg("Animation","AnimationIteration"),animationstart:dg("Animation","AnimationStart"),transitionend:dg("Transition","TransitionEnd")},fb={},v6={};ao&&(v6=document.createElement("div").style,"AnimationEvent"in window||(delete Fu.animationend.animation,delete Fu.animationiteration.animation,delete Fu.animationstart.animation),"TransitionEvent"in window||delete Fu.transitionend.transition);function ly(t){if(fb[t])return fb[t];if(!Fu[t])return t;var e=Fu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in v6)return fb[t]=e[r];return t}var y6=ly("animationend"),b6=ly("animationiteration"),x6=ly("animationstart"),w6=ly("transitionend"),_6=new Map,pA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bl(t,e){_6.set(t,e),Hc(e,[t])}for(var hb=0;hb<pA.length;hb++){var pb=pA[hb],rD=pb.toLowerCase(),nD=pb[0].toUpperCase()+pb.slice(1);bl(rD,"on"+nD)}bl(y6,"onAnimationEnd");bl(b6,"onAnimationIteration");bl(x6,"onAnimationStart");bl("dblclick","onDoubleClick");bl("focusin","onFocus");bl("focusout","onBlur");bl(w6,"onTransitionEnd");md("onMouseEnter",["mouseout","mouseover"]);md("onMouseLeave",["mouseout","mouseover"]);md("onPointerEnter",["pointerout","pointerover"]);md("onPointerLeave",["pointerout","pointerover"]);Hc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sh));function mA(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,rM(n,e,void 0,t),t.currentTarget=null}function S6(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;mA(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;mA(i,o,c),a=l}}}if(b0)throw t=Jx,b0=!1,Jx=null,t}function wr(t,e){var r=e[o2];r===void 0&&(r=e[o2]=new Set);var n=t+"__bubble";r.has(n)||(j6(e,t,2,!1),r.add(n))}function mb(t,e,r){var n=0;e&&(n|=4),j6(r,t,n,e)}var fg="_reactListening"+Math.random().toString(36).slice(2);function rp(t){if(!t[fg]){t[fg]=!0,TE.forEach(function(r){r!=="selectionchange"&&(iD.has(r)||mb(r,!1,t),mb(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fg]||(e[fg]=!0,mb("selectionchange",!1,e))}}function j6(t,e,r,n){switch(o6(e)){case 1:var i=yM;break;case 4:i=bM;break;default:i=Y5}r=i.bind(null,e,r,t),i=void 0,!Xx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function gb(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=mc(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}GE(function(){var c=a,u=H5(r),f=[];e:{var p=_6.get(t);if(p!==void 0){var h=J5,v=t;switch(t){case"keypress":if(r0(r)===0)break e;case"keydown":case"keyup":h=IM;break;case"focusin":v="focus",h=cb;break;case"focusout":v="blur",h=cb;break;case"beforeblur":case"afterblur":h=cb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=nA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=_M;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=MM;break;case y6:case b6:case x6:h=AM;break;case w6:h=BM;break;case"scroll":h=xM;break;case"wheel":h=UM;break;case"copy":case"cut":case"paste":h=kM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=aA}var g=(e&4)!==0,x=!g&&t==="scroll",y=g?p!==null?p+"Capture":null:p;g=[];for(var w=c,_;w!==null;){_=w;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,y!==null&&(A=Xh(w,y),A!=null&&g.push(np(w,A,_)))),x)break;w=w.return}0<g.length&&(p=new h(p,v,null,r,u),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&r!==Kx&&(v=r.relatedTarget||r.fromElement)&&(mc(v)||v[so]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(v=r.relatedTarget||r.toElement,h=c,v=v?mc(v):null,v!==null&&(x=Vc(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=c),h!==v)){if(g=nA,A="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=aA,A="onPointerLeave",y="onPointerEnter",w="pointer"),x=h==null?p:Uu(h),_=v==null?p:Uu(v),p=new g(A,w+"leave",h,r,u),p.target=x,p.relatedTarget=_,A=null,mc(u)===c&&(g=new g(y,w+"enter",v,r,u),g.target=_,g.relatedTarget=x,A=g),x=A,h&&v)t:{for(g=h,y=v,w=0,_=g;_;_=yu(_))w++;for(_=0,A=y;A;A=yu(A))_++;for(;0<w-_;)g=yu(g),w--;for(;0<_-w;)y=yu(y),_--;for(;w--;){if(g===y||y!==null&&g===y.alternate)break t;g=yu(g),y=yu(y)}g=null}else g=null;h!==null&&gA(f,p,h,g,!1),v!==null&&x!==null&&gA(f,x,v,g,!0)}}e:{if(p=c?Uu(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var S=KM;else if(lA(p))if(h6)S=ZM;else{S=XM;var k=YM}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=JM);if(S&&(S=S(t,c))){f6(f,S,r,u);break e}k&&k(t,p,c),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&qx(p,"number",p.value)}switch(k=c?Uu(c):window,t){case"focusin":(lA(k)||k.contentEditable==="true")&&(Bu=k,t2=c,Th=null);break;case"focusout":Th=t2=Bu=null;break;case"mousedown":r2=!0;break;case"contextmenu":case"mouseup":case"dragend":r2=!1,hA(f,r,u);break;case"selectionchange":if(tD)break;case"keydown":case"keyup":hA(f,r,u)}var P;if(Q5)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Du?u6(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(c6&&r.locale!=="ko"&&(Du||C!=="onCompositionStart"?C==="onCompositionEnd"&&Du&&(P=l6()):(Zo=u,X5="value"in Zo?Zo.value:Zo.textContent,Du=!0)),k=j0(c,C),0<k.length&&(C=new iA(C,t,null,r,u),f.push({event:C,listeners:k}),P?C.data=P:(P=d6(r),P!==null&&(C.data=P)))),(P=qM?WM(t,r):HM(t,r))&&(c=j0(c,"onBeforeInput"),0<c.length&&(u=new iA("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=P))}S6(f,e)})}function np(t,e,r){return{instance:t,listener:e,currentTarget:r}}function j0(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Xh(t,r),a!=null&&n.unshift(np(t,a,i)),a=Xh(t,e),a!=null&&n.push(np(t,a,i))),t=t.return}return n}function yu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gA(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Xh(r,a),l!=null&&s.unshift(np(r,l,o))):i||(l=Xh(r,a),l!=null&&s.push(np(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var aD=/\r\n?/g,sD=/\u0000|\uFFFD/g;function vA(t){return(typeof t=="string"?t:""+t).replace(aD,`
`).replace(sD,"")}function hg(t,e,r){if(e=vA(e),vA(t)!==e&&r)throw Error(Re(425))}function A0(){}var n2=null,i2=null;function a2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var s2=typeof setTimeout=="function"?setTimeout:void 0,oD=typeof clearTimeout=="function"?clearTimeout:void 0,yA=typeof Promise=="function"?Promise:void 0,lD=typeof queueMicrotask=="function"?queueMicrotask:typeof yA<"u"?function(t){return yA.resolve(null).then(t).catch(cD)}:s2;function cD(t){setTimeout(function(){throw t})}function vb(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Qh(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Qh(e)}function sl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var rf=Math.random().toString(36).slice(2),cs="__reactFiber$"+rf,ip="__reactProps$"+rf,so="__reactContainer$"+rf,o2="__reactEvents$"+rf,uD="__reactListeners$"+rf,dD="__reactHandles$"+rf;function mc(t){var e=t[cs];if(e)return e;for(var r=t.parentNode;r;){if(e=r[so]||r[cs]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=bA(t);t!==null;){if(r=t[cs])return r;t=bA(t)}return e}t=r,r=t.parentNode}return null}function am(t){return t=t[cs]||t[so],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Re(33))}function cy(t){return t[ip]||null}var l2=[],zu=-1;function xl(t){return{current:t}}function Ar(t){0>zu||(t.current=l2[zu],l2[zu]=null,zu--)}function yr(t,e){zu++,l2[zu]=t.current,t.current=e}var ml={},Zn=xl(ml),vi=xl(!1),Pc=ml;function gd(t,e){var r=t.type.contextTypes;if(!r)return ml;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yi(t){return t=t.childContextTypes,t!=null}function N0(){Ar(vi),Ar(Zn)}function xA(t,e,r){if(Zn.current!==ml)throw Error(Re(168));yr(Zn,e),yr(vi,r)}function A6(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Re(108,Y7(t)||"Unknown",i));return Lr({},r,n)}function k0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ml,Pc=Zn.current,yr(Zn,t),yr(vi,vi.current),!0}function wA(t,e,r){var n=t.stateNode;if(!n)throw Error(Re(169));r?(t=A6(t,e,Pc),n.__reactInternalMemoizedMergedChildContext=t,Ar(vi),Ar(Zn),yr(Zn,t)):Ar(vi),yr(vi,r)}var Vs=null,uy=!1,yb=!1;function N6(t){Vs===null?Vs=[t]:Vs.push(t)}function fD(t){uy=!0,N6(t)}function wl(){if(!yb&&Vs!==null){yb=!0;var t=0,e=ir;try{var r=Vs;for(ir=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Vs=null,uy=!1}catch(i){throw Vs!==null&&(Vs=Vs.slice(t+1)),JE(V5,wl),i}finally{ir=e,yb=!1}}return null}var qu=[],Wu=0,O0=null,P0=0,ca=[],ua=0,Ec=null,Ks=1,Ys="";function nc(t,e){qu[Wu++]=P0,qu[Wu++]=O0,O0=t,P0=e}function k6(t,e,r){ca[ua++]=Ks,ca[ua++]=Ys,ca[ua++]=Ec,Ec=t;var n=Ks;t=Ys;var i=32-za(n)-1;n&=~(1<<i),r+=1;var a=32-za(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Ks=1<<32-za(e)+i|r<<i|n,Ys=a+t}else Ks=1<<a|r<<i|n,Ys=t}function t_(t){t.return!==null&&(nc(t,1),k6(t,1,0))}function r_(t){for(;t===O0;)O0=qu[--Wu],qu[Wu]=null,P0=qu[--Wu],qu[Wu]=null;for(;t===Ec;)Ec=ca[--ua],ca[ua]=null,Ys=ca[--ua],ca[ua]=null,Ks=ca[--ua],ca[ua]=null}var qi=null,Ui=null,kr=!1,Fa=null;function O6(t,e){var r=fa(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function _A(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qi=t,Ui=sl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qi=t,Ui=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ec!==null?{id:Ks,overflow:Ys}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=fa(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,qi=t,Ui=null,!0):!1;default:return!1}}function c2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function u2(t){if(kr){var e=Ui;if(e){var r=e;if(!_A(t,e)){if(c2(t))throw Error(Re(418));e=sl(r.nextSibling);var n=qi;e&&_A(t,e)?O6(n,r):(t.flags=t.flags&-4097|2,kr=!1,qi=t)}}else{if(c2(t))throw Error(Re(418));t.flags=t.flags&-4097|2,kr=!1,qi=t}}}function SA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qi=t}function pg(t){if(t!==qi)return!1;if(!kr)return SA(t),kr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!a2(t.type,t.memoizedProps)),e&&(e=Ui)){if(c2(t))throw P6(),Error(Re(418));for(;e;)O6(t,e),e=sl(e.nextSibling)}if(SA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ui=sl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ui=null}}else Ui=qi?sl(t.stateNode.nextSibling):null;return!0}function P6(){for(var t=Ui;t;)t=sl(t.nextSibling)}function vd(){Ui=qi=null,kr=!1}function n_(t){Fa===null?Fa=[t]:Fa.push(t)}var hD=mo.ReactCurrentBatchConfig;function ih(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Re(309));var n=r.stateNode}if(!n)throw Error(Re(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Re(284));if(!r._owner)throw Error(Re(290,t))}return t}function mg(t,e){throw t=Object.prototype.toString.call(e),Error(Re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jA(t){var e=t._init;return e(t._payload)}function E6(t){function e(y,w){if(t){var _=y.deletions;_===null?(y.deletions=[w],y.flags|=16):_.push(w)}}function r(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=ul(y,w),y.index=0,y.sibling=null,y}function a(y,w,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<w?(y.flags|=2,w):_):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,w,_,A){return w===null||w.tag!==6?(w=Ab(_,y.mode,A),w.return=y,w):(w=i(w,_),w.return=y,w)}function l(y,w,_,A){var S=_.type;return S===Mu?u(y,w,_.props.children,A,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wo&&jA(S)===w.type)?(A=i(w,_.props),A.ref=ih(y,w,_),A.return=y,A):(A=c0(_.type,_.key,_.props,null,y.mode,A),A.ref=ih(y,w,_),A.return=y,A)}function c(y,w,_,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Nb(_,y.mode,A),w.return=y,w):(w=i(w,_.children||[]),w.return=y,w)}function u(y,w,_,A,S){return w===null||w.tag!==7?(w=jc(_,y.mode,A,S),w.return=y,w):(w=i(w,_),w.return=y,w)}function f(y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ab(""+w,y.mode,_),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ig:return _=c0(w.type,w.key,w.props,null,y.mode,_),_.ref=ih(y,null,w),_.return=y,_;case Ru:return w=Nb(w,y.mode,_),w.return=y,w;case Wo:var A=w._init;return f(y,A(w._payload),_)}if(wh(w)||Qf(w))return w=jc(w,y.mode,_,null),w.return=y,w;mg(y,w)}return null}function p(y,w,_,A){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:o(y,w,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ig:return _.key===S?l(y,w,_,A):null;case Ru:return _.key===S?c(y,w,_,A):null;case Wo:return S=_._init,p(y,w,S(_._payload),A)}if(wh(_)||Qf(_))return S!==null?null:u(y,w,_,A,null);mg(y,_)}return null}function h(y,w,_,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(_)||null,o(w,y,""+A,S);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ig:return y=y.get(A.key===null?_:A.key)||null,l(w,y,A,S);case Ru:return y=y.get(A.key===null?_:A.key)||null,c(w,y,A,S);case Wo:var k=A._init;return h(y,w,_,k(A._payload),S)}if(wh(A)||Qf(A))return y=y.get(_)||null,u(w,y,A,S,null);mg(w,A)}return null}function v(y,w,_,A){for(var S=null,k=null,P=w,C=w=0,L=null;P!==null&&C<_.length;C++){P.index>C?(L=P,P=null):L=P.sibling;var D=p(y,P,_[C],A);if(D===null){P===null&&(P=L);break}t&&P&&D.alternate===null&&e(y,P),w=a(D,w,C),k===null?S=D:k.sibling=D,k=D,P=L}if(C===_.length)return r(y,P),kr&&nc(y,C),S;if(P===null){for(;C<_.length;C++)P=f(y,_[C],A),P!==null&&(w=a(P,w,C),k===null?S=P:k.sibling=P,k=P);return kr&&nc(y,C),S}for(P=n(y,P);C<_.length;C++)L=h(P,y,C,_[C],A),L!==null&&(t&&L.alternate!==null&&P.delete(L.key===null?C:L.key),w=a(L,w,C),k===null?S=L:k.sibling=L,k=L);return t&&P.forEach(function(O){return e(y,O)}),kr&&nc(y,C),S}function g(y,w,_,A){var S=Qf(_);if(typeof S!="function")throw Error(Re(150));if(_=S.call(_),_==null)throw Error(Re(151));for(var k=S=null,P=w,C=w=0,L=null,D=_.next();P!==null&&!D.done;C++,D=_.next()){P.index>C?(L=P,P=null):L=P.sibling;var O=p(y,P,D.value,A);if(O===null){P===null&&(P=L);break}t&&P&&O.alternate===null&&e(y,P),w=a(O,w,C),k===null?S=O:k.sibling=O,k=O,P=L}if(D.done)return r(y,P),kr&&nc(y,C),S;if(P===null){for(;!D.done;C++,D=_.next())D=f(y,D.value,A),D!==null&&(w=a(D,w,C),k===null?S=D:k.sibling=D,k=D);return kr&&nc(y,C),S}for(P=n(y,P);!D.done;C++,D=_.next())D=h(P,y,C,D.value,A),D!==null&&(t&&D.alternate!==null&&P.delete(D.key===null?C:D.key),w=a(D,w,C),k===null?S=D:k.sibling=D,k=D);return t&&P.forEach(function(I){return e(y,I)}),kr&&nc(y,C),S}function x(y,w,_,A){if(typeof _=="object"&&_!==null&&_.type===Mu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ig:e:{for(var S=_.key,k=w;k!==null;){if(k.key===S){if(S=_.type,S===Mu){if(k.tag===7){r(y,k.sibling),w=i(k,_.props.children),w.return=y,y=w;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wo&&jA(S)===k.type){r(y,k.sibling),w=i(k,_.props),w.ref=ih(y,k,_),w.return=y,y=w;break e}r(y,k);break}else e(y,k);k=k.sibling}_.type===Mu?(w=jc(_.props.children,y.mode,A,_.key),w.return=y,y=w):(A=c0(_.type,_.key,_.props,null,y.mode,A),A.ref=ih(y,w,_),A.return=y,y=A)}return s(y);case Ru:e:{for(k=_.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(y,w.sibling),w=i(w,_.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else e(y,w);w=w.sibling}w=Nb(_,y.mode,A),w.return=y,y=w}return s(y);case Wo:return k=_._init,x(y,w,k(_._payload),A)}if(wh(_))return v(y,w,_,A);if(Qf(_))return g(y,w,_,A);mg(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,_),w.return=y,y=w):(r(y,w),w=Ab(_,y.mode,A),w.return=y,y=w),s(y)):r(y,w)}return x}var yd=E6(!0),T6=E6(!1),E0=xl(null),T0=null,Hu=null,i_=null;function a_(){i_=Hu=T0=null}function s_(t){var e=E0.current;Ar(E0),t._currentValue=e}function d2(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function id(t,e){T0=t,i_=Hu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mi=!0),t.firstContext=null)}function ma(t){var e=t._currentValue;if(i_!==t)if(t={context:t,memoizedValue:e,next:null},Hu===null){if(T0===null)throw Error(Re(308));Hu=t,T0.dependencies={lanes:0,firstContext:t}}else Hu=Hu.next=t;return e}var gc=null;function o_(t){gc===null?gc=[t]:gc.push(t)}function C6(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,o_(e)):(r.next=i.next,i.next=r),e.interleaved=r,oo(t,n)}function oo(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ho=!1;function l_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function eo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ol(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ht&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,oo(t,r)}return i=n.interleaved,i===null?(e.next=e,o_(n)):(e.next=i.next,i.next=e),n.interleaved=e,oo(t,r)}function n0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,G5(t,r)}}function AA(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function C0(t,e,r,n){var i=t.updateQueue;Ho=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var p=o.lane,h=o.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,g=o;switch(p=e,h=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(h,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(h,f,p):v,p==null)break e;f=Lr({},f,p);break e;case 2:Ho=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Cc|=s,t.lanes=s,t.memoizedState=f}}function NA(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Re(191,i));i.call(n)}}}var sm={},hs=xl(sm),ap=xl(sm),sp=xl(sm);function vc(t){if(t===sm)throw Error(Re(174));return t}function c_(t,e){switch(yr(sp,e),yr(ap,t),yr(hs,sm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hx(e,t)}Ar(hs),yr(hs,e)}function bd(){Ar(hs),Ar(ap),Ar(sp)}function I6(t){vc(sp.current);var e=vc(hs.current),r=Hx(e,t.type);e!==r&&(yr(ap,t),yr(hs,r))}function u_(t){ap.current===t&&(Ar(hs),Ar(ap))}var Tr=xl(0);function L0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bb=[];function d_(){for(var t=0;t<bb.length;t++)bb[t]._workInProgressVersionPrimary=null;bb.length=0}var i0=mo.ReactCurrentDispatcher,xb=mo.ReactCurrentBatchConfig,Tc=0,Cr=null,vn=null,jn=null,I0=!1,Ch=!1,op=0,pD=0;function zn(){throw Error(Re(321))}function f_(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Va(t[r],e[r]))return!1;return!0}function h_(t,e,r,n,i,a){if(Tc=a,Cr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,i0.current=t===null||t.memoizedState===null?yD:bD,t=r(n,i),Ch){a=0;do{if(Ch=!1,op=0,25<=a)throw Error(Re(301));a+=1,jn=vn=null,e.updateQueue=null,i0.current=xD,t=r(n,i)}while(Ch)}if(i0.current=$0,e=vn!==null&&vn.next!==null,Tc=0,jn=vn=Cr=null,I0=!1,e)throw Error(Re(300));return t}function p_(){var t=op!==0;return op=0,t}function ls(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Cr.memoizedState=jn=t:jn=jn.next=t,jn}function ga(){if(vn===null){var t=Cr.alternate;t=t!==null?t.memoizedState:null}else t=vn.next;var e=jn===null?Cr.memoizedState:jn.next;if(e!==null)jn=e,vn=t;else{if(t===null)throw Error(Re(310));vn=t,t={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},jn===null?Cr.memoizedState=jn=t:jn=jn.next=t}return jn}function lp(t,e){return typeof e=="function"?e(t):e}function wb(t){var e=ga(),r=e.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=t;var n=vn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((Tc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Cr.lanes|=u,Cc|=u}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,Va(n,e.memoizedState)||(mi=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Cr.lanes|=a,Cc|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function _b(t){var e=ga(),r=e.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Va(a,e.memoizedState)||(mi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function $6(){}function R6(t,e){var r=Cr,n=ga(),i=e(),a=!Va(n.memoizedState,i);if(a&&(n.memoizedState=i,mi=!0),n=n.queue,m_(B6.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||jn!==null&&jn.memoizedState.tag&1){if(r.flags|=2048,cp(9,D6.bind(null,r,n,i,e),void 0,null),kn===null)throw Error(Re(349));Tc&30||M6(r,e,i)}return i}function M6(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Cr.updateQueue,e===null?(e={lastEffect:null,stores:null},Cr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function D6(t,e,r,n){e.value=r,e.getSnapshot=n,F6(e)&&U6(t)}function B6(t,e,r){return r(function(){F6(e)&&U6(t)})}function F6(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Va(t,r)}catch{return!0}}function U6(t){var e=oo(t,1);e!==null&&qa(e,t,1,-1)}function kA(t){var e=ls();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:t},e.queue=t,t=t.dispatch=vD.bind(null,Cr,t),[e.memoizedState,t]}function cp(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Cr.updateQueue,e===null?(e={lastEffect:null,stores:null},Cr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function z6(){return ga().memoizedState}function a0(t,e,r,n){var i=ls();Cr.flags|=t,i.memoizedState=cp(1|e,r,void 0,n===void 0?null:n)}function dy(t,e,r,n){var i=ga();n=n===void 0?null:n;var a=void 0;if(vn!==null){var s=vn.memoizedState;if(a=s.destroy,n!==null&&f_(n,s.deps)){i.memoizedState=cp(e,r,a,n);return}}Cr.flags|=t,i.memoizedState=cp(1|e,r,a,n)}function OA(t,e){return a0(8390656,8,t,e)}function m_(t,e){return dy(2048,8,t,e)}function q6(t,e){return dy(4,2,t,e)}function W6(t,e){return dy(4,4,t,e)}function H6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function V6(t,e,r){return r=r!=null?r.concat([t]):null,dy(4,4,H6.bind(null,e,t),r)}function g_(){}function G6(t,e){var r=ga();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&f_(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function K6(t,e){var r=ga();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&f_(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Y6(t,e,r){return Tc&21?(Va(r,e)||(r=e6(),Cr.lanes|=r,Cc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mi=!0),t.memoizedState=r)}function mD(t,e){var r=ir;ir=r!==0&&4>r?r:4,t(!0);var n=xb.transition;xb.transition={};try{t(!1),e()}finally{ir=r,xb.transition=n}}function X6(){return ga().memoizedState}function gD(t,e,r){var n=cl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},J6(t))Z6(e,r);else if(r=C6(t,e,r,n),r!==null){var i=oi();qa(r,t,n,i),Q6(r,e,n)}}function vD(t,e,r){var n=cl(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(J6(t))Z6(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Va(o,s)){var l=e.interleaved;l===null?(i.next=i,o_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=C6(t,e,i,n),r!==null&&(i=oi(),qa(r,t,n,i),Q6(r,e,n))}}function J6(t){var e=t.alternate;return t===Cr||e!==null&&e===Cr}function Z6(t,e){Ch=I0=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Q6(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,G5(t,r)}}var $0={readContext:ma,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},yD={readContext:ma,useCallback:function(t,e){return ls().memoizedState=[t,e===void 0?null:e],t},useContext:ma,useEffect:OA,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,a0(4194308,4,H6.bind(null,e,t),r)},useLayoutEffect:function(t,e){return a0(4194308,4,t,e)},useInsertionEffect:function(t,e){return a0(4,2,t,e)},useMemo:function(t,e){var r=ls();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ls();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=gD.bind(null,Cr,t),[n.memoizedState,t]},useRef:function(t){var e=ls();return t={current:t},e.memoizedState=t},useState:kA,useDebugValue:g_,useDeferredValue:function(t){return ls().memoizedState=t},useTransition:function(){var t=kA(!1),e=t[0];return t=mD.bind(null,t[1]),ls().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Cr,i=ls();if(kr){if(r===void 0)throw Error(Re(407));r=r()}else{if(r=e(),kn===null)throw Error(Re(349));Tc&30||M6(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,OA(B6.bind(null,n,a,t),[t]),n.flags|=2048,cp(9,D6.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=ls(),e=kn.identifierPrefix;if(kr){var r=Ys,n=Ks;r=(n&~(1<<32-za(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=op++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=pD++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bD={readContext:ma,useCallback:G6,useContext:ma,useEffect:m_,useImperativeHandle:V6,useInsertionEffect:q6,useLayoutEffect:W6,useMemo:K6,useReducer:wb,useRef:z6,useState:function(){return wb(lp)},useDebugValue:g_,useDeferredValue:function(t){var e=ga();return Y6(e,vn.memoizedState,t)},useTransition:function(){var t=wb(lp)[0],e=ga().memoizedState;return[t,e]},useMutableSource:$6,useSyncExternalStore:R6,useId:X6,unstable_isNewReconciler:!1},xD={readContext:ma,useCallback:G6,useContext:ma,useEffect:m_,useImperativeHandle:V6,useInsertionEffect:q6,useLayoutEffect:W6,useMemo:K6,useReducer:_b,useRef:z6,useState:function(){return _b(lp)},useDebugValue:g_,useDeferredValue:function(t){var e=ga();return vn===null?e.memoizedState=t:Y6(e,vn.memoizedState,t)},useTransition:function(){var t=_b(lp)[0],e=ga().memoizedState;return[t,e]},useMutableSource:$6,useSyncExternalStore:R6,useId:X6,unstable_isNewReconciler:!1};function $a(t,e){if(t&&t.defaultProps){e=Lr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function f2(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Lr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var fy={isMounted:function(t){return(t=t._reactInternals)?Vc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=oi(),i=cl(t),a=eo(n,i);a.payload=e,r!=null&&(a.callback=r),e=ol(t,a,i),e!==null&&(qa(e,t,i,n),n0(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=oi(),i=cl(t),a=eo(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=ol(t,a,i),e!==null&&(qa(e,t,i,n),n0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=oi(),n=cl(t),i=eo(r,n);i.tag=2,e!=null&&(i.callback=e),e=ol(t,i,n),e!==null&&(qa(e,t,n,r),n0(e,t,n))}};function PA(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!tp(r,n)||!tp(i,a):!0}function eT(t,e,r){var n=!1,i=ml,a=e.contextType;return typeof a=="object"&&a!==null?a=ma(a):(i=yi(e)?Pc:Zn.current,n=e.contextTypes,a=(n=n!=null)?gd(t,i):ml),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fy,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function EA(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&fy.enqueueReplaceState(e,e.state,null)}function h2(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},l_(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=ma(a):(a=yi(e)?Pc:Zn.current,i.context=gd(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(f2(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fy.enqueueReplaceState(i,i.state,null),C0(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xd(t,e){try{var r="",n=e;do r+=K7(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Sb(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function p2(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var wD=typeof WeakMap=="function"?WeakMap:Map;function tT(t,e,r){r=eo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){M0||(M0=!0,j2=n),p2(t,e)},r}function rT(t,e,r){r=eo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){p2(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){p2(t,e),typeof n!="function"&&(ll===null?ll=new Set([this]):ll.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function TA(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new wD;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=$D.bind(null,t,e,r),e.then(t,t))}function CA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function LA(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=eo(-1,1),e.tag=2,ol(r,e,1))),r.lanes|=1),t)}var _D=mo.ReactCurrentOwner,mi=!1;function ri(t,e,r,n){e.child=t===null?T6(e,null,r,n):yd(e,t.child,r,n)}function IA(t,e,r,n,i){r=r.render;var a=e.ref;return id(e,i),n=h_(t,e,r,n,a,i),r=p_(),t!==null&&!mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lo(t,e,i)):(kr&&r&&t_(e),e.flags|=1,ri(t,e,n,i),e.child)}function $A(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!j_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,nT(t,e,a,n,i)):(t=c0(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:tp,r(s,n)&&t.ref===e.ref)return lo(t,e,i)}return e.flags|=1,t=ul(a,n),t.ref=e.ref,t.return=e,e.child=t}function nT(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(tp(a,n)&&t.ref===e.ref)if(mi=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(mi=!0);else return e.lanes=t.lanes,lo(t,e,i)}return m2(t,e,r,n,i)}function iT(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yr(Gu,Ii),Ii|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yr(Gu,Ii),Ii|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,yr(Gu,Ii),Ii|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,yr(Gu,Ii),Ii|=n;return ri(t,e,i,r),e.child}function aT(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function m2(t,e,r,n,i){var a=yi(r)?Pc:Zn.current;return a=gd(e,a),id(e,i),r=h_(t,e,r,n,a,i),n=p_(),t!==null&&!mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lo(t,e,i)):(kr&&n&&t_(e),e.flags|=1,ri(t,e,r,i),e.child)}function RA(t,e,r,n,i){if(yi(r)){var a=!0;k0(e)}else a=!1;if(id(e,i),e.stateNode===null)s0(t,e),eT(e,r,n),h2(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=ma(c):(c=yi(r)?Pc:Zn.current,c=gd(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&EA(e,s,n,c),Ho=!1;var p=e.memoizedState;s.state=p,C0(e,n,s,i),l=e.memoizedState,o!==n||p!==l||vi.current||Ho?(typeof u=="function"&&(f2(e,r,u,n),l=e.memoizedState),(o=Ho||PA(e,r,o,n,p,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,L6(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:$a(e.type,o),s.props=c,f=e.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=ma(l):(l=yi(r)?Pc:Zn.current,l=gd(e,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||p!==l)&&EA(e,s,n,l),Ho=!1,p=e.memoizedState,s.state=p,C0(e,n,s,i);var v=e.memoizedState;o!==f||p!==v||vi.current||Ho?(typeof h=="function"&&(f2(e,r,h,n),v=e.memoizedState),(c=Ho||PA(e,r,c,n,p,v,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),s.props=n,s.state=v,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return g2(t,e,r,n,a,i)}function g2(t,e,r,n,i,a){aT(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&wA(e,r,!1),lo(t,e,a);n=e.stateNode,_D.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=yd(e,t.child,null,a),e.child=yd(e,null,o,a)):ri(t,e,o,a),e.memoizedState=n.state,i&&wA(e,r,!0),e.child}function sT(t){var e=t.stateNode;e.pendingContext?xA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xA(t,e.context,!1),c_(t,e.containerInfo)}function MA(t,e,r,n,i){return vd(),n_(i),e.flags|=256,ri(t,e,r,n),e.child}var v2={dehydrated:null,treeContext:null,retryLane:0};function y2(t){return{baseLanes:t,cachePool:null,transitions:null}}function oT(t,e,r){var n=e.pendingProps,i=Tr.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yr(Tr,i&1),t===null)return u2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=my(s,n,0,null),t=jc(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=y2(r),e.memoizedState=v2,t):v_(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return SD(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ul(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=ul(o,a):(a=jc(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?y2(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=v2,n}return a=t.child,t=a.sibling,n=ul(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function v_(t,e){return e=my({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gg(t,e,r,n){return n!==null&&n_(n),yd(e,t.child,null,r),t=v_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SD(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=Sb(Error(Re(422))),gg(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=my({mode:"visible",children:n.children},i,0,null),a=jc(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&yd(e,t.child,null,s),e.child.memoizedState=y2(s),e.memoizedState=v2,a);if(!(e.mode&1))return gg(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Re(419)),n=Sb(a,n,void 0),gg(t,e,s,n)}if(o=(s&t.childLanes)!==0,mi||o){if(n=kn,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,oo(t,i),qa(n,t,i,-1))}return S_(),n=Sb(Error(Re(421))),gg(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RD.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ui=sl(i.nextSibling),qi=e,kr=!0,Fa=null,t!==null&&(ca[ua++]=Ks,ca[ua++]=Ys,ca[ua++]=Ec,Ks=t.id,Ys=t.overflow,Ec=e),e=v_(e,n.children),e.flags|=4096,e)}function DA(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),d2(t.return,e,r)}function jb(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function lT(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ri(t,e,n.children,r),n=Tr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&DA(t,r,e);else if(t.tag===19)DA(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(yr(Tr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&L0(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),jb(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&L0(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}jb(e,!0,r,null,a);break;case"together":jb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function s0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Cc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Re(153));if(e.child!==null){for(t=e.child,r=ul(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ul(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function jD(t,e,r){switch(e.tag){case 3:sT(e),vd();break;case 5:I6(e);break;case 1:yi(e.type)&&k0(e);break;case 4:c_(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;yr(E0,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(yr(Tr,Tr.current&1),e.flags|=128,null):r&e.child.childLanes?oT(t,e,r):(yr(Tr,Tr.current&1),t=lo(t,e,r),t!==null?t.sibling:null);yr(Tr,Tr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return lT(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yr(Tr,Tr.current),n)break;return null;case 22:case 23:return e.lanes=0,iT(t,e,r)}return lo(t,e,r)}var cT,b2,uT,dT;cT=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};b2=function(){};uT=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,vc(hs.current);var a=null;switch(r){case"input":i=Ux(t,i),n=Ux(t,n),a=[];break;case"select":i=Lr({},i,{value:void 0}),n=Lr({},n,{value:void 0}),a=[];break;case"textarea":i=Wx(t,i),n=Wx(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=A0)}Vx(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kh.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&wr("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};dT=function(t,e,r,n){r!==n&&(e.flags|=4)};function ah(t,e){if(!kr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function qn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function AD(t,e,r){var n=e.pendingProps;switch(r_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(e),null;case 1:return yi(e.type)&&N0(),qn(e),null;case 3:return n=e.stateNode,bd(),Ar(vi),Ar(Zn),d_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(pg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fa!==null&&(k2(Fa),Fa=null))),b2(t,e),qn(e),null;case 5:u_(e);var i=vc(sp.current);if(r=e.type,t!==null&&e.stateNode!=null)uT(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Re(166));return qn(e),null}if(t=vc(hs.current),pg(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[cs]=e,n[ip]=a,t=(e.mode&1)!==0,r){case"dialog":wr("cancel",n),wr("close",n);break;case"iframe":case"object":case"embed":wr("load",n);break;case"video":case"audio":for(i=0;i<Sh.length;i++)wr(Sh[i],n);break;case"source":wr("error",n);break;case"img":case"image":case"link":wr("error",n),wr("load",n);break;case"details":wr("toggle",n);break;case"input":Gj(n,a),wr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},wr("invalid",n);break;case"textarea":Yj(n,a),wr("invalid",n)}Vx(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&hg(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&hg(n.textContent,o,t),i=["children",""+o]):Kh.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&wr("scroll",n)}switch(r){case"input":ag(n),Kj(n,a,!0);break;case"textarea":ag(n),Xj(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=A0)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=BE(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[cs]=e,t[ip]=n,cT(t,e,!1,!1),e.stateNode=t;e:{switch(s=Gx(r,n),r){case"dialog":wr("cancel",t),wr("close",t),i=n;break;case"iframe":case"object":case"embed":wr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Sh.length;i++)wr(Sh[i],t);i=n;break;case"source":wr("error",t),i=n;break;case"img":case"image":case"link":wr("error",t),wr("load",t),i=n;break;case"details":wr("toggle",t),i=n;break;case"input":Gj(t,n),i=Ux(t,n),wr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Lr({},n,{value:void 0}),wr("invalid",t);break;case"textarea":Yj(t,n),i=Wx(t,n),wr("invalid",t);break;default:i=n}Vx(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?zE(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&FE(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Yh(t,l):typeof l=="number"&&Yh(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Kh.hasOwnProperty(a)?l!=null&&a==="onScroll"&&wr("scroll",t):l!=null&&U5(t,a,l,s))}switch(r){case"input":ag(t),Kj(t,n,!1);break;case"textarea":ag(t),Xj(t);break;case"option":n.value!=null&&t.setAttribute("value",""+pl(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?ed(t,!!n.multiple,a,!1):n.defaultValue!=null&&ed(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=A0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qn(e),null;case 6:if(t&&e.stateNode!=null)dT(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Re(166));if(r=vc(sp.current),vc(hs.current),pg(e)){if(n=e.stateNode,r=e.memoizedProps,n[cs]=e,(a=n.nodeValue!==r)&&(t=qi,t!==null))switch(t.tag){case 3:hg(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hg(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cs]=e,e.stateNode=n}return qn(e),null;case 13:if(Ar(Tr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kr&&Ui!==null&&e.mode&1&&!(e.flags&128))P6(),vd(),e.flags|=98560,a=!1;else if(a=pg(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Re(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Re(317));a[cs]=e}else vd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qn(e),a=!1}else Fa!==null&&(k2(Fa),Fa=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Tr.current&1?bn===0&&(bn=3):S_())),e.updateQueue!==null&&(e.flags|=4),qn(e),null);case 4:return bd(),b2(t,e),t===null&&rp(e.stateNode.containerInfo),qn(e),null;case 10:return s_(e.type._context),qn(e),null;case 17:return yi(e.type)&&N0(),qn(e),null;case 19:if(Ar(Tr),a=e.memoizedState,a===null)return qn(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)ah(a,!1);else{if(bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=L0(t),s!==null){for(e.flags|=128,ah(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return yr(Tr,Tr.current&1|2),e.child}t=t.sibling}a.tail!==null&&Gr()>wd&&(e.flags|=128,n=!0,ah(a,!1),e.lanes=4194304)}else{if(!n)if(t=L0(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ah(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!kr)return qn(e),null}else 2*Gr()-a.renderingStartTime>wd&&r!==1073741824&&(e.flags|=128,n=!0,ah(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Gr(),e.sibling=null,r=Tr.current,yr(Tr,n?r&1|2:r&1),e):(qn(e),null);case 22:case 23:return __(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ii&1073741824&&(qn(e),e.subtreeFlags&6&&(e.flags|=8192)):qn(e),null;case 24:return null;case 25:return null}throw Error(Re(156,e.tag))}function ND(t,e){switch(r_(e),e.tag){case 1:return yi(e.type)&&N0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bd(),Ar(vi),Ar(Zn),d_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return u_(e),null;case 13:if(Ar(Tr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Re(340));vd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ar(Tr),null;case 4:return bd(),null;case 10:return s_(e.type._context),null;case 22:case 23:return __(),null;case 24:return null;default:return null}}var vg=!1,Xn=!1,kD=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Vu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Br(t,e,n)}else r.current=null}function x2(t,e,r){try{r()}catch(n){Br(t,e,n)}}var BA=!1;function OD(t,e){if(n2=_0,t=g6(),e_(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,p=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===t)break t;if(p===r&&++c===i&&(o=s),p===a&&++u===n&&(l=s),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(i2={focusedElem:t,selectionRange:r},_0=!1,Ge=e;Ge!==null;)if(e=Ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ge=t;else for(;Ge!==null;){e=Ge;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:$a(e.type,g),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(A){Br(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}return v=BA,BA=!1,v}function Lh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&x2(e,r,a)}i=i.next}while(i!==n)}}function hy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function w2(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function fT(t){var e=t.alternate;e!==null&&(t.alternate=null,fT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cs],delete e[ip],delete e[o2],delete e[uD],delete e[dD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hT(t){return t.tag===5||t.tag===3||t.tag===4}function FA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=A0));else if(n!==4&&(t=t.child,t!==null))for(_2(t,e,r),t=t.sibling;t!==null;)_2(t,e,r),t=t.sibling}function S2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(S2(t,e,r),t=t.sibling;t!==null;)S2(t,e,r),t=t.sibling}var $n=null,Ma=!1;function Bo(t,e,r){for(r=r.child;r!==null;)pT(t,e,r),r=r.sibling}function pT(t,e,r){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(ay,r)}catch{}switch(r.tag){case 5:Xn||Vu(r,e);case 6:var n=$n,i=Ma;$n=null,Bo(t,e,r),$n=n,Ma=i,$n!==null&&(Ma?(t=$n,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):$n.removeChild(r.stateNode));break;case 18:$n!==null&&(Ma?(t=$n,r=r.stateNode,t.nodeType===8?vb(t.parentNode,r):t.nodeType===1&&vb(t,r),Qh(t)):vb($n,r.stateNode));break;case 4:n=$n,i=Ma,$n=r.stateNode.containerInfo,Ma=!0,Bo(t,e,r),$n=n,Ma=i;break;case 0:case 11:case 14:case 15:if(!Xn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&x2(r,e,s),i=i.next}while(i!==n)}Bo(t,e,r);break;case 1:if(!Xn&&(Vu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Br(r,e,o)}Bo(t,e,r);break;case 21:Bo(t,e,r);break;case 22:r.mode&1?(Xn=(n=Xn)||r.memoizedState!==null,Bo(t,e,r),Xn=n):Bo(t,e,r);break;default:Bo(t,e,r)}}function UA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new kD),e.forEach(function(n){var i=MD.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ea(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:$n=o.stateNode,Ma=!1;break e;case 3:$n=o.stateNode.containerInfo,Ma=!0;break e;case 4:$n=o.stateNode.containerInfo,Ma=!0;break e}o=o.return}if($n===null)throw Error(Re(160));pT(a,s,i),$n=null,Ma=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Br(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mT(e,t),e=e.sibling}function mT(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ea(e,t),is(t),n&4){try{Lh(3,t,t.return),hy(3,t)}catch(g){Br(t,t.return,g)}try{Lh(5,t,t.return)}catch(g){Br(t,t.return,g)}}break;case 1:Ea(e,t),is(t),n&512&&r!==null&&Vu(r,r.return);break;case 5:if(Ea(e,t),is(t),n&512&&r!==null&&Vu(r,r.return),t.flags&32){var i=t.stateNode;try{Yh(i,"")}catch(g){Br(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&ME(i,a),Gx(o,s);var c=Gx(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?zE(i,f):u==="dangerouslySetInnerHTML"?FE(i,f):u==="children"?Yh(i,f):U5(i,u,f,c)}switch(o){case"input":zx(i,a);break;case"textarea":DE(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?ed(i,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?ed(i,!!a.multiple,a.defaultValue,!0):ed(i,!!a.multiple,a.multiple?[]:"",!1))}i[ip]=a}catch(g){Br(t,t.return,g)}}break;case 6:if(Ea(e,t),is(t),n&4){if(t.stateNode===null)throw Error(Re(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){Br(t,t.return,g)}}break;case 3:if(Ea(e,t),is(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qh(e.containerInfo)}catch(g){Br(t,t.return,g)}break;case 4:Ea(e,t),is(t);break;case 13:Ea(e,t),is(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(x_=Gr())),n&4&&UA(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Xn=(c=Xn)||u,Ea(e,t),Xn=c):Ea(e,t),is(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ge=t,u=t.child;u!==null;){for(f=Ge=u;Ge!==null;){switch(p=Ge,h=p.child,p.tag){case 0:case 11:case 14:case 15:Lh(4,p,p.return);break;case 1:Vu(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Br(n,r,g)}}break;case 5:Vu(p,p.return);break;case 22:if(p.memoizedState!==null){qA(f);continue}}h!==null?(h.return=p,Ge=h):qA(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=UE("display",s))}catch(g){Br(t,t.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Br(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ea(e,t),is(t),n&4&&UA(t);break;case 21:break;default:Ea(e,t),is(t)}}function is(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(hT(r)){var n=r;break e}r=r.return}throw Error(Re(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Yh(i,""),n.flags&=-33);var a=FA(t);S2(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=FA(t);_2(t,o,s);break;default:throw Error(Re(161))}}catch(l){Br(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PD(t,e,r){Ge=t,gT(t)}function gT(t,e,r){for(var n=(t.mode&1)!==0;Ge!==null;){var i=Ge,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||vg;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Xn;o=vg;var c=Xn;if(vg=s,(Xn=l)&&!c)for(Ge=i;Ge!==null;)s=Ge,l=s.child,s.tag===22&&s.memoizedState!==null?WA(i):l!==null?(l.return=s,Ge=l):WA(i);for(;a!==null;)Ge=a,gT(a),a=a.sibling;Ge=i,vg=o,Xn=c}zA(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ge=a):zA(t)}}function zA(t){for(;Ge!==null;){var e=Ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xn||hy(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Xn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:$a(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&NA(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}NA(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Qh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}Xn||e.flags&512&&w2(e)}catch(p){Br(e,e.return,p)}}if(e===t){Ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ge=r;break}Ge=e.return}}function qA(t){for(;Ge!==null;){var e=Ge;if(e===t){Ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ge=r;break}Ge=e.return}}function WA(t){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{hy(4,e)}catch(l){Br(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Br(e,i,l)}}var a=e.return;try{w2(e)}catch(l){Br(e,a,l)}break;case 5:var s=e.return;try{w2(e)}catch(l){Br(e,s,l)}}}catch(l){Br(e,e.return,l)}if(e===t){Ge=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ge=o;break}Ge=e.return}}var ED=Math.ceil,R0=mo.ReactCurrentDispatcher,y_=mo.ReactCurrentOwner,pa=mo.ReactCurrentBatchConfig,Ht=0,kn=null,sn=null,Rn=0,Ii=0,Gu=xl(0),bn=0,up=null,Cc=0,py=0,b_=0,Ih=null,pi=null,x_=0,wd=1/0,qs=null,M0=!1,j2=null,ll=null,yg=!1,Qo=null,D0=0,$h=0,A2=null,o0=-1,l0=0;function oi(){return Ht&6?Gr():o0!==-1?o0:o0=Gr()}function cl(t){return t.mode&1?Ht&2&&Rn!==0?Rn&-Rn:hD.transition!==null?(l0===0&&(l0=e6()),l0):(t=ir,t!==0||(t=window.event,t=t===void 0?16:o6(t.type)),t):1}function qa(t,e,r,n){if(50<$h)throw $h=0,A2=null,Error(Re(185));nm(t,r,n),(!(Ht&2)||t!==kn)&&(t===kn&&(!(Ht&2)&&(py|=r),bn===4&&Yo(t,Rn)),bi(t,n),r===1&&Ht===0&&!(e.mode&1)&&(wd=Gr()+500,uy&&wl()))}function bi(t,e){var r=t.callbackNode;hM(t,e);var n=w0(t,t===kn?Rn:0);if(n===0)r!==null&&Qj(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Qj(r),e===1)t.tag===0?fD(HA.bind(null,t)):N6(HA.bind(null,t)),lD(function(){!(Ht&6)&&wl()}),r=null;else{switch(t6(n)){case 1:r=V5;break;case 4:r=ZE;break;case 16:r=x0;break;case 536870912:r=QE;break;default:r=x0}r=jT(r,vT.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function vT(t,e){if(o0=-1,l0=0,Ht&6)throw Error(Re(327));var r=t.callbackNode;if(ad()&&t.callbackNode!==r)return null;var n=w0(t,t===kn?Rn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=B0(t,n);else{e=n;var i=Ht;Ht|=2;var a=bT();(kn!==t||Rn!==e)&&(qs=null,wd=Gr()+500,Sc(t,e));do try{LD();break}catch(o){yT(t,o)}while(!0);a_(),R0.current=a,Ht=i,sn!==null?e=0:(kn=null,Rn=0,e=bn)}if(e!==0){if(e===2&&(i=Zx(t),i!==0&&(n=i,e=N2(t,i))),e===1)throw r=up,Sc(t,0),Yo(t,n),bi(t,Gr()),r;if(e===6)Yo(t,n);else{if(i=t.current.alternate,!(n&30)&&!TD(i)&&(e=B0(t,n),e===2&&(a=Zx(t),a!==0&&(n=a,e=N2(t,a))),e===1))throw r=up,Sc(t,0),Yo(t,n),bi(t,Gr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Re(345));case 2:ic(t,pi,qs);break;case 3:if(Yo(t,n),(n&130023424)===n&&(e=x_+500-Gr(),10<e)){if(w0(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){oi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=s2(ic.bind(null,t,pi,qs),e);break}ic(t,pi,qs);break;case 4:if(Yo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-za(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=Gr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ED(n/1960))-n,10<n){t.timeoutHandle=s2(ic.bind(null,t,pi,qs),n);break}ic(t,pi,qs);break;case 5:ic(t,pi,qs);break;default:throw Error(Re(329))}}}return bi(t,Gr()),t.callbackNode===r?vT.bind(null,t):null}function N2(t,e){var r=Ih;return t.current.memoizedState.isDehydrated&&(Sc(t,e).flags|=256),t=B0(t,e),t!==2&&(e=pi,pi=r,e!==null&&k2(e)),t}function k2(t){pi===null?pi=t:pi.push.apply(pi,t)}function TD(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Va(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yo(t,e){for(e&=~b_,e&=~py,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-za(e),n=1<<r;t[r]=-1,e&=~n}}function HA(t){if(Ht&6)throw Error(Re(327));ad();var e=w0(t,0);if(!(e&1))return bi(t,Gr()),null;var r=B0(t,e);if(t.tag!==0&&r===2){var n=Zx(t);n!==0&&(e=n,r=N2(t,n))}if(r===1)throw r=up,Sc(t,0),Yo(t,e),bi(t,Gr()),r;if(r===6)throw Error(Re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ic(t,pi,qs),bi(t,Gr()),null}function w_(t,e){var r=Ht;Ht|=1;try{return t(e)}finally{Ht=r,Ht===0&&(wd=Gr()+500,uy&&wl())}}function Lc(t){Qo!==null&&Qo.tag===0&&!(Ht&6)&&ad();var e=Ht;Ht|=1;var r=pa.transition,n=ir;try{if(pa.transition=null,ir=1,t)return t()}finally{ir=n,pa.transition=r,Ht=e,!(Ht&6)&&wl()}}function __(){Ii=Gu.current,Ar(Gu)}function Sc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,oD(r)),sn!==null)for(r=sn.return;r!==null;){var n=r;switch(r_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&N0();break;case 3:bd(),Ar(vi),Ar(Zn),d_();break;case 5:u_(n);break;case 4:bd();break;case 13:Ar(Tr);break;case 19:Ar(Tr);break;case 10:s_(n.type._context);break;case 22:case 23:__()}r=r.return}if(kn=t,sn=t=ul(t.current,null),Rn=Ii=e,bn=0,up=null,b_=py=Cc=0,pi=Ih=null,gc!==null){for(e=0;e<gc.length;e++)if(r=gc[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}gc=null}return t}function yT(t,e){do{var r=sn;try{if(a_(),i0.current=$0,I0){for(var n=Cr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}I0=!1}if(Tc=0,jn=vn=Cr=null,Ch=!1,op=0,y_.current=null,r===null||r.return===null){bn=1,up=e,sn=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=Rn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=CA(s);if(h!==null){h.flags&=-257,LA(h,s,o,a,e),h.mode&1&&TA(a,c,e),e=h,l=c;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){TA(a,c,e),S_();break e}l=Error(Re(426))}}else if(kr&&o.mode&1){var x=CA(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),LA(x,s,o,a,e),n_(xd(l,o));break e}}a=l=xd(l,o),bn!==4&&(bn=2),Ih===null?Ih=[a]:Ih.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=tT(a,l,e);AA(a,y);break e;case 1:o=l;var w=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ll===null||!ll.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var A=rT(a,o,e);AA(a,A);break e}}a=a.return}while(a!==null)}wT(r)}catch(S){e=S,sn===r&&r!==null&&(sn=r=r.return);continue}break}while(!0)}function bT(){var t=R0.current;return R0.current=$0,t===null?$0:t}function S_(){(bn===0||bn===3||bn===2)&&(bn=4),kn===null||!(Cc&268435455)&&!(py&268435455)||Yo(kn,Rn)}function B0(t,e){var r=Ht;Ht|=2;var n=bT();(kn!==t||Rn!==e)&&(qs=null,Sc(t,e));do try{CD();break}catch(i){yT(t,i)}while(!0);if(a_(),Ht=r,R0.current=n,sn!==null)throw Error(Re(261));return kn=null,Rn=0,bn}function CD(){for(;sn!==null;)xT(sn)}function LD(){for(;sn!==null&&!iM();)xT(sn)}function xT(t){var e=ST(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,e===null?wT(t):sn=e,y_.current=null}function wT(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ND(r,e),r!==null){r.flags&=32767,sn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bn=6,sn=null;return}}else if(r=AD(r,e,Ii),r!==null){sn=r;return}if(e=e.sibling,e!==null){sn=e;return}sn=e=t}while(e!==null);bn===0&&(bn=5)}function ic(t,e,r){var n=ir,i=pa.transition;try{pa.transition=null,ir=1,ID(t,e,r,n)}finally{pa.transition=i,ir=n}return null}function ID(t,e,r,n){do ad();while(Qo!==null);if(Ht&6)throw Error(Re(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Re(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(pM(t,a),t===kn&&(sn=kn=null,Rn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yg||(yg=!0,jT(x0,function(){return ad(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=pa.transition,pa.transition=null;var s=ir;ir=1;var o=Ht;Ht|=4,y_.current=null,OD(t,r),mT(r,t),eD(i2),_0=!!n2,i2=n2=null,t.current=r,PD(r),aM(),Ht=o,ir=s,pa.transition=a}else t.current=r;if(yg&&(yg=!1,Qo=t,D0=i),a=t.pendingLanes,a===0&&(ll=null),lM(r.stateNode),bi(t,Gr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(M0)throw M0=!1,t=j2,j2=null,t;return D0&1&&t.tag!==0&&ad(),a=t.pendingLanes,a&1?t===A2?$h++:($h=0,A2=t):$h=0,wl(),null}function ad(){if(Qo!==null){var t=t6(D0),e=pa.transition,r=ir;try{if(pa.transition=null,ir=16>t?16:t,Qo===null)var n=!1;else{if(t=Qo,Qo=null,D0=0,Ht&6)throw Error(Re(331));var i=Ht;for(Ht|=4,Ge=t.current;Ge!==null;){var a=Ge,s=a.child;if(Ge.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ge=c;Ge!==null;){var u=Ge;switch(u.tag){case 0:case 11:case 15:Lh(8,u,a)}var f=u.child;if(f!==null)f.return=u,Ge=f;else for(;Ge!==null;){u=Ge;var p=u.sibling,h=u.return;if(fT(u),u===c){Ge=null;break}if(p!==null){p.return=h,Ge=p;break}Ge=h}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Ge=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ge=s;else e:for(;Ge!==null;){if(a=Ge,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Lh(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Ge=y;break e}Ge=a.return}}var w=t.current;for(Ge=w;Ge!==null;){s=Ge;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Ge=_;else e:for(s=w;Ge!==null;){if(o=Ge,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:hy(9,o)}}catch(S){Br(o,o.return,S)}if(o===s){Ge=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,Ge=A;break e}Ge=o.return}}if(Ht=i,wl(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(ay,t)}catch{}n=!0}return n}finally{ir=r,pa.transition=e}}return!1}function VA(t,e,r){e=xd(r,e),e=tT(t,e,1),t=ol(t,e,1),e=oi(),t!==null&&(nm(t,1,e),bi(t,e))}function Br(t,e,r){if(t.tag===3)VA(t,t,r);else for(;e!==null;){if(e.tag===3){VA(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ll===null||!ll.has(n))){t=xd(r,t),t=rT(e,t,1),e=ol(e,t,1),t=oi(),e!==null&&(nm(e,1,t),bi(e,t));break}}e=e.return}}function $D(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=oi(),t.pingedLanes|=t.suspendedLanes&r,kn===t&&(Rn&r)===r&&(bn===4||bn===3&&(Rn&130023424)===Rn&&500>Gr()-x_?Sc(t,0):b_|=r),bi(t,e)}function _T(t,e){e===0&&(t.mode&1?(e=lg,lg<<=1,!(lg&130023424)&&(lg=4194304)):e=1);var r=oi();t=oo(t,e),t!==null&&(nm(t,e,r),bi(t,r))}function RD(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),_T(t,r)}function MD(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Re(314))}n!==null&&n.delete(e),_T(t,r)}var ST;ST=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||vi.current)mi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return mi=!1,jD(t,e,r);mi=!!(t.flags&131072)}else mi=!1,kr&&e.flags&1048576&&k6(e,P0,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;s0(t,e),t=e.pendingProps;var i=gd(e,Zn.current);id(e,r),i=h_(null,e,n,t,i,r);var a=p_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yi(n)?(a=!0,k0(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,l_(e),i.updater=fy,e.stateNode=i,i._reactInternals=e,h2(e,n,t,r),e=g2(null,e,n,!0,a,r)):(e.tag=0,kr&&a&&t_(e),ri(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(s0(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=BD(n),t=$a(n,t),i){case 0:e=m2(null,e,n,t,r);break e;case 1:e=RA(null,e,n,t,r);break e;case 11:e=IA(null,e,n,t,r);break e;case 14:e=$A(null,e,n,$a(n.type,t),r);break e}throw Error(Re(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$a(n,i),m2(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$a(n,i),RA(t,e,n,i,r);case 3:e:{if(sT(e),t===null)throw Error(Re(387));n=e.pendingProps,a=e.memoizedState,i=a.element,L6(t,e),C0(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=xd(Error(Re(423)),e),e=MA(t,e,n,r,i);break e}else if(n!==i){i=xd(Error(Re(424)),e),e=MA(t,e,n,r,i);break e}else for(Ui=sl(e.stateNode.containerInfo.firstChild),qi=e,kr=!0,Fa=null,r=T6(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vd(),n===i){e=lo(t,e,r);break e}ri(t,e,n,r)}e=e.child}return e;case 5:return I6(e),t===null&&u2(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,a2(n,i)?s=null:a!==null&&a2(n,a)&&(e.flags|=32),aT(t,e),ri(t,e,s,r),e.child;case 6:return t===null&&u2(e),null;case 13:return oT(t,e,r);case 4:return c_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=yd(e,null,n,r):ri(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$a(n,i),IA(t,e,n,i,r);case 7:return ri(t,e,e.pendingProps,r),e.child;case 8:return ri(t,e,e.pendingProps.children,r),e.child;case 12:return ri(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,yr(E0,n._currentValue),n._currentValue=s,a!==null)if(Va(a.value,s)){if(a.children===i.children&&!vi.current){e=lo(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=eo(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),d2(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Re(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),d2(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}ri(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,id(e,r),i=ma(i),n=n(i),e.flags|=1,ri(t,e,n,r),e.child;case 14:return n=e.type,i=$a(n,e.pendingProps),i=$a(n.type,i),$A(t,e,n,i,r);case 15:return nT(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$a(n,i),s0(t,e),e.tag=1,yi(n)?(t=!0,k0(e)):t=!1,id(e,r),eT(e,n,i),h2(e,n,i,r),g2(null,e,n,!0,t,r);case 19:return lT(t,e,r);case 22:return iT(t,e,r)}throw Error(Re(156,e.tag))};function jT(t,e){return JE(t,e)}function DD(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(t,e,r,n){return new DD(t,e,r,n)}function j_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BD(t){if(typeof t=="function")return j_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===q5)return 11;if(t===W5)return 14}return 2}function ul(t,e){var r=t.alternate;return r===null?(r=fa(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function c0(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")j_(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Mu:return jc(r.children,i,a,e);case z5:s=8,i|=8;break;case Mx:return t=fa(12,r,e,i|2),t.elementType=Mx,t.lanes=a,t;case Dx:return t=fa(13,r,e,i),t.elementType=Dx,t.lanes=a,t;case Bx:return t=fa(19,r,e,i),t.elementType=Bx,t.lanes=a,t;case IE:return my(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CE:s=10;break e;case LE:s=9;break e;case q5:s=11;break e;case W5:s=14;break e;case Wo:s=16,n=null;break e}throw Error(Re(130,t==null?t:typeof t,""))}return e=fa(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function jc(t,e,r,n){return t=fa(7,t,n,e),t.lanes=r,t}function my(t,e,r,n){return t=fa(22,t,n,e),t.elementType=IE,t.lanes=r,t.stateNode={isHidden:!1},t}function Ab(t,e,r){return t=fa(6,t,null,e),t.lanes=r,t}function Nb(t,e,r){return e=fa(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FD(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sb(0),this.expirationTimes=sb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sb(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function A_(t,e,r,n,i,a,s,o,l){return t=new FD(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=fa(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},l_(a),t}function UD(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ru,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function AT(t){if(!t)return ml;t=t._reactInternals;e:{if(Vc(t)!==t||t.tag!==1)throw Error(Re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Re(171))}if(t.tag===1){var r=t.type;if(yi(r))return A6(t,r,e)}return e}function NT(t,e,r,n,i,a,s,o,l){return t=A_(r,n,!0,t,i,a,s,o,l),t.context=AT(null),r=t.current,n=oi(),i=cl(r),a=eo(n,i),a.callback=e??null,ol(r,a,i),t.current.lanes=i,nm(t,i,n),bi(t,n),t}function gy(t,e,r,n){var i=e.current,a=oi(),s=cl(i);return r=AT(r),e.context===null?e.context=r:e.pendingContext=r,e=eo(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ol(i,e,s),t!==null&&(qa(t,i,s,a),n0(t,i,s)),s}function F0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function GA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function N_(t,e){GA(t,e),(t=t.alternate)&&GA(t,e)}function zD(){return null}var kT=typeof reportError=="function"?reportError:function(t){console.error(t)};function k_(t){this._internalRoot=t}vy.prototype.render=k_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Re(409));gy(t,e,null,null)};vy.prototype.unmount=k_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Lc(function(){gy(null,t,null,null)}),e[so]=null}};function vy(t){this._internalRoot=t}vy.prototype.unstable_scheduleHydration=function(t){if(t){var e=i6();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ko.length&&e!==0&&e<Ko[r].priority;r++);Ko.splice(r,0,t),r===0&&s6(t)}};function O_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function KA(){}function qD(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=F0(s);a.call(c)}}var s=NT(e,n,t,0,null,!1,!1,"",KA);return t._reactRootContainer=s,t[so]=s.current,rp(t.nodeType===8?t.parentNode:t),Lc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=F0(l);o.call(c)}}var l=A_(t,0,!1,null,null,!1,!1,"",KA);return t._reactRootContainer=l,t[so]=l.current,rp(t.nodeType===8?t.parentNode:t),Lc(function(){gy(e,l,r,n)}),l}function by(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=F0(s);o.call(l)}}gy(e,s,t,i)}else s=qD(r,e,t,i,n);return F0(s)}r6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=_h(e.pendingLanes);r!==0&&(G5(e,r|1),bi(e,Gr()),!(Ht&6)&&(wd=Gr()+500,wl()))}break;case 13:Lc(function(){var n=oo(t,1);if(n!==null){var i=oi();qa(n,t,1,i)}}),N_(t,1)}};K5=function(t){if(t.tag===13){var e=oo(t,134217728);if(e!==null){var r=oi();qa(e,t,134217728,r)}N_(t,134217728)}};n6=function(t){if(t.tag===13){var e=cl(t),r=oo(t,e);if(r!==null){var n=oi();qa(r,t,e,n)}N_(t,e)}};i6=function(){return ir};a6=function(t,e){var r=ir;try{return ir=t,e()}finally{ir=r}};Yx=function(t,e,r){switch(e){case"input":if(zx(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=cy(n);if(!i)throw Error(Re(90));RE(n),zx(n,i)}}}break;case"textarea":DE(t,r);break;case"select":e=r.value,e!=null&&ed(t,!!r.multiple,e,!1)}};HE=w_;VE=Lc;var WD={usingClientEntryPoint:!1,Events:[am,Uu,cy,qE,WE,w_]},sh={findFiberByHostInstance:mc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HD={bundleType:sh.bundleType,version:sh.version,rendererPackageName:sh.rendererPackageName,rendererConfig:sh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YE(t),t===null?null:t.stateNode},findFiberByHostInstance:sh.findFiberByHostInstance||zD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bg.isDisabled&&bg.supportsFiber)try{ay=bg.inject(HD),fs=bg}catch{}}Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WD;Gi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O_(e))throw Error(Re(200));return UD(t,e,null,r)};Gi.createRoot=function(t,e){if(!O_(t))throw Error(Re(299));var r=!1,n="",i=kT;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=A_(t,1,!1,null,null,r,!1,n,i),t[so]=e.current,rp(t.nodeType===8?t.parentNode:t),new k_(e)};Gi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Re(188)):(t=Object.keys(t).join(","),Error(Re(268,t)));return t=YE(e),t=t===null?null:t.stateNode,t};Gi.flushSync=function(t){return Lc(t)};Gi.hydrate=function(t,e,r){if(!yy(e))throw Error(Re(200));return by(null,t,e,!0,r)};Gi.hydrateRoot=function(t,e,r){if(!O_(t))throw Error(Re(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=kT;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=NT(e,null,t,1,r??null,i,!1,a,s),t[so]=e.current,rp(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new vy(e)};Gi.render=function(t,e,r){if(!yy(e))throw Error(Re(200));return by(null,t,e,!1,r)};Gi.unmountComponentAtNode=function(t){if(!yy(t))throw Error(Re(40));return t._reactRootContainer?(Lc(function(){by(null,null,t,!1,function(){t._reactRootContainer=null,t[so]=null})}),!0):!1};Gi.unstable_batchedUpdates=w_;Gi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!yy(r))throw Error(Re(200));if(t==null||t._reactInternals===void 0)throw Error(Re(38));return by(t,e,r,!1,n)};Gi.version="18.3.1-next-f1338f8080-20240426";function OT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OT)}catch(t){console.error(t)}}OT(),OE.exports=Gi;var VD=OE.exports,YA=VD;$x.createRoot=YA.createRoot,$x.hydrateRoot=YA.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dp.apply(this,arguments)}var el;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(el||(el={}));const XA="popstate";function GD(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return O2("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:U0(i)}return YD(e,r,null,t)}function Jr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KD(){return Math.random().toString(36).substr(2,8)}function JA(t,e){return{usr:t.state,key:t.key,idx:e}}function O2(t,e,r,n){return r===void 0&&(r=null),dp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nf(e):e,{state:r,key:e&&e.key||n||KD()})}function U0(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function nf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function YD(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=el.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(dp({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=el.Pop;let x=u(),y=x==null?null:x-c;c=x,l&&l({action:o,location:g.location,delta:y})}function p(x,y){o=el.Push;let w=O2(g.location,x,y);c=u()+1;let _=JA(w,c),A=g.createHref(w);try{s.pushState(_,"",A)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(A)}a&&l&&l({action:o,location:g.location,delta:1})}function h(x,y){o=el.Replace;let w=O2(g.location,x,y);c=u();let _=JA(w,c),A=g.createHref(w);s.replaceState(_,"",A),a&&l&&l({action:o,location:g.location,delta:0})}function v(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:U0(x);return w=w.replace(/ $/,"%20"),Jr(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let g={get action(){return o},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(XA,f),l=x,()=>{i.removeEventListener(XA,f),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let y=v(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:h,go(x){return s.go(x)}};return g}var ZA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ZA||(ZA={}));function XD(t,e,r){return r===void 0&&(r="/"),JD(t,e,r)}function JD(t,e,r,n){let i=typeof e=="string"?nf(e):e,a=P_(i.pathname||"/",r);if(a==null)return null;let s=ET(t);ZD(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=u9(a);o=o9(s[l],c)}return o}function ET(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Jr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=dl([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(Jr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ET(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:a9(c,a.index),routesMeta:u})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of TT(a.path))i(a,s,l)}),e}function TT(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=TT(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function ZD(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:s9(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const QD=/^:[\w-]+$/,e9=3,t9=2,r9=1,n9=10,i9=-2,QA=t=>t==="*";function a9(t,e){let r=t.split("/"),n=r.length;return r.some(QA)&&(n+=i9),e&&(n+=t9),r.filter(i=>!QA(i)).reduce((i,a)=>i+(QD.test(a)?e9:a===""?r9:n9),n)}function s9(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function o9(t,e,r){let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=l9({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:dl([a,f.pathname]),pathnameBase:p9(dl([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=dl([a,f.pathnameBase]))}return s}function l9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=c9(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:p,isOptional:h}=u;if(p==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const v=o[f];return h&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function c9(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),PT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function u9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function P_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function d9(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?nf(t):t;return{pathname:r?r.startsWith("/")?r:f9(r,e):e,search:m9(n),hash:g9(i)}}function f9(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function kb(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function h9(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function E_(t,e){let r=h9(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function T_(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=nf(t):(i=dp({},t),Jr(!i.pathname||!i.pathname.includes("?"),kb("?","pathname","search",i)),Jr(!i.pathname||!i.pathname.includes("#"),kb("#","pathname","hash",i)),Jr(!i.search||!i.search.includes("#"),kb("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?e[f]:"/"}let l=d9(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const dl=t=>t.join("/").replace(/\/\/+/g,"/"),p9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),m9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,g9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CT=["post","put","patch","delete"];new Set(CT);const y9=["get",...CT];new Set(y9);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fp.apply(this,arguments)}const C_=X.createContext(null),b9=X.createContext(null),_l=X.createContext(null),xy=X.createContext(null),go=X.createContext({outlet:null,matches:[],isDataRoute:!1}),LT=X.createContext(null);function x9(t,e){let{relative:r}=e===void 0?{}:e;af()||Jr(!1);let{basename:n,navigator:i}=X.useContext(_l),{hash:a,pathname:s,search:o}=$T(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:dl([n,s])),i.createHref({pathname:l,search:o,hash:a})}function af(){return X.useContext(xy)!=null}function Gc(){return af()||Jr(!1),X.useContext(xy).location}function IT(t){X.useContext(_l).static||X.useLayoutEffect(t)}function Yi(){let{isDataRoute:t}=X.useContext(go);return t?L9():w9()}function w9(){af()||Jr(!1);let t=X.useContext(C_),{basename:e,future:r,navigator:n}=X.useContext(_l),{matches:i}=X.useContext(go),{pathname:a}=Gc(),s=JSON.stringify(E_(i,r.v7_relativeSplatPath)),o=X.useRef(!1);return IT(()=>{o.current=!0}),X.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=T_(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:dl([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,s,a,t])}function wy(){let{matches:t}=X.useContext(go),e=t[t.length-1];return e?e.params:{}}function $T(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=X.useContext(_l),{matches:i}=X.useContext(go),{pathname:a}=Gc(),s=JSON.stringify(E_(i,n.v7_relativeSplatPath));return X.useMemo(()=>T_(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function _9(t,e){return S9(t,e)}function S9(t,e,r,n){af()||Jr(!1);let{navigator:i}=X.useContext(_l),{matches:a}=X.useContext(go),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Gc(),u;if(e){var f;let x=typeof e=="string"?nf(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Jr(!1),u=x}else u=c;let p=u.pathname||"/",h=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=XD(t,{pathname:h}),g=O9(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:dl([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:dl([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return e&&g?X.createElement(xy.Provider,{value:{location:fp({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:el.Pop}},g):g}function j9(){let t=C9(),e=v9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),r?X.createElement("pre",{style:i},r):null,null)}const A9=X.createElement(j9,null);class N9 extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?X.createElement(go.Provider,{value:this.props.routeContext},X.createElement(LT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k9(t){let{routeContext:e,match:r,children:n}=t,i=X.useContext(C_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),X.createElement(go.Provider,{value:e},n)}function O9(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Jr(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:h}=r,v=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,p)=>{let h,v=!1,g=null,x=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||A9,l&&(c<0&&p===0?(I9("route-fallback"),v=!0,x=null):c===p&&(v=!0,x=f.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,p+1)),w=()=>{let _;return h?_=g:v?_=x:f.route.Component?_=X.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,X.createElement(k9,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?X.createElement(N9,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var RT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(RT||{}),MT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(MT||{});function P9(t){let e=X.useContext(C_);return e||Jr(!1),e}function E9(t){let e=X.useContext(b9);return e||Jr(!1),e}function T9(t){let e=X.useContext(go);return e||Jr(!1),e}function DT(t){let e=T9(),r=e.matches[e.matches.length-1];return r.route.id||Jr(!1),r.route.id}function C9(){var t;let e=X.useContext(LT),r=E9(),n=DT();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function L9(){let{router:t}=P9(RT.UseNavigateStable),e=DT(MT.UseNavigateStable),r=X.useRef(!1);return IT(()=>{r.current=!0}),X.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,fp({fromRouteId:e},a)))},[t,e])}const eN={};function I9(t,e,r){eN[t]||(eN[t]=!0)}function $9(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function R9(t){let{to:e,replace:r,state:n,relative:i}=t;af()||Jr(!1);let{future:a,static:s}=X.useContext(_l),{matches:o}=X.useContext(go),{pathname:l}=Gc(),c=Yi(),u=T_(e,E_(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return X.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:i}),[c,f,i,r,n]),null}function tn(t){Jr(!1)}function M9(t){let{basename:e="/",children:r=null,location:n,navigationType:i=el.Pop,navigator:a,static:s=!1,future:o}=t;af()&&Jr(!1);let l=e.replace(/^\/*/,"/"),c=X.useMemo(()=>({basename:l,navigator:a,static:s,future:fp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=nf(n));let{pathname:u="/",search:f="",hash:p="",state:h=null,key:v="default"}=n,g=X.useMemo(()=>{let x=P_(u,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:h,key:v},navigationType:i}},[l,u,f,p,h,v,i]);return g==null?null:X.createElement(_l.Provider,{value:c},X.createElement(xy.Provider,{children:r,value:g}))}function D9(t){let{children:e,location:r}=t;return _9(P2(e),r)}new Promise(()=>{});function P2(t,e){e===void 0&&(e=[]);let r=[];return X.Children.forEach(t,(n,i)=>{if(!X.isValidElement(n))return;let a=[...e,i];if(n.type===X.Fragment){r.push.apply(r,P2(n.props.children,a));return}n.type!==tn&&Jr(!1),!n.props.index||!n.props.children||Jr(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=P2(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function E2(){return E2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E2.apply(this,arguments)}function B9(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function F9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U9(t,e){return t.button===0&&(!e||e==="_self")&&!F9(t)}const z9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],q9="6";try{window.__reactRouterVersion=q9}catch{}const W9="startTransition",tN=$7[W9];function H9(t){let{basename:e,children:r,future:n,window:i}=t,a=X.useRef();a.current==null&&(a.current=GD({window:i,v5Compat:!0}));let s=a.current,[o,l]=X.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=X.useCallback(f=>{c&&tN?tN(()=>l(f)):l(f)},[l,c]);return X.useLayoutEffect(()=>s.listen(u),[s,u]),X.useEffect(()=>$9(n),[n]),X.createElement(M9,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const V9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BT=X.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,p=B9(e,z9),{basename:h}=X.useContext(_l),v,g=!1;if(typeof c=="string"&&G9.test(c)&&(v=c,V9))try{let _=new URL(window.location.href),A=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=P_(A.pathname,h);A.origin===_.origin&&S!=null?c=S+A.search+A.hash:g=!0}catch{}let x=x9(c,{relative:i}),y=K9(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function w(_){n&&n(_),_.defaultPrevented||y(_)}return X.createElement("a",E2({},p,{href:v||x,onClick:g||a?n:w,ref:r,target:l}))});var rN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rN||(rN={}));var nN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nN||(nN={}));function K9(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Yi(),c=Gc(),u=$T(t,{relative:s});return X.useCallback(f=>{if(U9(f,r)){f.preventDefault();let p=n!==void 0?n:U0(c)===U0(u);l(t,{replace:p,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,n,i,r,t,a,s,o])}var T2=function(t,e){return T2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},T2(t,e)};function FT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");T2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var z0=function(){return z0=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},z0.apply(this,arguments)};function sf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function UT(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,r,a):s(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function zT(t,e){return function(r,n){e(r,n,t)}}function qT(t,e,r,n,i,a){function s(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,p=!1,h=r.length-1;h>=0;h--){var v={};for(var g in n)v[g]=g==="access"?{}:n[g];for(var g in n.access)v.access[g]=n.access[g];v.addInitializer=function(y){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(y||null))};var x=(0,r[h])(o==="accessor"?{get:u.get,set:u.set}:u[l],v);if(o==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(f=s(x.get))&&(u.get=f),(f=s(x.set))&&(u.set=f),(f=s(x.init))&&i.unshift(f)}else(f=s(x))&&(o==="field"?i.unshift(f):u[l]=f)}c&&Object.defineProperty(c,n.name,u),p=!0}function WT(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function HT(t){return typeof t=="symbol"?t:"".concat(t)}function VT(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function GT(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function at(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})}function KT(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var _y=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function YT(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&_y(e,t,r)}function q0(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L_(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function XT(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(L_(arguments[e]));return t}function JT(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function ZT(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function _d(t){return this instanceof _d?(this.v=t,this):new _d(t)}function QT(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(v){return Promise.resolve(v).then(h,f)}}function o(h,v){n[h]&&(i[h]=function(g){return new Promise(function(x,y){a.push([h,g,x,y])>1||l(h,g)})},v&&(i[h]=v(i[h])))}function l(h,v){try{c(n[h](v))}catch(g){p(a[0][3],g)}}function c(h){h.value instanceof _d?Promise.resolve(h.value.v).then(u,f):p(a[0][2],h)}function u(h){l("next",h)}function f(h){l("throw",h)}function p(h,v){h(v),a.shift(),a.length&&l(a[0][0],a[0][1])}}function eC(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(s){return(r=!r)?{value:_d(t[i](s)),done:!1}:a?a(s):s}:a}}function tC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof q0=="function"?q0(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(s){return new Promise(function(o,l){s=t[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}}function rC(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Y9=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},C2=function(t){return C2=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},C2(t)};function nC(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=C2(t),n=0;n<r.length;n++)r[n]!=="default"&&_y(e,t,r[n]);return Y9(e,t),e}function iC(t){return t&&t.__esModule?t:{default:t}}function aC(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function sC(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function oC(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function lC(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var X9=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function cC(t){function e(a){t.error=t.hasError?new X9(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(s){return e(s),i()})}else n|=1}catch(s){e(s)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function uC(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,s){return n?e?".jsx":".js":i&&(!a||!s)?r:i+a+"."+s.toLowerCase()+"js"}):t}const J9={__extends:FT,__assign:z0,__rest:sf,__decorate:UT,__param:zT,__esDecorate:qT,__runInitializers:WT,__propKey:HT,__setFunctionName:VT,__metadata:GT,__awaiter:at,__generator:KT,__createBinding:_y,__exportStar:YT,__values:q0,__read:L_,__spread:XT,__spreadArrays:JT,__spreadArray:ZT,__await:_d,__asyncGenerator:QT,__asyncDelegator:eC,__asyncValues:tC,__makeTemplateObject:rC,__importStar:nC,__importDefault:iC,__classPrivateFieldGet:aC,__classPrivateFieldSet:sC,__classPrivateFieldIn:oC,__addDisposableResource:lC,__disposeResources:cC,__rewriteRelativeImportExtension:uC},Z9=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:lC,get __assign(){return z0},__asyncDelegator:eC,__asyncGenerator:QT,__asyncValues:tC,__await:_d,__awaiter:at,__classPrivateFieldGet:aC,__classPrivateFieldIn:oC,__classPrivateFieldSet:sC,__createBinding:_y,__decorate:UT,__disposeResources:cC,__esDecorate:qT,__exportStar:YT,__extends:FT,__generator:KT,__importDefault:iC,__importStar:nC,__makeTemplateObject:rC,__metadata:GT,__param:zT,__propKey:HT,__read:L_,__rest:sf,__rewriteRelativeImportExtension:uC,__runInitializers:WT,__setFunctionName:VT,__spread:XT,__spreadArray:ZT,__spreadArrays:JT,__values:q0,default:J9},Symbol.toStringTag,{value:"Module"})),Q9=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class I_ extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class eB extends I_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class iN extends I_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class aN extends I_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var L2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(L2||(L2={}));class tB{constructor(e,{headers:r={},customFetch:n,region:i=L2.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Q9(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return at(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:o,method:l,body:c,signal:u,timeout:f}=n;let p={},{region:h}=n;h||(h=this.region);const v=new URL(`${this.url}/${r}`);h&&h!=="any"&&(p["x-region"]=h,v.searchParams.set("forceFunctionRegion",h));let g;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(p["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(p["Content-Type"]="application/json",g=JSON.stringify(c)):g=c;let x=u;f&&(s=new AbortController,a=setTimeout(()=>s.abort(),f),u?(x=s.signal,u.addEventListener("abort",()=>s.abort())):x=s.signal);const y=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:g,signal:x}).catch(S=>{throw new eB(S)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new iN(y);if(!y.ok)throw new aN(y);let _=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),A;return _==="application/json"?A=yield y.json():_==="application/octet-stream"||_==="application/pdf"?A=yield y.blob():_==="text/event-stream"?A=y:_==="multipart/form-data"?A=yield y.formData():A=yield y.text(),{data:A,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof aN||o instanceof iN?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var ni={};const of=b7(Z9);var xg={},wg={},_g={},Sg={},jg={},Ag={},sN;function dC(){if(sN)return Ag;sN=1,Object.defineProperty(Ag,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ag.default=t,Ag}var oN;function fC(){if(oN)return jg;oN=1,Object.defineProperty(jg,"__esModule",{value:!0});const e=of.__importDefault(dC());class r{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,f,p;let h=null,v=null,g=null,x=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?v=S:v=JSON.parse(S))}const _=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),A=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&A&&A.length>1&&(g=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(h={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,g=null,x=406,y="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const _=await l.text();try{h=JSON.parse(_),Array.isArray(h)&&l.status===404&&(v=[],h=null,x=200,y="OK")}catch{l.status===404&&_===""?(x=204,y="No Content"):h={message:_}}if(h&&this.isMaybeSingle&&(!((p=h==null?void 0:h.details)===null||p===void 0)&&p.includes("0 rows"))&&(h=null,x=200,y="OK"),h&&this.shouldThrowOnError)throw new e.default(h)}return{error:h,data:v,count:g,status:x,statusText:y}});return this.shouldThrowOnError||(o=o.catch(l=>{var c,u,f;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(f=l==null?void 0:l.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),o.then(i,a)}returns(){return this}overrideTypes(){return this}}return jg.default=r,jg}var lN;function hC(){if(lN)return Sg;lN=1,Object.defineProperty(Sg,"__esModule",{value:!0});const e=of.__importDefault(fC());class r extends e.default{select(i){let a=!1;const s=(i??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var u;const f=[i?"analyze":null,a?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Sg.default=r,Sg}var cN;function $_(){if(cN)return _g;cN=1,Object.defineProperty(_g,"__esModule",{value:!0});const e=of.__importDefault(hC()),r=new RegExp("[,()]");class n extends e.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}}return _g.default=n,_g}var uN;function pC(){if(uN)return wg;uN=1,Object.defineProperty(wg,"__esModule",{value:!0});const e=of.__importDefault($_());class r{constructor(i,{headers:a={},schema:s,fetch:o}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=o}select(i,a){const{head:s=!1,count:o}=a??{},l=s?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var s;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return wg.default=r,wg}var dN;function rB(){if(dN)return xg;dN=1,Object.defineProperty(xg,"__esModule",{value:!0});const t=of,e=t.__importDefault(pC()),r=t.__importDefault($_());class n{constructor(a,{headers:s={},schema:o,fetch:l}={}){this.url=a,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(a){const s=new URL(`${this.url}/${a}`);return new e.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:o=!1,get:l=!1,count:c}={}){var u;let f;const p=new URL(`${this.url}/rpc/${a}`);let h;o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([g,x])=>x!==void 0).map(([g,x])=>[g,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([g,x])=>{p.searchParams.append(g,x)})):(f="POST",h=s);const v=new Headers(this.headers);return c&&v.set("Prefer",`count=${c}`),new r.default({method:f,url:p,headers:v,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return xg.default=n,xg}Object.defineProperty(ni,"__esModule",{value:!0});var mC=ni.PostgrestError=AC=ni.PostgrestBuilder=SC=ni.PostgrestTransformBuilder=wC=ni.PostgrestFilterBuilder=bC=ni.PostgrestQueryBuilder=vC=ni.PostgrestClient=void 0;const lf=of,gC=lf.__importDefault(rB());var vC=ni.PostgrestClient=gC.default;const yC=lf.__importDefault(pC());var bC=ni.PostgrestQueryBuilder=yC.default;const xC=lf.__importDefault($_());var wC=ni.PostgrestFilterBuilder=xC.default;const _C=lf.__importDefault(hC());var SC=ni.PostgrestTransformBuilder=_C.default;const jC=lf.__importDefault(fC());var AC=ni.PostgrestBuilder=jC.default;const NC=lf.__importDefault(dC());mC=ni.PostgrestError=NC.default;var kC=ni.default={PostgrestClient:gC.default,PostgrestQueryBuilder:yC.default,PostgrestFilterBuilder:xC.default,PostgrestTransformBuilder:_C.default,PostgrestBuilder:jC.default,PostgrestError:NC.default};const nB=gE({__proto__:null,get PostgrestBuilder(){return AC},get PostgrestClient(){return vC},get PostgrestError(){return mC},get PostgrestFilterBuilder(){return wC},get PostgrestQueryBuilder(){return bC},get PostgrestTransformBuilder(){return SC},default:kC},[ni]),{PostgrestClient:iB,PostgrestQueryBuilder:v1e,PostgrestFilterBuilder:y1e,PostgrestTransformBuilder:b1e,PostgrestBuilder:x1e,PostgrestError:w1e}=kC||nB;class aB{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const sB="2.81.0",oB=`realtime-js/${sB}`,OC="1.0.0",lB="2.0.0",fN=OC,I2=1e4,cB=1e3,uB=100;var uc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(uc||(uc={}));var gn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gn||(gn={}));var la;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(la||(la={}));var $2;(function(t){t.websocket="websocket"})($2||($2={}));var dc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(dc||(dc={}));class dB{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:r,ref:n,event:i,topic:a,payload:s}=e,o=this.META_LENGTH+r.length+n.length+a.length+i.length,l=new ArrayBuffer(this.HEADER_LENGTH+o);let c=new DataView(l),u=0;c.setUint8(u++,this.KINDS.push),c.setUint8(u++,r.length),c.setUint8(u++,n.length),c.setUint8(u++,a.length),c.setUint8(u++,i.length),Array.from(r,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(n,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(a,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(i,p=>c.setUint8(u++,p.charCodeAt(0)));var f=new Uint8Array(l.byteLength+s.byteLength);return f.set(new Uint8Array(l),0),f.set(new Uint8Array(s),l.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const{join_ref:i,ref:a,topic:s}=e,o=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+s.length+o.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let f=new DataView(u),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,i.length),f.setUint8(p++,a.length),f.setUint8(p++,s.length),f.setUint8(p++,o.length),f.setUint8(p++,this.BINARY_ENCODING),Array.from(i,v=>f.setUint8(p++,v.charCodeAt(0))),Array.from(a,v=>f.setUint8(p++,v.charCodeAt(0))),Array.from(s,v=>f.setUint8(p++,v.charCodeAt(0))),Array.from(o,v=>f.setUint8(p++,v.charCodeAt(0)));var h=new Uint8Array(u.byteLength+l.byteLength);return h.set(new Uint8Array(u),0),h.set(new Uint8Array(l),u.byteLength),h.buffer}_encodeJsonUserBroadcastPush(e){var r,n;const{join_ref:i,ref:a,topic:s}=e,o=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+s.length+o.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let h=new DataView(p),v=0;h.setUint8(v++,this.KINDS.userBroadcastPush),h.setUint8(v++,i.length),h.setUint8(v++,a.length),h.setUint8(v++,s.length),h.setUint8(v++,o.length),h.setUint8(v++,this.JSON_ENCODING),Array.from(i,x=>h.setUint8(v++,x.charCodeAt(0))),Array.from(a,x=>h.setUint8(v++,x.charCodeAt(0))),Array.from(s,x=>h.setUint8(v++,x.charCodeAt(0))),Array.from(o,x=>h.setUint8(v++,x.charCodeAt(0)));var g=new Uint8Array(p.byteLength+u.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(u),p.byteLength),g.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,s,o,l]=n;return r({join_ref:i,ref:a,topic:s,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,i);case this.KINDS.reply:return this._decodeReply(e,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodePush(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3);let o=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+a));o=o+a;const u=n.decode(e.slice(o,o+s));o=o+s;const f=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:u,payload:f}}_decodeReply(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=n.decode(e.slice(l,l+i));l=l+i;const u=n.decode(e.slice(l,l+a));l=l+a;const f=n.decode(e.slice(l,l+s));l=l+s;const p=n.decode(e.slice(l,l+o));l=l+o;const h=JSON.parse(n.decode(e.slice(l,e.byteLength))),v={status:p,response:h};return{join_ref:c,ref:u,topic:f,event:la.reply,payload:v}}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+i));s=s+i;const l=n.decode(e.slice(s,s+a));s=s+a;const c=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{join_ref:null,ref:null,topic:o,event:l,payload:c}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+i));l=l+i;const u=n.decode(e.slice(l,l+a));l=l+a;const f=n.decode(e.slice(l,l+s));l=l+s;const p=e.slice(l,e.byteLength),h=o===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,v={type:this.BROADCAST,event:u,payload:h};return s>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class PC{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(mr||(mr={}));const hN=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=fB(s,t,e,i),a),{}):{}},fB=(t,e,r,n)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=r[t];return a&&!n.includes(a)?EC(a,s):R2(s)},EC=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return gB(e,r)}switch(t){case mr.bool:return hB(e);case mr.float4:case mr.float8:case mr.int2:case mr.int4:case mr.int8:case mr.numeric:case mr.oid:return pB(e);case mr.json:case mr.jsonb:return mB(e);case mr.timestamp:return vB(e);case mr.abstime:case mr.date:case mr.daterange:case mr.int4range:case mr.int8range:case mr.money:case mr.reltime:case mr.text:case mr.time:case mr.timestamptz:case mr.timetz:case mr.tsrange:case mr.tstzrange:return R2(e);default:return R2(e)}},R2=t=>t,hB=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},pB=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},mB=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gB=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>EC(e,o))}return t},vB=t=>typeof t=="string"?t.replace(" ","T"):t,TC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ob{constructor(e,r,n={},i=I2){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var pN;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(pN||(pN={}));class Rh{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rh.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=Rh.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Rh.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),o={},l={};return this.map(a,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const f=a[c];if(f){const p=u.map(x=>x.presence_ref),h=f.map(x=>x.presence_ref),v=u.filter(x=>h.indexOf(x.presence_ref)<0),g=f.filter(x=>p.indexOf(x.presence_ref)<0);v.length>0&&(o[c]=v),g.length>0&&(l[c]=g)}else o[c]=u}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const f=e[o].map(h=>h.presence_ref),p=u.filter(h=>f.indexOf(h.presence_ref)<0);e[o].unshift(...p)}n(o,u,l)}),this.map(s,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mN;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(mN||(mN={}));var Mh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Mh||(Mh={}));var Ws;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ws||(Ws={}));class R_{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=gn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ob(this,la.join,this.params,this.timeout),this.rejoinTimer=new PC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(la.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Rh(this),this.broadcastEndpointURL=TC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==gn.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Mh.PRESENCE]&&this.bindings[Mh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Ws.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Ws.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var v;if(this.socket.setAuth(),h===void 0){e==null||e(Ws.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,y=[];for(let w=0;w<x;w++){const _=g[w],{filter:{event:A,schema:S,table:k,filter:P}}=_,C=h&&h[w];if(C&&C.event===A&&C.schema===S&&C.table===k&&C.filter===P)y.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=gn.errored,e==null||e(Ws.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Ws.SUBSCRIBED);return}}).receive("error",h=>{this.state=gn.errored,e==null||e(Ws.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ws.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===gn.joined&&e===Mh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(la.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Ob(this,la.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ob(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>uB){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=la;if(n&&[o,l,c,u].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var v,g,x;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(g=h.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(h=>h.callback(p,n)):(a=this.bindings[s])===null||a===void 0||a.filter(h=>{var v,g,x,y,w,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const A=h.id,S=(v=h.filter)===null||v===void 0?void 0:v.event;return A&&((g=r.ids)===null||g===void 0?void 0:g.includes(A))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const A=(w=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return A==="*"||A===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:g,table:x,commit_timestamp:y,type:w,errors:_}=v;p=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:y,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(v))}h.callback(p,n)})}_isClosed(){return this.state===gn.closed}_isJoined(){return this.state===gn.joined}_isJoining(){return this.state===gn.joining}_isLeaving(){return this.state===gn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&R_.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(la.close,{},e)}_onError(e){this._on(la.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=hN(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=hN(e.columns,e.old_record)),r}}const Pb=()=>{},Ng={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yB=[1e3,2e3,5e3,1e4],bB=1e4,xB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wB{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=I2,this.transport=null,this.heartbeatIntervalMs=Ng.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pb,this.ref=0,this.reconnectTimer=null,this.vsn=fN,this.logger=Pb,this.conn=null,this.sendBuffer=[],this.serializer=new dB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${$2.websocket}`,this.httpEndpoint=TC(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aB.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case uc.connecting:return dc.Connecting;case uc.open:return dc.Open;case uc.closing:return dc.Closing;default:return dc.Closed}}isConnected(){return this.connectionState()===dc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new R_(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(cB,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ng.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===uc.open||this.conn.readyState===uc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(la.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([xB],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:oB};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(la.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new PC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ng.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,s,o,l,c,u,f,p,h;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:I2,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Ng.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Pb,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:fN,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:v=>yB[v-1]||bB,this.vsn){case OC:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(v,g)=>g(JSON.stringify(v)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(v,g)=>g(JSON.parse(v));break;case lB:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class M_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Er(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class _B extends M_{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class M2 extends M_{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const D_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),SB=()=>Response,D2=t=>{if(Array.isArray(t))return t.map(r=>D2(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=D2(n)}),e},jB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Eb=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},AB=(t,e,r)=>at(void 0,void 0,void 0,function*(){const n=yield SB();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,s=(i==null?void 0:i.statusCode)||a+"";e(new _B(Eb(i),a,s))}).catch(i=>{e(new M2(Eb(i),i))}):e(new M2(Eb(t),t))}),NB=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(jB(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function om(t,e,r,n,i,a){return at(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,NB(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>AB(l,o,n))})})}function hp(t,e,r,n){return at(this,void 0,void 0,function*(){return om(t,"GET",e,r,n)})}function Ra(t,e,r,n,i){return at(this,void 0,void 0,function*(){return om(t,"POST",e,n,i,r)})}function B2(t,e,r,n,i){return at(this,void 0,void 0,function*(){return om(t,"PUT",e,n,i,r)})}function kB(t,e,r,n){return at(this,void 0,void 0,function*(){return om(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function B_(t,e,r,n,i){return at(this,void 0,void 0,function*(){return om(t,"DELETE",e,n,i,r)})}class OB{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return at(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Er(e))return{data:null,error:e};throw e}})}}var CC;class PB{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[CC]="BlobDownloadBuilder",this.promise=null}asStream(){return new OB(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return at(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Er(e))return{data:null,error:e};throw e}})}}CC=Symbol.toStringTag;const EB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class TB{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=D_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return at(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},gN),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),f=yield(e=="PUT"?B2:Ra)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Er(a))return{data:null,error:a};throw a}})}upload(e,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return at(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:gN.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield B2(this.fetch,o.toString(),l,{headers:u});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Er(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return at(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Ra(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new M_("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}update(e,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return at(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}copy(e,r,n){return at(this,void 0,void 0,function*(){try{return{data:{path:(yield Ra(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return at(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Ra(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return at(this,void 0,void 0,function*(){try{const i=yield Ra(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(e),l=()=>hp(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new PB(l,this.shouldThrowOnError)}info(e){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield hp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:D2(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}exists(e){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield kB(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n)&&n instanceof M2){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return at(this,void 0,void 0,function*(){try{return{data:yield B_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}list(e,r,n){return at(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},EB),r),{prefix:e||""});return{data:yield Ra(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}listV2(e,r){return at(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ra(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const LC="2.81.0",IC={"X-Client-Info":`storage-js/${LC}`};class CB{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},IC),r),this.fetch=D_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return at(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield hp(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}getBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield hp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}createBucket(e){return at(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ra(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return at(this,void 0,void 0,function*(){try{return{data:yield B2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}emptyBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}deleteBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield B_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class LB{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},IC),r),this.fetch=D_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}listBuckets(e){return at(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield hp(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}deleteBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield B_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}}const F_={"X-Client-Info":`storage-js/${LC}`,"Content-Type":"application/json"};class $C extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Di(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Tb extends $C{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class IB extends $C{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var vN;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(vN||(vN={}));const U_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$B=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yN=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RB=(t,e,r)=>at(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";e(new Tb(yN(s),i,o))}).catch(()=>{const s=i+"",o=a.statusText||`HTTP ${i} error`;e(new Tb(o,i,s))});else{const s=i+"",o=a.statusText||`HTTP ${i} error`;e(new Tb(o,i,s))}}else e(new IB(yN(t),t))}),MB=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?($B(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function DB(t,e,r,n,i,a){return at(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,MB(e,n,i,a)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>RB(l,o,n))})})}function Bi(t,e,r,n,i){return at(this,void 0,void 0,function*(){return DB(t,"POST",e,n,i,r)})}class BB{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F_),r),this.fetch=U_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return at(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}getIndex(e,r){return at(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Di(n))return{data:null,error:n};throw n}})}listIndexes(e){return at(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return at(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Di(n))return{data:null,error:n};throw n}})}}class FB{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F_),r),this.fetch=U_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return at(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Bi(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}getVectors(e){return at(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}listVectors(e){return at(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Bi(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}queryVectors(e){return at(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}deleteVectors(e){return at(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Bi(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}}class UB{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F_),r),this.fetch=U_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return at(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}getBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}listBuckets(){return at(this,arguments,void 0,function*(e={}){try{return{data:yield Bi(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}deleteBucket(e){return at(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}}class zB extends UB{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new qB(this.url,this.headers,e,this.fetch)}}class qB extends BB{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return at(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return at(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return at(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return at(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new WB(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class WB extends FB{constructor(e,r,n,i,a){super(e,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return at(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return at(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return at(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return at(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return at(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class HB extends CB{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new TB(this.url,this.headers,e,this.fetch)}get vectors(){return new zB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new LB(this.url+"/iceberg",this.headers,this.fetch)}}const VB="2.81.0";let jh="";typeof Deno<"u"?jh="deno":typeof document<"u"?jh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jh="react-native":jh="node";const GB={"X-Client-Info":`supabase-js-${jh}/${VB}`},KB={headers:GB},YB={schema:"public"},XB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JB={},ZB=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),QB=()=>Headers,eF=(t,e,r)=>{const n=ZB(r),i=QB();return async(a,s)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:c}))}};function tF(t){return t.endsWith("/")?t:t+"/"}function rF(t,e){var r,n;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:c,realtime:u,global:f}=e,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function nF(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tF(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const RC="2.81.0",Tu=30*1e3,F2=3,Cb=F2*Tu,iF="http://localhost:9999",aF="supabase.auth.token",sF={"X-Client-Info":`gotrue-js/${RC}`},U2="X-Supabase-Api-Version",MC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lF=10*60*1e3;class pp extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ct(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class cF extends pp{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function uF(t){return ct(t)&&t.name==="AuthApiError"}class fc extends pp{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Sl extends pp{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class La extends Sl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dF(t){return ct(t)&&t.name==="AuthSessionMissingError"}class bu extends Sl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kg extends Sl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Og extends Sl{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fF(t){return ct(t)&&t.name==="AuthImplicitGrantRedirectError"}class bN extends Sl{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class z2 extends Sl{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Lb(t){return ct(t)&&t.name==="AuthRetryableFetchError"}class xN extends Sl{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class q2 extends Sl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const W0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wN=` 	
\r=`.split(""),hF=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<wN.length;e+=1)t[wN[e].charCodeAt(0)]=-2;for(let e=0;e<W0.length;e+=1)t[W0[e].charCodeAt(0)]=e;return t})();function _N(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(W0[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(W0[n]),e.queuedBits-=6}}function DC(t,e,r){const n=hF[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function SN(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{gF(s,n,r)};for(let s=0;s<t.length;s+=1)DC(t.charCodeAt(s),i,a);return e.join("")}function pF(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function mF(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}pF(n,e)}}function gF(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function sd(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)DC(t.charCodeAt(i),r,n);return new Uint8Array(e)}function vF(t){const e=[];return mF(t,r=>e.push(r)),new Uint8Array(e)}function yc(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>_N(i,r,n)),_N(null,r,n),e.join("")}function yF(t){return Math.round(Date.now()/1e3)+t}function bF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Kn=()=>typeof window<"u"&&typeof document<"u",Zl={tested:!1,writable:!1},BC=()=>{if(!Kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zl.tested)return Zl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Zl.tested=!0,Zl.writable=!0}catch{Zl.tested=!0,Zl.writable=!1}return Zl.writable};function xF(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const FC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),wF=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Cu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ql=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Fo=async(t,e)=>{await t.removeItem(e)};class Sy{constructor(){this.promise=new Sy.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Sy.promiseConstructor=Promise;function Ib(t){const e=t.split(".");if(e.length!==3)throw new q2("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!oF.test(e[n]))throw new q2("JWT not in base64url format");return{header:JSON.parse(SN(e[0])),payload:JSON.parse(SN(e[1])),signature:sd(e[2]),raw:{header:e[0],payload:e[1]}}}async function _F(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function SF(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function jF(t){return("0"+t.toString(16)).substr(-2)}function AF(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,jF).join("")}async function NF(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function kF(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await NF(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xu(t,e,r=!1){const n=AF();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Cu(t,`${e}-code-verifier`,i);const a=await kF(n);return[a,n===a?"plain":"s256"]}const OF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function PF(t){const e=t.headers.get(U2);if(!e||!e.match(OF))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function EF(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function TF(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const CF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wu(t){if(!CF.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $b(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function LF(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function jN(t){return JSON.parse(JSON.stringify(t))}const ac=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),IF=[502,503,504];async function AN(t){var e;if(!wF(t))throw new z2(ac(t),0);if(IF.includes(t.status))throw new z2(ac(t),t.status);let r;try{r=await t.json()}catch(a){throw new fc(ac(a),a)}let n;const i=PF(t);if(i&&i.getTime()>=MC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xN(ac(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new La}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new xN(ac(r),t.status,r.weak_password.reasons);throw new cF(ac(r),t.status||500,n)}const $F=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function vt(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[U2]||(a[U2]=MC["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await RF(t,e,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function RF(t,e,r,n,i,a){const s=$F(e,n,i,a);let o;try{o=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new z2(ac(l),0)}if(o.ok||await AN(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await AN(l)}}function Ia(t){var e;let r=null;BF(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=yF(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function NN(t){const e=Ia(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function MF(t){return{data:t,error:null}}function DF(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=sf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function kN(t){return t}function BF(t){return t.access_token&&t.refresh_token&&t.expires_in}const Rb=["global","local","others"];class FF{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=FC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Rb[0]){if(Rb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rb.join(", ")}`);try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xo})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=sf(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:DF,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ct(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xo})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:kN});if(u.error)throw u.error;const f=await u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ct(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){wu(e);try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xo})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){wu(e);try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Xo})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){wu(e);try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xo})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){wu(e.userId);try{const{data:r,error:n}=await vt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _deleteFactor(e){wu(e.userId),wu(e.id);try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await vt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:kN});if(u.error)throw u.error;const f=await u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ct(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await vt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await vt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await vt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ct(r))return{data:null,error:r};throw r}}}function ON(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const _u={debug:!!(globalThis&&BC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class UC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class UF extends UC{}async function zF(t,e,r){_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),_u.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw _u.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new UF(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_u.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function qF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function WF(t){return parseInt(t,16)}function HF(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function VF(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:c,scheme:u,uri:f,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=zC(t.address),v=u?`${u}://${n}`:n,g=t.statement?`${t.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${h}

${g}`;let y=`URI: ${f}
Version: ${p}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}y+=w}return`${x}
${y}`}class nn extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class H0 extends nn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function GF({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new nn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new nn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new nn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new nn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new nn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new nn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new nn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(qC(s)){if(a.rp.id!==s)return new nn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new nn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new nn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function KF({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new nn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(qC(n)){if(r.rpId!==n)return new nn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new nn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class YF{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const XF=new YF;function JF(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=sf(t,["challenge","user","excludeCredentials"]),a=sd(e).buffer,s=Object.assign(Object.assign({},r),{id:sd(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:sd(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function ZF(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=sf(t,["challenge","allowCredentials"]),i=sd(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:sd(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function QF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:yc(new Uint8Array(t.response.attestationObject)),clientDataJSON:yc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function eU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:yc(new Uint8Array(i.authenticatorData)),clientDataJSON:yc(new Uint8Array(i.clientDataJSON)),signature:yc(new Uint8Array(i.signature)),userHandle:i.userHandle?yc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function qC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function PN(){var t,e;return!!(Kn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function tU(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new H0("Browser returned unexpected credential type",e)}:{data:null,error:new H0("Empty credential response",e)}}catch(e){return{data:null,error:GF({error:e,options:t})}}}async function rU(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new H0("Browser returned unexpected credential type",e)}:{data:null,error:new H0("Empty credential response",e)}}catch(e){return{data:null,error:KF({error:e,options:t})}}}const nU={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},iU={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function V0(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(e(s)){const o=n[a];e(o)?n[a]=V0(o,s):n[a]=V0(s)}else n[a]=s}return n}function aU(t,e){return V0(nU,t,e||{})}function sU(t,e){return V0(iU,t,e||{})}class oU{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!s)return{data:null,error:o};const l=i??XF.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=aU(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:f}=await tU({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const c=sU(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:f}=await rU(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(s){return ct(s)?{data:null,error:s}:{data:null,error:new fc("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new pp("rpId is required for WebAuthn authentication")};try{if(!PN())return{data:null,error:new fc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return ct(s)?{data:null,error:s}:{data:null,error:new fc("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new pp("rpId is required for WebAuthn registration")};try{if(!PN())return{data:null,error:new fc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(s){return ct(s)?{data:null,error:s}:{data:null,error:new fc("Unexpected error in register",s)}}}}qF();const lU={url:iF,storageKey:aF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function EN(t,e,r){return await r()}const Su={};class mp{get jwks(){var e,r;return(r=(e=Su[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Su[this.storageKey]=Object.assign(Object.assign({},Su[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Su[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Su[this.storageKey]=Object.assign(Object.assign({},Su[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},lU),e);if(this.storageKey=a.storageKey,this.instanceID=(r=mp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,mp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Kn()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new FF({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=FC(a.fetch),this.lock=a.lock||EN,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Kn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=zF:this.lock=EN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oU(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:BC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ON(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=ON(this.memoryStorage)),Kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${RC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Kn()&&(r=xF(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Kn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),fF(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ct(r)?this._returnResult({error:r}):this._returnResult({error:new fc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ia}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(ct(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:u,password:f,options:p}=e;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await xu(this.storage,this.storageKey)),a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:v},xform:Ia})}else if("phone"in e){const{phone:u,password:f,options:p}=e;a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ia})}else throw new kg("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(ct(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:o}=e;r=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:NN})}else if("phone"in e){const{phone:a,password:s,options:o}=e;r=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:NN})}else throw new kg("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new bu;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ct(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,s,o,l,c,u,f,p;let h,v;if("message"in e)h=e.message,v=e.signature;else{const{chain:g,wallet:x,statement:y,options:w}=e;let _;if(Kn())if(typeof x=="object")_=x;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")_=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const A=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=zC(S[0]);let P=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const L=await _.request({method:"eth_chainId"});P=WF(L)}const C={domain:A.host,address:k,statement:y,uri:A.href,version:"1",chainId:P,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=VF(C),v=await _.request({method:"personal_sign",params:[HF(h),k]})}try{const{data:g,error:x}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ia});if(x)throw x;if(!g||!g.session||!g.user){const y=new bu;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:x})}catch(g){if(ct(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var r,n,i,a,s,o,l,c,u,f,p,h;let v,g;if("message"in e)v=e.message,g=e.signature;else{const{chain:x,wallet:y,statement:w,options:_}=e;let A;if(Kn())if(typeof y=="object")A=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))A=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=y}const S=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const k=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let P;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")P=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)P=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)v=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),g=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(u=_==null?void 0:_.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const k=await A.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:x,error:y}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:yc(g)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ia});if(y)throw y;if(!x||!x.session||!x.user){const w=new bu;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(ct(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const r=await Ql(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ia});if(await Fo(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const o=new bu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(ct(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,o=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ia}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new bu;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(ct(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await xu(this.storage,this.storageKey));const{error:f}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new kg("You must provide either an email or phone number.")}catch(o){if(ct(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ia});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(ct(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,s=null;this.flowType==="pkce"&&([a,s]=await xu(this.storage,this.storageKey));const o=await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:MF});return this._returnResult(o)}catch(a){if(ct(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new La;const{error:i}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ct(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await vt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:o}=await vt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new kg("You must provide either an email or phone number and a type")}catch(r){if(ct(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ql(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Cb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await Ql(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=$b()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=LF(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xo}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new La}:await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Xo})})}catch(r){if(ct(r))return dF(r)&&(await this._removeSession(),await Fo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new La;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await xu(this.storage,this.storageKey));const{data:c,error:u}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Xo});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(ct(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new La;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Ib(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(ct(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new La;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ct(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Kn())throw new Og("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Og(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Og("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bN("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=e;if(!a||!o||!s||!c)throw new Og("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let p=u+f;l&&(p=parseInt(l));const h=p-u;h*1e3<=Tu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const v=p-f;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,u);const{data:g,error:x}=await this._getUser(a);if(x)throw x;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:p,refresh_token:s,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(n){if(ct(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ql(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(uF(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Fo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=bF(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await xu(this.storage,this.storageKey,!0));try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ct(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,c,u;const{data:f,error:p}=a;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await vt(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Kn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ct(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:l,access_token:c,nonce:u}=e,f=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ia}),{data:p,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new bu}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:h}))}catch(i){if(ct(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await vt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await SF(async i=>(i>0&&await _F(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ia})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Lb(a)&&Date.now()+s-n<Tu})}catch(n){if(this._debug(r,"error",n),ct(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Kn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ql(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Ql(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Cu(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:$b()}else if(i&&!i.user&&!i.user){const s=await Ql(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Fo(this.storage,this.storageKey+"-user"),await Cu(this.storage,this.storageKey,i)):i.user=$b()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Cb;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Cb}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Lb(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new La;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Sy;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new La;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),ct(a)){const s={data:null,error:a};return Lb(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Cu(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=jN(i);await Cu(this.storage,this.storageKey,a)}else{const i=jN(r);await Cu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Fo(this.storage,this.storageKey),await Fo(this.storage,this.storageKey+"-code-verifier"),await Fo(this.storage,this.storageKey+"-user"),this.userStorage&&await Fo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Kn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Tu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Tu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Tu}ms, refresh threshold is ${F2} ticks`),i<=F2&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof UC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await xu(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await vt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?QF(e.webauthn.credential_response):eU(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:JF(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:ZF(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ib(n.access_token);let s=null;a.aal&&(s=a.aal);let o=s;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=a.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await vt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new La})})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new La});const s=await vt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Kn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new La});const s=await vt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Kn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+lF>i)return n;const{data:a,error:s}=await vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:v}=await this.getSession();if(v||!h.session)return this._returnResult({data:null,error:v});n=h.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=Ib(n);r!=null&&r.allowExpired||EF(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:s},error:null}}const u=TF(i.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,vF(`${o}.${l}`)))throw new q2("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}}mp.nextInstanceID={};const cU=mp;class uU extends cU{constructor(e){super(e)}}class dU{constructor(e,r,n){var i,a,s;this.supabaseUrl=e,this.supabaseKey=r;const o=nF(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:YB,realtime:JB,auth:Object.assign(Object.assign({},XB),{storageKey:l}),global:KB},u=rF(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=eF(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new iB(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new HB(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new tB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:c,throwOnError:u},f,p){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uU({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),f),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new wB(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fU=(t,e,r)=>new dU(t,e,r);function hU(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}hU()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pU="https://kivcusfsppjyalbgqtxy.supabase.co",mU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmN1c2ZzcHBqeWFsYmdxdHh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NjI2NjYsImV4cCI6MjA3ODQzODY2Nn0.DMugE2X3gBvcRBXt-NqWceWQB2Vmi9kbavEE6MEjAmI",Le=fU(pU,mU);function gU({onAuthSuccess:t}){const[e,r]=X.useState(!1),[n,i]=X.useState(""),[a,s]=X.useState(""),[o,l]=X.useState(""),[c,u]=X.useState("student"),[f,p]=X.useState([]),[h,v]=X.useState([]),[g,x]=X.useState(!1),[y,w]=X.useState(!1),[_,A]=X.useState(null),[S,k]=X.useState(null);X.useEffect(()=>{e&&c==="student"&&P()},[e,c]);const P=async()=>{x(!0);try{const{data:L,error:D}=await Le.from("cohorts").select("id, name, description").order("name");if(D)throw D;v(L||[])}catch(L){console.error("Error loading cohorts:",L)}finally{x(!1)}},C=async L=>{L.preventDefault(),w(!0),A(null),k(null);try{if(e){const{data:D,error:O}=await Le.auth.signUp({email:n,password:a,options:{data:{name:o,role:c},emailRedirectTo:window.location.origin}});if(O)throw O;if(D.user&&!D.session){k(`Confirmation email sent to ${n}! Please check your inbox and click the confirmation link to activate your account.`),w(!1),i(""),s(""),l(""),u("student");return}if(D.user){await new Promise(B=>setTimeout(B,500));const{error:I}=await Le.from("users").select("id").eq("id",D.user.id).single();if(I){const{error:B}=await Le.from("users").insert({id:D.user.id,name:o,email:n,role:c});B&&console.error("User record creation issue:",B)}}if(D.session&&D.user){if(c==="student"&&f.length>0){await new Promise(F=>setTimeout(F,500));const I=f.map(F=>({cohort_id:F,student_id:D.user.id})),{error:B}=await Le.from("cohort_members").insert(I);B&&console.error("Error adding student to cohorts:",B)}t()}}else{const{error:D}=await Le.auth.signInWithPassword({email:n,password:a});if(D)throw D;t()}}catch(D){A(D.message||"An error occurred"),w(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-primary-50 to-gray-100 px-4 py-8",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 md:p-10 w-full max-w-md border-2 border-gray-200",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-16 md:h-20 w-auto object-contain"})}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Kaya CBDC V-OSCE"}),d.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base",children:"Yashwant Ayurvedic College"})]}),d.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),d.jsx("input",{type:"text",value:o,onChange:L=>l(L.target.value),required:e,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),d.jsxs("select",{value:c,onChange:L=>{u(L.target.value),p([])},required:e,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 bg-white",children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),c==="student"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Cohorts (Optional)"}),g?d.jsx("div",{className:"text-sm text-gray-500",children:"Loading cohorts..."}):h.length===0?d.jsx("div",{className:"text-sm text-gray-500 p-3 bg-gray-50 rounded-md",children:"No cohorts available. You can join cohorts later from your profile settings."}):d.jsx("div",{className:"border border-gray-300 rounded-md max-h-40 overflow-y-auto p-2",children:h.map(L=>d.jsxs("label",{className:"flex items-start gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:f.includes(L.id),onChange:D=>{D.target.checked?p([...f,L.id]):p(f.filter(O=>O!==L.id))},className:"mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.name}),L.description&&d.jsx("div",{className:"text-xs text-gray-500",children:L.description})]})]},L.id))}),f.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.length," cohort",f.length!==1?"s":""," selected"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:n,onChange:L=>i(L.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsx("input",{type:"password",value:a,onChange:L=>s(L.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),_&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:_}),S&&d.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Email Sent!"}),d.jsx("p",{className:"text-sm mt-1",children:S})]})]})}),d.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-6 rounded-xl hover:from-primary-700 hover:to-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 font-bold text-base md:text-lg shadow-lg transition-all transform hover:scale-[1.02]",children:y?"Loading...":e?"Sign Up":"Sign In"})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("button",{onClick:()=>{r(!e),A(null),k(null)},className:"text-primary-600 hover:text-primary-700 text-sm",children:e?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Pt=(t,e)=>{const r=X.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>X.createElement("svg",{ref:u,...vU,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${yU(t)}`,o].join(" "),...c},[...e.map(([f,p])=>X.createElement(f,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=Pt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=Pt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=Pt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=Pt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Pt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=Pt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=Pt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=Pt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Pt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=Pt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=Pt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=Pt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=Pt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=Pt("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Pt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=Pt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=Pt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=Pt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=Pt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=Pt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=Pt("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=Pt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Pt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=Pt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Pt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=Pt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=Pt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=Pt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=Pt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=Pt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=Pt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=Pt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Pt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=Pt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=Pt("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Pt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=Pt("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=Pt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Pt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Pt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=Pt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=Pt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=Pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function xi({role:t}){const e=Gc(),r=async()=>{await Le.auth.signOut(),window.location.reload()},a=t==="faculty"?[{path:"/dashboard",icon:W2,label:"Dashboard"},{path:"/create",icon:cm,label:"Create Station"},{path:"/library",icon:HC,label:"Library"},{path:"/analytics",icon:co,label:"Analytics"}]:[{path:"/admin/dashboard",icon:W2,label:"Dashboard"},{path:"/admin/cbdc",icon:va,label:"CBDC Manager"},{path:"/admin/reports",icon:co,label:"Reports"},{path:"/admin/users",icon:Ic,label:"Users"}];return d.jsx("div",{className:"hidden md:flex md:flex-col md:w-64 md:fixed md:inset-y-0 bg-white border-r border-gray-200",children:d.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center flex-shrink-0 px-4 mb-8 gap-3",children:[d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-10 w-auto object-contain"}),d.jsx("h1",{className:"text-xl font-bold text-primary-900",children:"Kaya V-OSCE"})]}),d.jsx("nav",{className:"flex-1 px-2 space-y-1",children:a.map(s=>{const o=s.icon,l=e.pathname===s.path||e.pathname.startsWith(s.path+"/");return d.jsxs(BT,{to:s.path,className:`flex items-center px-4 py-2 text-sm font-medium rounded-md ${l?"bg-primary-100 text-primary-900":"text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(o,{className:"mr-3 h-5 w-5"}),s.label]},s.path)})}),d.jsx("div",{className:"px-4 pb-4",children:d.jsxs("button",{onClick:r,className:"flex items-center w-full px-4 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-50",children:[d.jsx(YC,{className:"mr-3 h-5 w-5"}),"Sign Out"]})})]})})}function Mn({role:t}){const e=Gc();if(t==="admin")return null;const i=t==="faculty"?[{path:"/dashboard",icon:W2,label:"Dashboard"},{path:"/create",icon:cm,label:"Create"},{path:"/library",icon:HC,label:"Library"},{path:"/analytics",icon:co,label:"Analytics"},{path:"/profile",icon:ms,label:"Profile"}]:[{path:"/home",icon:jU,label:"Home"},{path:"/assigned",icon:Ay,label:"Assignments"},{path:"/analytics",icon:co,label:"Analytics"},{path:"/profile",icon:ms,label:"Profile"}];return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-300 shadow-lg z-50 md:hidden safe-area-bottom",children:d.jsx("div",{className:"flex justify-around items-center h-16 px-2",children:i.map(a=>{const s=a.icon,o=e.pathname===a.path||a.path!=="/dashboard"&&e.pathname.startsWith(a.path);return d.jsxs(BT,{to:a.path,className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${o?"text-primary-600 bg-primary-50 rounded-t-lg":"text-gray-600 hover:text-primary-500"}`,children:[d.jsx(s,{className:`w-5 h-5 ${o?"scale-110":""} transition-transform`}),d.jsx("span",{className:`text-xs mt-0.5 font-medium ${o?"text-primary-700":"text-gray-600"}`,children:a.label})]},a.path)})})})}function LU({user:t}){const e=Yi(),[r,n]=X.useState({approved:0,pending:0,total:0}),[i,a]=X.useState(!0);X.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:o,error:l}=await Le.from("stations").select("id").eq("created_by",t.id);if(l)throw l;const c=(o==null?void 0:o.map(p=>p.id))||[],{data:u,error:f}=await Le.from("case_snapshots").select("id",{count:"exact"}).in("station_id",c);if(f)throw f;n({approved:(u==null?void 0:u.length)||0,pending:c.length-((u==null?void 0:u.length)||0),total:c.length})}catch(o){console.error("Error loading stats:",o)}finally{a(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Faculty Dashboard"}),d.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",t.name]})]}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Approved Cases"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.approved})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(va,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Pending Review"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.pending})]}),d.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:d.jsx(Kc,{className:"w-6 h-6 text-yellow-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.total})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(Ic,{className:"w-6 h-6 text-blue-600"})})]})})]}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("button",{onClick:()=>e("/create"),className:"w-full md:w-auto flex items-center justify-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:[d.jsx(cm,{className:"w-5 h-5"}),"Create New Station"]})})]})]})}),d.jsx(Mn,{role:"faculty"})]})}function IU({toast:t,onClose:e}){X.useEffect(()=>{if(t.duration!==0){const s=setTimeout(()=>{e(t.id)},t.duration||5e3);return()=>clearTimeout(s)}},[t.id,t.duration,e]);const r={success:ps,error:jy,warning:xU,info:AU},n={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},i={success:"text-green-600",error:"text-red-600",warning:"text-yellow-600",info:"text-blue-600"},a=r[t.type];return d.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg border-2 shadow-lg min-w-[300px] max-w-md ${n[t.type]} animate-in slide-in-from-top-5 fade-in`,children:[d.jsx(a,{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${i[t.type]}`}),d.jsx("div",{className:"flex-1 text-sm font-medium",children:t.message}),d.jsx("button",{onClick:()=>e(t.id),className:`flex-shrink-0 ${i[t.type]} hover:opacity-70 transition-opacity`,"aria-label":"Close",children:d.jsx(uf,{className:"w-4 h-4"})})]})}function gl({toasts:t,onClose:e}){return t.length===0?null:d.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:t.map(r=>d.jsx("div",{className:"pointer-events-auto",children:d.jsx(IU,{toast:r,onClose:e})},r.id))})}function vo(){const[t,e]=X.useState([]),r=(l,c="info",u)=>{const f=Math.random().toString(36).substring(2,9),p={id:f,message:l,type:c,duration:u};return e(h=>[...h,p]),f};return{toasts:t,showToast:r,removeToast:l=>{e(c=>c.filter(u=>u.id!==l))},success:(l,c)=>r(l,"success",c),error:(l,c)=>r(l,"error",c),warning:(l,c)=>r(l,"warning",c),info:(l,c)=>r(l,"info",c)}}const oh="AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",CN="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";function $U({user:t}){var S,k,P,C,L,D;const e=Yi(),r=vo(),[n,i]=X.useState(1),[a,s]=X.useState(!1),[o,l]=X.useState(!1),[c,u]=X.useState([]),[f,p]=X.useState([]),[h,v]=X.useState({subject:"",competencyId:"",slo:"",millerLevel:"ShowsHow",bloomDomain:"Cognitive",duration:15,difficulty:"Intermediate",prakriti:"Sama",doshaSliders:{vata:33,pitta:33,kapha:34},includeAshtasthana:!1});X.useEffect(()=>{g(),x()},[]);const g=async()=>{const{data:O}=await Le.from("subjects").select("*");O&&u(O)},x=async()=>{const{data:O}=await Le.from("competencies").select("*");O&&p(O)},y=O=>{var I,B,F,U,K,V;return`You are an expert Ayurvedic physician creating a virtual OSCE (Objective Structured Clinical Examination) case for medical students.

Generate a complete clinical case in JSON format matching this specification:

Subject: ${O.subject}
Miller's Level: ${O.millerLevel||"ShowsHow"}
Bloom's Domain: ${O.bloomDomain||"Cognitive"}
Difficulty: ${O.difficulty}
Duration: ${O.duration} minutes
Prakriti: ${O.prakriti||"Sama"}
Dosha Distribution: Vata ${((I=O.doshaSliders)==null?void 0:I.vata)||33}%, Pitta ${((B=O.doshaSliders)==null?void 0:B.pitta)||33}%, Kapha ${((F=O.doshaSliders)==null?void 0:F.kapha)||34}%
${O.includeAshtasthana?"Include Ashtasthana Pariksha findings":""}
${O.slo?`SLO: ${O.slo}`:""}

Return a JSON object with this exact structure:
{
  "id": "generate-uuid-here",
  "title": "Case title",
  "subject": "${O.subject}",
  "durationMinutes": ${O.duration},
  "difficulty": "${O.difficulty}",
  "patientProfile": {
    "name": "Patient name",
    "age": 35,
    "gender": "male",
    "prakriti": "${O.prakriti||"Sama"}",
    "occupation": "Relevant occupation"
  },
  "chiefComplaint": "Primary complaint in patient's own words (e.g., 'Fever and cough for 3 days')",
  "historyOfPresentIllness": "Detailed HPI in Ayurvedic context",
  ${O.includeAshtasthana?`"ashtasthanaPariksha": {
    "Nadi": "Pulse findings",
    "Mala": "Stool findings",
    "Mutra": "Urine findings",
    "Jihva": "Tongue findings",
    "Shabda": "Voice findings",
    "Sparsha": "Touch findings",
    "Druk": "Eye findings",
    "Akriti": "General appearance"
  },`:""}
  "doshaAnalysis": {
    "vata": ${((U=O.doshaSliders)==null?void 0:U.vata)||33},
    "pitta": ${((K=O.doshaSliders)==null?void 0:K.pitta)||33},
    "kapha": ${((V=O.doshaSliders)==null?void 0:V.kapha)||34}
  },
  "potentialDiagnoses": [
    {"dx": "Primary diagnosis", "confidence": 0.9},
    {"dx": "Differential diagnosis", "confidence": 0.6}
  ],
  "suggestedChikitsa": "Detailed treatment plan",
  "mcqs": [
    {
      "id": "mcq-1",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${O.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    },
    {
      "id": "mcq-2",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${O.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    },
    {
      "id": "mcq-3",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${O.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    }
  ],
  "rubrics": [
    {
      "id": "rubric-1",
      "description": "Rubric description",
      "maxPoints": 10,
      "sloId": "${O.slo||"default-slo"}"
    }
  ],
  "finalExplanation": "Comprehensive explanation",
  "sloMappings": ["${O.slo||"default-slo"}"],
  "physicalExam": {
    "vitals": {
      "bp": "Actual blood pressure relevant to the case (e.g., '90/60 mmHg' for hypotension, '150/95 mmHg' for hypertension)",
      "hr": "Actual heart rate relevant to the case (e.g., '110 bpm' for tachycardia, '55 bpm' for bradycardia)",
      "rr": "Actual respiratory rate relevant to the case (e.g., '28 breaths/min' for tachypnea, '12 breaths/min' for normal)",
      "temp": "Actual temperature relevant to the case (e.g., '102.8F (oral)' for fever, '98.6F (oral)' for normal)",
      "spo2": "Actual oxygen saturation relevant to the case (e.g., '88% on room air' for hypoxemia, '98% on room air' for normal)"
    },
    "generalExam": "Detailed general examination findings that are consistent with the diagnosis and clinical presentation. Include appearance, consciousness level, pallor, icterus, edema, etc.",
    "systemicExam": "Detailed systemic examination findings organized by system (CNS, CVS, RS, GIT, etc.) that are consistent with the diagnosis. Be specific and realistic."
  },
  "availableLabTests": [
    {"category": "BEDSIDE TESTS", "tests": ["ECG", "Blood Glucose", "Urine Dipstick"]},
    {"category": "BASIC LABS", "tests": ["CBC", "CMP", "ESR", "CRP", "TSH", "Lipid Profile", "LFT", "RFT", "ABG"]},
    {"category": "ADVANCED LABS", "tests": ["Troponin", "BNP", "D-dimer", "Coagulation Profile", "Blood Culture", "HbA1c"]},
    {"category": "IMAGING", "tests": ["Chest X-Ray", "CT Head", "CT Chest", "CT Abdomen", "Abdominal Ultrasound", "Echocardiogram"]}
  ],
  "labResults": {
    "CBC": "Complete blood count results relevant to the case (e.g., 'WBC: 15,000/L (elevated), Hb: 12 g/dL, Platelets: 250,000/L' for infection)",
    "CMP": "Comprehensive metabolic panel results relevant to the case (e.g., 'Na: 138 mEq/L, K: 4.2 mEq/L, Creatinine: 1.2 mg/dL, BUN: 45 mg/dL (elevated)' for renal issues)",
    "Chest X-Ray": "Chest X-ray findings relevant to the case (e.g., 'Consolidation in right lower lobe, consistent with pneumonia' or 'Normal chest X-ray')",
    "ECG": "ECG findings relevant to the case (e.g., 'Normal sinus rhythm' or 'ST elevation in leads II, III, aVF')",
    "CRP": "C-reactive protein result relevant to the case (e.g., '150 mg/L (markedly elevated)' for inflammation)",
    "Urine Dipstick": "Urine dipstick results relevant to the case (e.g., 'Negative for nitrites, leukocyte esterase, protein, blood' or 'Positive for protein and blood')"
  },
  "learningPearls": [
    "Key learning point 1 relevant to this case",
    "Key learning point 2 relevant to this case",
    "Key learning point 3 relevant to this case"
  ],
  "furtherReading": [
    {
      "title": "Relevant Textbook Chapter",
      "reference": "Textbook Name, Edition. Chapter X: Topic"
    },
    {
      "title": "Clinical Guidelines",
      "reference": "Guideline Name and Year"
    }
  ]
}

CRITICAL REQUIREMENTS - YOU MUST FOLLOW THESE:

1. MCQs (REQUIRED - MUST GENERATE AT LEAST 3):
   - Generate at least 3 multiple-choice questions related to the case
   - Each MCQ must have 4 options (A, B, C, D)
   - Include an explanation for each correct answer
   - The last 3 MCQs will be used as post-case questions (shown after submission)
   - Additional MCQs (if any) can be used as pre-case questions

2. Physical Exam (REQUIRED - MUST BE GENERATED):
   - Vitals: Generate ALL 5 vital signs (BP, HR, RR, Temp, SpO2) with realistic values that match the diagnosis
   - General Exam: Write 2-3 sentences describing patient appearance, consciousness, pallor, icterus, edema, etc. relevant to the condition
   - Systemic Exam: Write detailed findings by system (CNS, CVS, RS, GIT, etc.) - at least 4-5 sentences with specific findings
   - Example for pneumonia: BP 90/60 (hypotension), HR 110 (tachycardia), RR 28 (tachypnea), Temp 102.8F (fever), SpO2 88% (hypoxemia)
   - Example for hypertension: BP 150/95 (elevated), HR 85, RR 16, Temp 98.6F, SpO2 98%

2. Lab Results (REQUIRED - MUST BE GENERATED):
   - Generate results for at least 4-6 common tests (CBC, CMP, Chest X-Ray, ECG, CRP, etc.)
   - Results MUST support the diagnosis and be realistic
   - Include abnormal values with explanations (e.g., "WBC: 15,000/L (elevated)")

3. Learning Pearls (REQUIRED - MUST BE 3-5 ITEMS):
   - Each pearl should be a complete sentence
   - Focus on key teaching points specific to this case
   - Be actionable and educational

4. Further Reading (REQUIRED - MUST BE 2-3 ITEMS):
   - Include specific textbook names, editions, and chapter numbers
   - Include relevant clinical guidelines with years
   - Make them specific to the diagnosis

5. Data Consistency:
   - If patient has fever  Temp must be elevated (e.g., 102F+)
   - If patient has respiratory distress  RR elevated, SpO2 decreased
   - If patient has infection  WBC elevated, CRP elevated
   - All findings must support the primary diagnosis

Return ONLY valid JSON, no markdown formatting, no code blocks. The JSON must be parseable directly.`},w=(O,I)=>{let B=O.match(/```json\s*([\s\S]*?)\s*```/);if(B||(B=O.match(/```\s*([\s\S]*?)\s*```/)),B||(B=O.match(/\{[\s\S]*\}/)),!B)throw new Error("No JSON found in Gemini response. The AI may not have returned valid JSON.");try{const F=B[1]||B[0],U=JSON.parse(F);return U.id=crypto.randomUUID(),U.subject=I.subject,U.durationMinutes=I.duration,U.difficulty=I.difficulty,U.patientProfile||(U.patientProfile={name:"Patient",age:35,gender:"male",prakriti:I.prakriti||"Sama",occupation:"Not specified"}),U.mcqs||(U.mcqs=[]),U.rubrics||(U.rubrics=[]),U.potentialDiagnoses||(U.potentialDiagnoses=[]),U.sloMappings||(U.sloMappings=[]),U.physicalExam||(U.physicalExam={vitals:{},generalExam:"",systemicExam:""}),U.physicalExam.vitals||(U.physicalExam.vitals={}),(!U.availableLabTests||U.availableLabTests.length===0)&&(U.availableLabTests=[]),U}catch(F){throw new Error(`Failed to parse JSON from Gemini response: ${F.message}`)}},_=async()=>{var O,I,B,F,U;if(!h.subject||!h.competencyId){r.warning("Please select a subject and competency first");return}if(oh.trim()===""){r.error("Gemini API key is not configured. Please set VITE_GEMINI_API_KEY in your environment variables.");return}l(!0);try{const K=f.find(z=>z.id===h.competencyId),V=K?`${K.id}: ${K.description}`:h.competencyId,M=`You are an expert in medical education creating Specific Learning Outcomes (SLOs) for Ayurvedic medicine.

Subject: ${h.subject}
CBDC Competency: ${V}
Miller's Level: ${h.millerLevel}
Bloom's Domain: ${h.bloomDomain}

Generate a specific, measurable, and actionable learning outcome statement that:
1. Is aligned with the subject and competency
2. Matches the Miller's Level (${h.millerLevel})
3. Matches the Bloom's Domain (${h.bloomDomain})
4. Is specific to Ayurvedic medicine context
5. Is clear and concise (one sentence, max 20 words)

Return ONLY the SLO statement text, nothing else. No explanations, no quotes, just the statement.`,Z=await fetch(CN,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":oh},body:JSON.stringify({contents:[{parts:[{text:M}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:100}})});if(!Z.ok){const z=await Z.text();let H=`Gemini API error (${Z.status})`;try{const re=JSON.parse(z);(O=re.error)!=null&&O.message?H+=": "+re.error.message:H+=": "+z}catch{H+=": "+z}throw new Error(H)}const ne=await Z.json();if(!ne.candidates||ne.candidates.length===0)throw new Error("No response from Gemini API. Please check your API key and try again.");const ae=((U=(F=(B=(I=ne.candidates[0])==null?void 0:I.content)==null?void 0:B.parts[0])==null?void 0:F.text)==null?void 0:U.trim())||"";if(!ae)throw new Error("Empty response from Gemini API");const E=ae.replace(/^["']|["']$/g,"").replace(/^```[\w]*\n?|\n?```$/g,"").trim();v({...h,slo:E}),r.success("SLO suggested successfully!")}catch(K){r.error("Error suggesting SLO: "+K.message)}finally{l(!1)}},A=async()=>{var O,I,B,F,U,K;s(!0);try{if(!h.subject)throw new Error("Please select a subject");if(!h.competencyId)throw new Error("Please select a CBDC competency");if(!oh||oh.trim()==="")throw new Error("Gemini API key is not configured. Please set VITE_GEMINI_API_KEY in your environment variables.");const V=y(h),M=await fetch(CN,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":oh},body:JSON.stringify({contents:[{parts:[{text:V}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:8192}})});if(!M.ok){const re=await M.text();let se=`Gemini API error (${M.status})`;try{const ue=JSON.parse(re);(O=ue.error)!=null&&O.message?se+=": "+ue.error.message:se+=": "+re}catch{se+=": "+re}throw new Error(se)}const Z=await M.json();if(!Z.candidates||Z.candidates.length===0)throw new Error("No response from Gemini API. Please check your API key and try again.");const ne=((F=(B=(I=Z.candidates[0])==null?void 0:I.content)==null?void 0:B.parts[0])==null?void 0:F.text)||"";if(!ne)throw new Error("Empty response from Gemini API");const ae=w(ne,h),E=[];if(!ae.physicalExam||!ae.physicalExam.vitals)E.push("Physical examination vitals are missing");else{const re=ae.physicalExam.vitals;(!re.bp||!re.hr||!re.rr||!re.temp||!re.spo2)&&E.push("Some vital signs are missing (BP, HR, RR, Temp, SpO2)")}if((!((U=ae.physicalExam)!=null&&U.generalExam)||ae.physicalExam.generalExam.trim()==="")&&E.push("General examination findings are missing"),(!((K=ae.physicalExam)!=null&&K.systemicExam)||ae.physicalExam.systemicExam.trim()==="")&&E.push("Systemic examination findings are missing"),(!ae.labResults||Object.keys(ae.labResults).length<4)&&E.push("Lab results are missing or insufficient (need at least 4 test results)"),!ae.learningPearls||ae.learningPearls.length<3?E.push("Learning pearls are missing or insufficient (need at least 3)"):ae.learningPearls.some(se=>se.toLowerCase().includes("key learning point")||se.toLowerCase().includes("relevant to this case")||se.trim().length<20)&&E.push("Learning pearls contain generic placeholder text"),!ae.furtherReading||ae.furtherReading.length<2?E.push("Further reading references are missing or insufficient (need at least 2)"):ae.furtherReading.some(se=>se.title.toLowerCase().includes("relevant textbook")||se.title.toLowerCase().includes("textbook name")||se.reference.toLowerCase().includes("chapter x")||se.reference.toLowerCase().includes("textbook name"))&&E.push("Further reading contains generic placeholder text"),E.length>0)throw new Error(`AI generation incomplete:
${E.join(`
`)}

Please regenerate the case.`);const{data:z,error:H}=await Le.from("stations").insert({title:ae.title||"New Station",blueprint:{...h,generatedCase:ae},created_by:t.id}).select().single();if(H)throw H;e(`/review/${z.id}`),r.success("Case generated successfully!")}catch(V){r.error("Error generating case: "+V.message)}finally{s(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(gp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Create New Station"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[n>=1&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 1: Subject & Competency"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),d.jsxs("select",{value:h.subject,onChange:O=>v({...h,subject:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Select Subject"}),c.map(O=>d.jsx("option",{value:O.name,children:O.name},O.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CBDC Competency"}),d.jsxs("select",{value:h.competencyId||"",onChange:O=>v({...h,competencyId:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Select Competency"}),f.map(O=>d.jsxs("option",{value:O.id,children:[O.id,": ",O.description]},O.id))]})]})]}),n>=2&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 2: Learning Outcomes"}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"SLO (Specific Learning Outcome)"}),d.jsx("button",{type:"button",onClick:_,disabled:o||!h.subject||!h.competencyId,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-primary-600 bg-primary-50 border border-primary-200 rounded-md hover:bg-primary-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?d.jsxs(d.Fragment,{children:[d.jsx(Sd,{className:"w-3 h-3 animate-spin"}),"Suggesting..."]}):d.jsxs(d.Fragment,{children:[d.jsx(PU,{className:"w-3 h-3"}),"AI Suggest"]})})]}),d.jsx("textarea",{value:h.slo||"",onChange:O=>v({...h,slo:O.target.value}),placeholder:"e.g., Demonstrate interpretation of Nadi in Pitta Jwara",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Miller's Level"}),d.jsxs("select",{value:h.millerLevel,onChange:O=>v({...h,millerLevel:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Knows",children:"Knows"}),d.jsx("option",{value:"KnowsHow",children:"Knows How"}),d.jsx("option",{value:"ShowsHow",children:"Shows How"}),d.jsx("option",{value:"Does",children:"Does"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bloom's Domain"}),d.jsxs("select",{value:h.bloomDomain,onChange:O=>v({...h,bloomDomain:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Cognitive",children:"Cognitive"}),d.jsx("option",{value:"Psychomotor",children:"Psychomotor"}),d.jsx("option",{value:"Affective",children:"Affective"})]})]})]})]}),n>=3&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 3: Case Parameters"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),d.jsx("input",{type:"number",min:"5",max:"60",value:h.duration,onChange:O=>v({...h,duration:parseInt(O.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),d.jsxs("select",{value:h.difficulty,onChange:O=>v({...h,difficulty:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Beginner",children:"Beginner"}),d.jsx("option",{value:"Intermediate",children:"Intermediate"}),d.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]})]}),n>=4&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 4: Ayurvedic Parameters"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prakriti"}),d.jsxs("select",{value:h.prakriti,onChange:O=>v({...h,prakriti:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Vata",children:"Vata"}),d.jsx("option",{value:"Pitta",children:"Pitta"}),d.jsx("option",{value:"Kapha",children:"Kapha"}),d.jsx("option",{value:"Sama",children:"Sama"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dosha Distribution (must sum to 100)"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Vata: ",(S=h.doshaSliders)==null?void 0:S.vata,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((k=h.doshaSliders)==null?void 0:k.vata)||0,onChange:O=>{var K;const I=parseInt(O.target.value),B=100-I,F=Math.min(B,((K=h.doshaSliders)==null?void 0:K.pitta)||0),U=100-I-F;v({...h,doshaSliders:{vata:I,pitta:F,kapha:U}})},className:"w-full"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Pitta: ",(P=h.doshaSliders)==null?void 0:P.pitta,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((C=h.doshaSliders)==null?void 0:C.pitta)||0,onChange:O=>{var K;const I=parseInt(O.target.value),B=100-I,F=Math.min(B,((K=h.doshaSliders)==null?void 0:K.vata)||0),U=100-F-I;v({...h,doshaSliders:{vata:F,pitta:I,kapha:U}})},className:"w-full"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Kapha: ",(L=h.doshaSliders)==null?void 0:L.kapha,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((D=h.doshaSliders)==null?void 0:D.kapha)||0,onChange:O=>{var K;const I=parseInt(O.target.value),B=100-I,F=Math.min(B,((K=h.doshaSliders)==null?void 0:K.vata)||0),U=100-F-I;v({...h,doshaSliders:{vata:F,pitta:U,kapha:I}})},className:"w-full"})]})]})]}),d.jsx("div",{children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:h.includeAshtasthana||!1,onChange:O=>v({...h,includeAshtasthana:O.target.checked})}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Include Ashtasthana Pariksha"})]})})]}),d.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[d.jsx("button",{onClick:()=>i(Math.max(1,n-1)),disabled:n===1,className:"px-4 py-2 border border-gray-300 rounded-md disabled:opacity-50",children:"Previous"}),n<4?d.jsx("button",{onClick:()=>i(n+1),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Next"}):d.jsxs("button",{onClick:A,disabled:a||!h.subject,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 flex items-center gap-2",children:[a&&d.jsx(Sd,{className:"w-4 h-4 animate-spin"}),"Generate Case"]})]})]})]})}),d.jsx(Mn,{role:"faculty"}),d.jsx(gl,{toasts:r.toasts,onClose:r.removeToast})]})}var Vt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Vt||(Vt={}));var LN;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(LN||(LN={}));const Ze=Vt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vo=t=>{switch(typeof t){case"undefined":return Ze.undefined;case"string":return Ze.string;case"number":return Number.isNaN(t)?Ze.nan:Ze.number;case"boolean":return Ze.boolean;case"function":return Ze.function;case"bigint":return Ze.bigint;case"symbol":return Ze.symbol;case"object":return Array.isArray(t)?Ze.array:t===null?Ze.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ze.promise:typeof Map<"u"&&t instanceof Map?Ze.map:typeof Set<"u"&&t instanceof Set?Ze.set:typeof Date<"u"&&t instanceof Date?Ze.date:Ze.object;default:return Ze.unknown}},Me=Vt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class uo extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),n}static assert(e){if(!(e instanceof uo))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Vt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}uo.create=t=>new uo(t);const H2=(t,e)=>{let r;switch(t.code){case Me.invalid_type:t.received===Ze.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Me.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Vt.jsonStringifyReplacer)}`;break;case Me.unrecognized_keys:r=`Unrecognized key(s) in object: ${Vt.joinValues(t.keys,", ")}`;break;case Me.invalid_union:r="Invalid input";break;case Me.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Vt.joinValues(t.options)}`;break;case Me.invalid_enum_value:r=`Invalid enum value. Expected ${Vt.joinValues(t.options)}, received '${t.received}'`;break;case Me.invalid_arguments:r="Invalid function arguments";break;case Me.invalid_return_type:r="Invalid function return type";break;case Me.invalid_date:r="Invalid date";break;case Me.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Vt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Me.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Me.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Me.custom:r="Invalid input";break;case Me.invalid_intersection_types:r="Intersection results could not be merged";break;case Me.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Me.not_finite:r="Number must be finite";break;default:r=e.defaultError,Vt.assertNever(t)}return{message:r}};let RU=H2;function MU(){return RU}const DU=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}};function He(t,e){const r=MU(),n=DU({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===H2?void 0:H2].filter(i=>!!i)});t.common.issues.push(n)}class li{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return At;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return li.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return At;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const At=Object.freeze({status:"aborted"}),Ah=t=>({status:"dirty",value:t}),xa=t=>({status:"valid",value:t}),IN=t=>t.status==="aborted",$N=t=>t.status==="dirty",jd=t=>t.status==="valid",G0=t=>typeof Promise<"u"&&t instanceof Promise;var it;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(it||(it={}));class bs{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const RN=(t,e)=>{if(jd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new uo(t.common.issues);return this._error=r,this._error}}};function $t(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:i}}class Ut{get description(){return this._def.description}_getType(e){return Vo(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Vo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new li,ctx:{common:e.parent.common,data:e.data,parsedType:Vo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(G0(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vo(e)},i=this._parseSync({data:e,path:n.path,parent:n});return RN(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vo(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return jd(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>jd(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vo(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(G0(i)?i:Promise.resolve(i));return RN(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:Me.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new kd({schema:this,typeName:wt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return fl.create(this,this._def)}nullable(){return Od.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gs.create(this)}promise(){return Z0.create(this,this._def)}or(e){return Y0.create([this,e],this._def)}and(e){return X0.create(this,e,this._def)}transform(e){return new kd({...$t(this._def),schema:this,typeName:wt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new G2({...$t(this._def),innerType:this,defaultValue:r,typeName:wt.ZodDefault})}brand(){return new oz({typeName:wt.ZodBranded,type:this,...$t(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new K2({...$t(this._def),innerType:this,catchValue:r,typeName:wt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return H_.create(this,e)}readonly(){return Y2.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const BU=/^c[^\s-]{8,}$/i,FU=/^[0-9a-z]+$/,UU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,zU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qU=/^[a-z0-9_-]{21}$/i,WU=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,HU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,VU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,GU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Mb;const KU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,YU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,XU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,JU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ZU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,QU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,XC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ez=new RegExp(`^${XC}$`);function JC(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function tz(t){return new RegExp(`^${JC(t)}$`)}function rz(t){let e=`${XC}T${JC(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function nz(t,e){return!!((e==="v4"||!e)&&KU.test(t)||(e==="v6"||!e)&&XU.test(t))}function iz(t,e){if(!WU.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function az(t,e){return!!((e==="v4"||!e)&&YU.test(t)||(e==="v6"||!e)&&JU.test(t))}class Xs extends Ut{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ze.string){const a=this._getOrReturnCtx(e);return He(a,{code:Me.invalid_type,expected:Ze.string,received:a.parsedType}),At}const n=new li;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),He(i,{code:Me.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),He(i,{code:Me.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?He(i,{code:Me.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&He(i,{code:Me.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")VU.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"email",code:Me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Mb||(Mb=new RegExp(GU,"u")),Mb.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"emoji",code:Me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")zU.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"uuid",code:Me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")qU.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"nanoid",code:Me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")BU.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"cuid",code:Me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")FU.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"cuid2",code:Me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")UU.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"ulid",code:Me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),He(i,{validation:"url",code:Me.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"regex",code:Me.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),He(i,{code:Me.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),He(i,{code:Me.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),He(i,{code:Me.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?rz(a).test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{code:Me.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?ez.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{code:Me.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?tz(a).test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{code:Me.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?HU.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"duration",code:Me.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?nz(e.data,a.version)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"ip",code:Me.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?iz(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"jwt",code:Me.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?az(e.data,a.version)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"cidr",code:Me.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?ZU.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"base64",code:Me.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?QU.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"base64url",code:Me.invalid_string,message:a.message}),n.dirty()):Vt.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Me.invalid_string,...it.errToObj(n)})}_addCheck(e){return new Xs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...it.errToObj(e)})}url(e){return this._addCheck({kind:"url",...it.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...it.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...it.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...it.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...it.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...it.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...it.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...it.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...it.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...it.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...it.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...it.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...it.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...it.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...it.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...it.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...it.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...it.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...it.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...it.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...it.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...it.errToObj(r)})}nonempty(e){return this.min(1,it.errToObj(e))}trim(){return new Xs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Xs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Xs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Xs.create=t=>new Xs({checks:[],typeName:wt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...$t(t)});function sz(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}class Ad extends Ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ze.number){const a=this._getOrReturnCtx(e);return He(a,{code:Me.invalid_type,expected:Ze.number,received:a.parsedType}),At}let n;const i=new li;for(const a of this._def.checks)a.kind==="int"?Vt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),He(n,{code:Me.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:Me.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:Me.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?sz(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),He(n,{code:Me.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),He(n,{code:Me.not_finite,message:a.message}),i.dirty()):Vt.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,it.toString(r))}gt(e,r){return this.setLimit("min",e,!1,it.toString(r))}lte(e,r){return this.setLimit("max",e,!0,it.toString(r))}lt(e,r){return this.setLimit("max",e,!1,it.toString(r))}setLimit(e,r,n,i){return new Ad({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:it.toString(i)}]})}_addCheck(e){return new Ad({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:it.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:it.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:it.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:it.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:it.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:it.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:it.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:it.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:it.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Vt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Ad.create=t=>new Ad({checks:[],typeName:wt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...$t(t)});class vp extends Ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ze.bigint)return this._getInvalidInput(e);let n;const i=new li;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:Me.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:Me.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),He(n,{code:Me.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Vt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return He(r,{code:Me.invalid_type,expected:Ze.bigint,received:r.parsedType}),At}gte(e,r){return this.setLimit("min",e,!0,it.toString(r))}gt(e,r){return this.setLimit("min",e,!1,it.toString(r))}lte(e,r){return this.setLimit("max",e,!0,it.toString(r))}lt(e,r){return this.setLimit("max",e,!1,it.toString(r))}setLimit(e,r,n,i){return new vp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:it.toString(i)}]})}_addCheck(e){return new vp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:it.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:it.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:it.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:it.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:it.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}vp.create=t=>new vp({checks:[],typeName:wt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...$t(t)});class MN extends Ut{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ze.boolean){const n=this._getOrReturnCtx(e);return He(n,{code:Me.invalid_type,expected:Ze.boolean,received:n.parsedType}),At}return xa(e.data)}}MN.create=t=>new MN({typeName:wt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...$t(t)});class K0 extends Ut{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ze.date){const a=this._getOrReturnCtx(e);return He(a,{code:Me.invalid_type,expected:Ze.date,received:a.parsedType}),At}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return He(a,{code:Me.invalid_date}),At}const n=new li;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),He(i,{code:Me.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),He(i,{code:Me.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Vt.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new K0({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:it.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:it.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}K0.create=t=>new K0({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:wt.ZodDate,...$t(t)});class DN extends Ut{_parse(e){if(this._getType(e)!==Ze.symbol){const n=this._getOrReturnCtx(e);return He(n,{code:Me.invalid_type,expected:Ze.symbol,received:n.parsedType}),At}return xa(e.data)}}DN.create=t=>new DN({typeName:wt.ZodSymbol,...$t(t)});class BN extends Ut{_parse(e){if(this._getType(e)!==Ze.undefined){const n=this._getOrReturnCtx(e);return He(n,{code:Me.invalid_type,expected:Ze.undefined,received:n.parsedType}),At}return xa(e.data)}}BN.create=t=>new BN({typeName:wt.ZodUndefined,...$t(t)});class FN extends Ut{_parse(e){if(this._getType(e)!==Ze.null){const n=this._getOrReturnCtx(e);return He(n,{code:Me.invalid_type,expected:Ze.null,received:n.parsedType}),At}return xa(e.data)}}FN.create=t=>new FN({typeName:wt.ZodNull,...$t(t)});class UN extends Ut{constructor(){super(...arguments),this._any=!0}_parse(e){return xa(e.data)}}UN.create=t=>new UN({typeName:wt.ZodAny,...$t(t)});class zN extends Ut{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xa(e.data)}}zN.create=t=>new zN({typeName:wt.ZodUnknown,...$t(t)});class vl extends Ut{_parse(e){const r=this._getOrReturnCtx(e);return He(r,{code:Me.invalid_type,expected:Ze.never,received:r.parsedType}),At}}vl.create=t=>new vl({typeName:wt.ZodNever,...$t(t)});class qN extends Ut{_parse(e){if(this._getType(e)!==Ze.undefined){const n=this._getOrReturnCtx(e);return He(n,{code:Me.invalid_type,expected:Ze.void,received:n.parsedType}),At}return xa(e.data)}}qN.create=t=>new qN({typeName:wt.ZodVoid,...$t(t)});class gs extends Ut{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Ze.array)return He(r,{code:Me.invalid_type,expected:Ze.array,received:r.parsedType}),At;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(He(r,{code:s?Me.too_big:Me.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(He(r,{code:Me.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(He(r,{code:Me.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new bs(r,s,r.path,o)))).then(s=>li.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new bs(r,s,r.path,o)));return li.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new gs({...this._def,minLength:{value:e,message:it.toString(r)}})}max(e,r){return new gs({...this._def,maxLength:{value:e,message:it.toString(r)}})}length(e,r){return new gs({...this._def,exactLength:{value:e,message:it.toString(r)}})}nonempty(e){return this.min(1,e)}}gs.create=(t,e)=>new gs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:wt.ZodArray,...$t(e)});function Lu(t){if(t instanceof an){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=fl.create(Lu(n))}return new an({...t._def,shape:()=>e})}else return t instanceof gs?new gs({...t._def,type:Lu(t.element)}):t instanceof fl?fl.create(Lu(t.unwrap())):t instanceof Od?Od.create(Lu(t.unwrap())):t instanceof $c?$c.create(t.items.map(e=>Lu(e))):t}class an extends Ut{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Vt.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Ze.object){const c=this._getOrReturnCtx(e);return He(c,{code:Me.invalid_type,expected:Ze.object,received:c.parsedType}),At}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof vl&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const u=a[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new bs(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof vl){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(He(i,{code:Me.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new bs(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,p=await u.value;c.push({key:f,value:p,alwaysSet:u.alwaysSet})}return c}).then(c=>li.mergeObjectSync(n,c)):li.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return it.errToObj,new an({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:it.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new an({...this._def,unknownKeys:"strip"})}passthrough(){return new an({...this._def,unknownKeys:"passthrough"})}extend(e){return new an({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new an({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:wt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new an({...this._def,catchall:e})}pick(e){const r={};for(const n of Vt.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new an({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Vt.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new an({...this._def,shape:()=>r})}deepPartial(){return Lu(this)}partial(e){const r={};for(const n of Vt.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new an({...this._def,shape:()=>r})}required(e){const r={};for(const n of Vt.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof fl;)a=a._def.innerType;r[n]=a}return new an({...this._def,shape:()=>r})}keyof(){return ZC(Vt.objectKeys(this.shape))}}an.create=(t,e)=>new an({shape:()=>t,unknownKeys:"strip",catchall:vl.create(),typeName:wt.ZodObject,...$t(e)});an.strictCreate=(t,e)=>new an({shape:()=>t,unknownKeys:"strict",catchall:vl.create(),typeName:wt.ZodObject,...$t(e)});an.lazycreate=(t,e)=>new an({shape:t,unknownKeys:"strip",catchall:vl.create(),typeName:wt.ZodObject,...$t(e)});class Y0 extends Ut{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new uo(o.ctx.common.issues));return He(r,{code:Me.invalid_union,unionErrors:s}),At}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new uo(l));return He(r,{code:Me.invalid_union,unionErrors:o}),At}}get options(){return this._def.options}}Y0.create=(t,e)=>new Y0({options:t,typeName:wt.ZodUnion,...$t(e)});function V2(t,e){const r=Vo(t),n=Vo(e);if(t===e)return{valid:!0,data:t};if(r===Ze.object&&n===Ze.object){const i=Vt.objectKeys(e),a=Vt.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=V2(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(r===Ze.array&&n===Ze.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=V2(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Ze.date&&n===Ze.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class X0 extends Ut{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(IN(a)||IN(s))return At;const o=V2(a.value,s.value);return o.valid?(($N(a)||$N(s))&&r.dirty(),{status:r.value,value:o.data}):(He(n,{code:Me.invalid_intersection_types}),At)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}X0.create=(t,e,r)=>new X0({left:t,right:e,typeName:wt.ZodIntersection,...$t(r)});class $c extends Ut{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.array)return He(n,{code:Me.invalid_type,expected:Ze.array,received:n.parsedType}),At;if(n.data.length<this._def.items.length)return He(n,{code:Me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),At;!this._def.rest&&n.data.length>this._def.items.length&&(He(n,{code:Me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new bs(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>li.mergeArray(r,s)):li.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new $c({...this._def,rest:e})}}$c.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $c({items:t,typeName:wt.ZodTuple,rest:null,...$t(e)})};class J0 extends Ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.object)return He(n,{code:Me.invalid_type,expected:Ze.object,received:n.parsedType}),At;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new bs(n,o,n.path,o)),value:s._parse(new bs(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?li.mergeObjectAsync(r,i):li.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Ut?new J0({keyType:e,valueType:r,typeName:wt.ZodRecord,...$t(n)}):new J0({keyType:Xs.create(),valueType:e,typeName:wt.ZodRecord,...$t(r)})}}class WN extends Ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.map)return He(n,{code:Me.invalid_type,expected:Ze.map,received:n.parsedType}),At;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,l],c)=>({key:i._parse(new bs(n,o,n.path,[c,"key"])),value:a._parse(new bs(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return At;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return At;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}}WN.create=(t,e,r)=>new WN({valueType:e,keyType:t,typeName:wt.ZodMap,...$t(r)});class yp extends Ut{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.set)return He(n,{code:Me.invalid_type,expected:Ze.set,received:n.parsedType}),At;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(He(n,{code:Me.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(He(n,{code:Me.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return At;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((l,c)=>a._parse(new bs(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,r){return new yp({...this._def,minSize:{value:e,message:it.toString(r)}})}max(e,r){return new yp({...this._def,maxSize:{value:e,message:it.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}yp.create=(t,e)=>new yp({valueType:t,minSize:null,maxSize:null,typeName:wt.ZodSet,...$t(e)});class HN extends Ut{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}HN.create=(t,e)=>new HN({getter:t,typeName:wt.ZodLazy,...$t(e)});class VN extends Ut{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return He(r,{received:r.data,code:Me.invalid_literal,expected:this._def.value}),At}return{status:"valid",value:e.data}}get value(){return this._def.value}}VN.create=(t,e)=>new VN({value:t,typeName:wt.ZodLiteral,...$t(e)});function ZC(t,e){return new Nd({values:t,typeName:wt.ZodEnum,...$t(e)})}class Nd extends Ut{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return He(r,{expected:Vt.joinValues(n),received:r.parsedType,code:Me.invalid_type}),At}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return He(r,{received:r.data,code:Me.invalid_enum_value,options:n}),At}return xa(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Nd.create(e,{...this._def,...r})}exclude(e,r=this._def){return Nd.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Nd.create=ZC;class GN extends Ut{_parse(e){const r=Vt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ze.string&&n.parsedType!==Ze.number){const i=Vt.objectValues(r);return He(n,{expected:Vt.joinValues(i),received:n.parsedType,code:Me.invalid_type}),At}if(this._cache||(this._cache=new Set(Vt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Vt.objectValues(r);return He(n,{received:n.data,code:Me.invalid_enum_value,options:i}),At}return xa(e.data)}get enum(){return this._def.values}}GN.create=(t,e)=>new GN({values:t,typeName:wt.ZodNativeEnum,...$t(e)});class Z0 extends Ut{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ze.promise&&r.common.async===!1)return He(r,{code:Me.invalid_type,expected:Ze.promise,received:r.parsedType}),At;const n=r.parsedType===Ze.promise?r.data:Promise.resolve(r.data);return xa(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Z0.create=(t,e)=>new Z0({type:t,typeName:wt.ZodPromise,...$t(e)});class kd extends Ut{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===wt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{He(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return At;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?At:l.status==="dirty"||r.value==="dirty"?Ah(l.value):l});{if(r.value==="aborted")return At;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?At:o.status==="dirty"||r.value==="dirty"?Ah(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?At:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?At:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!jd(s))return At;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>jd(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):At);Vt.assertNever(i)}}kd.create=(t,e,r)=>new kd({schema:t,typeName:wt.ZodEffects,effect:e,...$t(r)});kd.createWithPreprocess=(t,e,r)=>new kd({schema:e,effect:{type:"preprocess",transform:t},typeName:wt.ZodEffects,...$t(r)});class fl extends Ut{_parse(e){return this._getType(e)===Ze.undefined?xa(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fl.create=(t,e)=>new fl({innerType:t,typeName:wt.ZodOptional,...$t(e)});class Od extends Ut{_parse(e){return this._getType(e)===Ze.null?xa(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Od.create=(t,e)=>new Od({innerType:t,typeName:wt.ZodNullable,...$t(e)});class G2 extends Ut{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Ze.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}G2.create=(t,e)=>new G2({innerType:t,typeName:wt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...$t(e)});class K2 extends Ut{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return G0(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new uo(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new uo(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}K2.create=(t,e)=>new K2({innerType:t,typeName:wt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...$t(e)});class KN extends Ut{_parse(e){if(this._getType(e)!==Ze.nan){const n=this._getOrReturnCtx(e);return He(n,{code:Me.invalid_type,expected:Ze.nan,received:n.parsedType}),At}return{status:"valid",value:e.data}}}KN.create=t=>new KN({typeName:wt.ZodNaN,...$t(t)});class oz extends Ut{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class H_ extends Ut{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?At:a.status==="dirty"?(r.dirty(),Ah(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?At:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new H_({in:e,out:r,typeName:wt.ZodPipeline})}}class Y2 extends Ut{_parse(e){const r=this._def.innerType._parse(e),n=i=>(jd(i)&&(i.value=Object.freeze(i.value)),i);return G0(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Y2.create=(t,e)=>new Y2({innerType:t,typeName:wt.ZodReadonly,...$t(e)});var wt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(wt||(wt={}));const Wt=Xs.create,Uo=Ad.create;vl.create;const Bs=gs.create,as=an.create;Y0.create;X0.create;$c.create;const YN=J0.create,Db=Nd.create;Z0.create;fl.create;Od.create;const lz=as({id:Wt().uuid(),title:Wt(),subject:Wt(),durationMinutes:Uo().min(5).max(60),difficulty:Db(["Beginner","Intermediate","Advanced"]),patientProfile:as({name:Wt(),age:Uo(),gender:Db(["male","female","other"]),prakriti:Db(["Vata","Pitta","Kapha","Sama"]),vikriti:Wt().optional(),occupation:Wt().optional()}),chiefComplaint:Wt().optional(),historyOfPresentIllness:Wt(),ashtasthanaPariksha:YN(Wt()).optional(),doshaAnalysis:as({vata:Uo().min(0).max(100),pitta:Uo().min(0).max(100),kapha:Uo().min(0).max(100)}),potentialDiagnoses:Bs(as({dx:Wt(),confidence:Uo().min(0).max(1)})),suggestedChikitsa:Wt(),mcqs:Bs(as({id:Wt(),question:Wt(),options:Bs(Wt()),answerIndex:Uo(),sloId:Wt()})),rubrics:Bs(as({id:Wt(),description:Wt(),maxPoints:Uo(),sloId:Wt()})),finalExplanation:Wt(),sloMappings:Bs(Wt()),physicalExam:as({vitals:as({bp:Wt().optional(),hr:Wt().optional(),rr:Wt().optional(),temp:Wt().optional(),spo2:Wt().optional()}).optional(),generalExam:Wt().optional(),systemicExam:Wt().optional()}).optional(),availableLabTests:Bs(as({category:Wt(),tests:Bs(Wt())})).optional(),labResults:YN(Wt()).optional(),learningPearls:Bs(Wt()).optional(),furtherReading:Bs(as({title:Wt(),reference:Wt()})).optional()});function cz({user:t}){const{stationId:e}=wy(),r=Yi(),n=vo(),[i,a]=X.useState(null),[s,o]=X.useState(null),[l,c]=X.useState(!0),[u,f]=X.useState(!1);X.useEffect(()=>{e&&p()},[e]);const p=async()=>{var v;try{const{data:g,error:x}=await Le.from("stations").select("*").eq("id",e).single();if(x)throw x;a(g),(v=g.blueprint)!=null&&v.generatedCase&&o(g.blueprint.generatedCase)}catch(g){console.error("Error loading station:",g)}finally{c(!1)}},h=async()=>{var v,g;if(!(!i||!s)){f(!0);try{const x=[];if(!s.physicalExam||!s.physicalExam.vitals)x.push("Physical examination vitals are missing");else{const A=s.physicalExam.vitals;(!A.bp||!A.hr||!A.rr||!A.temp||!A.spo2)&&x.push("Some vital signs are missing")}if((!((v=s.physicalExam)!=null&&v.generalExam)||s.physicalExam.generalExam.trim()==="")&&x.push("General examination findings are missing"),(!((g=s.physicalExam)!=null&&g.systemicExam)||s.physicalExam.systemicExam.trim()==="")&&x.push("Systemic examination findings are missing"),(!s.labResults||Object.keys(s.labResults).length<4)&&x.push("Lab results are missing or insufficient"),(!s.learningPearls||s.learningPearls.length<3)&&x.push("Learning pearls are missing or insufficient"),(!s.furtherReading||s.furtherReading.length<2)&&x.push("Further reading references are missing or insufficient"),x.length>0)throw new Error(`Cannot approve case with missing data:
${x.join(`
`)}

Please regenerate the case.`);const y=lz.parse(s),{data:w,error:_}=await Le.from("case_snapshots").insert({station_id:i.id,clinical_case:y,approved_by:t.id}).select().single();if(_)throw _;r(`/assign/${w.id}`),n.success("Case approved successfully!")}catch(x){n.error("Error approving case: "+x.message)}finally{f(!1)}}};return l?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 flex items-center justify-center pb-20 md:pb-0",children:d.jsx(Sd,{className:"w-8 h-8 animate-spin text-primary-600"})}),d.jsx(Mn,{role:"faculty"}),d.jsx(gl,{toasts:n.toasts,onClose:n.removeToast})]}):!i||!s?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 p-6 pb-20 md:pb-6",children:d.jsx("p",{children:"Station not found or case not generated yet."})}),d.jsx(Mn,{role:"faculty"}),d.jsx(gl,{toasts:n.toasts,onClose:n.removeToast})]}):d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(gp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Review Generated Case"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Overview"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),d.jsx("p",{className:"text-lg",children:s.title})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"History of Present Illness"}),d.jsx("p",{className:"text-gray-900",children:s.historyOfPresentIllness})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Patient Profile"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Name:"})," ",s.patientProfile.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Age:"})," ",s.patientProfile.age]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Gender:"})," ",s.patientProfile.gender]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Prakriti:"})," ",s.patientProfile.prakriti]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Suggested Chikitsa"}),d.jsx("p",{className:"text-gray-900",children:s.suggestedChikitsa})]})]})]}),s.physicalExam&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Physical Examination"}),d.jsxs("div",{className:"space-y-4",children:[s.physicalExam.vitals&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vitals"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"BP:"})," ",s.physicalExam.vitals.bp||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"HR:"})," ",s.physicalExam.vitals.hr||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"RR:"})," ",s.physicalExam.vitals.rr||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Temp:"})," ",s.physicalExam.vitals.temp||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"SpO2:"})," ",s.physicalExam.vitals.spo2||"Not recorded"]})]})]}),s.physicalExam.generalExam&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"General Examination"}),d.jsx("p",{className:"text-gray-900 mt-2",children:s.physicalExam.generalExam})]}),s.physicalExam.systemicExam&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Systemic Examination"}),d.jsx("p",{className:"text-gray-900 mt-2 whitespace-pre-wrap",children:s.physicalExam.systemicExam})]})]})]}),s.labResults&&Object.keys(s.labResults).length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Lab Results (Available)"}),d.jsxs("div",{className:"space-y-2",children:[Object.entries(s.labResults).slice(0,5).map(([v,g])=>d.jsxs("div",{className:"border rounded p-3",children:[d.jsxs("strong",{children:[v,":"]})," ",g]},v)),Object.keys(s.labResults).length>5&&d.jsxs("p",{className:"text-sm text-gray-500",children:["... and ",Object.keys(s.labResults).length-5," more tests"]})]})]}),s.learningPearls&&s.learningPearls.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Learning Pearls"}),d.jsx("ul",{className:"list-disc list-inside space-y-2",children:s.learningPearls.map((v,g)=>d.jsx("li",{className:"text-gray-900",children:v},g))})]}),s.furtherReading&&s.furtherReading.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Further Reading"}),d.jsx("div",{className:"space-y-2",children:s.furtherReading.map((v,g)=>d.jsxs("div",{className:"border rounded p-3",children:[d.jsxs("strong",{children:[v.title,":"]})," ",v.reference]},g))})]}),s.mcqs&&s.mcqs.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Multiple Choice Questions"}),d.jsx("div",{className:"space-y-4",children:s.mcqs.map((v,g)=>d.jsxs("div",{className:"border rounded p-4",children:[d.jsx("p",{className:"font-medium mb-2",children:v.question}),d.jsx("ul",{className:"list-disc list-inside space-y-1",children:v.options.map((x,y)=>d.jsx("li",{className:y===v.answerIndex?"text-green-600 font-medium":"",children:x},y))})]},g))})]}),d.jsxs("div",{className:"flex gap-4 pt-6 border-t",children:[d.jsxs("button",{onClick:h,disabled:u,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:[u?d.jsx(Sd,{className:"w-4 h-4 animate-spin"}):d.jsx(WC,{className:"w-4 h-4"}),"Approve Case"]}),d.jsxs("button",{onClick:()=>r("/create"),className:"flex items-center gap-2 px-6 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[d.jsx(uf,{className:"w-4 h-4"}),"Regenerate"]})]})]})]})}),d.jsx(Mn,{role:"faculty"})]})}function uz({user:t}){var F;const{snapshotId:e}=wy(),r=Yi(),n=vo(),[i,a]=X.useState(null),[s,o]=X.useState([]),[l,c]=X.useState([]),[u,f]=X.useState([]),[p,h]=X.useState([]),[v,g]=X.useState("cohort"),[x,y]=X.useState(""),[w,_]=X.useState(""),[A,S]=X.useState(1),[k,P]=X.useState(!0),[C,L]=X.useState(!1);X.useEffect(()=>{e&&D()},[e]);const D=async()=>{try{const{data:U,error:K}=await Le.from("case_snapshots").select("*").eq("id",e).single();if(K)throw K;a(U);const{data:V,error:M}=await Le.from("cohorts").select("*").order("name");if(M)throw M;const Z=await Promise.all((V||[]).map(async E=>{const{data:z}=await Le.from("cohort_members").select("student_id").eq("cohort_id",E.id),H=(z||[]).map(se=>se.student_id);let re=[];if(H.length>0){const{data:se}=await Le.from("users").select("id, name, email").in("id",H);re=(se||[]).map(ue=>({id:ue.id,name:ue.name,email:ue.email}))}return{...E,students:re}}));o(Z);const{data:ne,error:ae}=await Le.from("users").select("id, name, email").eq("role","student").order("name");if(ae)throw ae;c(ne||[])}catch(U){console.error("Error loading data:",U)}finally{P(!1)}},O=async()=>{if(e){if(v==="cohort"&&u.length===0){n.warning("Please select at least one cohort");return}if(v==="student"&&p.length===0){n.warning("Please select at least one student");return}if(v==="both"&&u.length===0&&p.length===0){n.warning("Please select at least one cohort or student");return}L(!0);try{const U=[];for(const K of u)U.push({snapshot_id:e,cohort_id:K,start_at:x||null,due_at:w||null,max_attempts:A});for(const K of p){const V=l.find(M=>M.id===K);if(V){let M=null;const{data:Z}=await Le.from("cohorts").select("id").eq("name",`Personal: ${V.name}`).single();if(Z)M=Z.id;else{const{data:ne,error:ae}=await Le.from("cohorts").insert({name:`Personal: ${V.name}`,description:`Personal assignment cohort for ${V.name}`}).select().single();if(ae)throw ae;M=ne.id,await Le.from("cohort_members").insert({cohort_id:M,student_id:K})}M&&U.push({snapshot_id:e,cohort_id:M,start_at:x||null,due_at:w||null,max_attempts:A})}}if(U.length>0){const{error:K}=await Le.from("assignments").insert(U);if(K)throw K}n.success(`Successfully created ${U.length} assignment(s)!`),r("/dashboard")}catch(U){n.error("Error creating assignment: "+U.message)}finally{L(!1)}}},I=U=>{f(K=>K.includes(U)?K.filter(V=>V!==U):[...K,U])},B=U=>{h(K=>K.includes(U)?K.filter(V=>V!==U):[...K,U])};return k?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 flex items-center justify-center pb-20 md:pb-0",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),d.jsx(Mn,{role:"faculty"}),d.jsx(gl,{toasts:n.toasts,onClose:n.removeToast})]}):d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-2xl mx-auto",children:[d.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(gp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Assign Case"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Case Title"}),d.jsx("p",{className:"text-lg font-semibold",children:((F=i==null?void 0:i.clinical_case)==null?void 0:F.title)||"Untitled Case"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Assignment Mode"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{type:"button",onClick:()=>{g("cohort"),h([])},className:`px-4 py-2 rounded-md ${v==="cohort"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d.jsx(Ic,{className:"w-4 h-4 inline mr-2"}),"Cohorts"]}),d.jsxs("button",{type:"button",onClick:()=>{g("student"),f([])},className:`px-4 py-2 rounded-md ${v==="student"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d.jsx(ms,{className:"w-4 h-4 inline mr-2"}),"Individual Students"]}),d.jsx("button",{type:"button",onClick:()=>g("both"),className:`px-4 py-2 rounded-md ${v==="both"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Both"})]})]}),(v==="cohort"||v==="both")&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Cohorts ",v==="cohort"&&"*"]}),d.jsx("div",{className:"border border-gray-300 rounded-md max-h-60 overflow-y-auto",children:s.length===0?d.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No cohorts available. Create cohorts first."}):s.map(U=>d.jsxs("div",{className:`p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 ${u.includes(U.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>I(U.id),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:U.name}),U.description&&d.jsx("div",{className:"text-sm text-gray-500",children:U.description}),d.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[U.students.length," student",U.students.length!==1?"s":""]})]}),d.jsx("input",{type:"checkbox",checked:u.includes(U.id),onChange:()=>I(U.id),className:"ml-4 w-5 h-5 text-primary-600"})]}),u.includes(U.id)&&U.students.length>0&&d.jsxs("div",{className:"mt-2 ml-4 text-xs text-gray-600",children:["Students: ",U.students.map(K=>K.name).join(", ")]})]},U.id))}),u.length>0&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[u.length," cohort",u.length!==1?"s":""," selected"]})]}),(v==="student"||v==="both")&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Individual Students ",v==="student"&&"*"]}),d.jsx("div",{className:"border border-gray-300 rounded-md max-h-60 overflow-y-auto",children:l.length===0?d.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No students available."}):l.map(U=>d.jsx("div",{className:`p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 ${p.includes(U.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>B(U.id),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:U.name}),d.jsx("div",{className:"text-sm text-gray-500",children:U.email})]}),d.jsx("input",{type:"checkbox",checked:p.includes(U.id),onChange:()=>B(U.id),className:"ml-4 w-5 h-5 text-primary-600"})]})},U.id))}),p.length>0&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[p.length," student",p.length!==1?"s":""," selected"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),d.jsx("input",{type:"datetime-local",value:x,onChange:U=>y(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),d.jsx("input",{type:"datetime-local",value:w,onChange:U=>_(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Attempts"}),d.jsx("input",{type:"number",min:"1",max:"10",value:A,onChange:U=>S(parseInt(U.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("button",{onClick:O,disabled:C||v==="cohort"&&u.length===0||v==="student"&&p.length===0||v==="both"&&u.length===0&&p.length===0,className:"w-full flex items-center justify-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-md hover:bg-primary-700 disabled:opacity-50",children:[d.jsx(WC,{className:"w-5 h-5"}),C?"Assigning...":`Assign to ${u.length+p.length} ${u.length+p.length===1?"Recipient":"Recipients"}`]})]})]})}),d.jsx(Mn,{role:"faculty"}),d.jsx(gl,{toasts:n.toasts,onClose:n.removeToast})]})}function dz({user:t}){const e=Yi(),[r,n]=X.useState([]),[i,a]=X.useState(!0),[s,o]=X.useState("");X.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:u,error:f}=await Le.from("stations").select("*").eq("created_by",t.id).order("created_at",{ascending:!1});if(f)throw f;const p=await Promise.all((u||[]).map(async h=>{const{data:v}=await Le.from("case_snapshots").select("*").eq("station_id",h.id).order("approved_at",{ascending:!1}).limit(1).single();return{...h,snapshot:v}}));n(p)}catch(u){console.error("Error loading stations:",u)}finally{a(!1)}},c=r.filter(u=>{var f,p,h,v;return((f=u.title)==null?void 0:f.toLowerCase().includes(s.toLowerCase()))||((v=(h=(p=u.snapshot)==null?void 0:p.clinical_case)==null?void 0:h.title)==null?void 0:v.toLowerCase().includes(s.toLowerCase()))});return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Station Library"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(W_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search stations...",value:s,onChange:u=>o(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):c.length===0?d.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:d.jsx("p",{className:"text-gray-600",children:"No stations found"})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(u=>{var f,p,h,v;return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:((p=(f=u.snapshot)==null?void 0:f.clinical_case)==null?void 0:p.title)||u.title||"Untitled Station"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:((v=(h=u.snapshot)==null?void 0:h.clinical_case)==null?void 0:v.subject)||"No subject"}),d.jsx("div",{className:"flex items-center gap-2 mb-4",children:u.snapshot?d.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Approved"}):d.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"Pending"})}),d.jsxs("div",{className:"flex gap-2",children:[u.snapshot&&d.jsxs("button",{onClick:()=>e(`/review/${u.id}`),className:"flex items-center gap-1 px-3 py-1 text-sm bg-primary-100 text-primary-700 rounded hover:bg-primary-200",children:[d.jsx(z_,{className:"w-4 h-4"}),"View"]}),d.jsxs("button",{onClick:()=>e(`/create?edit=${u.id}`),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:[d.jsx(q_,{className:"w-4 h-4"}),"Edit"]})]})]},u.id)})})]})}),d.jsx(Mn,{role:"faculty"})]})}function QC(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=QC(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function It(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=QC(t))&&(n&&(n+=" "),n+=e);return n}var fz=Array.isArray,wi=fz,hz=typeof rg=="object"&&rg&&rg.Object===Object&&rg,e8=hz,pz=e8,mz=typeof self=="object"&&self&&self.Object===Object&&self,gz=pz||mz||Function("return this")(),_s=gz,vz=_s,yz=vz.Symbol,um=yz,XN=um,t8=Object.prototype,bz=t8.hasOwnProperty,xz=t8.toString,lh=XN?XN.toStringTag:void 0;function wz(t){var e=bz.call(t,lh),r=t[lh];try{t[lh]=void 0;var n=!0}catch{}var i=xz.call(t);return n&&(e?t[lh]=r:delete t[lh]),i}var _z=wz,Sz=Object.prototype,jz=Sz.toString;function Az(t){return jz.call(t)}var Nz=Az,JN=um,kz=_z,Oz=Nz,Pz="[object Null]",Ez="[object Undefined]",ZN=JN?JN.toStringTag:void 0;function Tz(t){return t==null?t===void 0?Ez:Pz:ZN&&ZN in Object(t)?kz(t):Oz(t)}var yo=Tz;function Cz(t){return t!=null&&typeof t=="object"}var bo=Cz,Lz=yo,Iz=bo,$z="[object Symbol]";function Rz(t){return typeof t=="symbol"||Iz(t)&&Lz(t)==$z}var df=Rz,Mz=wi,Dz=df,Bz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fz=/^\w*$/;function Uz(t,e){if(Mz(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Dz(t)?!0:Fz.test(t)||!Bz.test(t)||e!=null&&t in Object(e)}var V_=Uz;function zz(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var jl=zz;const ff=ar(jl);var qz=yo,Wz=jl,Hz="[object AsyncFunction]",Vz="[object Function]",Gz="[object GeneratorFunction]",Kz="[object Proxy]";function Yz(t){if(!Wz(t))return!1;var e=qz(t);return e==Vz||e==Gz||e==Hz||e==Kz}var G_=Yz;const bt=ar(G_);var Xz=_s,Jz=Xz["__core-js_shared__"],Zz=Jz,Bb=Zz,QN=function(){var t=/[^.]+$/.exec(Bb&&Bb.keys&&Bb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Qz(t){return!!QN&&QN in t}var eq=Qz,tq=Function.prototype,rq=tq.toString;function nq(t){if(t!=null){try{return rq.call(t)}catch{}try{return t+""}catch{}}return""}var r8=nq,iq=G_,aq=eq,sq=jl,oq=r8,lq=/[\\^$.*+?()[\]{}|]/g,cq=/^\[object .+?Constructor\]$/,uq=Function.prototype,dq=Object.prototype,fq=uq.toString,hq=dq.hasOwnProperty,pq=RegExp("^"+fq.call(hq).replace(lq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mq(t){if(!sq(t)||aq(t))return!1;var e=iq(t)?pq:cq;return e.test(oq(t))}var gq=mq;function vq(t,e){return t==null?void 0:t[e]}var yq=vq,bq=gq,xq=yq;function wq(t,e){var r=xq(t,e);return bq(r)?r:void 0}var Yc=wq,_q=Yc,Sq=_q(Object,"create"),ky=Sq,e3=ky;function jq(){this.__data__=e3?e3(null):{},this.size=0}var Aq=jq;function Nq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var kq=Nq,Oq=ky,Pq="__lodash_hash_undefined__",Eq=Object.prototype,Tq=Eq.hasOwnProperty;function Cq(t){var e=this.__data__;if(Oq){var r=e[t];return r===Pq?void 0:r}return Tq.call(e,t)?e[t]:void 0}var Lq=Cq,Iq=ky,$q=Object.prototype,Rq=$q.hasOwnProperty;function Mq(t){var e=this.__data__;return Iq?e[t]!==void 0:Rq.call(e,t)}var Dq=Mq,Bq=ky,Fq="__lodash_hash_undefined__";function Uq(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Bq&&e===void 0?Fq:e,this}var zq=Uq,qq=Aq,Wq=kq,Hq=Lq,Vq=Dq,Gq=zq;function hf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}hf.prototype.clear=qq;hf.prototype.delete=Wq;hf.prototype.get=Hq;hf.prototype.has=Vq;hf.prototype.set=Gq;var Kq=hf;function Yq(){this.__data__=[],this.size=0}var Xq=Yq;function Jq(t,e){return t===e||t!==t&&e!==e}var K_=Jq,Zq=K_;function Qq(t,e){for(var r=t.length;r--;)if(Zq(t[r][0],e))return r;return-1}var Oy=Qq,eW=Oy,tW=Array.prototype,rW=tW.splice;function nW(t){var e=this.__data__,r=eW(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():rW.call(e,r,1),--this.size,!0}var iW=nW,aW=Oy;function sW(t){var e=this.__data__,r=aW(e,t);return r<0?void 0:e[r][1]}var oW=sW,lW=Oy;function cW(t){return lW(this.__data__,t)>-1}var uW=cW,dW=Oy;function fW(t,e){var r=this.__data__,n=dW(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var hW=fW,pW=Xq,mW=iW,gW=oW,vW=uW,yW=hW;function pf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pf.prototype.clear=pW;pf.prototype.delete=mW;pf.prototype.get=gW;pf.prototype.has=vW;pf.prototype.set=yW;var Py=pf,bW=Yc,xW=_s,wW=bW(xW,"Map"),Y_=wW,t3=Kq,_W=Py,SW=Y_;function jW(){this.size=0,this.__data__={hash:new t3,map:new(SW||_W),string:new t3}}var AW=jW;function NW(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var kW=NW,OW=kW;function PW(t,e){var r=t.__data__;return OW(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ey=PW,EW=Ey;function TW(t){var e=EW(this,t).delete(t);return this.size-=e?1:0,e}var CW=TW,LW=Ey;function IW(t){return LW(this,t).get(t)}var $W=IW,RW=Ey;function MW(t){return RW(this,t).has(t)}var DW=MW,BW=Ey;function FW(t,e){var r=BW(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var UW=FW,zW=AW,qW=CW,WW=$W,HW=DW,VW=UW;function mf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}mf.prototype.clear=zW;mf.prototype.delete=qW;mf.prototype.get=WW;mf.prototype.has=HW;mf.prototype.set=VW;var X_=mf,n8=X_,GW="Expected a function";function J_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(GW);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(J_.Cache||n8),r}J_.Cache=n8;var i8=J_;const KW=ar(i8);var YW=i8,XW=500;function JW(t){var e=YW(t,function(n){return r.size===XW&&r.clear(),n}),r=e.cache;return e}var ZW=JW,QW=ZW,eH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tH=/\\(\\)?/g,rH=QW(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(eH,function(r,n,i,a){e.push(i?a.replace(tH,"$1"):n||r)}),e}),nH=rH;function iH(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Z_=iH,r3=um,aH=Z_,sH=wi,oH=df,n3=r3?r3.prototype:void 0,i3=n3?n3.toString:void 0;function a8(t){if(typeof t=="string")return t;if(sH(t))return aH(t,a8)+"";if(oH(t))return i3?i3.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var lH=a8,cH=lH;function uH(t){return t==null?"":cH(t)}var s8=uH,dH=wi,fH=V_,hH=nH,pH=s8;function mH(t,e){return dH(t)?t:fH(t,e)?[t]:hH(pH(t))}var o8=mH,gH=df;function vH(t){if(typeof t=="string"||gH(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ty=vH,yH=o8,bH=Ty;function xH(t,e){e=yH(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[bH(e[r++])];return r&&r==n?t:void 0}var Q_=xH,wH=Q_;function _H(t,e,r){var n=t==null?void 0:wH(t,e);return n===void 0?r:n}var l8=_H;const Wi=ar(l8);function SH(t){return t==null}var jH=SH;const Ot=ar(jH);var AH=yo,NH=wi,kH=bo,OH="[object String]";function PH(t){return typeof t=="string"||!NH(t)&&kH(t)&&AH(t)==OH}var EH=PH;const Rc=ar(EH);var c8={exports:{}},sr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS=Symbol.for("react.element"),tS=Symbol.for("react.portal"),Cy=Symbol.for("react.fragment"),Ly=Symbol.for("react.strict_mode"),Iy=Symbol.for("react.profiler"),$y=Symbol.for("react.provider"),Ry=Symbol.for("react.context"),TH=Symbol.for("react.server_context"),My=Symbol.for("react.forward_ref"),Dy=Symbol.for("react.suspense"),By=Symbol.for("react.suspense_list"),Fy=Symbol.for("react.memo"),Uy=Symbol.for("react.lazy"),CH=Symbol.for("react.offscreen"),u8;u8=Symbol.for("react.module.reference");function wa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case eS:switch(t=t.type,t){case Cy:case Iy:case Ly:case Dy:case By:return t;default:switch(t=t&&t.$$typeof,t){case TH:case Ry:case My:case Uy:case Fy:case $y:return t;default:return e}}case tS:return e}}}sr.ContextConsumer=Ry;sr.ContextProvider=$y;sr.Element=eS;sr.ForwardRef=My;sr.Fragment=Cy;sr.Lazy=Uy;sr.Memo=Fy;sr.Portal=tS;sr.Profiler=Iy;sr.StrictMode=Ly;sr.Suspense=Dy;sr.SuspenseList=By;sr.isAsyncMode=function(){return!1};sr.isConcurrentMode=function(){return!1};sr.isContextConsumer=function(t){return wa(t)===Ry};sr.isContextProvider=function(t){return wa(t)===$y};sr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===eS};sr.isForwardRef=function(t){return wa(t)===My};sr.isFragment=function(t){return wa(t)===Cy};sr.isLazy=function(t){return wa(t)===Uy};sr.isMemo=function(t){return wa(t)===Fy};sr.isPortal=function(t){return wa(t)===tS};sr.isProfiler=function(t){return wa(t)===Iy};sr.isStrictMode=function(t){return wa(t)===Ly};sr.isSuspense=function(t){return wa(t)===Dy};sr.isSuspenseList=function(t){return wa(t)===By};sr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Cy||t===Iy||t===Ly||t===Dy||t===By||t===CH||typeof t=="object"&&t!==null&&(t.$$typeof===Uy||t.$$typeof===Fy||t.$$typeof===$y||t.$$typeof===Ry||t.$$typeof===My||t.$$typeof===u8||t.getModuleId!==void 0)};sr.typeOf=wa;c8.exports=sr;var LH=c8.exports,IH=yo,$H=bo,RH="[object Number]";function MH(t){return typeof t=="number"||$H(t)&&IH(t)==RH}var d8=MH;const DH=ar(d8);var BH=d8;function FH(t){return BH(t)&&t!=+t}var UH=FH;const dm=ar(UH);var ii=function(e){return e===0?0:e>0?1:-1},bc=function(e){return Rc(e)&&e.indexOf("%")===e.length-1},Be=function(e){return DH(e)&&!dm(e)},zH=function(e){return Ot(e)},xn=function(e){return Be(e)||Rc(e)},qH=0,gf=function(e){var r=++qH;return"".concat(e||"").concat(r)},ai=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Be(e)&&!Rc(e))return n;var a;if(bc(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return dm(a)&&(a=n),i&&a>r&&(a=r),a},Jo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},WH=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Mi=function(e,r){return Be(e)&&Be(r)?function(n){return e+n*(r-e)}:function(){return r}};function Q0(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Wi(n,e))===r})}var HH=function(e,r){return Be(e)&&Be(r)?e-r:Rc(e)&&Rc(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ld(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function X2(t){"@babel/helpers - typeof";return X2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X2(t)}var VH=["viewBox","children"],GH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],a3=["points","pathLength"],Fb={svg:VH,polygon:a3,polyline:a3},rS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ev=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(X.isValidElement(e)&&(n=e.props),!ff(n))return null;var i={};return Object.keys(n).forEach(function(a){rS.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},KH=function(e,r,n){return function(i){return e(r,n,i),null}},Mc=function(e,r,n){if(!ff(e)||X2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];rS.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=KH(s,r,n))}),i},YH=["children"],XH=["children"];function s3(t,e){if(t==null)return{};var r=JH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function J2(t){"@babel/helpers - typeof";return J2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J2(t)}var o3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},to=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},l3=null,Ub=null,nS=function t(e){if(e===l3&&Array.isArray(Ub))return Ub;var r=[];return X.Children.forEach(e,function(n){Ot(n)||(LH.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Ub=r,l3=e,r};function Hi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return to(i)}):n=[to(e)],nS(t).forEach(function(i){var a=Wi(i,"type.displayName")||Wi(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function $i(t,e){var r=Hi(t,e);return r&&r[0]}var c3=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Be(n)||n<=0||!Be(i)||i<=0)},ZH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],QH=function(e){return e&&e.type&&Rc(e.type)&&ZH.indexOf(e.type)>=0},eV=function(e){return e&&J2(e)==="object"&&"clipDot"in e},tV=function(e,r,n,i){var a,s=(a=Fb==null?void 0:Fb[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!bt(e)&&(i&&s.includes(r)||GH.includes(r))||n&&rS.includes(r)},ft=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(X.isValidElement(e)&&(i=e.props),!ff(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;tV((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},Z2=function t(e,r){if(e===r)return!0;var n=X.Children.count(e);if(n!==X.Children.count(r))return!1;if(n===0)return!0;if(n===1)return u3(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!u3(a,s))return!1}return!0},u3=function(e,r){if(Ot(e)&&Ot(r))return!0;if(!Ot(e)&&!Ot(r)){var n=e.props||{},i=n.children,a=s3(n,YH),s=r.props||{},o=s.children,l=s3(s,XH);return i&&o?ld(a,l)&&Z2(i,o):!i&&!o?ld(a,l):!1}return!1},d3=function(e,r){var n=[],i={};return nS(e).forEach(function(a,s){if(QH(a))n.push(a);else if(a){var o=to(a.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var f=c(a,o,s);n.push(f),i[o]=!0}}}),n},rV=function(e){var r=e&&e.type;return r&&o3[r]?o3[r]:null},nV=function(e,r){return nS(r).indexOf(e)},iV=["children","width","height","viewBox","className","style","title","desc"];function Q2(){return Q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q2.apply(this,arguments)}function aV(t,e){if(t==null)return{};var r=sV(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ew(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=aV(t,iV),u=i||{width:r,height:n,x:0,y:0},f=It("recharts-surface",a);return le.createElement("svg",Q2({},ft(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),le.createElement("title",null,o),le.createElement("desc",null,l),e)}var oV=["children","className"];function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tw.apply(this,arguments)}function lV(t,e){if(t==null)return{};var r=cV(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Gt=le.forwardRef(function(t,e){var r=t.children,n=t.className,i=lV(t,oV),a=It("recharts-layer",n);return le.createElement("g",tw({className:a},ft(i,!0),{ref:e}),r)}),Ha=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function uV(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var dV=uV,fV=dV;function hV(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:fV(t,e,r)}var pV=hV,mV="\\ud800-\\udfff",gV="\\u0300-\\u036f",vV="\\ufe20-\\ufe2f",yV="\\u20d0-\\u20ff",bV=gV+vV+yV,xV="\\ufe0e\\ufe0f",wV="\\u200d",_V=RegExp("["+wV+mV+bV+xV+"]");function SV(t){return _V.test(t)}var f8=SV;function jV(t){return t.split("")}var AV=jV,h8="\\ud800-\\udfff",NV="\\u0300-\\u036f",kV="\\ufe20-\\ufe2f",OV="\\u20d0-\\u20ff",PV=NV+kV+OV,EV="\\ufe0e\\ufe0f",TV="["+h8+"]",rw="["+PV+"]",nw="\\ud83c[\\udffb-\\udfff]",CV="(?:"+rw+"|"+nw+")",p8="[^"+h8+"]",m8="(?:\\ud83c[\\udde6-\\uddff]){2}",g8="[\\ud800-\\udbff][\\udc00-\\udfff]",LV="\\u200d",v8=CV+"?",y8="["+EV+"]?",IV="(?:"+LV+"(?:"+[p8,m8,g8].join("|")+")"+y8+v8+")*",$V=y8+v8+IV,RV="(?:"+[p8+rw+"?",rw,m8,g8,TV].join("|")+")",MV=RegExp(nw+"(?="+nw+")|"+RV+$V,"g");function DV(t){return t.match(MV)||[]}var BV=DV,FV=AV,UV=f8,zV=BV;function qV(t){return UV(t)?zV(t):FV(t)}var WV=qV,HV=pV,VV=f8,GV=WV,KV=s8;function YV(t){return function(e){e=KV(e);var r=VV(e)?GV(e):void 0,n=r?r[0]:e.charAt(0),i=r?HV(r,1).join(""):e.slice(1);return n[t]()+i}}var XV=YV,JV=XV,ZV=JV("toUpperCase"),QV=ZV;const zy=ar(QV);function vr(t){return function(){return t}}const b8=Math.cos,tv=Math.sin,Ka=Math.sqrt,rv=Math.PI,qy=2*rv,iw=Math.PI,aw=2*iw,sc=1e-6,eG=aw-sc;function x8(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function tG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return x8;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class rG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?x8:tG(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,c=i-r,u=s-e,f=o-r,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>sc)if(!(Math.abs(f*l-c*u)>sc)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-s,v=i-o,g=l*l+c*c,x=h*h+v*v,y=Math.sqrt(g),w=Math.sqrt(p),_=a*Math.tan((iw-Math.acos((g+p-x)/(2*y*w)))/2),A=_/w,S=_/y;Math.abs(A-1)>sc&&this._append`L${e+A*u},${r+A*f}`,this._append`A${a},${a},0,0,${+(f*h>u*v)},${this._x1=e+S*l},${this._y1=r+S*c}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,u=r+l,f=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>sc||Math.abs(this._y1-u)>sc)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%aw+aw),p>eG?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:p>sc&&this._append`A${n},${n},0,${+(p>=iw)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function iS(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new rG(e)}function aS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function w8(t){this._context=t}w8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Wy(t){return new w8(t)}function _8(t){return t[0]}function S8(t){return t[1]}function j8(t,e){var r=vr(!0),n=null,i=Wy,a=null,s=iS(o);t=typeof t=="function"?t:t===void 0?_8:vr(t),e=typeof e=="function"?e:e===void 0?S8:vr(e);function o(l){var c,u=(l=aS(l)).length,f,p=!1,h;for(n==null&&(a=i(h=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(f,c,l),+e(f,c,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:vr(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:vr(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:vr(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function Pg(t,e,r){var n=null,i=vr(!0),a=null,s=Wy,o=null,l=iS(c);t=typeof t=="function"?t:t===void 0?_8:vr(+t),e=typeof e=="function"?e:vr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?S8:vr(+r);function c(f){var p,h,v,g=(f=aS(f)).length,x,y=!1,w,_=new Array(g),A=new Array(g);for(a==null&&(o=s(w=l())),p=0;p<=g;++p){if(!(p<g&&i(x=f[p],p,f))===y)if(y=!y)h=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=p-1;v>=h;--v)o.point(_[v],A[v]);o.lineEnd(),o.areaEnd()}y&&(_[p]=+t(x,p,f),A[p]=+e(x,p,f),o.point(n?+n(x,p,f):_[p],r?+r(x,p,f):A[p]))}if(w)return o=null,w+""||null}function u(){return j8().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:vr(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:vr(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:vr(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:vr(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:vr(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:vr(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:vr(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class A8{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function nG(t){return new A8(t,!0)}function iG(t){return new A8(t,!1)}const sS={draw(t,e){const r=Ka(e/rv);t.moveTo(r,0),t.arc(0,0,r,0,qy)}},aG={draw(t,e){const r=Ka(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},N8=Ka(1/3),sG=N8*2,oG={draw(t,e){const r=Ka(e/sG),n=r*N8;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},lG={draw(t,e){const r=Ka(e),n=-r/2;t.rect(n,n,r,r)}},cG=.8908130915292852,k8=tv(rv/10)/tv(7*rv/10),uG=tv(qy/10)*k8,dG=-b8(qy/10)*k8,fG={draw(t,e){const r=Ka(e*cG),n=uG*r,i=dG*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=qy*a/5,o=b8(s),l=tv(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},zb=Ka(3),hG={draw(t,e){const r=-Ka(e/(zb*3));t.moveTo(0,r*2),t.lineTo(-zb*r,-r),t.lineTo(zb*r,-r),t.closePath()}},aa=-.5,sa=Ka(3)/2,sw=1/Ka(12),pG=(sw/2+1)*3,mG={draw(t,e){const r=Ka(e/pG),n=r/2,i=r*sw,a=n,s=r*sw+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(aa*n-sa*i,sa*n+aa*i),t.lineTo(aa*a-sa*s,sa*a+aa*s),t.lineTo(aa*o-sa*l,sa*o+aa*l),t.lineTo(aa*n+sa*i,aa*i-sa*n),t.lineTo(aa*a+sa*s,aa*s-sa*a),t.lineTo(aa*o+sa*l,aa*l-sa*o),t.closePath()}};function gG(t,e){let r=null,n=iS(i);t=typeof t=="function"?t:vr(t||sS),e=typeof e=="function"?e:vr(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:vr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:vr(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function nv(){}function iv(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function O8(t){this._context=t}O8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vG(t){return new O8(t)}function P8(t){this._context=t}P8.prototype={areaStart:nv,areaEnd:nv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:iv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yG(t){return new P8(t)}function E8(t){this._context=t}E8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:iv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bG(t){return new E8(t)}function T8(t){this._context=t}T8.prototype={areaStart:nv,areaEnd:nv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function xG(t){return new T8(t)}function f3(t){return t<0?-1:1}function h3(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(f3(a)+f3(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function p3(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function qb(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function av(t){this._context=t}av.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qb(this,this._t0,p3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,qb(this,p3(this,r=h3(this,t,e)),r);break;default:qb(this,this._t0,r=h3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function C8(t){this._context=new L8(t)}(C8.prototype=Object.create(av.prototype)).point=function(t,e){av.prototype.point.call(this,e,t)};function L8(t){this._context=t}L8.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function wG(t){return new av(t)}function _G(t){return new C8(t)}function I8(t){this._context=t}I8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=m3(t),i=m3(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function m3(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function SG(t){return new I8(t)}function Hy(t,e){this._context=t,this._t=e}Hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function jG(t){return new Hy(t,.5)}function AG(t){return new Hy(t,0)}function NG(t){return new Hy(t,1)}function Pd(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ow(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function kG(t,e){return t[e]}function OG(t){const e=[];return e.key=t,e}function PG(){var t=vr([]),e=ow,r=Pd,n=kG;function i(a){var s=Array.from(t.apply(this,arguments),OG),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,u=aS(e(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:vr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:vr(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?ow:typeof a=="function"?a:vr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Pd,i):r},i}function EG(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Pd(t,e)}}function TG(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Pd(t,e)}}function CG(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],f=u[n][1]||0,p=u[n-1][1]||0,h=(f-p)/2,v=0;v<o;++v){var g=t[e[v]],x=g[n][1]||0,y=g[n-1][1]||0;h+=x-y}l+=f,c+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Pd(t,e)}}function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}var LG=["type","size","sizeType"];function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lw.apply(this,arguments)}function g3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g3(Object(r),!0).forEach(function(n){IG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IG(t,e,r){return e=$G(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $G(t){var e=RG(t,"string");return bp(e)=="symbol"?e:e+""}function RG(t,e){if(bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MG(t,e){if(t==null)return{};var r=DG(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var $8={symbolCircle:sS,symbolCross:aG,symbolDiamond:oG,symbolSquare:lG,symbolStar:fG,symbolTriangle:hG,symbolWye:mG},BG=Math.PI/180,FG=function(e){var r="symbol".concat(zy(e));return $8[r]||sS},UG=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*BG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zG=function(e,r){$8["symbol".concat(zy(e))]=r},oS=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=MG(e,LG),c=v3(v3({},l),{},{type:n,size:a,sizeType:o}),u=function(){var x=FG(n),y=gG().type(x).size(UG(a,o,n));return y()},f=c.className,p=c.cx,h=c.cy,v=ft(c,!0);return p===+p&&h===+h&&a===+a?le.createElement("path",lw({},v,{className:It("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:u()})):null};oS.registerSymbol=zG;function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cw.apply(this,arguments)}function y3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y3(Object(r),!0).forEach(function(n){xp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M8(n.key),n)}}function VG(t,e,r){return e&&HG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GG(t,e,r){return e=sv(e),KG(t,R8()?Reflect.construct(e,r||[],sv(t).constructor):e.apply(t,r))}function KG(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YG(t)}function YG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R8=function(){return!!t})()}function sv(t){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sv(t)}function XG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uw(t,e)}function uw(t,e){return uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uw(t,e)}function xp(t,e,r){return e=M8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M8(t){var e=JG(t,"string");return Ed(e)=="symbol"?e:e+""}function JG(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oa=32,lS=function(t){function e(){return WG(this,e),GG(this,e,arguments)}return XG(e,t),VG(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=oa/2,s=oa/6,o=oa/3,l=n.inactive?i:n.color;if(n.type==="plainline")return le.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:oa,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return le.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(oa,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return le.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(oa/8,"h").concat(oa,"v").concat(oa*3/4,"h").concat(-oa,"z"),className:"recharts-legend-icon"});if(le.isValidElement(n.legendIcon)){var c=qG({},n);return delete c.legendIcon,le.cloneElement(n.legendIcon,c)}return le.createElement(oS,{fill:l,cx:a,cy:a,size:oa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:oa,height:oa},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,v){var g=h.formatter||l,x=It(xp(xp({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",h.inactive));if(h.type==="none")return null;var y=bt(h.value)?null:h.value;Ha(!bt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?c:h.color;return le.createElement("li",cw({className:x,style:f,key:"legend-item-".concat(v)},Mc(n.props,h,v)),le.createElement(ew,{width:s,height:s,viewBox:u,style:p},n.renderIcon(h)),le.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(y,h,v):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return le.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(X.PureComponent);xp(lS,"displayName","Legend");xp(lS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ZG=Py;function QG(){this.__data__=new ZG,this.size=0}var eK=QG;function tK(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var rK=tK;function nK(t){return this.__data__.get(t)}var iK=nK;function aK(t){return this.__data__.has(t)}var sK=aK,oK=Py,lK=Y_,cK=X_,uK=200;function dK(t,e){var r=this.__data__;if(r instanceof oK){var n=r.__data__;if(!lK||n.length<uK-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new cK(n)}return r.set(t,e),this.size=r.size,this}var fK=dK,hK=Py,pK=eK,mK=rK,gK=iK,vK=sK,yK=fK;function vf(t){var e=this.__data__=new hK(t);this.size=e.size}vf.prototype.clear=pK;vf.prototype.delete=mK;vf.prototype.get=gK;vf.prototype.has=vK;vf.prototype.set=yK;var D8=vf,bK="__lodash_hash_undefined__";function xK(t){return this.__data__.set(t,bK),this}var wK=xK;function _K(t){return this.__data__.has(t)}var SK=_K,jK=X_,AK=wK,NK=SK;function ov(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new jK;++e<r;)this.add(t[e])}ov.prototype.add=ov.prototype.push=AK;ov.prototype.has=NK;var B8=ov;function kK(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var F8=kK;function OK(t,e){return t.has(e)}var U8=OK,PK=B8,EK=F8,TK=U8,CK=1,LK=2;function IK(t,e,r,n,i,a){var s=r&CK,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,p=!0,h=r&LK?new PK:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var v=t[f],g=e[f];if(n)var x=s?n(g,v,f,e,t,a):n(v,g,f,t,e,a);if(x!==void 0){if(x)continue;p=!1;break}if(h){if(!EK(e,function(y,w){if(!TK(h,w)&&(v===y||i(v,y,r,n,a)))return h.push(w)})){p=!1;break}}else if(!(v===g||i(v,g,r,n,a))){p=!1;break}}return a.delete(t),a.delete(e),p}var z8=IK,$K=_s,RK=$K.Uint8Array,MK=RK;function DK(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var BK=DK;function FK(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var cS=FK,b3=um,x3=MK,UK=K_,zK=z8,qK=BK,WK=cS,HK=1,VK=2,GK="[object Boolean]",KK="[object Date]",YK="[object Error]",XK="[object Map]",JK="[object Number]",ZK="[object RegExp]",QK="[object Set]",eY="[object String]",tY="[object Symbol]",rY="[object ArrayBuffer]",nY="[object DataView]",w3=b3?b3.prototype:void 0,Wb=w3?w3.valueOf:void 0;function iY(t,e,r,n,i,a,s){switch(r){case nY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case rY:return!(t.byteLength!=e.byteLength||!a(new x3(t),new x3(e)));case GK:case KK:case JK:return UK(+t,+e);case YK:return t.name==e.name&&t.message==e.message;case ZK:case eY:return t==e+"";case XK:var o=qK;case QK:var l=n&HK;if(o||(o=WK),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=VK,s.set(t,e);var u=zK(o(t),o(e),n,i,a,s);return s.delete(t),u;case tY:if(Wb)return Wb.call(t)==Wb.call(e)}return!1}var aY=iY;function sY(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var q8=sY,oY=q8,lY=wi;function cY(t,e,r){var n=e(t);return lY(t)?n:oY(n,r(t))}var uY=cY;function dY(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var fY=dY;function hY(){return[]}var pY=hY,mY=fY,gY=pY,vY=Object.prototype,yY=vY.propertyIsEnumerable,_3=Object.getOwnPropertySymbols,bY=_3?function(t){return t==null?[]:(t=Object(t),mY(_3(t),function(e){return yY.call(t,e)}))}:gY,xY=bY;function wY(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var _Y=wY,SY=yo,jY=bo,AY="[object Arguments]";function NY(t){return jY(t)&&SY(t)==AY}var kY=NY,S3=kY,OY=bo,W8=Object.prototype,PY=W8.hasOwnProperty,EY=W8.propertyIsEnumerable,TY=S3(function(){return arguments}())?S3:function(t){return OY(t)&&PY.call(t,"callee")&&!EY.call(t,"callee")},uS=TY,lv={exports:{}};function CY(){return!1}var LY=CY;lv.exports;(function(t,e){var r=_s,n=LY,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;t.exports=c})(lv,lv.exports);var H8=lv.exports,IY=9007199254740991,$Y=/^(?:0|[1-9]\d*)$/;function RY(t,e){var r=typeof t;return e=e??IY,!!e&&(r=="number"||r!="symbol"&&$Y.test(t))&&t>-1&&t%1==0&&t<e}var dS=RY,MY=9007199254740991;function DY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MY}var fS=DY,BY=yo,FY=fS,UY=bo,zY="[object Arguments]",qY="[object Array]",WY="[object Boolean]",HY="[object Date]",VY="[object Error]",GY="[object Function]",KY="[object Map]",YY="[object Number]",XY="[object Object]",JY="[object RegExp]",ZY="[object Set]",QY="[object String]",eX="[object WeakMap]",tX="[object ArrayBuffer]",rX="[object DataView]",nX="[object Float32Array]",iX="[object Float64Array]",aX="[object Int8Array]",sX="[object Int16Array]",oX="[object Int32Array]",lX="[object Uint8Array]",cX="[object Uint8ClampedArray]",uX="[object Uint16Array]",dX="[object Uint32Array]",_r={};_r[nX]=_r[iX]=_r[aX]=_r[sX]=_r[oX]=_r[lX]=_r[cX]=_r[uX]=_r[dX]=!0;_r[zY]=_r[qY]=_r[tX]=_r[WY]=_r[rX]=_r[HY]=_r[VY]=_r[GY]=_r[KY]=_r[YY]=_r[XY]=_r[JY]=_r[ZY]=_r[QY]=_r[eX]=!1;function fX(t){return UY(t)&&FY(t.length)&&!!_r[BY(t)]}var hX=fX;function pX(t){return function(e){return t(e)}}var V8=pX,cv={exports:{}};cv.exports;(function(t,e){var r=e8,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(cv,cv.exports);var mX=cv.exports,gX=hX,vX=V8,j3=mX,A3=j3&&j3.isTypedArray,yX=A3?vX(A3):gX,G8=yX,bX=_Y,xX=uS,wX=wi,_X=H8,SX=dS,jX=G8,AX=Object.prototype,NX=AX.hasOwnProperty;function kX(t,e){var r=wX(t),n=!r&&xX(t),i=!r&&!n&&_X(t),a=!r&&!n&&!i&&jX(t),s=r||n||i||a,o=s?bX(t.length,String):[],l=o.length;for(var c in t)(e||NX.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||SX(c,l)))&&o.push(c);return o}var OX=kX,PX=Object.prototype;function EX(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||PX;return t===r}var TX=EX;function CX(t,e){return function(r){return t(e(r))}}var K8=CX,LX=K8,IX=LX(Object.keys,Object),$X=IX,RX=TX,MX=$X,DX=Object.prototype,BX=DX.hasOwnProperty;function FX(t){if(!RX(t))return MX(t);var e=[];for(var r in Object(t))BX.call(t,r)&&r!="constructor"&&e.push(r);return e}var UX=FX,zX=G_,qX=fS;function WX(t){return t!=null&&qX(t.length)&&!zX(t)}var fm=WX,HX=OX,VX=UX,GX=fm;function KX(t){return GX(t)?HX(t):VX(t)}var Vy=KX,YX=uY,XX=xY,JX=Vy;function ZX(t){return YX(t,JX,XX)}var QX=ZX,N3=QX,eJ=1,tJ=Object.prototype,rJ=tJ.hasOwnProperty;function nJ(t,e,r,n,i,a){var s=r&eJ,o=N3(t),l=o.length,c=N3(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var p=o[f];if(!(s?p in e:rJ.call(e,p)))return!1}var h=a.get(t),v=a.get(e);if(h&&v)return h==e&&v==t;var g=!0;a.set(t,e),a.set(e,t);for(var x=s;++f<l;){p=o[f];var y=t[p],w=e[p];if(n)var _=s?n(w,y,p,e,t,a):n(y,w,p,t,e,a);if(!(_===void 0?y===w||i(y,w,r,n,a):_)){g=!1;break}x||(x=p=="constructor")}if(g&&!x){var A=t.constructor,S=e.constructor;A!=S&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof S=="function"&&S instanceof S)&&(g=!1)}return a.delete(t),a.delete(e),g}var iJ=nJ,aJ=Yc,sJ=_s,oJ=aJ(sJ,"DataView"),lJ=oJ,cJ=Yc,uJ=_s,dJ=cJ(uJ,"Promise"),fJ=dJ,hJ=Yc,pJ=_s,mJ=hJ(pJ,"Set"),Y8=mJ,gJ=Yc,vJ=_s,yJ=gJ(vJ,"WeakMap"),bJ=yJ,dw=lJ,fw=Y_,hw=fJ,pw=Y8,mw=bJ,X8=yo,yf=r8,k3="[object Map]",xJ="[object Object]",O3="[object Promise]",P3="[object Set]",E3="[object WeakMap]",T3="[object DataView]",wJ=yf(dw),_J=yf(fw),SJ=yf(hw),jJ=yf(pw),AJ=yf(mw),oc=X8;(dw&&oc(new dw(new ArrayBuffer(1)))!=T3||fw&&oc(new fw)!=k3||hw&&oc(hw.resolve())!=O3||pw&&oc(new pw)!=P3||mw&&oc(new mw)!=E3)&&(oc=function(t){var e=X8(t),r=e==xJ?t.constructor:void 0,n=r?yf(r):"";if(n)switch(n){case wJ:return T3;case _J:return k3;case SJ:return O3;case jJ:return P3;case AJ:return E3}return e});var NJ=oc,Hb=D8,kJ=z8,OJ=aY,PJ=iJ,C3=NJ,L3=wi,I3=H8,EJ=G8,TJ=1,$3="[object Arguments]",R3="[object Array]",Eg="[object Object]",CJ=Object.prototype,M3=CJ.hasOwnProperty;function LJ(t,e,r,n,i,a){var s=L3(t),o=L3(e),l=s?R3:C3(t),c=o?R3:C3(e);l=l==$3?Eg:l,c=c==$3?Eg:c;var u=l==Eg,f=c==Eg,p=l==c;if(p&&I3(t)){if(!I3(e))return!1;s=!0,u=!1}if(p&&!u)return a||(a=new Hb),s||EJ(t)?kJ(t,e,r,n,i,a):OJ(t,e,l,r,n,i,a);if(!(r&TJ)){var h=u&&M3.call(t,"__wrapped__"),v=f&&M3.call(e,"__wrapped__");if(h||v){var g=h?t.value():t,x=v?e.value():e;return a||(a=new Hb),i(g,x,r,n,a)}}return p?(a||(a=new Hb),PJ(t,e,r,n,i,a)):!1}var IJ=LJ,$J=IJ,D3=bo;function J8(t,e,r,n,i){return t===e?!0:t==null||e==null||!D3(t)&&!D3(e)?t!==t&&e!==e:$J(t,e,r,n,J8,i)}var hS=J8,RJ=D8,MJ=hS,DJ=1,BJ=2;function FJ(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new RJ;if(n)var p=n(c,u,l,t,e,f);if(!(p===void 0?MJ(u,c,DJ|BJ,n,f):p))return!1}}return!0}var UJ=FJ,zJ=jl;function qJ(t){return t===t&&!zJ(t)}var Z8=qJ,WJ=Z8,HJ=Vy;function VJ(t){for(var e=HJ(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,WJ(i)]}return e}var GJ=VJ;function KJ(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var Q8=KJ,YJ=UJ,XJ=GJ,JJ=Q8;function ZJ(t){var e=XJ(t);return e.length==1&&e[0][2]?JJ(e[0][0],e[0][1]):function(r){return r===t||YJ(r,t,e)}}var QJ=ZJ;function eZ(t,e){return t!=null&&e in Object(t)}var tZ=eZ,rZ=o8,nZ=uS,iZ=wi,aZ=dS,sZ=fS,oZ=Ty;function lZ(t,e,r){e=rZ(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=oZ(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&sZ(i)&&aZ(s,i)&&(iZ(t)||nZ(t)))}var cZ=lZ,uZ=tZ,dZ=cZ;function fZ(t,e){return t!=null&&dZ(t,e,uZ)}var hZ=fZ,pZ=hS,mZ=l8,gZ=hZ,vZ=V_,yZ=Z8,bZ=Q8,xZ=Ty,wZ=1,_Z=2;function SZ(t,e){return vZ(t)&&yZ(e)?bZ(xZ(t),e):function(r){var n=mZ(r,t);return n===void 0&&n===e?gZ(r,t):pZ(e,n,wZ|_Z)}}var jZ=SZ;function AZ(t){return t}var bf=AZ;function NZ(t){return function(e){return e==null?void 0:e[t]}}var kZ=NZ,OZ=Q_;function PZ(t){return function(e){return OZ(e,t)}}var EZ=PZ,TZ=kZ,CZ=EZ,LZ=V_,IZ=Ty;function $Z(t){return LZ(t)?TZ(IZ(t)):CZ(t)}var RZ=$Z,MZ=QJ,DZ=jZ,BZ=bf,FZ=wi,UZ=RZ;function zZ(t){return typeof t=="function"?t:t==null?BZ:typeof t=="object"?FZ(t)?DZ(t[0],t[1]):MZ(t):UZ(t)}var Ss=zZ;function qZ(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var eL=qZ;function WZ(t){return t!==t}var HZ=WZ;function VZ(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var GZ=VZ,KZ=eL,YZ=HZ,XZ=GZ;function JZ(t,e,r){return e===e?XZ(t,e,r):KZ(t,YZ,r)}var ZZ=JZ,QZ=ZZ;function eQ(t,e){var r=t==null?0:t.length;return!!r&&QZ(t,e,0)>-1}var tQ=eQ;function rQ(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var nQ=rQ;function iQ(){}var aQ=iQ,Vb=Y8,sQ=aQ,oQ=cS,lQ=1/0,cQ=Vb&&1/oQ(new Vb([,-0]))[1]==lQ?function(t){return new Vb(t)}:sQ,uQ=cQ,dQ=B8,fQ=tQ,hQ=nQ,pQ=U8,mQ=uQ,gQ=cS,vQ=200;function yQ(t,e,r){var n=-1,i=fQ,a=t.length,s=!0,o=[],l=o;if(r)s=!1,i=hQ;else if(a>=vQ){var c=e?null:mQ(t);if(c)return gQ(c);s=!1,i=pQ,l=new dQ}else l=e?[]:o;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;e&&l.push(f),o.push(u)}else i(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var bQ=yQ,xQ=Ss,wQ=bQ;function _Q(t,e){return t&&t.length?wQ(t,xQ(e)):[]}var SQ=_Q;const B3=ar(SQ);function tL(t,e,r){return e===!0?B3(t,r):bt(e)?B3(t,e):t}function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}var jQ=["ref"];function F3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(r),!0).forEach(function(n){Gy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nL(n.key),n)}}function NQ(t,e,r){return e&&U3(t.prototype,e),r&&U3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kQ(t,e,r){return e=uv(e),OQ(t,rL()?Reflect.construct(e,r||[],uv(t).constructor):e.apply(t,r))}function OQ(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PQ(t)}function PQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rL=function(){return!!t})()}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uv(t)}function EQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gw(t,e)}function Gy(t,e,r){return e=nL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nL(t){var e=TQ(t,"string");return Td(e)=="symbol"?e:e+""}function TQ(t,e){if(Td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CQ(t,e){if(t==null)return{};var r=LQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IQ(t){return t.value}function $Q(t,e){if(le.isValidElement(t))return le.cloneElement(t,e);if(typeof t=="function")return le.createElement(t,e);e.ref;var r=CQ(e,jQ);return le.createElement(lS,r)}var z3=1,ro=function(t){function e(){var r;AQ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=kQ(this,e,[].concat(i)),Gy(r,"lastBoundingBox",{width:-1,height:-1}),r}return EQ(e,t),NQ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>z3||Math.abs(i.height-this.lastBoundingBox.height)>z3)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Fs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((c||0)-h.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();p={top:((u||0)-v.height)/2}}else p=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Fs(Fs({},f),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=Fs(Fs({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return le.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},$Q(a,Fs(Fs({},this.props),{},{payload:tL(u,c,IQ)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Fs(Fs({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&Be(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(X.PureComponent);Gy(ro,"displayName","Legend");Gy(ro,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var q3=um,RQ=uS,MQ=wi,W3=q3?q3.isConcatSpreadable:void 0;function DQ(t){return MQ(t)||RQ(t)||!!(W3&&t&&t[W3])}var BQ=DQ,FQ=q8,UQ=BQ;function iL(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=UQ),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?iL(o,e-1,r,n,i):FQ(i,o):n||(i[i.length]=o)}return i}var aL=iL;function zQ(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++i];if(r(a[l],l,a)===!1)break}return e}}var qQ=zQ,WQ=qQ,HQ=WQ(),VQ=HQ,GQ=VQ,KQ=Vy;function YQ(t,e){return t&&GQ(t,e,KQ)}var sL=YQ,XQ=fm;function JQ(t,e){return function(r,n){if(r==null)return r;if(!XQ(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var ZQ=JQ,QQ=sL,eee=ZQ,tee=eee(QQ),pS=tee,ree=pS,nee=fm;function iee(t,e){var r=-1,n=nee(t)?Array(t.length):[];return ree(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var oL=iee;function aee(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var see=aee,H3=df;function oee(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=H3(t),s=e!==void 0,o=e===null,l=e===e,c=H3(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var lee=oee,cee=lee;function uee(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=cee(i[n],a[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var dee=uee,Gb=Z_,fee=Q_,hee=Ss,pee=oL,mee=see,gee=V8,vee=dee,yee=bf,bee=wi;function xee(t,e,r){e.length?e=Gb(e,function(a){return bee(a)?function(s){return fee(s,a.length===1?a[0]:a)}:a}):e=[yee];var n=-1;e=Gb(e,gee(hee));var i=pee(t,function(a,s,o){var l=Gb(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return mee(i,function(a,s){return vee(a,s,r)})}var wee=xee;function _ee(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var See=_ee,jee=See,V3=Math.max;function Aee(t,e,r){return e=V3(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=V3(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),jee(t,this,o)}}var Nee=Aee;function kee(t){return function(){return t}}var Oee=kee,Pee=Yc,Eee=function(){try{var t=Pee(Object,"defineProperty");return t({},"",{}),t}catch{}}(),lL=Eee,Tee=Oee,G3=lL,Cee=bf,Lee=G3?function(t,e){return G3(t,"toString",{configurable:!0,enumerable:!1,value:Tee(e),writable:!0})}:Cee,Iee=Lee,$ee=800,Ree=16,Mee=Date.now;function Dee(t){var e=0,r=0;return function(){var n=Mee(),i=Ree-(n-r);if(r=n,i>0){if(++e>=$ee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Bee=Dee,Fee=Iee,Uee=Bee,zee=Uee(Fee),qee=zee,Wee=bf,Hee=Nee,Vee=qee;function Gee(t,e){return Vee(Hee(t,e,Wee),t+"")}var Kee=Gee,Yee=K_,Xee=fm,Jee=dS,Zee=jl;function Qee(t,e,r){if(!Zee(r))return!1;var n=typeof e;return(n=="number"?Xee(r)&&Jee(e,r.length):n=="string"&&e in r)?Yee(r[e],t):!1}var Ky=Qee,ete=aL,tte=wee,rte=Kee,K3=Ky,nte=rte(function(t,e){if(t==null)return[];var r=e.length;return r>1&&K3(t,e[0],e[1])?e=[]:r>2&&K3(e[0],e[1],e[2])&&(e=[e[0]]),tte(t,ete(e,1),[])}),ite=nte;const mS=ar(ite);function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vw.apply(this,arguments)}function ate(t,e){return cte(t)||lte(t,e)||ote(t,e)||ste()}function ste(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ote(t,e){if(t){if(typeof t=="string")return Y3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y3(t,e)}}function Y3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function cte(t){if(Array.isArray(t))return t}function X3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(r),!0).forEach(function(n){ute(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ute(t,e,r){return e=dte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dte(t){var e=fte(t,"string");return wp(e)=="symbol"?e:e+""}function fte(t,e){if(wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hte(t){return Array.isArray(t)&&xn(t[0])&&xn(t[1])?t.join(" ~ "):t}var pte=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,p=e.itemSorter,h=e.wrapperClassName,v=e.labelClassName,g=e.label,x=e.labelFormatter,y=e.accessibilityLayer,w=y===void 0?!1:y,_=function(){if(u&&u.length){var I={padding:0,margin:0},B=(p?mS(u,p):u).map(function(F,U){if(F.type==="none")return null;var K=Kb({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},o),V=F.formatter||f||hte,M=F.value,Z=F.name,ne=M,ae=Z;if(V&&ne!=null&&ae!=null){var E=V(M,Z,F,U,u);if(Array.isArray(E)){var z=ate(E,2);ne=z[0],ae=z[1]}else ne=E}return le.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:K},xn(ae)?le.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,xn(ae)?le.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,le.createElement("span",{className:"recharts-tooltip-item-value"},ne),le.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return le.createElement("ul",{className:"recharts-tooltip-item-list",style:I},B)}return null},A=Kb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=Kb({margin:0},c),k=!Ot(g),P=k?g:"",C=It("recharts-default-tooltip",h),L=It("recharts-tooltip-label",v);k&&x&&u!==void 0&&u!==null&&(P=x(g,u));var D=w?{role:"status","aria-live":"assertive"}:{};return le.createElement("div",vw({className:C,style:A},D),le.createElement("p",{className:L,style:S},le.isValidElement(P)?P:"".concat(P)),_())};function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function Tg(t,e,r){return e=mte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mte(t){var e=gte(t,"string");return _p(e)=="symbol"?e:e+""}function gte(t,e){if(_p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ch="recharts-tooltip-wrapper",vte={visibility:"hidden"};function yte(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return It(ch,Tg(Tg(Tg(Tg({},"".concat(ch,"-right"),Be(r)&&e&&Be(e.x)&&r>=e.x),"".concat(ch,"-left"),Be(r)&&e&&Be(e.x)&&r<e.x),"".concat(ch,"-bottom"),Be(n)&&e&&Be(e.y)&&n>=e.y),"".concat(ch,"-top"),Be(n)&&e&&Be(e.y)&&n<e.y))}function J3(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&Be(a[n]))return a[n];var u=r[n]-o-i,f=r[n]+i;if(e[n])return s[n]?u:f;if(s[n]){var p=u,h=l[n];return p<h?Math.max(f,l[n]):Math.max(u,l[n])}var v=f+o,g=l[n]+c;return v>g?Math.max(u,l[n]):Math.max(f,l[n])}function bte(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function xte(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=J3({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=J3({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=bte({translateX:u,translateY:f,useTranslate3d:o})):c=vte,{cssProperties:c,cssClasses:yte({translateX:u,translateY:f,coordinate:r})}}function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function Z3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(r),!0).forEach(function(n){bw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _te(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uL(n.key),n)}}function Ste(t,e,r){return e&&_te(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jte(t,e,r){return e=dv(e),Ate(t,cL()?Reflect.construct(e,r||[],dv(t).constructor):e.apply(t,r))}function Ate(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nte(t)}function Nte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cL=function(){return!!t})()}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dv(t)}function kte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yw(t,e)}function bw(t,e,r){return e=uL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uL(t){var e=Ote(t,"string");return Cd(e)=="symbol"?e:e+""}function Ote(t,e){if(Cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var e4=1,Pte=function(t){function e(){var r;wte(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=jte(this,e,[].concat(i)),bw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),bw(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return kte(e,t),Ste(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>e4||Math.abs(n.height-this.state.lastBoundingBox.height)>e4)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,h=i.offset,v=i.position,g=i.reverseDirection,x=i.useTranslate3d,y=i.viewBox,w=i.wrapperStyle,_=xte({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:h,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),A=_.cssClasses,S=_.cssProperties,k=Q3(Q3({transition:p&&a?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return le.createElement("div",{tabIndex:-1,className:A,style:k,ref:function(C){n.wrapperNode=C}},c)}}])}(X.PureComponent),Ete=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xc={isSsr:Ete()};function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function t4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(r),!0).forEach(function(n){gS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fL(n.key),n)}}function Lte(t,e,r){return e&&Cte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ite(t,e,r){return e=fv(e),$te(t,dL()?Reflect.construct(e,r||[],fv(t).constructor):e.apply(t,r))}function $te(t,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rte(t)}function Rte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dL=function(){return!!t})()}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fv(t)}function Mte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xw(t,e)}function gS(t,e,r){return e=fL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fL(t){var e=Dte(t,"string");return Ld(e)=="symbol"?e:e+""}function Dte(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Bte(t){return t.dataKey}function Fte(t,e){return le.isValidElement(t)?le.cloneElement(t,e):typeof t=="function"?le.createElement(t,e):le.createElement(pte,e)}var Ri=function(t){function e(){return Tte(this,e),Ite(this,e,arguments)}return Mte(e,t),Lte(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,p=i.isAnimationActive,h=i.offset,v=i.payload,g=i.payloadUniqBy,x=i.position,y=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,A=i.wrapperStyle,S=v??[];f&&S.length&&(S=tL(v.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),g,Bte));var k=S.length>0;return le.createElement(Pte,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:p,active:a,coordinate:u,hasPayload:k,offset:h,position:x,reverseDirection:y,useTranslate3d:w,viewBox:_,wrapperStyle:A},Fte(c,r4(r4({},this.props),{},{payload:S})))}}])}(X.PureComponent);gS(Ri,"displayName","Tooltip");gS(Ri,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ute=_s,zte=function(){return Ute.Date.now()},qte=zte,Wte=/\s/;function Hte(t){for(var e=t.length;e--&&Wte.test(t.charAt(e)););return e}var Vte=Hte,Gte=Vte,Kte=/^\s+/;function Yte(t){return t&&t.slice(0,Gte(t)+1).replace(Kte,"")}var Xte=Yte,Jte=Xte,n4=jl,Zte=df,i4=NaN,Qte=/^[-+]0x[0-9a-f]+$/i,ere=/^0b[01]+$/i,tre=/^0o[0-7]+$/i,rre=parseInt;function nre(t){if(typeof t=="number")return t;if(Zte(t))return i4;if(n4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=n4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Jte(t);var r=ere.test(t);return r||tre.test(t)?rre(t.slice(2),r?2:8):Qte.test(t)?i4:+t}var hL=nre,ire=jl,Yb=qte,a4=hL,are="Expected a function",sre=Math.max,ore=Math.min;function lre(t,e,r){var n,i,a,s,o,l,c=0,u=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(are);e=a4(e)||0,ire(r)&&(u=!!r.leading,f="maxWait"in r,a=f?sre(a4(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function h(k){var P=n,C=i;return n=i=void 0,c=k,s=t.apply(C,P),s}function v(k){return c=k,o=setTimeout(y,e),u?h(k):s}function g(k){var P=k-l,C=k-c,L=e-P;return f?ore(L,a-C):L}function x(k){var P=k-l,C=k-c;return l===void 0||P>=e||P<0||f&&C>=a}function y(){var k=Yb();if(x(k))return w(k);o=setTimeout(y,g(k))}function w(k){return o=void 0,p&&n?h(k):(n=i=void 0,s)}function _(){o!==void 0&&clearTimeout(o),c=0,n=l=i=o=void 0}function A(){return o===void 0?s:w(Yb())}function S(){var k=Yb(),P=x(k);if(n=arguments,i=this,l=k,P){if(o===void 0)return v(l);if(f)return clearTimeout(o),o=setTimeout(y,e),h(l)}return o===void 0&&(o=setTimeout(y,e)),s}return S.cancel=_,S.flush=A,S}var cre=lre,ure=cre,dre=jl,fre="Expected a function";function hre(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(fre);return dre(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),ure(t,e,{leading:n,maxWait:e,trailing:i})}var pre=hre;const pL=ar(pre);function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function s4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(r),!0).forEach(function(n){mre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mre(t,e,r){return e=gre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gre(t){var e=vre(t,"string");return Sp(e)=="symbol"?e:e+""}function vre(t,e){if(Sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yre(t,e){return _re(t)||wre(t,e)||xre(t,e)||bre()}function bre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xre(t,e){if(t){if(typeof t=="string")return o4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o4(t,e)}}function o4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function _re(t){if(Array.isArray(t))return t}var Yy=X.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,p=t.maxHeight,h=t.children,v=t.debounce,g=v===void 0?0:v,x=t.id,y=t.className,w=t.onResize,_=t.style,A=_===void 0?{}:_,S=X.useRef(null),k=X.useRef();k.current=w,X.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var P=X.useState({containerWidth:i.width,containerHeight:i.height}),C=yre(P,2),L=C[0],D=C[1],O=X.useCallback(function(B,F){D(function(U){var K=Math.round(B),V=Math.round(F);return U.containerWidth===K&&U.containerHeight===V?U:{containerWidth:K,containerHeight:V}})},[]);X.useEffect(function(){var B=function(Z){var ne,ae=Z[0].contentRect,E=ae.width,z=ae.height;O(E,z),(ne=k.current)===null||ne===void 0||ne.call(k,E,z)};g>0&&(B=pL(B,g,{trailing:!0,leading:!1}));var F=new ResizeObserver(B),U=S.current.getBoundingClientRect(),K=U.width,V=U.height;return O(K,V),F.observe(S.current),function(){F.disconnect()}},[O,g]);var I=X.useMemo(function(){var B=L.containerWidth,F=L.containerHeight;if(B<0||F<0)return null;Ha(bc(s)||bc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ha(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=bc(s)?B:s,K=bc(l)?F:l;r&&r>0&&(U?K=U/r:K&&(U=K*r),p&&K>p&&(K=p)),Ha(U>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,K,s,l,u,f,r);var V=!Array.isArray(h)&&to(h.type).endsWith("Chart");return le.Children.map(h,function(M){return le.isValidElement(M)?X.cloneElement(M,Cg({width:U,height:K},V?{style:Cg({height:"100%",width:"100%",maxHeight:K,maxWidth:U},M.props.style)}:{})):M})},[r,h,l,p,f,u,L,s]);return le.createElement("div",{id:x?"".concat(x):void 0,className:It("recharts-responsive-container",y),style:Cg(Cg({},A),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:p}),ref:S},I)}),hm=function(e){return null};hm.displayName="Cell";function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function l4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ww(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l4(Object(r),!0).forEach(function(n){Sre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sre(t,e,r){return e=jre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jre(t){var e=Are(t,"string");return jp(e)=="symbol"?e:e+""}function Are(t,e){if(jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ju={widthCache:{},cacheCount:0},Nre=2e3,kre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},c4="recharts_measurement_span";function Ore(t){var e=ww({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Bh=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Xc.isSsr)return{width:0,height:0};var n=Ore(r),i=JSON.stringify({text:e,copyStyle:n});if(ju.widthCache[i])return ju.widthCache[i];try{var a=document.getElementById(c4);a||(a=document.createElement("span"),a.setAttribute("id",c4),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=ww(ww({},kre),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return ju.widthCache[i]=l,++ju.cacheCount>Nre&&(ju.cacheCount=0,ju.widthCache={}),l}catch{return{width:0,height:0}}},Pre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function hv(t,e){return Lre(t)||Cre(t,e)||Tre(t,e)||Ere()}function Ere(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tre(t,e){if(t){if(typeof t=="string")return u4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u4(t,e)}}function u4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Lre(t){if(Array.isArray(t))return t}function Ire(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rre(n.key),n)}}function $re(t,e,r){return e&&d4(t.prototype,e),r&&d4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rre(t){var e=Mre(t,"string");return Ap(e)=="symbol"?e:e+""}function Mre(t,e){if(Ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var f4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,h4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Fre=Object.keys(mL),Ku="NaN";function Ure(t,e){return t*mL[e]}var Lg=function(){function t(e,r){Ire(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Dre.test(r)&&(this.num=NaN,this.unit=""),Fre.includes(r)&&(this.num=Ure(e,r),this.unit="px")}return $re(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Bre.exec(r))!==null&&n!==void 0?n:[],a=hv(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function gL(t){if(t.includes(Ku))return Ku;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=f4.exec(e))!==null&&r!==void 0?r:[],i=hv(n,4),a=i[1],s=i[2],o=i[3],l=Lg.parse(a??""),c=Lg.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Ku;e=e.replace(f4,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=h4.exec(e))!==null&&f!==void 0?f:[],h=hv(p,4),v=h[1],g=h[2],x=h[3],y=Lg.parse(v??""),w=Lg.parse(x??""),_=g==="+"?y.add(w):y.subtract(w);if(_.isNaN())return Ku;e=e.replace(h4,_.toString())}return e}var p4=/\(([^()]*)\)/;function zre(t){for(var e=t;e.includes("(");){var r=p4.exec(e),n=hv(r,2),i=n[1];e=e.replace(p4,gL(i))}return e}function qre(t){var e=t.replace(/\s+/g,"");return e=zre(e),e=gL(e),e}function Wre(t){try{return qre(t)}catch{return Ku}}function Xb(t){var e=Wre(t.slice(5,-1));return e===Ku?"":e}var Hre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Vre=["dx","dy","angle","className","breakAll"];function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_w.apply(this,arguments)}function m4(t,e){if(t==null)return{};var r=Gre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function g4(t,e){return Jre(t)||Xre(t,e)||Yre(t,e)||Kre()}function Kre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yre(t,e){if(t){if(typeof t=="string")return v4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v4(t,e)}}function v4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Jre(t){if(Array.isArray(t))return t}var vL=/[ \f\n\r\t\v\u2028\u2029]+/,yL=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Ot(r)||(n?a=r.toString().split(""):a=r.toString().split(vL));var s=a.map(function(l){return{word:l,width:Bh(l,i).width}}),o=n?0:Bh("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Zre=function(e,r,n,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=Be(s),f=o,p=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(K,V){var M=V.word,Z=V.width,ne=K[K.length-1];if(ne&&(i==null||a||ne.width+Z+n<Number(i)))ne.words.push(M),ne.width+=Z+n;else{var ae={words:[M],width:Z};K.push(ae)}return K},[])},h=p(r),v=function(U){return U.reduce(function(K,V){return K.width>V.width?K:V})};if(!u)return h;for(var g="",x=function(U){var K=f.slice(0,U),V=yL({breakAll:c,style:l,children:K+g}).wordsWithComputedWidth,M=p(V),Z=M.length>s||v(M).width>Number(i);return[Z,M]},y=0,w=f.length-1,_=0,A;y<=w&&_<=f.length-1;){var S=Math.floor((y+w)/2),k=S-1,P=x(k),C=g4(P,2),L=C[0],D=C[1],O=x(S),I=g4(O,1),B=I[0];if(!L&&!B&&(y=S+1),L&&B&&(w=S-1),!L&&B){A=D;break}_++}return A||h},y4=function(e){var r=Ot(e)?[]:e.toString().split(vL);return[{words:r}]},Qre=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!Xc.isSsr){var l,c,u=yL({breakAll:s,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,p=u.spaceWidth;l=f,c=p}else return y4(i);return Zre({breakAll:s,children:i,maxLines:o,style:a},l,c,r,n)}return y4(i)},b4="#808080",Dc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,p=e.textAnchor,h=p===void 0?"start":p,v=e.verticalAnchor,g=v===void 0?"end":v,x=e.fill,y=x===void 0?b4:x,w=m4(e,Hre),_=X.useMemo(function(){return Qre({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),A=w.dx,S=w.dy,k=w.angle,P=w.className,C=w.breakAll,L=m4(w,Vre);if(!xn(n)||!xn(a))return null;var D=n+(Be(A)?A:0),O=a+(Be(S)?S:0),I;switch(g){case"start":I=Xb("calc(".concat(c,")"));break;case"middle":I=Xb("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:I=Xb("calc(".concat(_.length-1," * -").concat(o,")"));break}var B=[];if(f){var F=_[0].width,U=w.width;B.push("scale(".concat((Be(U)?U/F:1)/F,")"))}return k&&B.push("rotate(".concat(k,", ").concat(D,", ").concat(O,")")),B.length&&(L.transform=B.join(" ")),le.createElement("text",_w({},ft(L,!0),{x:D,y:O,className:It("recharts-text",P),textAnchor:h,fill:y.includes("url")?b4:y}),_.map(function(K,V){var M=K.words.join(C?"":" ");return le.createElement("tspan",{x:D,dy:V===0?I:o,key:"".concat(M,"-").concat(V)},M)}))};function hl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ene(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vS(t){let e,r,n;t.length!==2?(e=hl,r=(o,l)=>hl(t(o),l),n=(o,l)=>t(o)-l):(e=t===hl||t===ene?t:tne,r=t,n=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function tne(){return 0}function bL(t){return t===null?NaN:+t}function*rne(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const nne=vS(hl),pm=nne.right;vS(bL).center;class x4 extends Map{constructor(e,r=sne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(w4(this,e))}has(e){return super.has(w4(this,e))}set(e,r){return super.set(ine(this,e),r)}delete(e){return super.delete(ane(this,e))}}function w4({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function ine({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function ane({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function sne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function one(t=hl){if(t===hl)return xL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function xL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const lne=Math.sqrt(50),cne=Math.sqrt(10),une=Math.sqrt(2);function pv(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=lne?10:a>=cne?5:a>=une?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?pv(t,e,r*2):[o,l,c]}function Sw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?pv(e,t,r):pv(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function jw(t,e,r){return e=+e,t=+t,r=+r,pv(t,e,r)[2]}function Aw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?jw(e,t,r):jw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function _4(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function S4(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function wL(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?xL:one(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(e-c*f/l+p)),v=Math.min(n,Math.floor(e+(l-c)*f/l+p));wL(t,e,h,v,i)}const a=t[e];let s=r,o=n;for(uh(t,r,e),i(t[n],a)>0&&uh(t,r,n);s<o;){for(uh(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?uh(t,r,o):(++o,uh(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function uh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function dne(t,e,r){if(t=Float64Array.from(rne(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return S4(t);if(e>=1)return _4(t);var n,i=(n-1)*e,a=Math.floor(i),s=_4(wL(t,a).subarray(0,a+1)),o=S4(t.subarray(a+1));return s+(o-s)*(i-a)}}function fne(t,e,r=bL){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function hne(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function _a(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function xo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Nw=Symbol("implicit");function yS(){var t=new x4,e=[],r=[],n=Nw;function i(a){let s=t.get(a);if(s===void 0){if(n!==Nw)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new x4;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return yS(e,r).unknown(n)},_a.apply(i,arguments),i}function Np(){var t=yS().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var p=e().length,h=i<n,v=h?i:n,g=h?n:i;a=(g-v)/Math.max(1,p-l+c*2),o&&(a=Math.floor(a)),v+=(g-v-a*(p-l))*u,s=a*(1-l),o&&(v=Math.round(v),s=Math.round(s));var x=hne(p).map(function(y){return v+a*y});return r(h?x.reverse():x)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(p){return arguments.length?(o=!!p,f()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},t.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},t.copy=function(){return Np(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},_a.apply(f(),arguments)}function _L(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return _L(e())},t}function Fh(){return _L(Np.apply(null,arguments).paddingInner(1))}function bS(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function SL(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function mm(){}var kp=.7,mv=1/kp,cd="\\s*([+-]?\\d+)\\s*",Op="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pne=/^#([0-9a-f]{3,8})$/,mne=new RegExp(`^rgb\\(${cd},${cd},${cd}\\)$`),gne=new RegExp(`^rgb\\(${vs},${vs},${vs}\\)$`),vne=new RegExp(`^rgba\\(${cd},${cd},${cd},${Op}\\)$`),yne=new RegExp(`^rgba\\(${vs},${vs},${vs},${Op}\\)$`),bne=new RegExp(`^hsl\\(${Op},${vs},${vs}\\)$`),xne=new RegExp(`^hsla\\(${Op},${vs},${vs},${Op}\\)$`),j4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bS(mm,Pp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:A4,formatHex:A4,formatHex8:wne,formatHsl:_ne,formatRgb:N4,toString:N4});function A4(){return this.rgb().formatHex()}function wne(){return this.rgb().formatHex8()}function _ne(){return jL(this).formatHsl()}function N4(){return this.rgb().formatRgb()}function Pp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=pne.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?k4(e):r===3?new gi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Ig(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Ig(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=mne.exec(t))?new gi(e[1],e[2],e[3],1):(e=gne.exec(t))?new gi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vne.exec(t))?Ig(e[1],e[2],e[3],e[4]):(e=yne.exec(t))?Ig(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=bne.exec(t))?E4(e[1],e[2]/100,e[3]/100,1):(e=xne.exec(t))?E4(e[1],e[2]/100,e[3]/100,e[4]):j4.hasOwnProperty(t)?k4(j4[t]):t==="transparent"?new gi(NaN,NaN,NaN,0):null}function k4(t){return new gi(t>>16&255,t>>8&255,t&255,1)}function Ig(t,e,r,n){return n<=0&&(t=e=r=NaN),new gi(t,e,r,n)}function Sne(t){return t instanceof mm||(t=Pp(t)),t?(t=t.rgb(),new gi(t.r,t.g,t.b,t.opacity)):new gi}function kw(t,e,r,n){return arguments.length===1?Sne(t):new gi(t,e,r,n??1)}function gi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}bS(gi,kw,SL(mm,{brighter(t){return t=t==null?mv:Math.pow(mv,t),new gi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?kp:Math.pow(kp,t),new gi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gi(Nc(this.r),Nc(this.g),Nc(this.b),gv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O4,formatHex:O4,formatHex8:jne,formatRgb:P4,toString:P4}));function O4(){return`#${xc(this.r)}${xc(this.g)}${xc(this.b)}`}function jne(){return`#${xc(this.r)}${xc(this.g)}${xc(this.b)}${xc((isNaN(this.opacity)?1:this.opacity)*255)}`}function P4(){const t=gv(this.opacity);return`${t===1?"rgb(":"rgba("}${Nc(this.r)}, ${Nc(this.g)}, ${Nc(this.b)}${t===1?")":`, ${t})`}`}function gv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Nc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xc(t){return t=Nc(t),(t<16?"0":"")+t.toString(16)}function E4(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ua(t,e,r,n)}function jL(t){if(t instanceof Ua)return new Ua(t.h,t.s,t.l,t.opacity);if(t instanceof mm||(t=Pp(t)),!t)return new Ua;if(t instanceof Ua)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Ua(s,o,l,t.opacity)}function Ane(t,e,r,n){return arguments.length===1?jL(t):new Ua(t,e,r,n??1)}function Ua(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}bS(Ua,Ane,SL(mm,{brighter(t){return t=t==null?mv:Math.pow(mv,t),new Ua(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?kp:Math.pow(kp,t),new Ua(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new gi(Jb(t>=240?t-240:t+120,i,n),Jb(t,i,n),Jb(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ua(T4(this.h),$g(this.s),$g(this.l),gv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=gv(this.opacity);return`${t===1?"hsl(":"hsla("}${T4(this.h)}, ${$g(this.s)*100}%, ${$g(this.l)*100}%${t===1?")":`, ${t})`}`}}));function T4(t){return t=(t||0)%360,t<0?t+360:t}function $g(t){return Math.max(0,Math.min(1,t||0))}function Jb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const xS=t=>()=>t;function Nne(t,e){return function(r){return t+r*e}}function kne(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function One(t){return(t=+t)==1?AL:function(e,r){return r-e?kne(e,r,t):xS(isNaN(e)?r:e)}}function AL(t,e){var r=e-t;return r?Nne(t,r):xS(isNaN(t)?e:t)}const C4=function t(e){var r=One(e);function n(i,a){var s=r((i=kw(i)).r,(a=kw(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=AL(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function Pne(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Ene(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Tne(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=xf(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Cne(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function vv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Lne(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=xf(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Ow=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zb=new RegExp(Ow.source,"g");function Ine(t){return function(){return t}}function $ne(t){return function(e){return t(e)+""}}function Rne(t,e){var r=Ow.lastIndex=Zb.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=Ow.exec(t))&&(i=Zb.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:vv(n,i)})),r=Zb.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?$ne(l[0].x):Ine(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function xf(t,e){var r=typeof e,n;return e==null||r==="boolean"?xS(e):(r==="number"?vv:r==="string"?(n=Pp(e))?(e=n,C4):Rne:e instanceof Pp?C4:e instanceof Date?Cne:Ene(e)?Pne:Array.isArray(e)?Tne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Lne:vv)(t,e)}function wS(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Mne(t,e){e===void 0&&(e=t,t=xf);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function Dne(t){return function(){return t}}function yv(t){return+t}var L4=[0,1];function si(t){return t}function Pw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Dne(isNaN(e)?NaN:.5)}function Bne(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Fne(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Pw(i,n),a=r(s,a)):(n=Pw(n,i),a=r(a,s)),function(o){return a(n(o))}}function Une(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Pw(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=pm(t,o,1,n)-1;return a[l](i[l](o))}}function gm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xy(){var t=L4,e=L4,r=xf,n,i,a,s=si,o,l,c;function u(){var p=Math.min(t.length,e.length);return s!==si&&(s=Bne(t[0],t[p-1])),o=p>2?Une:Fne,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=o(t.map(n),e,r)))(n(s(p)))}return f.invert=function(p){return s(i((c||(c=o(e,t.map(n),vv)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,yv),u()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),u()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),r=wS,u()},f.clamp=function(p){return arguments.length?(s=p?!0:si,u()):s!==si},f.interpolate=function(p){return arguments.length?(r=p,u()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return n=p,i=h,u()}}function _S(){return Xy()(si,si)}function zne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function bv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Id(t){return t=bv(Math.abs(t)),t?t[1]:NaN}function qne(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Wne(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Hne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ep(t){if(!(e=Hne.exec(t)))throw new Error("invalid format: "+t);var e;return new SS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ep.prototype=SS.prototype;function SS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}SS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vne(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var NL;function Gne(t,e){var r=bv(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(NL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+bv(t,Math.max(0,e+a-1))[0]}function I4(t,e){var r=bv(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const $4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>I4(t*100,e),r:I4,s:Gne,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function R4(t){return t}var M4=Array.prototype.map,D4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Kne(t){var e=t.grouping===void 0||t.thousands===void 0?R4:qne(M4.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?R4:Wne(M4.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Ep(f);var p=f.fill,h=f.align,v=f.sign,g=f.symbol,x=f.zero,y=f.width,w=f.comma,_=f.precision,A=f.trim,S=f.type;S==="n"?(w=!0,S="g"):$4[S]||(_===void 0&&(_=12),A=!0,S="g"),(x||p==="0"&&h==="=")&&(x=!0,p="0",h="=");var k=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",P=g==="$"?n:/[%p]/.test(S)?s:"",C=$4[S],L=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function D(O){var I=k,B=P,F,U,K;if(S==="c")B=C(O)+B,O="";else{O=+O;var V=O<0||1/O<0;if(O=isNaN(O)?l:C(Math.abs(O),_),A&&(O=Vne(O)),V&&+O==0&&v!=="+"&&(V=!1),I=(V?v==="("?v:o:v==="-"||v==="("?"":v)+I,B=(S==="s"?D4[8+NL/3]:"")+B+(V&&v==="("?")":""),L){for(F=-1,U=O.length;++F<U;)if(K=O.charCodeAt(F),48>K||K>57){B=(K===46?i+O.slice(F+1):O.slice(F))+B,O=O.slice(0,F);break}}}w&&!x&&(O=e(O,1/0));var M=I.length+O.length+B.length,Z=M<y?new Array(y-M+1).join(p):"";switch(w&&x&&(O=e(Z+O,Z.length?y-B.length:1/0),Z=""),h){case"<":O=I+O+B+Z;break;case"=":O=I+Z+O+B;break;case"^":O=Z.slice(0,M=Z.length>>1)+I+O+B+Z.slice(M);break;default:O=Z+I+O+B;break}return a(O)}return D.toString=function(){return f+""},D}function u(f,p){var h=c((f=Ep(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Id(p)/3)))*3,g=Math.pow(10,-v),x=D4[8+v/3];return function(y){return h(g*y)+x}}return{format:c,formatPrefix:u}}var Rg,jS,kL;Yne({thousands:",",grouping:[3],currency:["$",""]});function Yne(t){return Rg=Kne(t),jS=Rg.format,kL=Rg.formatPrefix,Rg}function Xne(t){return Math.max(0,-Id(Math.abs(t)))}function Jne(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Id(e)/3)))*3-Id(Math.abs(t)))}function Zne(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Id(e)-Id(t))+1}function OL(t,e,r,n){var i=Aw(t,e,r),a;switch(n=Ep(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Jne(i,s))&&(n.precision=a),kL(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Zne(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Xne(i))&&(n.precision=a-(n.type==="%")*2);break}}return jS(n)}function Al(t){var e=t.domain;return t.ticks=function(r){var n=e();return Sw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return OL(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=jw(s,o,r),c===l)return n[i]=s,n[a]=o,e(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function xv(){var t=_S();return t.copy=function(){return gm(t,xv())},_a.apply(t,arguments),Al(t)}function PL(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,yv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return PL(t).unknown(e)},t=arguments.length?Array.from(t,yv):[0,1],Al(r)}function EL(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function B4(t){return Math.log(t)}function F4(t){return Math.exp(t)}function Qne(t){return-Math.log(-t)}function eie(t){return-Math.exp(-t)}function tie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rie(t){return t===10?tie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function nie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function U4(t){return(e,r)=>-t(-e,r)}function AS(t){const e=t(B4,F4),r=e.domain;let n=10,i,a;function s(){return i=nie(n),a=rie(n),r()[0]<0?(i=U4(i),a=U4(a),t(Qne,eie)):t(B4,F4),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let p=i(c),h=i(u),v,g;const x=o==null?10:+o;let y=[];if(!(n%1)&&h-p<x){if(p=Math.floor(p),h=Math.ceil(h),c>0){for(;p<=h;++p)for(v=1;v<n;++v)if(g=p<0?v/a(-p):v*a(p),!(g<c)){if(g>u)break;y.push(g)}}else for(;p<=h;++p)for(v=n-1;v>=1;--v)if(g=p>0?v/a(-p):v*a(p),!(g<c)){if(g>u)break;y.push(g)}y.length*2<x&&(y=Sw(c,u,x))}else y=Sw(p,h,Math.min(h-p,x)).map(a);return f?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ep(l)).precision==null&&(l.trim=!0),l=jS(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(EL(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function TL(){const t=AS(Xy()).domain([1,10]);return t.copy=()=>gm(t,TL()).base(t.base()),_a.apply(t,arguments),t}function z4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function q4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function NS(t){var e=1,r=t(z4(e),q4(e));return r.constant=function(n){return arguments.length?t(z4(e=+n),q4(e)):e},Al(r)}function CL(){var t=NS(Xy());return t.copy=function(){return gm(t,CL()).constant(t.constant())},_a.apply(t,arguments)}function W4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function iie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function aie(t){return t<0?-t*t:t*t}function kS(t){var e=t(si,si),r=1;function n(){return r===1?t(si,si):r===.5?t(iie,aie):t(W4(r),W4(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Al(e)}function OS(){var t=kS(Xy());return t.copy=function(){return gm(t,OS()).exponent(t.exponent())},_a.apply(t,arguments),t}function sie(){return OS.apply(null,arguments).exponent(.5)}function H4(t){return Math.sign(t)*t*t}function oie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function LL(){var t=_S(),e=[0,1],r=!1,n;function i(a){var s=oie(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(H4(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,yv)).map(H4)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return LL(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},_a.apply(i,arguments),Al(i)}function IL(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=fne(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[pm(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(hl),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return IL().domain(t).range(e).unknown(n)},_a.apply(a,arguments)}function $L(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[pm(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return $L().domain([t,e]).range(i).unknown(a)},_a.apply(Al(s),arguments)}function RL(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[pm(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return RL().domain(t).range(e).unknown(r)},_a.apply(i,arguments)}const Qb=new Date,ex=new Date;function wn(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>wn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(Qb.setTime(+a),ex.setTime(+s),t(Qb),t(ex),Math.floor(r(Qb,ex))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const wv=wn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?wn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):wv);wv.range;const Js=1e3,ha=Js*60,Zs=ha*60,fo=Zs*24,PS=fo*7,V4=fo*30,tx=fo*365,wc=wn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Js)},(t,e)=>(e-t)/Js,t=>t.getUTCSeconds());wc.range;const ES=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Js)},(t,e)=>{t.setTime(+t+e*ha)},(t,e)=>(e-t)/ha,t=>t.getMinutes());ES.range;const TS=wn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ha)},(t,e)=>(e-t)/ha,t=>t.getUTCMinutes());TS.range;const CS=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Js-t.getMinutes()*ha)},(t,e)=>{t.setTime(+t+e*Zs)},(t,e)=>(e-t)/Zs,t=>t.getHours());CS.range;const LS=wn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Zs)},(t,e)=>(e-t)/Zs,t=>t.getUTCHours());LS.range;const vm=wn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ha)/fo,t=>t.getDate()-1);vm.range;const Jy=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fo,t=>t.getUTCDate()-1);Jy.range;const ML=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fo,t=>Math.floor(t/fo));ML.range;function Jc(t){return wn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ha)/PS)}const Zy=Jc(0),_v=Jc(1),lie=Jc(2),cie=Jc(3),$d=Jc(4),uie=Jc(5),die=Jc(6);Zy.range;_v.range;lie.range;cie.range;$d.range;uie.range;die.range;function Zc(t){return wn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/PS)}const Qy=Zc(0),Sv=Zc(1),fie=Zc(2),hie=Zc(3),Rd=Zc(4),pie=Zc(5),mie=Zc(6);Qy.range;Sv.range;fie.range;hie.range;Rd.range;pie.range;mie.range;const IS=wn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());IS.range;const $S=wn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$S.range;const ho=wn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ho.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ho.range;const po=wn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());po.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});po.range;function DL(t,e,r,n,i,a){const s=[[wc,1,Js],[wc,5,5*Js],[wc,15,15*Js],[wc,30,30*Js],[a,1,ha],[a,5,5*ha],[a,15,15*ha],[a,30,30*ha],[i,1,Zs],[i,3,3*Zs],[i,6,6*Zs],[i,12,12*Zs],[n,1,fo],[n,2,2*fo],[r,1,PS],[e,1,V4],[e,3,3*V4],[t,1,tx]];function o(c,u,f){const p=u<c;p&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),v=h?h.range(c,+u+1):[];return p?v.reverse():v}function l(c,u,f){const p=Math.abs(u-c)/f,h=vS(([,,x])=>x).right(s,p);if(h===s.length)return t.every(Aw(c/tx,u/tx,f));if(h===0)return wv.every(Math.max(Aw(c,u,f),1));const[v,g]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return v.every(g)}return[o,l]}const[gie,vie]=DL(po,$S,Qy,ML,LS,TS),[yie,bie]=DL(ho,IS,Zy,vm,CS,ES);function rx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function nx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function xie(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=fh(i),u=hh(i),f=fh(a),p=hh(a),h=fh(s),v=hh(s),g=fh(o),x=hh(o),y=fh(l),w=hh(l),_={a:V,A:M,b:Z,B:ne,c:null,d:Z4,e:Z4,f:qie,g:Qie,G:tae,H:Fie,I:Uie,j:zie,L:BL,m:Wie,M:Hie,p:ae,q:E,Q:tk,s:rk,S:Vie,u:Gie,U:Kie,V:Yie,w:Xie,W:Jie,x:null,X:null,y:Zie,Y:eae,Z:rae,"%":ek},A={a:z,A:H,b:re,B:se,c:null,d:Q4,e:Q4,f:sae,g:gae,G:yae,H:nae,I:iae,j:aae,L:UL,m:oae,M:lae,p:ue,q:me,Q:tk,s:rk,S:cae,u:uae,U:dae,V:fae,w:hae,W:pae,x:null,X:null,y:mae,Y:vae,Z:bae,"%":ek},S={a:D,A:O,b:I,B,c:F,d:X4,e:X4,f:Rie,g:Y4,G:K4,H:J4,I:J4,j:Cie,L:$ie,m:Tie,M:Lie,p:L,q:Eie,Q:Die,s:Bie,S:Iie,u:Aie,U:Nie,V:kie,w:jie,W:Oie,x:U,X:K,y:Y4,Y:K4,Z:Pie,"%":Mie};_.x=k(r,_),_.X=k(n,_),_.c=k(e,_),A.x=k(r,A),A.X=k(n,A),A.c=k(e,A);function k(oe,pe){return function(xe){var he=[],Ce=-1,ie=0,J=oe.length,Fe,Oe,Ie;for(xe instanceof Date||(xe=new Date(+xe));++Ce<J;)oe.charCodeAt(Ce)===37&&(he.push(oe.slice(ie,Ce)),(Oe=G4[Fe=oe.charAt(++Ce)])!=null?Fe=oe.charAt(++Ce):Oe=Fe==="e"?" ":"0",(Ie=pe[Fe])&&(Fe=Ie(xe,Oe)),he.push(Fe),ie=Ce+1);return he.push(oe.slice(ie,Ce)),he.join("")}}function P(oe,pe){return function(xe){var he=dh(1900,void 0,1),Ce=C(he,oe,xe+="",0),ie,J;if(Ce!=xe.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(pe&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(ie=nx(dh(he.y,0,1)),J=ie.getUTCDay(),ie=J>4||J===0?Sv.ceil(ie):Sv(ie),ie=Jy.offset(ie,(he.V-1)*7),he.y=ie.getUTCFullYear(),he.m=ie.getUTCMonth(),he.d=ie.getUTCDate()+(he.w+6)%7):(ie=rx(dh(he.y,0,1)),J=ie.getDay(),ie=J>4||J===0?_v.ceil(ie):_v(ie),ie=vm.offset(ie,(he.V-1)*7),he.y=ie.getFullYear(),he.m=ie.getMonth(),he.d=ie.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),J="Z"in he?nx(dh(he.y,0,1)).getUTCDay():rx(dh(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(J+5)%7:he.w+he.U*7-(J+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,nx(he)):rx(he)}}function C(oe,pe,xe,he){for(var Ce=0,ie=pe.length,J=xe.length,Fe,Oe;Ce<ie;){if(he>=J)return-1;if(Fe=pe.charCodeAt(Ce++),Fe===37){if(Fe=pe.charAt(Ce++),Oe=S[Fe in G4?pe.charAt(Ce++):Fe],!Oe||(he=Oe(oe,xe,he))<0)return-1}else if(Fe!=xe.charCodeAt(he++))return-1}return he}function L(oe,pe,xe){var he=c.exec(pe.slice(xe));return he?(oe.p=u.get(he[0].toLowerCase()),xe+he[0].length):-1}function D(oe,pe,xe){var he=h.exec(pe.slice(xe));return he?(oe.w=v.get(he[0].toLowerCase()),xe+he[0].length):-1}function O(oe,pe,xe){var he=f.exec(pe.slice(xe));return he?(oe.w=p.get(he[0].toLowerCase()),xe+he[0].length):-1}function I(oe,pe,xe){var he=y.exec(pe.slice(xe));return he?(oe.m=w.get(he[0].toLowerCase()),xe+he[0].length):-1}function B(oe,pe,xe){var he=g.exec(pe.slice(xe));return he?(oe.m=x.get(he[0].toLowerCase()),xe+he[0].length):-1}function F(oe,pe,xe){return C(oe,e,pe,xe)}function U(oe,pe,xe){return C(oe,r,pe,xe)}function K(oe,pe,xe){return C(oe,n,pe,xe)}function V(oe){return s[oe.getDay()]}function M(oe){return a[oe.getDay()]}function Z(oe){return l[oe.getMonth()]}function ne(oe){return o[oe.getMonth()]}function ae(oe){return i[+(oe.getHours()>=12)]}function E(oe){return 1+~~(oe.getMonth()/3)}function z(oe){return s[oe.getUTCDay()]}function H(oe){return a[oe.getUTCDay()]}function re(oe){return l[oe.getUTCMonth()]}function se(oe){return o[oe.getUTCMonth()]}function ue(oe){return i[+(oe.getUTCHours()>=12)]}function me(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var pe=k(oe+="",_);return pe.toString=function(){return oe},pe},parse:function(oe){var pe=P(oe+="",!1);return pe.toString=function(){return oe},pe},utcFormat:function(oe){var pe=k(oe+="",A);return pe.toString=function(){return oe},pe},utcParse:function(oe){var pe=P(oe+="",!0);return pe.toString=function(){return oe},pe}}}var G4={"-":"",_:" ",0:"0"},On=/^\s*\d+/,wie=/^%/,_ie=/[\\^$*+?|[\]().{}]/g;function Kt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Sie(t){return t.replace(_ie,"\\$&")}function fh(t){return new RegExp("^(?:"+t.map(Sie).join("|")+")","i")}function hh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function jie(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Aie(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Nie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function kie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Oie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function K4(t,e,r){var n=On.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Y4(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Pie(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Eie(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Tie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function X4(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Cie(t,e,r){var n=On.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function J4(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Lie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Iie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function $ie(t,e,r){var n=On.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Rie(t,e,r){var n=On.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Mie(t,e,r){var n=wie.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Die(t,e,r){var n=On.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Bie(t,e,r){var n=On.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Z4(t,e){return Kt(t.getDate(),e,2)}function Fie(t,e){return Kt(t.getHours(),e,2)}function Uie(t,e){return Kt(t.getHours()%12||12,e,2)}function zie(t,e){return Kt(1+vm.count(ho(t),t),e,3)}function BL(t,e){return Kt(t.getMilliseconds(),e,3)}function qie(t,e){return BL(t,e)+"000"}function Wie(t,e){return Kt(t.getMonth()+1,e,2)}function Hie(t,e){return Kt(t.getMinutes(),e,2)}function Vie(t,e){return Kt(t.getSeconds(),e,2)}function Gie(t){var e=t.getDay();return e===0?7:e}function Kie(t,e){return Kt(Zy.count(ho(t)-1,t),e,2)}function FL(t){var e=t.getDay();return e>=4||e===0?$d(t):$d.ceil(t)}function Yie(t,e){return t=FL(t),Kt($d.count(ho(t),t)+(ho(t).getDay()===4),e,2)}function Xie(t){return t.getDay()}function Jie(t,e){return Kt(_v.count(ho(t)-1,t),e,2)}function Zie(t,e){return Kt(t.getFullYear()%100,e,2)}function Qie(t,e){return t=FL(t),Kt(t.getFullYear()%100,e,2)}function eae(t,e){return Kt(t.getFullYear()%1e4,e,4)}function tae(t,e){var r=t.getDay();return t=r>=4||r===0?$d(t):$d.ceil(t),Kt(t.getFullYear()%1e4,e,4)}function rae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Kt(e/60|0,"0",2)+Kt(e%60,"0",2)}function Q4(t,e){return Kt(t.getUTCDate(),e,2)}function nae(t,e){return Kt(t.getUTCHours(),e,2)}function iae(t,e){return Kt(t.getUTCHours()%12||12,e,2)}function aae(t,e){return Kt(1+Jy.count(po(t),t),e,3)}function UL(t,e){return Kt(t.getUTCMilliseconds(),e,3)}function sae(t,e){return UL(t,e)+"000"}function oae(t,e){return Kt(t.getUTCMonth()+1,e,2)}function lae(t,e){return Kt(t.getUTCMinutes(),e,2)}function cae(t,e){return Kt(t.getUTCSeconds(),e,2)}function uae(t){var e=t.getUTCDay();return e===0?7:e}function dae(t,e){return Kt(Qy.count(po(t)-1,t),e,2)}function zL(t){var e=t.getUTCDay();return e>=4||e===0?Rd(t):Rd.ceil(t)}function fae(t,e){return t=zL(t),Kt(Rd.count(po(t),t)+(po(t).getUTCDay()===4),e,2)}function hae(t){return t.getUTCDay()}function pae(t,e){return Kt(Sv.count(po(t)-1,t),e,2)}function mae(t,e){return Kt(t.getUTCFullYear()%100,e,2)}function gae(t,e){return t=zL(t),Kt(t.getUTCFullYear()%100,e,2)}function vae(t,e){return Kt(t.getUTCFullYear()%1e4,e,4)}function yae(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Rd(t):Rd.ceil(t),Kt(t.getUTCFullYear()%1e4,e,4)}function bae(){return"+0000"}function ek(){return"%"}function tk(t){return+t}function rk(t){return Math.floor(+t/1e3)}var Au,qL,WL;xae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xae(t){return Au=xie(t),qL=Au.format,Au.parse,WL=Au.utcFormat,Au.utcParse,Au}function wae(t){return new Date(t)}function _ae(t){return t instanceof Date?+t:+new Date(+t)}function RS(t,e,r,n,i,a,s,o,l,c){var u=_S(),f=u.invert,p=u.domain,h=c(".%L"),v=c(":%S"),g=c("%I:%M"),x=c("%I %p"),y=c("%a %d"),w=c("%b %d"),_=c("%B"),A=c("%Y");function S(k){return(l(k)<k?h:o(k)<k?v:s(k)<k?g:a(k)<k?x:n(k)<k?i(k)<k?y:w:r(k)<k?_:A)(k)}return u.invert=function(k){return new Date(f(k))},u.domain=function(k){return arguments.length?p(Array.from(k,_ae)):p().map(wae)},u.ticks=function(k){var P=p();return t(P[0],P[P.length-1],k??10)},u.tickFormat=function(k,P){return P==null?S:c(P)},u.nice=function(k){var P=p();return(!k||typeof k.range!="function")&&(k=e(P[0],P[P.length-1],k??10)),k?p(EL(P,k)):u},u.copy=function(){return gm(u,RS(t,e,r,n,i,a,s,o,l,c))},u}function Sae(){return _a.apply(RS(yie,bie,ho,IS,Zy,vm,CS,ES,wc,qL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jae(){return _a.apply(RS(gie,vie,po,$S,Qy,Jy,LS,TS,wc,WL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function e1(){var t=0,e=1,r,n,i,a,s=si,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(p){var h,v;return arguments.length?([h,v]=p,s=f(h,v),c):[s(0),s(1)]}}return c.range=u(xf),c.rangeRound=u(wS),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function Nl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function HL(){var t=Al(e1()(si));return t.copy=function(){return Nl(t,HL())},xo.apply(t,arguments)}function VL(){var t=AS(e1()).domain([1,10]);return t.copy=function(){return Nl(t,VL()).base(t.base())},xo.apply(t,arguments)}function GL(){var t=NS(e1());return t.copy=function(){return Nl(t,GL()).constant(t.constant())},xo.apply(t,arguments)}function MS(){var t=kS(e1());return t.copy=function(){return Nl(t,MS()).exponent(t.exponent())},xo.apply(t,arguments)}function Aae(){return MS.apply(null,arguments).exponent(.5)}function KL(){var t=[],e=si;function r(n){if(n!=null&&!isNaN(n=+n))return e((pm(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(hl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>dne(t,a/n))},r.copy=function(){return KL(e).domain(t)},xo.apply(r,arguments)}function t1(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,c=si,u,f=!1,p;function h(g){return isNaN(g=+g)?p:(g=.5+((g=+u(g))-a)*(n*g<n*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e,r]=g,i=u(t=+t),a=u(e=+e),s=u(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h):[t,e,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(c=g,h):c};function v(g){return function(x){var y,w,_;return arguments.length?([y,w,_]=x,c=Mne(g,[y,w,_]),h):[c(0),c(.5),c(1)]}}return h.range=v(xf),h.rangeRound=v(wS),h.unknown=function(g){return arguments.length?(p=g,h):p},function(g){return u=g,i=g(t),a=g(e),s=g(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function YL(){var t=Al(t1()(si));return t.copy=function(){return Nl(t,YL())},xo.apply(t,arguments)}function XL(){var t=AS(t1()).domain([.1,1,10]);return t.copy=function(){return Nl(t,XL()).base(t.base())},xo.apply(t,arguments)}function JL(){var t=NS(t1());return t.copy=function(){return Nl(t,JL()).constant(t.constant())},xo.apply(t,arguments)}function DS(){var t=kS(t1());return t.copy=function(){return Nl(t,DS()).exponent(t.exponent())},xo.apply(t,arguments)}function Nae(){return DS.apply(null,arguments).exponent(.5)}const nk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Np,scaleDiverging:YL,scaleDivergingLog:XL,scaleDivergingPow:DS,scaleDivergingSqrt:Nae,scaleDivergingSymlog:JL,scaleIdentity:PL,scaleImplicit:Nw,scaleLinear:xv,scaleLog:TL,scaleOrdinal:yS,scalePoint:Fh,scalePow:OS,scaleQuantile:IL,scaleQuantize:$L,scaleRadial:LL,scaleSequential:HL,scaleSequentialLog:VL,scaleSequentialPow:MS,scaleSequentialQuantile:KL,scaleSequentialSqrt:Aae,scaleSequentialSymlog:GL,scaleSqrt:sie,scaleSymlog:CL,scaleThreshold:RL,scaleTime:Sae,scaleUtc:jae,tickFormat:OL},Symbol.toStringTag,{value:"Module"}));var kae=df;function Oae(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!kae(s):r(s,o)))var o=s,l=a}return l}var r1=Oae;function Pae(t,e){return t>e}var ZL=Pae,Eae=r1,Tae=ZL,Cae=bf;function Lae(t){return t&&t.length?Eae(t,Cae,Tae):void 0}var Iae=Lae;const n1=ar(Iae);function $ae(t,e){return t<e}var QL=$ae,Rae=r1,Mae=QL,Dae=bf;function Bae(t){return t&&t.length?Rae(t,Dae,Mae):void 0}var Fae=Bae;const i1=ar(Fae);var Uae=Z_,zae=Ss,qae=oL,Wae=wi;function Hae(t,e){var r=Wae(t)?Uae:qae;return r(t,zae(e))}var Vae=Hae,Gae=aL,Kae=Vae;function Yae(t,e){return Gae(Kae(t,e),1)}var Xae=Yae;const Jae=ar(Xae);var Zae=hS;function Qae(t,e){return Zae(t,e)}var ese=Qae;const ym=ar(ese);var wf=1e9,tse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},FS,Or=!0,ya="[DecimalError] ",kc=ya+"Invalid argument: ",BS=ya+"Exponent out of range: ",_f=Math.floor,lc=Math.pow,rse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fi,Sn=1e7,Sr=7,eI=9007199254740991,jv=_f(eI/Sr),Ke={};Ke.absoluteValue=Ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ke.comparedTo=Ke.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ke.decimalPlaces=Ke.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Sr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ke.dividedBy=Ke.div=function(t){return no(this,new this.constructor(t))};Ke.dividedToIntegerBy=Ke.idiv=function(t){var e=this,r=e.constructor;return fr(no(e,new r(t),0,1),r.precision)};Ke.equals=Ke.eq=function(t){return!this.cmp(t)};Ke.exponent=function(){return on(this)};Ke.greaterThan=Ke.gt=function(t){return this.cmp(t)>0};Ke.greaterThanOrEqualTo=Ke.gte=function(t){return this.cmp(t)>=0};Ke.isInteger=Ke.isint=function(){return this.e>this.d.length-2};Ke.isNegative=Ke.isneg=function(){return this.s<0};Ke.isPositive=Ke.ispos=function(){return this.s>0};Ke.isZero=function(){return this.s===0};Ke.lessThan=Ke.lt=function(t){return this.cmp(t)<0};Ke.lessThanOrEqualTo=Ke.lte=function(t){return this.cmp(t)<1};Ke.logarithm=Ke.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Fi))throw Error(ya+"NaN");if(r.s<1)throw Error(ya+(r.s?"NaN":"-Infinity"));return r.eq(Fi)?new n(0):(Or=!1,e=no(Tp(r,a),Tp(t,a),a),Or=!0,fr(e,i))};Ke.minus=Ke.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nI(e,t):tI(e,(t.s=-t.s,t))};Ke.modulo=Ke.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ya+"NaN");return r.s?(Or=!1,e=no(r,t,0,1).times(t),Or=!0,r.minus(e)):fr(new n(r),i)};Ke.naturalExponential=Ke.exp=function(){return rI(this)};Ke.naturalLogarithm=Ke.ln=function(){return Tp(this)};Ke.negated=Ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ke.plus=Ke.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tI(e,t):nI(e,(t.s=-t.s,t))};Ke.precision=Ke.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(kc+t);if(e=on(i)+1,n=i.d.length-1,r=n*Sr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ke.squareRoot=Ke.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ya+"NaN")}for(t=on(o),Or=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=us(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=_f((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(no(o,a,s+2)).times(.5),us(a.d).slice(0,s)===(e=us(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(fr(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return Or=!0,fr(n,r)};Ke.times=Ke.mul=function(t){var e,r,n,i,a,s,o,l,c,u=this,f=u.constructor,p=u.d,h=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=p.length,c=h.length,l<c&&(a=p,p=h,h=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+h[n]*p[i-n-1]+e,a[i--]=o%Sn|0,e=o/Sn|0;a[i]=(a[i]+e)%Sn|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Or?fr(t,f.precision):t};Ke.toDecimalPlaces=Ke.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(xs(t,0,wf),e===void 0?e=n.rounding:xs(e,0,8),fr(r,t+on(r)+1,e))};Ke.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Bc(n,!0):(xs(t,0,wf),e===void 0?e=i.rounding:xs(e,0,8),n=fr(new i(n),t+1,e),r=Bc(n,!0,t+1)),r};Ke.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Bc(i):(xs(t,0,wf),e===void 0?e=a.rounding:xs(e,0,8),n=fr(new a(i),t+on(i)+1,e),r=Bc(n.abs(),!1,t+on(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ke.toInteger=Ke.toint=function(){var t=this,e=t.constructor;return fr(new e(t),on(t)+1,e.rounding)};Ke.toNumber=function(){return+this};Ke.toPower=Ke.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Fi);if(o=new l(o),!o.s){if(t.s<1)throw Error(ya+"Infinity");return o}if(o.eq(Fi))return o;if(n=l.precision,t.eq(Fi))return fr(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=u<0?-u:u)<=eI){for(i=new l(Fi),e=Math.ceil(n/Sr+4),Or=!1;r%2&&(i=i.times(o),ak(i.d,e)),r=_f(r/2),r!==0;)o=o.times(o),ak(o.d,e);return Or=!0,t.s<0?new l(Fi).div(i):fr(i,n)}}else if(a<0)throw Error(ya+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Or=!1,i=t.times(Tp(o,n+c)),Or=!0,i=rI(i),i.s=a,i};Ke.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=on(i),n=Bc(i,r<=a.toExpNeg||r>=a.toExpPos)):(xs(t,1,wf),e===void 0?e=a.rounding:xs(e,0,8),i=fr(new a(i),t,e),r=on(i),n=Bc(i,t<=r||r<=a.toExpNeg,t)),n};Ke.toSignificantDigits=Ke.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(xs(t,1,wf),e===void 0?e=n.rounding:xs(e,0,8)),fr(new n(r),t,e)};Ke.toString=Ke.valueOf=Ke.val=Ke.toJSON=Ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=on(t),r=t.constructor;return Bc(t,e<=r.toExpNeg||e>=r.toExpPos)};function tI(t,e){var r,n,i,a,s,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Or?fr(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/Sr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Sn|0,l[a]%=Sn;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Or?fr(e,f):e}function xs(t,e,r){if(t!==~~t||t<e||t>r)throw Error(kc+t)}function us(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Sr-n.length,r&&(a+=Go(r)),a+=n;s=t[e],n=s+"",r=Sr-n.length,r&&(a+=Go(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var no=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Sn|0,s=a/Sn|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Sn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,u,f,p,h,v,g,x,y,w,_,A,S,k,P,C,L=n.constructor,D=n.s==i.s?1:-1,O=n.d,I=i.d;if(!n.s)return new L(n);if(!i.s)throw Error(ya+"Division by zero");for(l=n.e-i.e,P=I.length,S=O.length,h=new L(D),v=h.d=[],c=0;I[c]==(O[c]||0);)++c;if(I[c]>(O[c]||0)&&--l,a==null?w=a=L.precision:s?w=a+(on(n)-on(i))+1:w=a,w<0)return new L(0);if(w=w/Sr+2|0,c=0,P==1)for(u=0,I=I[0],w++;(c<S||u)&&w--;c++)_=u*Sn+(O[c]||0),v[c]=_/I|0,u=_%I|0;else{for(u=Sn/(I[0]+1)|0,u>1&&(I=t(I,u),O=t(O,u),P=I.length,S=O.length),A=P,g=O.slice(0,P),x=g.length;x<P;)g[x++]=0;C=I.slice(),C.unshift(0),k=I[0],I[1]>=Sn/2&&++k;do u=0,o=e(I,g,P,x),o<0?(y=g[0],P!=x&&(y=y*Sn+(g[1]||0)),u=y/k|0,u>1?(u>=Sn&&(u=Sn-1),f=t(I,u),p=f.length,x=g.length,o=e(f,g,p,x),o==1&&(u--,r(f,P<p?C:I,p))):(u==0&&(o=u=1),f=I.slice()),p=f.length,p<x&&f.unshift(0),r(g,f,x),o==-1&&(x=g.length,o=e(I,g,P,x),o<1&&(u++,r(g,P<x?C:I,x))),x=g.length):o===0&&(u++,g=[0]),v[c++]=u,o&&g[0]?g[x++]=O[A]||0:(g=[O[A]],x=1);while((A++<S||g[0]!==void 0)&&w--)}return v[0]||v.shift(),h.e=l,fr(h,s?a+on(h)+1:a)}}();function rI(t,e){var r,n,i,a,s,o,l=0,c=0,u=t.constructor,f=u.precision;if(on(t)>16)throw Error(BS+on(t));if(!t.s)return new u(Fi);for(Or=!1,o=f,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(lc(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new u(Fi),u.precision=o;;){if(i=fr(i.times(t),o),r=r.times(++l),s=a.plus(no(i,r,o)),us(s.d).slice(0,o)===us(a.d).slice(0,o)){for(;c--;)a=fr(a.times(a),o);return u.precision=f,e==null?(Or=!0,fr(a,f)):a}a=s}}function on(t){for(var e=t.e*Sr,r=t.d[0];r>=10;r/=10)e++;return e}function ix(t,e,r){if(e>t.LN10.sd())throw Or=!0,r&&(t.precision=r),Error(ya+"LN10 precision limit exceeded");return fr(new t(t.LN10),e)}function Go(t){for(var e="";t--;)e+="0";return e}function Tp(t,e){var r,n,i,a,s,o,l,c,u,f=1,p=10,h=t,v=h.d,g=h.constructor,x=g.precision;if(h.s<1)throw Error(ya+(h.s?"NaN":"-Infinity"));if(h.eq(Fi))return new g(0);if(e==null?(Or=!1,c=x):c=e,h.eq(10))return e==null&&(Or=!0),ix(g,c);if(c+=p,g.precision=c,r=us(v),n=r.charAt(0),a=on(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=us(h.d),n=r.charAt(0),f++;a=on(h),n>1?(h=new g("0."+r),a++):h=new g(n+"."+r.slice(1))}else return l=ix(g,c+2,x).times(a+""),h=Tp(new g(n+"."+r.slice(1)),c-p).plus(l),g.precision=x,e==null?(Or=!0,fr(h,x)):h;for(o=s=h=no(h.minus(Fi),h.plus(Fi),c),u=fr(h.times(h),c),i=3;;){if(s=fr(s.times(u),c),l=o.plus(no(s,new g(i),c)),us(l.d).slice(0,c)===us(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(ix(g,c+2,x).times(a+""))),o=no(o,new g(f),c),g.precision=x,e==null?(Or=!0,fr(o,x)):o;o=l,i+=2}}function ik(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=_f(r/Sr),t.d=[],n=(r+1)%Sr,r<0&&(n+=Sr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Sr;n<i;)t.d.push(+e.slice(n,n+=Sr));e=e.slice(n),n=Sr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Or&&(t.e>jv||t.e<-jv))throw Error(BS+r)}else t.s=0,t.e=0,t.d=[0];return t}function fr(t,e,r){var n,i,a,s,o,l,c,u,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Sr,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/Sr),a=f.length,u>=a)return t;for(c=a=f[u],s=1;a>=10;a/=10)s++;n%=Sr,i=n-Sr+s}if(r!==void 0&&(a=lc(10,s-i-1),o=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/lc(10,s-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=on(t),f.length=1,e=e-a-1,f[0]=lc(10,(Sr-e%Sr)%Sr),t.e=_f(-e/Sr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=lc(10,Sr-n),f[u]=i>0?(c/lc(10,s-i)%lc(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==Sn&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=Sn)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Or&&(t.e>jv||t.e<-jv))throw Error(BS+on(t));return t}function nI(t,e){var r,n,i,a,s,o,l,c,u,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Or?fr(e,h):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(h/Sr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Sn-1;--l[a],l[i]+=Sn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Or?fr(e,h):e):new p(0)}function Bc(t,e,r){var n,i=on(t),a=us(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Go(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Go(-i-1)+a,r&&(n=r-s)>0&&(a+=Go(n))):i>=s?(a+=Go(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Go(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Go(n))),t.s<0?"-"+a:a}function ak(t,e){if(t.length>e)return t.length=e,!0}function iI(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(kc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return ik(s,a.toString())}else if(typeof a!="string")throw Error(kc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,rse.test(a))ik(s,a);else throw Error(kc+a)}if(i.prototype=Ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=iI,i.config=i.set=nse,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function nse(t){if(!t||typeof t!="object")throw Error(ya+"Object expected");var e,r,n,i=["precision",1,wf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(_f(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(kc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(kc+r+": "+n);return this}var FS=iI(tse);Fi=new FS(1);const or=FS;function ise(t){return lse(t)||ose(t)||sse(t)||ase()}function ase(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sse(t,e){if(t){if(typeof t=="string")return Ew(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ew(t,e)}}function ose(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function lse(t){if(Array.isArray(t))return Ew(t)}function Ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var cse=function(e){return e},aI={},sI=function(e){return e===aI},sk=function(e){return function r(){return arguments.length===0||arguments.length===1&&sI(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},use=function t(e,r){return e===1?r:sk(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==aI}).length;return s>=e?r.apply(void 0,i):t(e-s,sk(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(f){return sI(f)?l.shift():f});return r.apply(void 0,ise(u).concat(l))}))})},a1=function(e){return use(e.length,e)},Tw=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},dse=a1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),fse=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return cse;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},Cw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},oI=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function hse(t){var e;return t===0?e=1:e=Math.floor(new or(t).abs().log(10).toNumber())+1,e}function pse(t,e,r){for(var n=new or(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var mse=a1(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),gse=a1(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),vse=a1(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const s1={rangeStep:pse,getDigitCount:hse,interpolateNumber:mse,uninterpolateNumber:gse,uninterpolateTruncation:vse};function Lw(t){return xse(t)||bse(t)||lI(t)||yse()}function yse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function xse(t){if(Array.isArray(t))return Iw(t)}function Cp(t,e){return Sse(t)||_se(t,e)||lI(t,e)||wse()}function wse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lI(t,e){if(t){if(typeof t=="string")return Iw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iw(t,e)}}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _se(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function Sse(t){if(Array.isArray(t))return t}function cI(t){var e=Cp(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function uI(t,e,r){if(t.lte(0))return new or(0);var n=s1.getDigitCount(t.toNumber()),i=new or(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new or(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?l:new or(Math.ceil(l))}function jse(t,e,r){var n=1,i=new or(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new or(10).pow(s1.getDigitCount(t)-1),i=new or(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new or(Math.floor(t)))}else t===0?i=new or(Math.floor((e-1)/2)):r||(i=new or(Math.floor(t)));var s=Math.floor((e-1)/2),o=fse(dse(function(l){return i.add(new or(l-s).mul(n)).toNumber()}),Tw);return o(0,e)}function dI(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new or(0),tickMin:new or(0),tickMax:new or(0)};var a=uI(new or(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new or(0):(s=new or(t).add(e).div(2),s=s.sub(new or(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new or(e).sub(s).div(a).toNumber()),c=o+l+1;return c>r?dI(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,o=e>0?o:o+(r-c)),{step:a,tickMin:s.sub(new or(o).mul(a)),tickMax:s.add(new or(l).mul(a))})}function Ase(t){var e=Cp(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=cI([r,n]),l=Cp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(Lw(Tw(0,i-1).map(function(){return 1/0}))):[].concat(Lw(Tw(0,i-1).map(function(){return-1/0})),[u]);return r>n?Cw(f):f}if(c===u)return jse(c,i,a);var p=dI(c,u,s,a),h=p.step,v=p.tickMin,g=p.tickMax,x=s1.rangeStep(v,g.add(new or(.1).mul(h)),h);return r>n?Cw(x):x}function Nse(t,e){var r=Cp(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=cI([n,i]),o=Cp(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),f=uI(new or(c).sub(l).div(u-1),a,0),p=[].concat(Lw(s1.rangeStep(new or(l),new or(c).sub(new or(.99).mul(f)),f)),[c]);return n>i?Cw(p):p}var kse=oI(Ase),Ose=oI(Nse),Pse="Invariant failed";function Fc(t,e){throw new Error(Pse)}var Ese=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Av.apply(this,arguments)}function Tse(t,e){return $se(t)||Ise(t,e)||Lse(t,e)||Cse()}function Cse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lse(t,e){if(t){if(typeof t=="string")return ok(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ok(t,e)}}function ok(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ise(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function $se(t){if(Array.isArray(t))return t}function Rse(t,e){if(t==null)return{};var r=Mse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Dse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pI(n.key),n)}}function Fse(t,e,r){return e&&Bse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Use(t,e,r){return e=Nv(e),zse(t,fI()?Reflect.construct(e,r||[],Nv(t).constructor):e.apply(t,r))}function zse(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qse(t)}function qse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fI=function(){return!!t})()}function Nv(t){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nv(t)}function Wse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$w(t,e)}function $w(t,e){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$w(t,e)}function hI(t,e,r){return e=pI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pI(t){var e=Hse(t,"string");return Md(e)=="symbol"?e:e+""}function Hse(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bm=function(t){function e(){return Dse(this,e),Use(this,e,arguments)}return Wse(e,t),Fse(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,p=Rse(n,Ese),h=ft(p,!1);this.props.direction==="x"&&u.type!=="number"&&Fc();var v=l.map(function(g){var x=c(g,o),y=x.x,w=x.y,_=x.value,A=x.errorVal;if(!A)return null;var S=[],k,P;if(Array.isArray(A)){var C=Tse(A,2);k=C[0],P=C[1]}else k=P=A;if(a==="vertical"){var L=u.scale,D=w+i,O=D+s,I=D-s,B=L(_-k),F=L(_+P);S.push({x1:F,y1:O,x2:F,y2:I}),S.push({x1:B,y1:D,x2:F,y2:D}),S.push({x1:B,y1:O,x2:B,y2:I})}else if(a==="horizontal"){var U=f.scale,K=y+i,V=K-s,M=K+s,Z=U(_-k),ne=U(_+P);S.push({x1:V,y1:ne,x2:M,y2:ne}),S.push({x1:K,y1:Z,x2:K,y2:ne}),S.push({x1:V,y1:Z,x2:M,y2:Z})}return le.createElement(Gt,Av({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},h),S.map(function(ae){return le.createElement("line",Av({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return le.createElement(Gt,{className:"recharts-errorBars"},v)}}])}(le.Component);hI(bm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});hI(bm,"displayName","ErrorBar");function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function lk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ec(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(r),!0).forEach(function(n){Vse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vse(t,e,r){return e=Gse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gse(t){var e=Kse(t,"string");return Lp(e)=="symbol"?e:e+""}function Kse(t,e){if(Lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mI=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=$i(r,ro);if(!s)return null;var o=ro.defaultProps,l=o!==void 0?ec(ec({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(n||[]).reduce(function(u,f){var p=f.item,h=f.props,v=h.sectors||h.data||[];return u.concat(v.map(function(g){return{type:s.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(n||[]).map(function(u){var f=u.item,p=f.type.defaultProps,h=p!==void 0?ec(ec({},p),f.props):{},v=h.dataKey,g=h.name,x=h.legendType,y=h.hide;return{inactive:y,dataKey:v,type:l.iconType||x||"square",color:US(f),value:g||v,payload:h}}),ec(ec(ec({},l),ro.getWithHeight(s,i)),{},{payload:c,item:s})};function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function ck(t){return Zse(t)||Jse(t)||Xse(t)||Yse()}function Yse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xse(t,e){if(t){if(typeof t=="string")return Rw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rw(t,e)}}function Jse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zse(t){if(Array.isArray(t))return Rw(t)}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(r),!0).forEach(function(n){ud(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ud(t,e,r){return e=Qse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qse(t){var e=eoe(t,"string");return Ip(e)=="symbol"?e:e+""}function eoe(t,e){if(Ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yn(t,e,r){return Ot(t)||Ot(e)?r:xn(e)?Wi(t,e,r):bt(e)?e(t):r}function Uh(t,e,r,n){var i=Jae(t,function(o){return yn(o,e)});if(r==="number"){var a=i.filter(function(o){return Be(o)||parseFloat(o)});return a.length?[i1(a),n1(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!Ot(o)}):i;return s.map(function(o){return xn(o)||o instanceof Date?o:""})}var toe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,p=c>=o-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(ii(f-u)!==ii(p-f)){var v=[];if(ii(p-f)===ii(l[1]-l[0])){h=p;var g=f+l[1]-l[0];v[0]=Math.min(g,(g+u)/2),v[1]=Math.max(g,(g+u)/2)}else{h=u;var x=p+l[1]-l[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var y=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){s=i[c].index;break}}else{var w=Math.min(u,p),_=Math.max(u,p);if(e>(w+f)/2&&e<=(_+f)/2){s=i[c].index;break}}}else for(var A=0;A<o;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<o-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===o-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){s=n[A].index;break}return s},US=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Fr(Fr({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},roe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,f=Object.keys(u),p=0,h=f.length;p<h;p++){var v=u[f[p]],g=v.items,x=v.cateAxisId,y=g.filter(function(P){return to(P.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,_=w!==void 0?Fr(Fr({},w),y[0].props):y[0].props,A=_.barSize,S=_[x];s[S]||(s[S]=[]);var k=Ot(A)?r:A;s[S].push({item:y[0],stackList:y.slice(1),barSize:Ot(k)?void 0:ai(k,n,0)})}}return s},noe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=ai(r,i,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var p=!1,h=i/l,v=s.reduce(function(A,S){return A+S.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&h>0&&(p=!0,h*=.9,v=l*h);var g=(i-v)/2>>0,x={offset:g-c,size:0};u=s.reduce(function(A,S){var k={item:S.item,position:{offset:x.offset+x.size+c,size:p?h:S.barSize}},P=[].concat(ck(A),[k]);return x=P[P.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){P.push({item:C,position:x})}),P},f)}else{var y=ai(n,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var w=(i-2*y-(l-1)*c)/l;w>1&&(w>>=0);var _=o===+o?Math.min(w,o):w;u=s.reduce(function(A,S,k){var P=[].concat(ck(A),[{item:S.item,position:{offset:y+(w+c)*k+(w-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){P.push({item:C,position:P[P.length-1].position})}),P},f)}return u},ioe=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=mI({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,p=u.height,h=c.align,v=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&h!=="center"&&Be(e[h]))return Fr(Fr({},e),{},ud({},h,e[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&v!=="middle"&&Be(e[v]))return Fr(Fr({},e),{},ud({},v,e[v]+(p||0)))}return e},aoe=function(e,r,n){return Ot(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},gI=function(e,r,n,i,a){var s=r.props.children,o=Hi(s,bm).filter(function(c){return aoe(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=yn(u,n);if(Ot(f))return c;var p=Array.isArray(f)?[i1(f),n1(f)]:[f,f],h=l.reduce(function(v,g){var x=yn(u,g,0),y=p[0]-Math.abs(Array.isArray(x)?x[0]:x),w=p[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},soe=function(e,r,n,i,a){var s=r.map(function(o){return gI(e,o,n,a,i)}).filter(function(o){return!Ot(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},vI=function(e,r,n,i,a){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&gI(e,l,c,i)||Uh(e,c,n,a)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},yI=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},bI=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},Qs=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ii(o[0]-o[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:i(p)+c,value:f,offset:c}});return u.filter(function(f){return!dm(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:i(f)+c,value:f,index:p,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,p){return{coordinate:i(f)+c,value:a?a[f]:f,index:p,offset:c}})},ax=new WeakMap,Mg=function(e,r){if(typeof r!="function")return e;ax.has(e)||ax.set(e,new WeakMap);var n=ax.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},xI=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Np(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:xv(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Fh(),realScaleType:"point"}:a==="category"?{scale:Np(),realScaleType:"band"}:{scale:xv(),realScaleType:"linear"};if(Rc(i)){var l="scale".concat(zy(i));return{scale:(nk[l]||Fh)(),realScaleType:nk[l]?l:"point"}}return bt(i)?{scale:i}:{scale:Fh(),realScaleType:"point"}},dk=1e-4,wI=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-dk,s=Math.max(i[0],i[1])+dk,o=e(r[0]),l=e(r[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([r[0],r[n-1]])}},ooe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},loe=function(e,r){if(!r||r.length!==2||!Be(r[0])||!Be(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Be(e[0])||e[0]<n)&&(a[0]=n),(!Be(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},coe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=dm(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},uoe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=dm(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},doe={sign:coe,expand:EG,none:Pd,silhouette:TG,wiggle:CG,positive:uoe},foe=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=doe[n],s=PG().keys(i).value(function(o,l){return+yn(o,l,0)}).order(ow).offset(a);return s(e)},hoe=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,p){var h,v=(h=p.type)!==null&&h!==void 0&&h.defaultProps?Fr(Fr({},p.type.defaultProps),p.props):p.props,g=v.stackId,x=v.hide;if(x)return f;var y=v[n],w=f[y]||{hasStack:!1,stackGroups:{}};if(xn(g)){var _=w.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(p),w.hasStack=!0,w.stackGroups[g]=_}else w.stackGroups[gf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return Fr(Fr({},f),{},ud({},y,w))},l),u={};return Object.keys(c).reduce(function(f,p){var h=c[p];if(h.hasStack){var v={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,x){var y=h.stackGroups[x];return Fr(Fr({},g),{},ud({},x,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:foe(e,y.items,a)}))},v)}return Fr(Fr({},f),{},ud({},p,h))},u)},_I=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=kse(c,a,o);return e.domain([i1(u),n1(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),p=Ose(f,a,o);return{niceTicks:p}}return null};function fk(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ot(i[e.dataKey])){var o=Q0(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=yn(i,Ot(s)?e.dataKey:s);return Ot(l)?null:e.scale(l)}var hk=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=yn(s,r.dataKey,r.domain[o]);return Ot(l)?null:r.scale(l)-a/2+i},poe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},moe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Fr(Fr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(xn(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},goe=function(e){return e.reduce(function(r,n){return[i1(n.concat([r[0]]).filter(Be)),n1(n.concat([r[1]]).filter(Be))]},[1/0,-1/0])},SI=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var f=goe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},pk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mw=function(e,r,n){if(bt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Be(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(pk.test(e[0])){var a=+pk.exec(e[0])[1];i[0]=r[0]-a}else bt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Be(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(mk.test(e[1])){var s=+mk.exec(e[1])[1];i[1]=r[1]+s}else bt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},kv=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=mS(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},gk=function(e,r,n){return!e||!e.length||ym(e,Wi(n,"type.defaultProps.domain"))?r:e},jI=function(e,r){var n=e.type.defaultProps?Fr(Fr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Fr(Fr({},ft(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:US(e),value:yn(r,i),type:l,payload:r,chartType:c,hide:u})};function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(r),!0).forEach(function(n){AI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AI(t,e,r){return e=voe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function voe(t){var e=yoe(t,"string");return $p(e)=="symbol"?e:e+""}function yoe(t,e){if($p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function boe(t,e){return Soe(t)||_oe(t,e)||woe(t,e)||xoe()}function xoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function woe(t,e){if(t){if(typeof t=="string")return yk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yk(t,e)}}function yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _oe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Soe(t){if(Array.isArray(t))return t}var Ov=Math.PI/180,joe=function(e){return e*180/Math.PI},br=function(e,r,n,i){return{x:e+Math.cos(-Ov*i)*n,y:r+Math.sin(-Ov*i)*n}},NI=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Aoe=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.startAngle,c=e.endAngle,u=ai(e.cx,s,s/2),f=ai(e.cy,o,o/2),p=NI(s,o,n),h=ai(e.innerRadius,p,0),v=ai(e.outerRadius,p,p*.8),g=Object.keys(r);return g.reduce(function(x,y){var w=r[y],_=w.domain,A=w.reversed,S;if(Ot(w.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[h,v]),A&&(S=[S[1],S[0]]);else{S=w.range;var k=S,P=boe(k,2);l=P[0],c=P[1]}var C=xI(w,a),L=C.realScaleType,D=C.scale;D.domain(_).range(S),wI(D);var O=_I(D,Hs(Hs({},w),{},{realScaleType:L})),I=Hs(Hs(Hs({},w),O),{},{range:S,radius:v,realScaleType:L,scale:D,cx:u,cy:f,innerRadius:h,outerRadius:v,startAngle:l,endAngle:c});return Hs(Hs({},x),{},AI({},y,I))},{})},Noe=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},koe=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=Noe({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:joe(c),angleInRadian:c}},Ooe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},Poe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},bk=function(e,r){var n=e.x,i=e.y,a=koe({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=Ooe(r),f=u.startAngle,p=u.endAngle,h=o,v;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;v=h>=p&&h<=f}return v?Hs(Hs({},r),{},{radius:s,angle:Poe(h,r)}):null},kI=function(e){return!X.isValidElement(e)&&!bt(e)&&typeof e!="boolean"?e.className:""};function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}var Eoe=["offset"];function Toe(t){return $oe(t)||Ioe(t)||Loe(t)||Coe()}function Coe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Loe(t,e){if(t){if(typeof t=="string")return Dw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dw(t,e)}}function Ioe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $oe(t){if(Array.isArray(t))return Dw(t)}function Dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Roe(t,e){if(t==null)return{};var r=Moe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Moe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(r),!0).forEach(function(n){Doe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Doe(t,e,r){return e=Boe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Boe(t){var e=Foe(t,"string");return Rp(e)=="symbol"?e:e+""}function Foe(t,e){if(Rp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mp.apply(this,arguments)}var Uoe=function(e){var r=e.value,n=e.formatter,i=Ot(e.children)?r:e.children;return bt(n)?n(i):i},zoe=function(e,r){var n=ii(r-e),i=Math.min(Math.abs(r-e),360);return n*i},qoe=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,p=l.outerRadius,h=l.startAngle,v=l.endAngle,g=l.clockWise,x=(f+p)/2,y=zoe(h,v),w=y>=0?1:-1,_,A;i==="insideStart"?(_=h+w*s,A=g):i==="insideEnd"?(_=v-w*s,A=!g):i==="end"&&(_=v+w*s,A=g),A=y<=0?A:!A;var S=br(c,u,x,_),k=br(c,u,x,_+(A?1:-1)*359),P="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(A?0:1,`,
    `).concat(k.x,",").concat(k.y),C=Ot(e.id)?gf("recharts-radial-line-"):e.id;return le.createElement("text",Mp({},n,{dominantBaseline:"central",className:It("recharts-radial-bar-label",o)}),le.createElement("defs",null,le.createElement("path",{id:C,d:P})),le.createElement("textPath",{xlinkHref:"#".concat(C)},r))},Woe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,p=(u+f)/2;if(i==="outside"){var h=br(s,o,c+n,p),v=h.x,g=h.y;return{x:v,y:g,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,y=br(s,o,x,p),w=y.x,_=y.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Hoe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,p=f*i,h=f>0?"end":"start",v=f>0?"start":"end",g=c>=0?1:-1,x=g*i,y=g>0?"end":"start",w=g>0?"start":"end";if(a==="top"){var _={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return mn(mn({},_),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var A={x:o+c/2,y:l+u+p,textAnchor:"middle",verticalAnchor:v};return mn(mn({},A),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var S={x:o-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return mn(mn({},S),n?{width:Math.max(S.x-n.x,0),height:u}:{})}if(a==="right"){var k={x:o+c+x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return mn(mn({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:u}:{})}var P=n?{width:c,height:u}:{};return a==="insideLeft"?mn({x:o+x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},P):a==="insideRight"?mn({x:o+c-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},P):a==="insideTop"?mn({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:v},P):a==="insideBottom"?mn({x:o+c/2,y:l+u-p,textAnchor:"middle",verticalAnchor:h},P):a==="insideTopLeft"?mn({x:o+x,y:l+p,textAnchor:w,verticalAnchor:v},P):a==="insideTopRight"?mn({x:o+c-x,y:l+p,textAnchor:y,verticalAnchor:v},P):a==="insideBottomLeft"?mn({x:o+x,y:l+u-p,textAnchor:w,verticalAnchor:h},P):a==="insideBottomRight"?mn({x:o+c-x,y:l+u-p,textAnchor:y,verticalAnchor:h},P):ff(a)&&(Be(a.x)||bc(a.x))&&(Be(a.y)||bc(a.y))?mn({x:o+ai(a.x,c),y:l+ai(a.y,u),textAnchor:"end",verticalAnchor:"end"},P):mn({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Voe=function(e){return"cx"in e&&Be(e.cx)};function Nn(t){var e=t.offset,r=e===void 0?5:e,n=Roe(t,Eoe),i=mn({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,p=i.textBreakAll;if(!a||Ot(o)&&Ot(l)&&!X.isValidElement(c)&&!bt(c))return null;if(X.isValidElement(c))return X.cloneElement(c,i);var h;if(bt(c)){if(h=X.createElement(c,i),X.isValidElement(h))return h}else h=Uoe(i);var v=Voe(a),g=ft(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return qoe(i,h,g);var x=v?Woe(i):Hoe(i);return le.createElement(Dc,Mp({className:It("recharts-label",f)},g,x,{breakAll:p}),h)}Nn.displayName="Label";var OI=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,p=e.y,h=e.top,v=e.left,g=e.width,x=e.height,y=e.clockWise,w=e.labelViewBox;if(w)return w;if(Be(g)&&Be(x)){if(Be(f)&&Be(p))return{x:f,y:p,width:g,height:x};if(Be(h)&&Be(v))return{x:h,y:v,width:g,height:x}}return Be(f)&&Be(p)?{x:f,y:p,width:0,height:0}:Be(r)&&Be(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},Goe=function(e,r){return e?e===!0?le.createElement(Nn,{key:"label-implicit",viewBox:r}):xn(e)?le.createElement(Nn,{key:"label-implicit",viewBox:r,value:e}):X.isValidElement(e)?e.type===Nn?X.cloneElement(e,{key:"label-implicit",viewBox:r}):le.createElement(Nn,{key:"label-implicit",content:e,viewBox:r}):bt(e)?le.createElement(Nn,{key:"label-implicit",content:e,viewBox:r}):ff(e)?le.createElement(Nn,Mp({viewBox:r},e,{key:"label-implicit"})):null:null},Koe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=OI(e),s=Hi(i,Nn).map(function(l,c){return X.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return s;var o=Goe(e.label,r||a);return[o].concat(Toe(s))};Nn.parseViewBox=OI;Nn.renderCallByParent=Koe;function Yoe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Xoe=Yoe;const Joe=ar(Xoe);function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}var Zoe=["valueAccessor"],Qoe=["data","dataKey","clockWise","id","textBreakAll"];function ele(t){return ile(t)||nle(t)||rle(t)||tle()}function tle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rle(t,e){if(t){if(typeof t=="string")return Bw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bw(t,e)}}function nle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ile(t){if(Array.isArray(t))return Bw(t)}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pv.apply(this,arguments)}function wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _k(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(r),!0).forEach(function(n){ale(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ale(t,e,r){return e=sle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sle(t){var e=ole(t,"string");return Dp(e)=="symbol"?e:e+""}function ole(t,e){if(Dp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sk(t,e){if(t==null)return{};var r=lle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var cle=function(e){return Array.isArray(e.value)?Joe(e.value):e.value};function io(t){var e=t.valueAccessor,r=e===void 0?cle:e,n=Sk(t,Zoe),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=Sk(n,Qoe);return!i||!i.length?null:le.createElement(Gt,{className:"recharts-label-list"},i.map(function(u,f){var p=Ot(a)?r(u,f):yn(u&&u.payload,a),h=Ot(o)?{}:{id:"".concat(o,"-").concat(f)};return le.createElement(Nn,Pv({},ft(u,!0),c,h,{parentViewBox:u.parentViewBox,value:p,textBreakAll:l,viewBox:Nn.parseViewBox(Ot(s)?u:_k(_k({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}io.displayName="LabelList";function ule(t,e){return t?t===!0?le.createElement(io,{key:"labelList-implicit",data:e}):le.isValidElement(t)||bt(t)?le.createElement(io,{key:"labelList-implicit",data:e,content:t}):ff(t)?le.createElement(io,Pv({data:e},t,{key:"labelList-implicit"})):null:null}function dle(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Hi(n,io).map(function(s,o){return X.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=ule(t.label,e);return[a].concat(ele(i))}io.renderCallByParent=dle;function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fw.apply(this,arguments)}function jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ak(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(r),!0).forEach(function(n){fle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fle(t,e,r){return e=hle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hle(t){var e=ple(t,"string");return Bp(e)=="symbol"?e:e+""}function ple(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mle=function(e,r){var n=ii(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Dg=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,f=Math.asin(l/u)/Ov,p=c?a:a+s*f,h=br(r,n,u,p),v=br(r,n,i,p),g=c?a-s*f:a,x=br(r,n,u*Math.cos(f*Ov),g);return{center:h,circleTangency:v,lineTangency:x,theta:f}},PI=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=mle(s,o),c=s+l,u=br(r,n,a,s),f=br(r,n,a,c),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=br(r,n,i,s),v=br(r,n,i,c);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},gle=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=ii(u-c),p=Dg({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),h=p.circleTangency,v=p.lineTangency,g=p.theta,x=Dg({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=x.circleTangency,w=x.lineTangency,_=x.theta,A=l?Math.abs(c-u):Math.abs(c-u)-g-_;if(A<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):PI({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var k=Dg({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=k.circleTangency,C=k.lineTangency,L=k.theta,D=Dg({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=D.circleTangency,I=D.lineTangency,B=D.theta,F=l?Math.abs(c-u):Math.abs(c-u)-L-B;if(F<0&&s===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},vle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EI=function(e){var r=Ak(Ak({},vle),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,p=r.className;if(s<a||u===f)return null;var h=It("recharts-sector",p),v=s-a,g=ai(o,v,0,!0),x;return g>0&&Math.abs(u-f)<360?x=gle({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):x=PI({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f}),le.createElement("path",Fw({},ft(r,!0),{className:h,d:x,role:"img"}))};function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uw.apply(this,arguments)}function Nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(r),!0).forEach(function(n){yle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yle(t,e,r){return e=ble(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ble(t){var e=xle(t,"string");return Fp(e)=="symbol"?e:e+""}function xle(t,e){if(Fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ok={curveBasisClosed:yG,curveBasisOpen:bG,curveBasis:vG,curveBumpX:nG,curveBumpY:iG,curveLinearClosed:xG,curveLinear:Wy,curveMonotoneX:wG,curveMonotoneY:_G,curveNatural:SG,curveStep:jG,curveStepAfter:NG,curveStepBefore:AG},Bg=function(e){return e.x===+e.x&&e.y===+e.y},ph=function(e){return e.x},mh=function(e){return e.y},wle=function(e,r){if(bt(e))return e;var n="curve".concat(zy(e));return(n==="curveMonotone"||n==="curveBump")&&r?Ok["".concat(n).concat(r==="vertical"?"Y":"X")]:Ok[n]||Wy},_le=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=wle(n,o),f=c?a.filter(function(g){return Bg(g)}):a,p;if(Array.isArray(s)){var h=c?s.filter(function(g){return Bg(g)}):s,v=f.map(function(g,x){return kk(kk({},g),{},{base:h[x]})});return o==="vertical"?p=Pg().y(mh).x1(ph).x0(function(g){return g.base.x}):p=Pg().x(ph).y1(mh).y0(function(g){return g.base.y}),p.defined(Bg).curve(u),p(v)}return o==="vertical"&&Be(s)?p=Pg().y(mh).x1(ph).x0(s):Be(s)?p=Pg().x(ph).y1(mh).y0(s):p=j8().x(ph).y(mh),p.defined(Bg).curve(u),p(f)},Ev=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?_le(e):i;return X.createElement("path",Uw({},ft(e,!1),ev(e),{className:It("recharts-curve",r),d:s,ref:a}))},TI={exports:{}},Sle="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jle=Sle,Ale=jle;function CI(){}function LI(){}LI.resetWarningCache=CI;var Nle=function(){function t(n,i,a,s,o,l){if(l!==Ale){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:LI,resetWarningCache:CI};return r.PropTypes=r,r};TI.exports=Nle();var kle=TI.exports;const er=ar(kle);var Ole=Object.getOwnPropertyNames,Ple=Object.getOwnPropertySymbols,Ele=Object.prototype.hasOwnProperty;function Pk(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Fg(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function Tle(t){return t!=null?t[Symbol.toStringTag]:void 0}function Ek(t){return Ole(t).concat(Ple(t))}var Cle=Object.hasOwn||function(t,e){return Ele.call(t,e)};function Qc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Lle="__v",Ile="__o",$le="_owner",Tk=Object.getOwnPropertyDescriptor,Ck=Object.keys;function Rle(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Mle(t,e){return Qc(t.getTime(),e.getTime())}function Dle(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Ble(t,e){return t===e}function Lk(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var c=e.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(i[f]){f++;continue}var p=s.value,h=o.value;if(r.equals(p[0],h[0],l,f,t,e,r)&&r.equals(p[1],h[1],p[0],h[0],t,e,r)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var Fle=Qc;function Ule(t,e,r){var n=Ck(t),i=n.length;if(Ck(e).length!==i)return!1;for(;i-- >0;)if(!II(t,e,r,n[i]))return!1;return!0}function gh(t,e,r){var n=Ek(t),i=n.length;if(Ek(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!II(t,e,r,a)||(s=Tk(t,a),o=Tk(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function zle(t,e){return Qc(t.valueOf(),e.valueOf())}function qle(t,e){return t.source===e.source&&t.flags===e.flags}function Ik(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!i[u]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Wle(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Hle(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function II(t,e,r,n){return(n===$le||n===Ile||n===Lle)&&(t.$$typeof||e.$$typeof)?!0:Cle(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Vle="[object Arguments]",Gle="[object Boolean]",Kle="[object Date]",Yle="[object Error]",Xle="[object Map]",Jle="[object Number]",Zle="[object Object]",Qle="[object RegExp]",ece="[object Set]",tce="[object String]",rce="[object URL]",nce=Array.isArray,$k=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Rk=Object.assign,ice=Object.prototype.toString.call.bind(Object.prototype.toString);function ace(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual,h=t.unknownTagComparators;return function(g,x,y){if(g===x)return!0;if(g==null||x==null)return!1;var w=typeof g;if(w!==typeof x)return!1;if(w!=="object")return w==="number"?s(g,x,y):w==="function"?i(g,x,y):!1;var _=g.constructor;if(_!==x.constructor)return!1;if(_===Object)return o(g,x,y);if(nce(g))return e(g,x,y);if($k!=null&&$k(g))return f(g,x,y);if(_===Date)return r(g,x,y);if(_===RegExp)return c(g,x,y);if(_===Map)return a(g,x,y);if(_===Set)return u(g,x,y);var A=ice(g);if(A===Kle)return r(g,x,y);if(A===Qle)return c(g,x,y);if(A===Xle)return a(g,x,y);if(A===ece)return u(g,x,y);if(A===Zle)return typeof g.then!="function"&&typeof x.then!="function"&&o(g,x,y);if(A===rce)return p(g,x,y);if(A===Yle)return n(g,x,y);if(A===Vle)return o(g,x,y);if(A===Gle||A===Jle||A===tce)return l(g,x,y);if(h){var S=h[A];if(!S){var k=Tle(g);k&&(S=h[k])}if(S)return S(g,x,y)}return!1}}function sce(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?gh:Rle,areDatesEqual:Mle,areErrorsEqual:Dle,areFunctionsEqual:Ble,areMapsEqual:n?Pk(Lk,gh):Lk,areNumbersEqual:Fle,areObjectsEqual:n?gh:Ule,arePrimitiveWrappersEqual:zle,areRegExpsEqual:qle,areSetsEqual:n?Pk(Ik,gh):Ik,areTypedArraysEqual:n?gh:Wle,areUrlsEqual:Hle,unknownTagComparators:void 0};if(r&&(i=Rk({},i,r(i))),e){var a=Fg(i.areArraysEqual),s=Fg(i.areMapsEqual),o=Fg(i.areObjectsEqual),l=Fg(i.areSetsEqual);i=Rk({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function oce(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function lce(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var u=n(),f=u.cache,p=f===void 0?e?new WeakMap:void 0:f,h=u.meta;return r(l,c,{cache:p,equals:i,meta:h,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,s)}}var cce=kl();kl({strict:!0});kl({circular:!0});kl({circular:!0,strict:!0});kl({createInternalComparator:function(){return Qc}});kl({strict:!0,createInternalComparator:function(){return Qc}});kl({circular:!0,createInternalComparator:function(){return Qc}});kl({circular:!0,createInternalComparator:function(){return Qc},strict:!0});function kl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=sce(t),l=ace(o),c=n?n(l):oce(l);return lce({circular:r,comparator:l,createState:i,equals:c,strict:s})}function uce(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Mk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):uce(i)};requestAnimationFrame(n)}function zw(t){"@babel/helpers - typeof";return zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zw(t)}function dce(t){return mce(t)||pce(t)||hce(t)||fce()}function fce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hce(t,e){if(t){if(typeof t=="string")return Dk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dk(t,e)}}function Dk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mce(t){if(Array.isArray(t))return t}function gce(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=dce(s),l=o[0],c=o.slice(1);if(typeof l=="number"){Mk(i.bind(null,c),l);return}i(l),Mk(i.bind(null,c));return}zw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function Bk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(r),!0).forEach(function(n){$I(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $I(t,e,r){return e=vce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vce(t){var e=yce(t,"string");return Up(e)==="symbol"?e:String(e)}function yce(t,e){if(Up(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Up(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bce=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},xce=function(e){return e},wce=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},zh=function(e,r){return Object.keys(r).reduce(function(n,i){return Fk(Fk({},n),{},$I({},i,e(i,r[i])))},{})},Uk=function(e,r,n){return e.map(function(i){return"".concat(wce(i)," ").concat(r,"ms ").concat(n)}).join(",")};function _ce(t,e){return Ace(t)||jce(t,e)||RI(t,e)||Sce()}function Sce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Ace(t){if(Array.isArray(t))return t}function Nce(t){return Pce(t)||Oce(t)||RI(t)||kce()}function kce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RI(t,e){if(t){if(typeof t=="string")return qw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qw(t,e)}}function Oce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pce(t){if(Array.isArray(t))return qw(t)}function qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Tv=1e-4,MI=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},DI=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},zk=function(e,r){return function(n){var i=MI(e,r);return DI(i,n)}},Ece=function(e,r){return function(n){var i=MI(e,r),a=[].concat(Nce(i.map(function(s,o){return s*o}).slice(1)),[0]);return DI(a,n)}},qk=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=_ce(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var f=zk(i,s),p=zk(a,o),h=Ece(i,s),v=function(y){return y>1?1:y<0?0:y},g=function(y){for(var w=y>1?1:y,_=w,A=0;A<8;++A){var S=f(_)-w,k=h(_);if(Math.abs(S-w)<Tv||k<Tv)return p(_);_=v(_-S/k)}return p(_)};return g.isStepper=!1,g},Tce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,f,p){var h=-(u-f)*n,v=p*a,g=p+(h-v)*o/1e3,x=p*o/1e3+u;return Math.abs(x-f)<Tv&&Math.abs(g)<Tv?[f,0]:[x,g]};return l.isStepper=!0,l.dt=o,l},Cce=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qk(i);case"spring":return Tce();default:if(i.split("(")[0]==="cubic-bezier")return qk(i)}return typeof i=="function"?i:null};function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function Wk(t){return $ce(t)||Ice(t)||BI(t)||Lce()}function Lce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ice(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ce(t){if(Array.isArray(t))return Hw(t)}function Hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(r),!0).forEach(function(n){Ww(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ww(t,e,r){return e=Rce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rce(t){var e=Mce(t,"string");return zp(e)==="symbol"?e:String(e)}function Mce(t,e){if(zp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dce(t,e){return Uce(t)||Fce(t,e)||BI(t,e)||Bce()}function Bce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BI(t,e){if(t){if(typeof t=="string")return Hw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hw(t,e)}}function Hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Uce(t){if(Array.isArray(t))return t}var Cv=function(e,r,n){return e+(r-e)*n},Vw=function(e){var r=e.from,n=e.to;return r!==n},zce=function t(e,r,n){var i=zh(function(a,s){if(Vw(s)){var o=e(s.from,s.to,s.velocity),l=Dce(o,2),c=l[0],u=l[1];return In(In({},s),{},{from:c,velocity:u})}return s},r);return n<1?zh(function(a,s){return Vw(s)?In(In({},s),{},{velocity:Cv(s.velocity,i[a].velocity,n),from:Cv(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const qce=function(t,e,r,n,i){var a=bce(t,e),s=a.reduce(function(x,y){return In(In({},x),{},Ww({},y,[t[y],e[y]]))},{}),o=a.reduce(function(x,y){return In(In({},x),{},Ww({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,u,f=function(){return null},p=function(){return zh(function(y,w){return w.from},o)},h=function(){return!Object.values(o).filter(Vw).length},v=function(y){c||(c=y);var w=y-c,_=w/r.dt;o=zce(r,o,_),i(In(In(In({},t),e),p())),c=y,h()||(l=requestAnimationFrame(f))},g=function(y){u||(u=y);var w=(y-u)/n,_=zh(function(S,k){return Cv.apply(void 0,Wk(k).concat([r(w)]))},s);if(i(In(In(In({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var A=zh(function(S,k){return Cv.apply(void 0,Wk(k).concat([r(1)]))},s);i(In(In(In({},t),e),A))}};return f=r.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}var Wce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Hce(t,e){if(t==null)return{};var r=Vce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vce(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function sx(t){return Xce(t)||Yce(t)||Kce(t)||Gce()}function Gce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kce(t,e){if(t){if(typeof t=="string")return Gw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gw(t,e)}}function Yce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xce(t){if(Array.isArray(t))return Gw(t)}function Gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(r),!0).forEach(function(n){Nh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nh(t,e,r){return e=FI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FI(n.key),n)}}function Qce(t,e,r){return e&&Zce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FI(t){var e=eue(t,"string");return Dd(e)==="symbol"?e:String(e)}function eue(t,e){if(Dd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kw(t,e)}function Kw(t,e){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kw(t,e)}function rue(t){var e=nue();return function(){var n=Lv(t),i;if(e){var a=Lv(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Yw(this,i)}}function Yw(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xw(t)}function Xw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lv(t)}var ws=function(t){tue(r,t);var e=rue(r);function r(n,i){var a;Jce(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,p=s.children,h=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Xw(a)),a.changeStyle=a.changeStyle.bind(Xw(a)),!o||h<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:u}),Yw(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof p=="function")return a.state={style:c},Yw(a);a.state={style:l?Nh({},l,c):c}}else a.state={style:{}};return a}return Qce(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,p=this.state.style;if(o){if(!s){var h={style:l?Nh({},l,u):u};this.state&&p&&(l&&p[l]!==u||!l&&p!==u)&&this.setState(h);return}if(!(cce(i.to,u)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||c?f:i.to;if(this.state&&p){var x={style:l?Nh({},l,g):g};(l&&p[l]!==g||!l&&p!==g)&&this.setState(x)}this.runAnimation(Ta(Ta({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,h=qce(s,o,Cce(c),l,this.changeStyle),v=function(){a.stopJSAnimation=h()};this.manager.start([p,u,v,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,f=c.duration,p=f===void 0?0:f,h=function(g,x,y){if(y===0)return g;var w=x.duration,_=x.easing,A=_===void 0?"ease":_,S=x.style,k=x.properties,P=x.onAnimationEnd,C=y>0?s[y-1]:x,L=k||Object.keys(S);if(typeof A=="function"||A==="spring")return[].concat(sx(g),[a.runJSAnimation.bind(a,{from:C.style,to:S,duration:w,easing:A}),w]);var D=Uk(L,w,A),O=Ta(Ta(Ta({},C.style),S),{},{transition:D});return[].concat(sx(g),[O,w,P]).filter(xce)};return this.manager.start([l].concat(sx(s.reduce(h,[u,Math.max(p,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=gce());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,h=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var g=o?Nh({},o,l):l,x=Uk(Object.keys(g),s,c);v.start([u,a,Ta(Ta({},g),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Hce(i,Wce),c=X.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var f=function(h){var v=h.props,g=v.style,x=g===void 0?{}:g,y=v.className,w=X.cloneElement(h,Ta(Ta({},l),{},{style:Ta(Ta({},x),u),className:y}));return w};return c===1?f(X.Children.only(a)):le.createElement("div",null,X.Children.map(a,function(p){return f(p)}))}}]),r}(X.PureComponent);ws.displayName="Animate";ws.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ws.propTypes={from:er.oneOfType([er.object,er.string]),to:er.oneOfType([er.object,er.string]),attributeName:er.string,duration:er.number,begin:er.number,easing:er.oneOfType([er.string,er.func]),steps:er.arrayOf(er.shape({duration:er.number.isRequired,style:er.object.isRequired,easing:er.oneOfType([er.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),er.func]),properties:er.arrayOf("string"),onAnimationEnd:er.func})),children:er.oneOfType([er.node,er.func]),isActive:er.bool,canBegin:er.bool,onAnimationEnd:er.func,shouldReAnimate:er.bool,onAnimationStart:er.func,onAnimationReStart:er.func};function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iv.apply(this,arguments)}function iue(t,e){return lue(t)||oue(t,e)||sue(t,e)||aue()}function aue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sue(t,e){if(t){if(typeof t=="string")return Gk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gk(t,e)}}function Gk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function lue(t){if(Array.isArray(t))return t}function Kk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(r),!0).forEach(function(n){cue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cue(t,e,r){return e=uue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uue(t){var e=due(t,"string");return qp(e)=="symbol"?e:e+""}function due(t,e){if(qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xk=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=a[p]>s?s:a[p];u="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+o*f[1])),u+="L ".concat(e+n,",").concat(r+i-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),u+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-o*f[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);u="M ".concat(e,",").concat(r+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(r,`
            L `).concat(e+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+n,",").concat(r+o*v,`
            L `).concat(e+n,",").concat(r+i-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+n-l*v,",").concat(r+i,`
            L `).concat(e+l*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(r+i-o*v," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},fue=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),f=Math.min(s,s+l),p=Math.max(s,s+l);return n>=c&&n<=u&&i>=f&&i<=p}return!1},hue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zS=function(e){var r=Yk(Yk({},hue),e),n=X.useRef(),i=X.useState(-1),a=iue(i,2),s=a[0],o=a[1];X.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&o(A)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,p=r.radius,h=r.className,v=r.animationEasing,g=r.animationDuration,x=r.animationBegin,y=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var _=It("recharts-rectangle",h);return w?le.createElement(ws,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:g,animationEasing:v,isActive:w},function(A){var S=A.width,k=A.height,P=A.x,C=A.y;return le.createElement(ws,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:y,easing:v},le.createElement("path",Iv({},ft(r,!0),{className:_,d:Xk(P,C,S,k,p),ref:n})))}):le.createElement("path",Iv({},ft(r,!0),{className:_,d:Xk(l,c,u,f,p)}))},pue=["points","className","baseLinePoints","connectNulls"];function Yu(){return Yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yu.apply(this,arguments)}function mue(t,e){if(t==null)return{};var r=gue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jk(t){return xue(t)||bue(t)||yue(t)||vue()}function vue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yue(t,e){if(t){if(typeof t=="string")return Jw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jw(t,e)}}function bue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xue(t){if(Array.isArray(t))return Jw(t)}function Jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Zk=function(e){return e&&e.x===+e.x&&e.y===+e.y},wue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){Zk(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Zk(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},qh=function(e,r){var n=wue(e);r&&(n=[n.reduce(function(a,s){return[].concat(Jk(a),Jk(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},_ue=function(e,r,n){var i=qh(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(qh(r.reverse(),n).slice(1))},Sue=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=mue(e,pue);if(!r||!r.length)return null;var o=It("recharts-polygon",n);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",c=_ue(r,i,a);return le.createElement("g",{className:o},le.createElement("path",Yu({},ft(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?le.createElement("path",Yu({},ft(s,!0),{fill:"none",d:qh(r,a)})):null,l?le.createElement("path",Yu({},ft(s,!0),{fill:"none",d:qh(i,a)})):null)}var u=qh(r,a);return le.createElement("path",Yu({},ft(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:o,d:u}))};function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zw.apply(this,arguments)}var o1=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=It("recharts-dot",a);return r===+r&&n===+n&&i===+i?X.createElement("circle",Zw({},ft(e,!1),ev(e),{className:s,cx:r,cy:n,r:i})):null};function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}var jue=["x","y","top","left","width","height","className"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qw.apply(this,arguments)}function Qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Aue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(r),!0).forEach(function(n){Nue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nue(t,e,r){return e=kue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kue(t){var e=Oue(t,"string");return Wp(e)=="symbol"?e:e+""}function Oue(t,e){if(Wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pue(t,e){if(t==null)return{};var r=Eue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Eue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Tue=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Cue=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,p=e.height,h=p===void 0?0:p,v=e.className,g=Pue(e,jue),x=Aue({x:n,y:a,top:o,left:c,width:f,height:h},g);return!Be(n)||!Be(a)||!Be(f)||!Be(h)||!Be(o)||!Be(c)?null:le.createElement("path",Qw({},ft(x,!0),{className:It("recharts-cross",v),d:Tue(n,a,f,h,o,c)}))},Lue=r1,Iue=ZL,$ue=Ss;function Rue(t,e){return t&&t.length?Lue(t,$ue(e),Iue):void 0}var Mue=Rue;const Due=ar(Mue);var Bue=r1,Fue=Ss,Uue=QL;function zue(t,e){return t&&t.length?Bue(t,Fue(e),Uue):void 0}var que=zue;const Wue=ar(que);var Hue=["cx","cy","angle","ticks","axisLine"],Vue=["ticks","tick","angle","tickFormatter","stroke"];function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wh.apply(this,arguments)}function eO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(r),!0).forEach(function(n){l1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tO(t,e){if(t==null)return{};var r=Gue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zI(n.key),n)}}function Yue(t,e,r){return e&&rO(t.prototype,e),r&&rO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xue(t,e,r){return e=$v(e),Jue(t,UI()?Reflect.construct(e,r||[],$v(t).constructor):e.apply(t,r))}function Jue(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zue(t)}function Zue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UI=function(){return!!t})()}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$v(t)}function Que(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e5(t,e)}function e5(t,e){return e5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e5(t,e)}function l1(t,e,r){return e=zI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zI(t){var e=ede(t,"string");return Bd(e)=="symbol"?e:e+""}function ede(t,e){if(Bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var c1=function(t){function e(){return Kue(this,e),Xue(this,e,arguments)}return Que(e,t),Yue(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return br(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=Due(o,function(u){return u.coordinate||0}),c=Wue(o,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=n.axisLine,c=tO(n,Hue),u=o.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),f=br(i,a,u[0],s),p=br(i,a,u[1],s),h=tc(tc(tc({},ft(c,!1)),{},{fill:"none"},ft(l,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return le.createElement("line",Wh({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,u=tO(i,Vue),f=this.getTickTextAnchor(),p=ft(u,!1),h=ft(s,!1),v=a.map(function(g,x){var y=n.getTickValueCoord(g),w=tc(tc(tc(tc({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(y.x,", ").concat(y.y,")")},p),{},{stroke:"none",fill:c},h),{},{index:x},y),{},{payload:g});return le.createElement(Gt,Wh({className:It("recharts-polar-radius-axis-tick",kI(s)),key:"tick-".concat(g.coordinate)},Mc(n.props,g,x)),e.renderTickItem(s,w,l?l(g.value,x):g.value))});return le.createElement(Gt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:le.createElement(Gt,{className:It("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Nn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return le.isValidElement(n)?s=le.cloneElement(n,i):bt(n)?s=n(i):s=le.createElement(Dc,Wh({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(X.PureComponent);l1(c1,"displayName","PolarRadiusAxis");l1(c1,"axisType","radiusAxis");l1(c1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function hc(){return hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hc.apply(this,arguments)}function nO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(r),!0).forEach(function(n){u1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WI(n.key),n)}}function rde(t,e,r){return e&&iO(t.prototype,e),r&&iO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nde(t,e,r){return e=Rv(e),ide(t,qI()?Reflect.construct(e,r||[],Rv(t).constructor):e.apply(t,r))}function ide(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ade(t)}function ade(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qI=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rv(t)}function sde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t5(t,e)}function t5(t,e){return t5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t5(t,e)}function u1(t,e,r){return e=WI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WI(t){var e=ode(t,"string");return Fd(e)=="symbol"?e:e+""}function ode(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lde=Math.PI/180,aO=1e-5,d1=function(t){function e(){return tde(this,e),nde(this,e,arguments)}return sde(e,t),rde(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=br(a,s,o,n.coordinate),p=br(a,s,o+(l==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*lde),s;return a>aO?s=i==="outer"?"start":"end":a<-aO?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,l=n.axisLineType,c=rc(rc({},ft(this.props,!1)),{},{fill:"none"},ft(o,!1));if(l==="circle")return le.createElement(o1,hc({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:s}));var u=this.props.ticks,f=u.map(function(p){return br(i,a,s,p.coordinate)});return le.createElement(Sue,hc({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,u=ft(this.props,!1),f=ft(s,!1),p=rc(rc({},u),{},{fill:"none"},ft(o,!1)),h=a.map(function(v,g){var x=n.getTickLineCoord(v),y=n.getTickTextAnchor(v),w=rc(rc(rc({textAnchor:y},u),{},{stroke:"none",fill:c},f),{},{index:g,payload:v,x:x.x2,y:x.y2});return le.createElement(Gt,hc({className:It("recharts-polar-angle-axis-tick",kI(s)),key:"tick-".concat(v.coordinate)},Mc(n.props,v,g)),o&&le.createElement("line",hc({className:"recharts-polar-angle-axis-tick-line"},p,x)),s&&e.renderTickItem(s,w,l?l(v.value,g):v.value))});return le.createElement(Gt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:le.createElement(Gt,{className:It("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return le.isValidElement(n)?s=le.cloneElement(n,i):bt(n)?s=n(i):s=le.createElement(Dc,hc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(X.PureComponent);u1(d1,"displayName","PolarAngleAxis");u1(d1,"axisType","angleAxis");u1(d1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var cde=K8,ude=cde(Object.getPrototypeOf,Object),dde=ude,fde=yo,hde=dde,pde=bo,mde="[object Object]",gde=Function.prototype,vde=Object.prototype,HI=gde.toString,yde=vde.hasOwnProperty,bde=HI.call(Object);function xde(t){if(!pde(t)||fde(t)!=mde)return!1;var e=hde(t);if(e===null)return!0;var r=yde.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&HI.call(r)==bde}var wde=xde;const _de=ar(wde);var Sde=yo,jde=bo,Ade="[object Boolean]";function Nde(t){return t===!0||t===!1||jde(t)&&Sde(t)==Ade}var kde=Nde;const Ode=ar(kde);function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mv.apply(this,arguments)}function Pde(t,e){return Lde(t)||Cde(t,e)||Tde(t,e)||Ede()}function Ede(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tde(t,e){if(t){if(typeof t=="string")return sO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sO(t,e)}}function sO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Lde(t){if(Array.isArray(t))return t}function oO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(r),!0).forEach(function(n){Ide(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ide(t,e,r){return e=$de(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $de(t){var e=Rde(t,"string");return Hp(e)=="symbol"?e:e+""}function Rde(t,e){if(Hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cO=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},Mde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dde=function(e){var r=lO(lO({},Mde),e),n=X.useRef(),i=X.useState(-1),a=Pde(i,2),s=a[0],o=a[1];X.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,v=r.animationEasing,g=r.animationDuration,x=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||p!==+p||u===0&&f===0||p===0)return null;var w=It("recharts-trapezoid",h);return y?le.createElement(ws,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:p,x:l,y:c},duration:g,animationEasing:v,isActive:y},function(_){var A=_.upperWidth,S=_.lowerWidth,k=_.height,P=_.x,C=_.y;return le.createElement(ws,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:v},le.createElement("path",Mv({},ft(r,!0),{className:w,d:cO(P,C,A,S,k),ref:n})))}):le.createElement("g",null,le.createElement("path",Mv({},ft(r,!0),{className:w,d:cO(l,c,u,f,p)})))},Bde=["option","shapeType","propTransformer","activeClassName","isActive"];function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function Fde(t,e){if(t==null)return{};var r=Ude(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ude(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){zde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zde(t,e,r){return e=qde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qde(t){var e=Wde(t,"string");return Vp(e)=="symbol"?e:e+""}function Wde(t,e){if(Vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hde(t,e){return Dv(Dv({},e),t)}function Vde(t,e){return t==="symbols"}function dO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return le.createElement(zS,r);case"trapezoid":return le.createElement(Dde,r);case"sector":return le.createElement(EI,r);case"symbols":if(Vde(e))return le.createElement(oS,r);break;default:return null}}function Gde(t){return X.isValidElement(t)?t.props:t}function VI(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Hde:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=Fde(t,Bde),c;if(X.isValidElement(e))c=X.cloneElement(e,Dv(Dv({},l),Gde(e)));else if(bt(e))c=e(l);else if(_de(e)&&!Ode(e)){var u=i(e,l);c=le.createElement(dO,{shapeType:r,elementProps:u})}else{var f=l;c=le.createElement(dO,{shapeType:r,elementProps:f})}return o?le.createElement(Gt,{className:s},c):c}function f1(t,e){return e!=null&&"trapezoids"in t.props}function h1(t,e){return e!=null&&"sectors"in t.props}function Gp(t,e){return e!=null&&"points"in t.props}function Kde(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Yde(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Xde(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Jde(t,e){var r;return f1(t,e)?r=Kde:h1(t,e)?r=Yde:Gp(t,e)&&(r=Xde),r}function Zde(t,e){var r;return f1(t,e)?r="trapezoids":h1(t,e)?r="sectors":Gp(t,e)&&(r="points"),r}function Qde(t,e){if(f1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(h1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Gp(t,e)?e.payload:{}}function efe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Zde(r,e),a=Qde(r,e),s=n.filter(function(l,c){var u=ym(a,l),f=r.props[i].filter(function(v){var g=Jde(r,e);return g(v,e)}),p=r.props[i].indexOf(f[f.length-1]),h=c===p;return u&&h}),o=n.indexOf(s[s.length-1]);return o}var u0;function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xu.apply(this,arguments)}function fO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(r),!0).forEach(function(n){da(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KI(n.key),n)}}function rfe(t,e,r){return e&&hO(t.prototype,e),r&&hO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nfe(t,e,r){return e=Bv(e),ife(t,GI()?Reflect.construct(e,r||[],Bv(t).constructor):e.apply(t,r))}function ife(t,e){if(e&&(Ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return afe(t)}function afe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GI=function(){return!!t})()}function Bv(t){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bv(t)}function sfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r5(t,e)}function r5(t,e){return r5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r5(t,e)}function da(t,e,r){return e=KI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KI(t){var e=ofe(t,"string");return Ud(e)=="symbol"?e:e+""}function ofe(t,e){if(Ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wo=function(t){function e(r){var n;return tfe(this,e),n=nfe(this,e,[r]),da(n,"pieRef",null),da(n,"sectorRefs",[]),da(n,"id",gf("recharts-pie-")),da(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),bt(i)&&i()}),da(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),bt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return sfe(e,t),rfe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,c=a.valueKey,u=ft(this.props,!1),f=ft(s,!1),p=ft(o,!1),h=s&&s.offsetRadius||20,v=n.map(function(g,x){var y=(g.startAngle+g.endAngle)/2,w=br(g.cx,g.cy,g.outerRadius+h,y),_=gr(gr(gr(gr({},u),g),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(w.x,g.cx)},w),A=gr(gr(gr(gr({},u),g),{},{fill:"none",stroke:g.fill},p),{},{index:x,points:[br(g.cx,g.cy,g.outerRadius,y),w]}),S=l;return Ot(l)&&Ot(c)?S="value":Ot(l)&&(S=c),le.createElement(Gt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},o&&e.renderLabelLineItem(o,A,"line"),e.renderLabelItem(s,_,yn(g,S)))});return le.createElement(Gt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return n.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(u),p=l&&i.hasActiveIndex()?l:null,h=f?s:p,v=gr(gr({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return le.createElement(Gt,Xu({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Mc(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),le.createElement(VI,Xu({option:h,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return le.createElement(ws,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,x=[],y=a&&a[0],w=y.startAngle;return a.forEach(function(_,A){var S=p&&p[A],k=A>0?Wi(_,"paddingAngle",0):0;if(S){var P=Mi(S.endAngle-S.startAngle,_.endAngle-_.startAngle),C=gr(gr({},_),{},{startAngle:w+k,endAngle:w+P(g)+k});x.push(C),w=C.endAngle}else{var L=_.endAngle,D=_.startAngle,O=Mi(0,L-D),I=O(g),B=gr(gr({},_),{},{startAngle:w+k,endAngle:w+I+k});x.push(B),w=B.endAngle}}),le.createElement(Gt,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!ym(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,p=i.outerRadius,h=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!s||!s.length||!Be(c)||!Be(u)||!Be(f)||!Be(p))return null;var g=It("recharts-pie",o);return le.createElement(Gt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(s),Nn.renderCallByParent(this.props,null,!1),(!h||v)&&io.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(le.isValidElement(n))return le.cloneElement(n,i);if(bt(n))return n(i);var s=It("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return le.createElement(Ev,Xu({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(le.isValidElement(n))return le.cloneElement(n,i);var s=a;if(bt(n)&&(s=n(i),le.isValidElement(s)))return s;var o=It("recharts-pie-label-text",typeof n!="boolean"&&!bt(n)?n.className:"");return le.createElement(Dc,Xu({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(X.PureComponent);u0=wo;da(wo,"displayName","Pie");da(wo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Xc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});da(wo,"parseDeltaAngle",function(t,e){var r=ii(e-t),n=Math.min(Math.abs(e-t),360);return r*n});da(wo,"getRealPieData",function(t){var e=t.data,r=t.children,n=ft(t,!1),i=Hi(r,hm);return e&&e.length?e.map(function(a,s){return gr(gr(gr({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return gr(gr({},n),a.props)}):[]});da(wo,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=NI(i,a),o=n+ai(t.cx,i,i/2),l=r+ai(t.cy,a,a/2),c=ai(t.innerRadius,s,0),u=ai(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});da(wo,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?gr(gr({},e.type.defaultProps),e.props):e.props,i=u0.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),v=u0.parseCoordinateOfPie(n,r),g=u0.parseDeltaAngle(s,o),x=Math.abs(g),y=c;Ot(c)&&Ot(f)?(Ha(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Ot(c)&&(Ha(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var w=i.filter(function(C){return yn(C,y,0)!==0}).length,_=(x>=360?w:w-1)*l,A=x-w*h-_,S=i.reduce(function(C,L){var D=yn(L,y,0);return C+(Be(D)?D:0)},0),k;if(S>0){var P;k=i.map(function(C,L){var D=yn(C,y,0),O=yn(C,u,L),I=(Be(D)?D:0)/S,B;L?B=P.endAngle+ii(g)*l*(D!==0?1:0):B=s;var F=B+ii(g)*((D!==0?h:0)+I*A),U=(B+F)/2,K=(v.innerRadius+v.outerRadius)/2,V=[{name:O,value:D,payload:C,dataKey:y,type:p}],M=br(v.cx,v.cy,K,U);return P=gr(gr(gr({percent:I,cornerRadius:a,name:O,tooltipPayload:V,midAngle:U,middleRadius:K,tooltipPosition:M},C),v),{},{value:yn(C,y),startAngle:B,endAngle:F,payload:C,paddingAngle:ii(g)*l}),P})}return gr(gr({},v),{},{sectors:k,data:i})});var lfe=Math.ceil,cfe=Math.max;function ufe(t,e,r,n){for(var i=-1,a=cfe(lfe((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var dfe=ufe,ffe=hL,pO=1/0,hfe=17976931348623157e292;function pfe(t){if(!t)return t===0?t:0;if(t=ffe(t),t===pO||t===-pO){var e=t<0?-1:1;return e*hfe}return t===t?t:0}var YI=pfe,mfe=dfe,gfe=Ky,ox=YI;function vfe(t){return function(e,r,n){return n&&typeof n!="number"&&gfe(e,r,n)&&(r=n=void 0),e=ox(e),r===void 0?(r=e,e=0):r=ox(r),n=n===void 0?e<r?1:-1:ox(n),mfe(e,r,n,t)}}var yfe=vfe,bfe=yfe,xfe=bfe(),wfe=xfe;const Fv=ar(wfe);function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){XI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XI(t,e,r){return e=_fe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _fe(t){var e=Sfe(t,"string");return Kp(e)=="symbol"?e:e+""}function Sfe(t,e){if(Kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jfe=["Webkit","Moz","O","ms"],Afe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=jfe.reduce(function(a,s){return gO(gO({},a),{},XI({},s+n,r))},{});return i[e]=r,i};function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uv.apply(this,arguments)}function vO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(r),!0).forEach(function(n){Li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZI(n.key),n)}}function kfe(t,e,r){return e&&yO(t.prototype,e),r&&yO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ofe(t,e,r){return e=zv(e),Pfe(t,JI()?Reflect.construct(e,r||[],zv(t).constructor):e.apply(t,r))}function Pfe(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Efe(t)}function Efe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JI=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zv(t)}function Tfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n5(t,e)}function n5(t,e){return n5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n5(t,e)}function Li(t,e,r){return e=ZI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZI(t){var e=Cfe(t,"string");return zd(e)=="symbol"?e:e+""}function Cfe(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lfe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Fh().domain(Fv(0,l)).range([a,a+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},bO=function(e){return e.changedTouches&&!!e.changedTouches.length},qd=function(t){function e(r){var n;return Nfe(this,e),n=Ofe(this,e,[r]),Li(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Li(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Li(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Li(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Li(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Li(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Li(n,"handleSlideDragStart",function(i){var a=bO(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Tfe(e,t),kfe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(i,a),p=Math.max(i,a),h=e.getIndexInRange(s,f),v=e.getIndexInRange(s,p);return{startIndex:h-h%l,endIndex:v===u?u:v-v%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=yn(a[n],o,n);return bt(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,p=l.startIndex,h=l.endIndex,v=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,c+u-f-o,c+u-f-s):g<0&&(g=Math.max(g,c-s,c-o));var x=this.getIndex({startX:s+g,endX:o+g});(x.startIndex!==p||x.endIndex!==h)&&v&&v(x),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=bO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,f=u.x,p=u.width,h=u.travellerWidth,v=u.onChange,g=u.gap,x=u.data,y={startX:this.state.startX,endX:this.state.endX},w=n.pageX-a;w>0?w=Math.min(w,f+p-h-c):w<0&&(w=Math.max(w,f-c)),y[s]=c+w;var _=this.getIndex(y),A=_.startIndex,S=_.endIndex,k=function(){var C=x.length-1;return s==="startX"&&(o>l?A%g===0:S%g===0)||o<l&&S===C||s==="endX"&&(o>l?S%g===0:A%g===0)||o>l&&S===C};this.setState(Li(Li({},s,c+w),"brushMoveStartX",n.pageX),function(){v&&k()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],f=o.indexOf(u);if(f!==-1){var p=f+n;if(!(p===-1||p>=o.length)){var h=o[p];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(Li({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return le.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=X.Children.only(c);return f?le.cloneElement(f,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,p=l.traveller,h=l.ariaLabel,v=l.data,g=l.startIndex,x=l.endIndex,y=Math.max(n,this.props.x),w=lx(lx({},ft(this.props,!1)),{},{x:y,y:c,width:u,height:f}),_=h||"Min value: ".concat((a=v[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=v[x])===null||s===void 0?void 0:s.name);return le.createElement(Gt,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,w))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return le.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,p=u.endX,h=5,v={pointerEvents:"none",fill:c};return le.createElement(Gt,{className:"recharts-brush-texts"},le.createElement(Dc,Uv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:s+o/2},v),this.getTextOfTick(i)),le.createElement(Dc,Uv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+h,y:s+o/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,v=p.endX,g=p.isTextActive,x=p.isSlideMoving,y=p.isTravellerMoving,w=p.isTravellerFocused;if(!i||!i.length||!Be(o)||!Be(l)||!Be(c)||!Be(u)||c<=0||u<=0)return null;var _=It("recharts-brush",a),A=le.Children.count(s)===1,S=Afe("userSelect","none");return le.createElement(Gt,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(h,v),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(v,"endX"),(g||x||y||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(a+o/2)-1;return le.createElement(le.Fragment,null,le.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),le.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),le.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return le.isValidElement(n)?a=le.cloneElement(n,i):bt(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return lx({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?Lfe({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var p=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(X.PureComponent);Li(qd,"displayName","Brush");Li(qd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ife=pS;function $fe(t,e){var r;return Ife(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var Rfe=$fe,Mfe=F8,Dfe=Ss,Bfe=Rfe,Ffe=wi,Ufe=Ky;function zfe(t,e,r){var n=Ffe(t)?Mfe:Bfe;return r&&Ufe(t,e,r)&&(e=void 0),n(t,Dfe(e))}var qfe=zfe;const Wfe=ar(qfe);var ys=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},xO=lL;function Hfe(t,e,r){e=="__proto__"&&xO?xO(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Vfe=Hfe,Gfe=Vfe,Kfe=sL,Yfe=Ss;function Xfe(t,e){var r={};return e=Yfe(e),Kfe(t,function(n,i,a){Gfe(r,i,e(n,i,a))}),r}var Jfe=Xfe;const Zfe=ar(Jfe);function Qfe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var ehe=Qfe,the=pS;function rhe(t,e){var r=!0;return the(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var nhe=rhe,ihe=ehe,ahe=nhe,she=Ss,ohe=wi,lhe=Ky;function che(t,e,r){var n=ohe(t)?ihe:ahe;return r&&lhe(t,e,r)&&(e=void 0),n(t,she(e))}var uhe=che;const QI=ar(uhe);var dhe=["x","y"];function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function i5(){return i5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i5.apply(this,arguments)}function wO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(r),!0).forEach(function(n){fhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fhe(t,e,r){return e=hhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hhe(t){var e=phe(t,"string");return Yp(e)=="symbol"?e:e+""}function phe(t,e){if(Yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mhe(t,e){if(t==null)return{};var r=ghe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ghe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vhe(t,e){var r=t.x,n=t.y,i=mhe(t,dhe),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),p=parseInt(f,10);return vh(vh(vh(vh(vh({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:p,name:e.name,radius:e.radius})}function _O(t){return le.createElement(VI,i5({shapeType:"rectangle",propTransformer:vhe,activeClassName:"recharts-active-bar"},t))}var yhe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Be(n)||zH(n);return a?e(n,i):(a||Fc(),r)}},bhe=["value","background"],e$;function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function xhe(t,e){if(t==null)return{};var r=whe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function whe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qv.apply(this,arguments)}function SO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(r),!0).forEach(function(n){tl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r$(n.key),n)}}function She(t,e,r){return e&&jO(t.prototype,e),r&&jO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jhe(t,e,r){return e=Wv(e),Ahe(t,t$()?Reflect.construct(e,r||[],Wv(t).constructor):e.apply(t,r))}function Ahe(t,e){if(e&&(Wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nhe(t)}function Nhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t$=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wv(t)}function khe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a5(t,e)}function a5(t,e){return a5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a5(t,e)}function tl(t,e,r){return e=r$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r$(t){var e=Ohe(t,"string");return Wd(e)=="symbol"?e:e+""}function Ohe(t,e){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eu=function(t){function e(){var r;_he(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=jhe(this,e,[].concat(i)),tl(r,"state",{isAnimationFinished:!1}),tl(r,"id",gf("recharts-bar-")),tl(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),tl(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return khe(e,t),She(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=ft(this.props,!1);return n&&n.map(function(f,p){var h=p===l,v=h?c:s,g=rn(rn(rn({},u),f),{},{isActive:h,option:v,index:p,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return le.createElement(Gt,qv({className:"recharts-bar-rectangle"},Mc(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),le.createElement(_O,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,p=this.state.prevData;return le.createElement(ws,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var v=h.t,g=a.map(function(x,y){var w=p&&p[y];if(w){var _=Mi(w.x,x.x),A=Mi(w.y,x.y),S=Mi(w.width,x.width),k=Mi(w.height,x.height);return rn(rn({},x),{},{x:_(v),y:A(v),width:S(v),height:k(v)})}if(s==="horizontal"){var P=Mi(0,x.height),C=P(v);return rn(rn({},x),{},{y:x.y+x.height-C,height:C})}var L=Mi(0,x.width),D=L(v);return rn(rn({},x),{},{width:D})});return le.createElement(Gt,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!ym(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=ft(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,p=xhe(c,bhe);if(!f)return null;var h=rn(rn(rn(rn(rn({},p),{},{fill:"#eee"},f),l),Mc(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return le.createElement(_O,qv({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=Hi(u,bm);if(!f)return null;var p=c==="vertical"?s[0].height/2:s[0].width/2,h=function(x,y){var w=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:w,errorVal:yn(x,y)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return le.createElement(Gt,v,f.map(function(g){return le.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,p=n.height,h=n.isAnimationActive,v=n.background,g=n.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,y=It("recharts-bar",s),w=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,A=w||_,S=Ot(g)?this.id:g;return le.createElement(Gt,{className:y},w||_?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(S)},le.createElement("rect",{x:w?c:c-f/2,y:_?u:u-p/2,width:w?f:f*2,height:_?p:p*2}))):null,le.createElement(Gt,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,S),(!h||x)&&io.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(X.PureComponent);e$=eu;tl(eu,"displayName","Bar");tl(eu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});tl(eu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,p=t.offset,h=ooe(n,r);if(!h)return null;var v=e.layout,g=r.type.defaultProps,x=g!==void 0?rn(rn({},g),r.props):r.props,y=x.dataKey,w=x.children,_=x.minPointSize,A=v==="horizontal"?s:a,S=c?A.scale.domain():null,k=poe({numericAxis:A}),P=Hi(w,hm),C=f.map(function(L,D){var O,I,B,F,U,K;c?O=loe(c[u+D],S):(O=yn(L,y),Array.isArray(O)||(O=[k,O]));var V=yhe(_,e$.defaultProps.minPointSize)(O[1],D);if(v==="horizontal"){var M,Z=[s.scale(O[0]),s.scale(O[1])],ne=Z[0],ae=Z[1];I=hk({axis:a,ticks:o,bandSize:i,offset:h.offset,entry:L,index:D}),B=(M=ae??ne)!==null&&M!==void 0?M:void 0,F=h.size;var E=ne-ae;if(U=Number.isNaN(E)?0:E,K={x:I,y:s.y,width:F,height:s.height},Math.abs(V)>0&&Math.abs(U)<Math.abs(V)){var z=ii(U||V)*(Math.abs(V)-Math.abs(U));B-=z,U+=z}}else{var H=[a.scale(O[0]),a.scale(O[1])],re=H[0],se=H[1];if(I=re,B=hk({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:L,index:D}),F=se-re,U=h.size,K={x:a.x,y:B,width:a.width,height:U},Math.abs(V)>0&&Math.abs(F)<Math.abs(V)){var ue=ii(F||V)*(Math.abs(V)-Math.abs(F));F+=ue}}return rn(rn(rn({},L),{},{x:I,y:B,width:F,height:U,value:c?O:O[1],payload:L,background:K},P&&P[D]&&P[D].props),{},{tooltipPayload:[jI(r,L)],tooltipPosition:{x:I+F/2,y:B+U/2}})});return rn({data:C,layout:v},p)});function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function Phe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n$(n.key),n)}}function Ehe(t,e,r){return e&&AO(t.prototype,e),r&&AO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(r),!0).forEach(function(n){p1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p1(t,e,r){return e=n$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n$(t){var e=The(t,"string");return Xp(e)=="symbol"?e:e+""}function The(t,e){if(Xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i$=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},p=!!$i(c,eu);return u.reduce(function(h,v){var g=r[v],x=g.orientation,y=g.domain,w=g.padding,_=w===void 0?{}:w,A=g.mirror,S=g.reversed,k="".concat(x).concat(A?"Mirror":""),P,C,L,D,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var I=y[1]-y[0],B=1/0,F=g.categoricalDomain.sort(HH);if(F.forEach(function(H,re){re>0&&(B=Math.min((H||0)-(F[re-1]||0),B))}),Number.isFinite(B)){var U=B/I,K=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(P=U*K/2),g.padding==="no-gap"){var V=ai(e.barCategoryGap,U*K),M=U*K/2;P=M-V-(M-V)/K*V}}}i==="xAxis"?C=[n.left+(_.left||0)+(P||0),n.left+n.width-(_.right||0)-(P||0)]:i==="yAxis"?C=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(P||0),n.top+n.height-(_.bottom||0)-(P||0)]:C=g.range,S&&(C=[C[1],C[0]]);var Z=xI(g,a,p),ne=Z.scale,ae=Z.realScaleType;ne.domain(y).range(C),wI(ne);var E=_I(ne,Da(Da({},g),{},{realScaleType:ae}));i==="xAxis"?(O=x==="top"&&!A||x==="bottom"&&A,L=n.left,D=f[k]-O*g.height):i==="yAxis"&&(O=x==="left"&&!A||x==="right"&&A,L=f[k]-O*g.width,D=n.top);var z=Da(Da(Da({},g),E),{},{realScaleType:ae,x:L,y:D,scale:ne,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return z.bandSize=kv(z,E),!g.hide&&i==="xAxis"?f[k]+=(O?-1:1)*z.height:g.hide||(f[k]+=(O?-1:1)*z.width),Da(Da({},h),{},p1({},v,z))},{})},a$=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Che=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return a$({x:r,y:n},{x:i,y:a})},s$=function(){function t(e){Phe(this,t),this.scale=e}return Ehe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();p1(s$,"EPS",1e-4);var qS=function(e){var r=Object.keys(e).reduce(function(n,i){return Da(Da({},n),{},p1({},i,s$.create(e[i])))},{});return Da(Da({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return Zfe(i,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return QI(i,function(a,s){return r[s].isInRange(a)})}})};function Lhe(t){return(t%180+180)%180}var Ihe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Lhe(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},$he=Ss,Rhe=fm,Mhe=Vy;function Dhe(t){return function(e,r,n){var i=Object(e);if(!Rhe(e)){var a=$he(r);e=Mhe(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var Bhe=Dhe,Fhe=YI;function Uhe(t){var e=Fhe(t),r=e%1;return e===e?r?e-r:e:0}var zhe=Uhe,qhe=eL,Whe=Ss,Hhe=zhe,Vhe=Math.max;function Ghe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Hhe(r);return i<0&&(i=Vhe(n+i,0)),qhe(t,Whe(e),i)}var Khe=Ghe,Yhe=Bhe,Xhe=Khe,Jhe=Yhe(Xhe),Zhe=Jhe;const Qhe=ar(Zhe);var epe=KW(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),WS=X.createContext(void 0),HS=X.createContext(void 0),o$=X.createContext(void 0),l$=X.createContext({}),c$=X.createContext(void 0),u$=X.createContext(0),d$=X.createContext(0),kO=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=epe(a);return le.createElement(WS.Provider,{value:n},le.createElement(HS.Provider,{value:i},le.createElement(l$.Provider,{value:a},le.createElement(o$.Provider,{value:u},le.createElement(c$.Provider,{value:s},le.createElement(u$.Provider,{value:c},le.createElement(d$.Provider,{value:l},o)))))))},tpe=function(){return X.useContext(c$)},f$=function(e){var r=X.useContext(WS);r==null&&Fc();var n=r[e];return n==null&&Fc(),n},rpe=function(){var e=X.useContext(WS);return Jo(e)},npe=function(){var e=X.useContext(HS),r=Qhe(e,function(n){return QI(n.domain,Number.isFinite)});return r||Jo(e)},h$=function(e){var r=X.useContext(HS);r==null&&Fc();var n=r[e];return n==null&&Fc(),n},ipe=function(){var e=X.useContext(o$);return e},ape=function(){return X.useContext(l$)},VS=function(){return X.useContext(d$)},GS=function(){return X.useContext(u$)};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function spe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ope(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m$(n.key),n)}}function lpe(t,e,r){return e&&ope(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cpe(t,e,r){return e=Hv(e),upe(t,p$()?Reflect.construct(e,r||[],Hv(t).constructor):e.apply(t,r))}function upe(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dpe(t)}function dpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p$=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hv(t)}function fpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s5(t,e)}function s5(t,e){return s5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s5(t,e)}function OO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(r),!0).forEach(function(n){KS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KS(t,e,r){return e=m$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m$(t){var e=hpe(t,"string");return Hd(e)=="symbol"?e:e+""}function hpe(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ppe(t,e){return ype(t)||vpe(t,e)||gpe(t,e)||mpe()}function mpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gpe(t,e){if(t){if(typeof t=="string")return EO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EO(t,e)}}function EO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function ype(t){if(Array.isArray(t))return t}function o5(){return o5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o5.apply(this,arguments)}var bpe=function(e,r){var n;return le.isValidElement(e)?n=le.cloneElement(e,r):bt(e)?n=e(r):n=le.createElement("line",o5({},r,{className:"recharts-reference-line-line"})),n},xpe=function(e,r,n,i,a,s,o,l,c){var u=a.x,f=a.y,p=a.width,h=a.height;if(n){var v=c.y,g=e.y.apply(v,{position:s});if(ys(c,"discard")&&!e.y.isInRange(g))return null;var x=[{x:u+p,y:g},{x:u,y:g}];return l==="left"?x.reverse():x}if(r){var y=c.x,w=e.x.apply(y,{position:s});if(ys(c,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+h},{x:w,y:f}];return o==="top"?_.reverse():_}if(i){var A=c.segment,S=A.map(function(k){return e.apply(k,{position:s})});return ys(c,"discard")&&Wfe(S,function(k){return!e.isInRange(k)})?null:S}return null};function wpe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=tpe(),u=f$(i),f=h$(a),p=ipe();if(!c||!p)return null;Ha(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=qS({x:u.scale,y:f.scale}),v=xn(e),g=xn(r),x=n&&n.length===2,y=xpe(h,v,g,x,p,t.position,u.orientation,f.orientation,t);if(!y)return null;var w=ppe(y,2),_=w[0],A=_.x,S=_.y,k=w[1],P=k.x,C=k.y,L=ys(t,"hidden")?"url(#".concat(c,")"):void 0,D=PO(PO({clipPath:L},ft(t,!0)),{},{x1:A,y1:S,x2:P,y2:C});return le.createElement(Gt,{className:It("recharts-reference-line",o)},bpe(s,D),Nn.renderCallByParent(t,Che({x1:A,y1:S,x2:P,y2:C})))}var YS=function(t){function e(){return spe(this,e),cpe(this,e,arguments)}return fpe(e,t),lpe(e,[{key:"render",value:function(){return le.createElement(wpe,this.props)}}])}(le.Component);KS(YS,"displayName","ReferenceLine");KS(YS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function l5(){return l5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l5.apply(this,arguments)}function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function TO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(r),!0).forEach(function(n){m1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Spe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v$(n.key),n)}}function jpe(t,e,r){return e&&Spe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ape(t,e,r){return e=Vv(e),Npe(t,g$()?Reflect.construct(e,r||[],Vv(t).constructor):e.apply(t,r))}function Npe(t,e){if(e&&(Vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kpe(t)}function kpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g$=function(){return!!t})()}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vv(t)}function Ope(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c5(t,e)}function c5(t,e){return c5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c5(t,e)}function m1(t,e,r){return e=v$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v$(t){var e=Ppe(t,"string");return Vd(e)=="symbol"?e:e+""}function Ppe(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Epe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=qS({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return ys(e,"discard")&&!s.isInRange(o)?null:o},g1=function(t){function e(){return _pe(this,e),Ape(this,e,arguments)}return Ope(e,t),jpe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=xn(i),u=xn(a);if(Ha(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=Epe(this.props);if(!f)return null;var p=f.x,h=f.y,v=this.props,g=v.shape,x=v.className,y=ys(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=CO(CO({clipPath:y},ft(this.props,!0)),{},{cx:p,cy:h});return le.createElement(Gt,{className:It("recharts-reference-dot",x)},e.renderDot(g,w),Nn.renderCallByParent(this.props,{x:p-s,y:h-s,width:2*s,height:2*s}))}}])}(le.Component);m1(g1,"displayName","ReferenceDot");m1(g1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});m1(g1,"renderDot",function(t,e){var r;return le.isValidElement(t)?r=le.cloneElement(t,e):bt(t)?r=t(e):r=le.createElement(o1,l5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function u5(){return u5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u5.apply(this,arguments)}function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function LO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(r),!0).forEach(function(n){v1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b$(n.key),n)}}function Lpe(t,e,r){return e&&Cpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ipe(t,e,r){return e=Gv(e),$pe(t,y$()?Reflect.construct(e,r||[],Gv(t).constructor):e.apply(t,r))}function $pe(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rpe(t)}function Rpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gv(t)}function Mpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d5(t,e)}function d5(t,e){return d5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d5(t,e)}function v1(t,e,r){return e=b$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b$(t){var e=Dpe(t,"string");return Gd(e)=="symbol"?e:e+""}function Dpe(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bpe=function(e,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var p=qS({x:u.scale,y:f.scale}),h={x:e?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},v={x:r?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return ys(a,"discard")&&(!p.isInRange(h)||!p.isInRange(v))?null:a$(h,v)},y1=function(t){function e(){return Tpe(this,e),Ipe(this,e,arguments)}return Mpe(e,t),Lpe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Ha(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=xn(i),p=xn(a),h=xn(s),v=xn(o),g=this.props.shape;if(!f&&!p&&!h&&!v&&!g)return null;var x=Bpe(f,p,h,v,this.props);if(!x&&!g)return null;var y=ys(this.props,"hidden")?"url(#".concat(u,")"):void 0;return le.createElement(Gt,{className:It("recharts-reference-area",l)},e.renderRect(g,IO(IO({clipPath:y},ft(this.props,!0)),x)),Nn.renderCallByParent(this.props,x))}}])}(le.Component);v1(y1,"displayName","ReferenceArea");v1(y1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});v1(y1,"renderRect",function(t,e){var r;return le.isValidElement(t)?r=le.cloneElement(t,e):bt(t)?r=t(e):r=le.createElement(zS,u5({},e,{className:"recharts-reference-area-rect"})),r});function x$(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Fpe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Ihe(n,r)}function Upe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Kv(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function zpe(t,e){return x$(t,e+1)}function qpe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,f=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:x$(n,c)};var g=l,x,y=function(){return x===void 0&&(x=r(v,g)),x},w=v.coordinate,_=l===0||Kv(t,w,y,u,o);_||(l=0,u=s,c+=1),_&&(u=w+t*(y()/2+i),l+=c)},p;c<=a.length;)if(p=f(),p)return p.v;return[]}function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function $O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(r),!0).forEach(function(n){Wpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wpe(t,e,r){return e=Hpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hpe(t){var e=Vpe(t,"string");return Jp(e)=="symbol"?e:e+""}function Vpe(t,e){if(Jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gpe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(p){var h=a[p],v,g=function(){return v===void 0&&(v=r(h,p)),v};if(p===s-1){var x=t*(h.coordinate+t*g()/2-l);a[p]=h=Yn(Yn({},h),{},{tickCoord:x>0?h.coordinate-x*t:h.coordinate})}else a[p]=h=Yn(Yn({},h),{},{tickCoord:h.coordinate});var y=Kv(t,h.tickCoord,g,o,l);y&&(l=h.tickCoord-t*(g()/2+i),a[p]=Yn(Yn({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function Kpe(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=n[o-1],f=r(u,o-1),p=t*(u.coordinate+t*f/2-c);s[o-1]=u=Yn(Yn({},u),{},{tickCoord:p>0?u.coordinate-p*t:u.coordinate});var h=Kv(t,u.tickCoord,function(){return f},l,c);h&&(c=u.tickCoord-t*(f/2+i),s[o-1]=Yn(Yn({},u),{},{isShow:!0}))}for(var v=a?o-1:o,g=function(w){var _=s[w],A,S=function(){return A===void 0&&(A=r(_,w)),A};if(w===0){var k=t*(_.coordinate-t*S()/2-l);s[w]=_=Yn(Yn({},_),{},{tickCoord:k<0?_.coordinate-k*t:_.coordinate})}else s[w]=_=Yn(Yn({},_),{},{tickCoord:_.coordinate});var P=Kv(t,_.tickCoord,S,l,c);P&&(l=_.tickCoord+t*(S()/2+i),s[w]=Yn(Yn({},_),{},{isShow:!0}))},x=0;x<v;x++)g(x);return s}function XS(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(Be(l)||Xc.isSsr)return zpe(i,typeof l=="number"&&Be(l)?l:0);var p=[],h=o==="top"||o==="bottom"?"width":"height",v=u&&h==="width"?Bh(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(_,A){var S=bt(c)?c(_.value,A):_.value;return h==="width"?Fpe(Bh(S,{fontSize:e,letterSpacing:r}),v,f):Bh(S,{fontSize:e,letterSpacing:r})[h]},x=i.length>=2?ii(i[1].coordinate-i[0].coordinate):1,y=Upe(a,x,h);return l==="equidistantPreserveStart"?qpe(x,y,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=Kpe(x,y,g,i,s,l==="preserveStartEnd"):p=Gpe(x,y,g,i,s),p.filter(function(w){return w.isShow}))}var Ype=["viewBox"],Xpe=["viewBox"],Jpe=["ticks"];function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ju.apply(this,arguments)}function RO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(r),!0).forEach(function(n){JS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cx(t,e){if(t==null)return{};var r=Zpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Qpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_$(n.key),n)}}function eme(t,e,r){return e&&MO(t.prototype,e),r&&MO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tme(t,e,r){return e=Yv(e),rme(t,w$()?Reflect.construct(e,r||[],Yv(t).constructor):e.apply(t,r))}function rme(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nme(t)}function nme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w$=function(){return!!t})()}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yv(t)}function ime(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f5(t,e)}function f5(t,e){return f5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f5(t,e)}function JS(t,e,r){return e=_$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _$(t){var e=ame(t,"string");return Kd(e)=="symbol"?e:e+""}function ame(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sf=function(t){function e(r){var n;return Qpe(this,e),n=tme(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return ime(e,t),eme(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=cx(n,Ype),o=this.props,l=o.viewBox,c=cx(o,Xpe);return!ld(a,l)||!ld(s,c)||!ld(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,p=i.tickMargin,h,v,g,x,y,w,_=f?-1:1,A=n.tickSize||u,S=Be(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":h=v=n.coordinate,x=s+ +!f*l,g=x-_*A,w=g-_*p,y=S;break;case"left":g=x=n.coordinate,v=a+ +!f*o,h=v-_*A,y=h-_*p,w=S;break;case"right":g=x=n.coordinate,v=a+ +f*o,h=v+_*A,y=h+_*p,w=S;break;default:h=v=n.coordinate,x=s+ +f*l,g=x+_*A,w=g+_*p,y=S;break}return{line:{x1:h,y1:g,x2:v,y2:x},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=pn(pn(pn({},ft(this.props,!1)),ft(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);f=pn(pn({},f),{},{x1:i,y1:a+p*o,x2:i+s,y2:a+p*o})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=pn(pn({},f),{},{x1:i+h*s,y1:a,x2:i+h*s,y2:a+o})}return le.createElement("line",Ju({},f,{className:It("recharts-cartesian-axis-line",Wi(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,p=o.unit,h=XS(pn(pn({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=ft(this.props,!1),y=ft(u,!1),w=pn(pn({},x),{},{fill:"none"},ft(l,!1)),_=h.map(function(A,S){var k=s.getTickLineCoord(A),P=k.line,C=k.tick,L=pn(pn(pn(pn({textAnchor:v,verticalAnchor:g},x),{},{stroke:"none",fill:c},y),C),{},{index:S,payload:A,visibleTicksCount:h.length,tickFormatter:f});return le.createElement(Gt,Ju({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Mc(s.props,A,S)),l&&le.createElement("line",Ju({},w,P,{className:It("recharts-cartesian-axis-tick-line",Wi(l,"className"))})),u&&e.renderTickItem(u,L,"".concat(bt(f)?f(A.value,S):A.value).concat(p||"")))});return le.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,p=f.ticks,h=cx(f,Jpe),v=p;return bt(l)&&(v=p&&p.length>0?l(this.props):l(h)),s<=0||o<=0||!v||!v.length?null:le.createElement(Gt,{className:It("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Nn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=It(i.className,"recharts-cartesian-axis-tick-value");return le.isValidElement(n)?s=le.cloneElement(n,pn(pn({},i),{},{className:o})):bt(n)?s=n(pn(pn({},i),{},{className:o})):s=le.createElement(Dc,Ju({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(X.Component);JS(Sf,"displayName","CartesianAxis");JS(Sf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var sme=["x1","y1","x2","y2","key"],ome=["offset"];function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function DO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(r),!0).forEach(function(n){lme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lme(t,e,r){return e=cme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cme(t){var e=ume(t,"string");return Uc(e)=="symbol"?e:e+""}function ume(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_c.apply(this,arguments)}function BO(t,e){if(t==null)return{};var r=dme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var fme=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return le.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function S$(t,e){var r;if(le.isValidElement(t))r=le.cloneElement(t,e);else if(bt(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=BO(e,sme),c=ft(l,!1);c.offset;var u=BO(c,ome);r=le.createElement("line",_c({},u,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function hme(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Jn(Jn({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return S$(i,c)});return le.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function pme(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Jn(Jn({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return S$(i,c)});return le.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function mme(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var v=!u[h+1],g=v?i+s-p:u[h+1]-p;if(g<=0)return null;var x=h%e.length;return le.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:g,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function gme(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var v=!u[h+1],g=v?a+o-p:u[h+1]-p;if(g<=0)return null;var x=h%n.length;return le.createElement("rect",{key:"react-".concat(h),x:p,y:s,width:g,height:l,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var vme=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return bI(XS(Jn(Jn(Jn({},Sf.defaultProps),n),{},{ticks:Qs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},yme=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return bI(XS(Jn(Jn(Jn({},Sf.defaultProps),n),{},{ticks:Qs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Nu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function b1(t){var e,r,n,i,a,s,o=VS(),l=GS(),c=ape(),u=Jn(Jn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Nu.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Nu.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Nu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Nu.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Nu.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Nu.verticalFill,x:Be(t.x)?t.x:c.left,y:Be(t.y)?t.y:c.top,width:Be(t.width)?t.width:c.width,height:Be(t.height)?t.height:c.height}),f=u.x,p=u.y,h=u.width,v=u.height,g=u.syncWithTicks,x=u.horizontalValues,y=u.verticalValues,w=rpe(),_=npe();if(!Be(h)||h<=0||!Be(v)||v<=0||!Be(f)||f!==+f||!Be(p)||p!==+p)return null;var A=u.verticalCoordinatesGenerator||vme,S=u.horizontalCoordinatesGenerator||yme,k=u.horizontalPoints,P=u.verticalPoints;if((!k||!k.length)&&bt(S)){var C=x&&x.length,L=S({yAxis:_?Jn(Jn({},_),{},{ticks:C?x:_.ticks}):void 0,width:o,height:l,offset:c},C?!0:g);Ha(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Uc(L),"]")),Array.isArray(L)&&(k=L)}if((!P||!P.length)&&bt(A)){var D=y&&y.length,O=A({xAxis:w?Jn(Jn({},w),{},{ticks:D?y:w.ticks}):void 0,width:o,height:l,offset:c},D?!0:g);Ha(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Uc(O),"]")),Array.isArray(O)&&(P=O)}return le.createElement("g",{className:"recharts-cartesian-grid"},le.createElement(fme,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),le.createElement(hme,_c({},u,{offset:c,horizontalPoints:k,xAxis:w,yAxis:_})),le.createElement(pme,_c({},u,{offset:c,verticalPoints:P,xAxis:w,yAxis:_})),le.createElement(mme,_c({},u,{horizontalPoints:k})),le.createElement(gme,_c({},u,{verticalPoints:P})))}b1.displayName="CartesianGrid";var bme=["type","layout","connectNulls","ref"],xme=["key"];function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function FO(t,e){if(t==null)return{};var r=wme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hh(){return Hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hh.apply(this,arguments)}function UO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(r),!0).forEach(function(n){Ba(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ku(t){return Ame(t)||jme(t)||Sme(t)||_me()}function _me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sme(t,e){if(t){if(typeof t=="string")return h5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h5(t,e)}}function jme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ame(t){if(Array.isArray(t))return h5(t)}function h5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A$(n.key),n)}}function kme(t,e,r){return e&&zO(t.prototype,e),r&&zO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ome(t,e,r){return e=Xv(e),Pme(t,j$()?Reflect.construct(e,r||[],Xv(t).constructor):e.apply(t,r))}function Pme(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eme(t)}function Eme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function Xv(t){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xv(t)}function Tme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p5(t,e)}function p5(t,e){return p5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p5(t,e)}function Ba(t,e,r){return e=A$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A$(t){var e=Cme(t,"string");return Yd(e)=="symbol"?e:e+""}function Cme(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zc=function(t){function e(){var r;Nme(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ome(this,e,[].concat(i)),Ba(r,"state",{isAnimationFinished:!0,totalLength:0}),Ba(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Ba(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,w){return y+w});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,p=o-s,h=[],v=0,g=0;v<l.length;g+=l[v],++v)if(g+l[v]>f){h=[].concat(ku(l.slice(0,v)),[f-g]);break}var x=h.length%2===0?[0,p]:[p];return[].concat(ku(e.repeat(l,u)),ku(h),x).map(function(y){return"".concat(y,"px")}).join(", ")}),Ba(r,"id",gf("recharts-line-")),Ba(r,"pathRef",function(s){r.mainCurve=s}),Ba(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ba(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Tme(e,t),kme(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=Hi(u,bm);if(!f)return null;var p=function(g,x){return{x:g.x,y:g.y,value:g.value,errorVal:yn(g.payload,x)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return le.createElement(Gt,h,f.map(function(v){return le.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=ft(this.props,!1),p=ft(l,!0),h=c.map(function(g,x){var y=Ci(Ci(Ci({key:"dot-".concat(x),r:3},f),p),{},{index:x,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:c});return e.renderDotItem(l,y)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return le.createElement(Gt,Hh({className:"recharts-line-dots",key:"dots"},v),h)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=FO(o,bme),p=Ci(Ci(Ci({},ft(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return le.createElement(Ev,Hh({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,p=s.animationEasing,h=s.animationId,v=s.animateNewValues,g=s.width,x=s.height,y=this.state,w=y.prevPoints,_=y.totalLength;return le.createElement(ws,{begin:u,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var S=A.t;if(w){var k=w.length/o.length,P=o.map(function(I,B){var F=Math.floor(B*k);if(w[F]){var U=w[F],K=Mi(U.x,I.x),V=Mi(U.y,I.y);return Ci(Ci({},I),{},{x:K(S),y:V(S)})}if(v){var M=Mi(g*2,I.x),Z=Mi(x/2,I.y);return Ci(Ci({},I),{},{x:M(S),y:Z(S)})}return Ci(Ci({},I),{},{x:I.x,y:I.y})});return a.renderCurveStatically(P,n,i)}var C=Mi(0,_),L=C(S),D;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});D=a.getStrokeDasharray(L,_,O)}else D=a.generateSimpleStrokeDasharray(_,L);return a.renderCurveStatically(o,n,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!ym(c,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.xAxis,u=i.yAxis,f=i.top,p=i.left,h=i.width,v=i.height,g=i.isAnimationActive,x=i.id;if(a||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=o.length===1,_=It("recharts-line",l),A=c&&c.allowDataOverflow,S=u&&u.allowDataOverflow,k=A||S,P=Ot(x)?this.id:x,C=(n=ft(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},L=C.r,D=L===void 0?3:L,O=C.strokeWidth,I=O===void 0?2:O,B=eV(s)?s:{},F=B.clipDot,U=F===void 0?!0:F,K=D*2+I;return le.createElement(Gt,{className:_},A||S?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(P)},le.createElement("rect",{x:A?p:p-h/2,y:S?f:f-v/2,width:A?h:h*2,height:S?v:v*2})),!U&&le.createElement("clipPath",{id:"clipPath-dots-".concat(P)},le.createElement("rect",{x:p-K/2,y:f-K/2,width:h+K,height:v+K}))):null,!w&&this.renderCurve(k,P),this.renderErrorBar(k,P),(w||s)&&this.renderDots(k,U,P),(!g||y)&&io.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(ku(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(ku(s),ku(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(le.isValidElement(n))a=le.cloneElement(n,i);else if(bt(n))a=n(i);else{var s=i.key,o=FO(i,xme),l=It("recharts-line-dot",typeof n!="boolean"?n.className:"");a=le.createElement(o1,Hh({key:s},o,{className:l}))}return a}}])}(X.PureComponent);Ba(zc,"displayName","Line");Ba(zc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Xc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ba(zc,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,f=l.map(function(p,h){var v=yn(p,s);return u==="horizontal"?{x:fk({axis:r,ticks:i,bandSize:o,entry:p,index:h}),y:Ot(v)?null:n.scale(v),value:v,payload:p}:{x:Ot(v)?null:r.scale(v),y:fk({axis:n,ticks:a,bandSize:o,entry:p,index:h}),value:v,payload:p}});return Ci({points:f,layout:u},c)});function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function Lme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ime(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O$(n.key),n)}}function $me(t,e,r){return e&&Ime(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rme(t,e,r){return e=Jv(e),Mme(t,N$()?Reflect.construct(e,r||[],Jv(t).constructor):e.apply(t,r))}function Mme(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dme(t)}function Dme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N$=function(){return!!t})()}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jv(t)}function Bme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m5(t,e)}function m5(t,e){return m5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m5(t,e)}function k$(t,e,r){return e=O$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O$(t){var e=Fme(t,"string");return Xd(e)=="symbol"?e:e+""}function Fme(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function g5(){return g5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g5.apply(this,arguments)}function Ume(t){var e=t.xAxisId,r=VS(),n=GS(),i=f$(e);return i==null?null:X.createElement(Sf,g5({},i,{className:It("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Qs(s,!0)}}))}var tu=function(t){function e(){return Lme(this,e),Rme(this,e,arguments)}return Bme(e,t),$me(e,[{key:"render",value:function(){return X.createElement(Ume,this.props)}}])}(X.Component);k$(tu,"displayName","XAxis");k$(tu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function zme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T$(n.key),n)}}function Wme(t,e,r){return e&&qme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hme(t,e,r){return e=Zv(e),Vme(t,P$()?Reflect.construct(e,r||[],Zv(t).constructor):e.apply(t,r))}function Vme(t,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gme(t)}function Gme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P$=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(t)}function Kme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v5(t,e)}function v5(t,e){return v5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v5(t,e)}function E$(t,e,r){return e=T$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T$(t){var e=Yme(t,"string");return Jd(e)=="symbol"?e:e+""}function Yme(t,e){if(Jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function y5(){return y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y5.apply(this,arguments)}var Xme=function(e){var r=e.yAxisId,n=VS(),i=GS(),a=h$(r);return a==null?null:X.createElement(Sf,y5({},a,{className:It("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Qs(o,!0)}}))},ru=function(t){function e(){return zme(this,e),Hme(this,e,arguments)}return Kme(e,t),Wme(e,[{key:"render",value:function(){return X.createElement(Xme,this.props)}}])}(X.Component);E$(ru,"displayName","YAxis");E$(ru,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qO(t){return ege(t)||Qme(t)||Zme(t)||Jme()}function Jme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zme(t,e){if(t){if(typeof t=="string")return b5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b5(t,e)}}function Qme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ege(t){if(Array.isArray(t))return b5(t)}function b5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var x5=function(e,r,n,i,a){var s=Hi(e,YS),o=Hi(e,g1),l=[].concat(qO(s),qO(o)),c=Hi(e,y1),u="".concat(i,"Id"),f=i[0],p=r;if(l.length&&(p=l.reduce(function(g,x){if(x.props[u]===n&&ys(x.props,"extendDomain")&&Be(x.props[f])){var y=x.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},p)),c.length){var h="".concat(f,"1"),v="".concat(f,"2");p=c.reduce(function(g,x){if(x.props[u]===n&&ys(x.props,"extendDomain")&&Be(x.props[h])&&Be(x.props[v])){var y=x.props[h],w=x.props[v];return[Math.min(g[0],y,w),Math.max(g[1],y,w)]}return g},p)}return a&&a.length&&(p=a.reduce(function(g,x){return Be(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},p)),p},C$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,p),v=r?r+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],h]:l._events[v].push(h):(l._events[v]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,v=new Array(h);p<h;p++)v[p]=f[p].fn;return v},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,p,h,v){var g=r?r+c:c;if(!this._events[g])return!1;var x=this._events[g],y=arguments.length,w,_;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,p),!0;case 5:return x.fn.call(x.context,u,f,p,h),!0;case 6:return x.fn.call(x.context,u,f,p,h,v),!0}for(_=1,w=new Array(y-1);_<y;_++)w[_-1]=arguments[_];x.fn.apply(x.context,w)}else{var A=x.length,S;for(_=0;_<A;_++)switch(x[_].once&&this.removeListener(c,x[_].fn,void 0,!0),y){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,u);break;case 3:x[_].fn.call(x[_].context,u,f);break;case 4:x[_].fn.call(x[_].context,u,f,p);break;default:if(!w)for(S=1,w=new Array(y-1);S<y;S++)w[S-1]=arguments[S];x[_].fn.apply(x[_].context,w)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,p){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var v=this._events[h];if(v.fn)v.fn===u&&(!p||v.once)&&(!f||v.context===f)&&s(this,h);else{for(var g=0,x=[],y=v.length;g<y;g++)(v[g].fn!==u||p&&!v[g].once||f&&v[g].context!==f)&&x.push(v[g]);x.length?this._events[h]=x.length===1?x[0]:x:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(C$);var tge=C$.exports;const rge=ar(tge);var ux=new rge,dx="recharts.syncMouseEvents";function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function nge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ige(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L$(n.key),n)}}function age(t,e,r){return e&&ige(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fx(t,e,r){return e=L$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L$(t){var e=sge(t,"string");return Zp(e)=="symbol"?e:e+""}function sge(t,e){if(Zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oge=function(){function t(){nge(this,t),fx(this,"activeIndex",0),fx(this,"coordinateList",[]),fx(this,"layout","horizontal")}return age(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,p=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function lge(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Be(n)&&Be(i))return!0}return!1}function cge(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function I$(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=br(e,r,n,i),o=br(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function uge(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,p=br(o,l,c,f),h=br(o,l,u,f);n=p.x,i=p.y,a=h.x,s=h.y}else return I$(e);return[{x:n,y:i},{x:a,y:s}]}function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ug(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){dge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dge(t,e,r){return e=fge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fge(t){var e=hge(t,"string");return Qp(e)=="symbol"?e:e+""}function hge(t,e){if(Qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pge(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!s||p!=="ScatterChart"&&i!=="axis")return null;var v,g=Ev;if(p==="ScatterChart")v=s,g=Cue;else if(p==="BarChart")v=cge(f,s,l,u),g=zS;else if(f==="radial"){var x=I$(s),y=x.cx,w=x.cy,_=x.radius,A=x.startAngle,S=x.endAngle;v={cx:y,cy:w,startAngle:A,endAngle:S,innerRadius:_,outerRadius:_},g=EI}else v={points:uge(f,s,l)},g=Ev;var k=Ug(Ug(Ug(Ug({stroke:"#ccc",pointerEvents:"none"},l),v),ft(h,!1)),{},{payload:o,payloadIndex:c,className:It("recharts-tooltip-cursor",h.className)});return X.isValidElement(h)?X.cloneElement(h,k):X.createElement(g,k)}var mge=["item"],gge=["children","className","width","height","style","compact","title","desc"];function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zu.apply(this,arguments)}function HO(t,e){return bge(t)||yge(t,e)||R$(t,e)||vge()}function vge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function bge(t){if(Array.isArray(t))return t}function VO(t,e){if(t==null)return{};var r=xge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M$(n.key),n)}}function Sge(t,e,r){return e&&_ge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jge(t,e,r){return e=Qv(e),Age(t,$$()?Reflect.construct(e,r||[],Qv(t).constructor):e.apply(t,r))}function Age(t,e){if(e&&(Zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nge(t)}function Nge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($$=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qv(t)}function kge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w5(t,e)}function w5(t,e){return w5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},w5(t,e)}function Qd(t){return Ege(t)||Pge(t)||R$(t)||Oge()}function Oge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R$(t,e){if(t){if(typeof t=="string")return _5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _5(t,e)}}function Pge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ege(t){if(Array.isArray(t))return _5(t)}function _5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(r),!0).forEach(function(n){mt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mt(t,e,r){return e=M$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M$(t){var e=Tge(t,"string");return Zd(e)=="symbol"?e:e+""}function Tge(t,e){if(Zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cge={xAxis:["bottom","top"],yAxis:["left","right"]},Lge={width:"100%",height:"100%"},D$={x:0,y:0};function zg(t){return t}var Ige=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},$ge=function(e,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Se(Se(Se({},i),br(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return Se(Se(Se({},i),br(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return D$},x1=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Qd(o),Qd(c)):o},[]);return s.length>0?s:e&&e.length&&Be(i)&&Be(a)?e.slice(i,a+1):[]};function B$(t){return t==="number"?[0,"auto"]:void 0}var S5=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=x1(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?o:f;p=Q0(h,s.dataKey,i)}else p=f&&f[n]||o[n];return p?[].concat(Qd(l),[jI(c,p)]):l},[])},KO=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=Ige(a,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=toe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,p=S5(e,r,u,f),h=$ge(n,o,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},Rge=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,p=e.stackOffset,h=yI(u,a);return n.reduce(function(v,g){var x,y=g.type.defaultProps!==void 0?Se(Se({},g.type.defaultProps),g.props):g.props,w=y.type,_=y.dataKey,A=y.allowDataOverflow,S=y.allowDuplicatedCategory,k=y.scale,P=y.ticks,C=y.includeHidden,L=y[s];if(v[L])return v;var D=x1(e.data,{graphicalItems:i.filter(function(E){var z,H=s in E.props?E.props[s]:(z=E.type.defaultProps)===null||z===void 0?void 0:z[s];return H===L}),dataStartIndex:l,dataEndIndex:c}),O=D.length,I,B,F;lge(y.domain,A,w)&&(I=Mw(y.domain,null,A),h&&(w==="number"||k!=="auto")&&(F=Uh(D,_,"category")));var U=B$(w);if(!I||I.length===0){var K,V=(K=y.domain)!==null&&K!==void 0?K:U;if(_){if(I=Uh(D,_,w),w==="category"&&h){var M=WH(I);S&&M?(B=I,I=Fv(0,O)):S||(I=gk(V,I,g).reduce(function(E,z){return E.indexOf(z)>=0?E:[].concat(Qd(E),[z])},[]))}else if(w==="category")S?I=I.filter(function(E){return E!==""&&!Ot(E)}):I=gk(V,I,g).reduce(function(E,z){return E.indexOf(z)>=0||z===""||Ot(z)?E:[].concat(Qd(E),[z])},[]);else if(w==="number"){var Z=soe(D,i.filter(function(E){var z,H,re=s in E.props?E.props[s]:(z=E.type.defaultProps)===null||z===void 0?void 0:z[s],se="hide"in E.props?E.props.hide:(H=E.type.defaultProps)===null||H===void 0?void 0:H.hide;return re===L&&(C||!se)}),_,a,u);Z&&(I=Z)}h&&(w==="number"||k!=="auto")&&(F=Uh(D,_,"category"))}else h?I=Fv(0,O):o&&o[L]&&o[L].hasStack&&w==="number"?I=p==="expand"?[0,1]:SI(o[L].stackGroups,l,c):I=vI(D,i.filter(function(E){var z=s in E.props?E.props[s]:E.type.defaultProps[s],H="hide"in E.props?E.props.hide:E.type.defaultProps.hide;return z===L&&(C||!H)}),w,u,!0);if(w==="number")I=x5(f,I,L,a,P),V&&(I=Mw(V,I,A));else if(w==="category"&&V){var ne=V,ae=I.every(function(E){return ne.indexOf(E)>=0});ae&&(I=ne)}}return Se(Se({},v),{},mt({},L,Se(Se({},y),{},{axisType:a,domain:I,categoricalDomain:F,duplicateDomain:B,originalDomain:(x=y.domain)!==null&&x!==void 0?x:U,isCategorical:h,layout:u})))},{})},Mge=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,p=x1(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),h=p.length,v=yI(u,a),g=-1;return n.reduce(function(x,y){var w=y.type.defaultProps!==void 0?Se(Se({},y.type.defaultProps),y.props):y.props,_=w[s],A=B$("number");if(!x[_]){g++;var S;return v?S=Fv(0,h):o&&o[_]&&o[_].hasStack?(S=SI(o[_].stackGroups,l,c),S=x5(f,S,_,a)):(S=Mw(A,vI(p,n.filter(function(k){var P,C,L=s in k.props?k.props[s]:(P=k.type.defaultProps)===null||P===void 0?void 0:P[s],D="hide"in k.props?k.props.hide:(C=k.type.defaultProps)===null||C===void 0?void 0:C.hide;return L===_&&!D}),"number",u),i.defaultProps.allowDataOverflow),S=x5(f,S,_,a)),Se(Se({},x),{},mt({},_,Se(Se({axisType:a},i.defaultProps),{},{hide:!0,orientation:Wi(Cge,"".concat(a,".").concat(g%2),null),domain:S,originalDomain:A,isCategorical:v,layout:u})))}return x},{})},Dge=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(i,"Id"),p=Hi(u,a),h={};return p&&p.length?h=Rge(e,{axes:p,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(h=Mge(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),h},Bge=function(e){var r=Jo(e),n=Qs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:mS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:kv(r,n)}},YO=function(e){var r=e.children,n=e.defaultShowTooltip,i=$i(r,qd),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Fge=function(e){return!e||!e.length?!1:e.some(function(r){var n=to(r&&r.type);return n&&n.indexOf("Bar")>=0})},XO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Uge=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,p=n.margin||{},h=$i(f,qd),v=$i(f,ro),g=Object.keys(l).reduce(function(S,k){var P=l[k],C=P.orientation;return!P.mirror&&!P.hide?Se(Se({},S),{},mt({},C,S[C]+P.width)):S},{left:p.left||0,right:p.right||0}),x=Object.keys(s).reduce(function(S,k){var P=s[k],C=P.orientation;return!P.mirror&&!P.hide?Se(Se({},S),{},mt({},C,Wi(S,"".concat(C))+P.height)):S},{top:p.top||0,bottom:p.bottom||0}),y=Se(Se({},x),g),w=y.bottom;h&&(y.bottom+=h.props.height||qd.defaultProps.height),v&&r&&(y=ioe(y,i,n,r));var _=c-y.left-y.right,A=u-y.top-y.bottom;return Se(Se({brushBottom:w},y),{},{width:Math.max(_,0),height:Math.max(A,0)})},zge=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},ZS=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,p=function(y,w){var _=w.graphicalItems,A=w.stackGroups,S=w.offset,k=w.updateId,P=w.dataStartIndex,C=w.dataEndIndex,L=y.barSize,D=y.layout,O=y.barGap,I=y.barCategoryGap,B=y.maxBarSize,F=XO(D),U=F.numericAxisName,K=F.cateAxisName,V=Fge(_),M=[];return _.forEach(function(Z,ne){var ae=x1(y.data,{graphicalItems:[Z],dataStartIndex:P,dataEndIndex:C}),E=Z.type.defaultProps!==void 0?Se(Se({},Z.type.defaultProps),Z.props):Z.props,z=E.dataKey,H=E.maxBarSize,re=E["".concat(U,"Id")],se=E["".concat(K,"Id")],ue={},me=l.reduce(function(Ae,qe){var De=w["".concat(qe.axisType,"Map")],Xe=E["".concat(qe.axisType,"Id")];De&&De[Xe]||qe.axisType==="zAxis"||Fc();var ze=De[Xe];return Se(Se({},Ae),{},mt(mt({},qe.axisType,ze),"".concat(qe.axisType,"Ticks"),Qs(ze)))},ue),oe=me[K],pe=me["".concat(K,"Ticks")],xe=A&&A[re]&&A[re].hasStack&&moe(Z,A[re].stackGroups),he=to(Z.type).indexOf("Bar")>=0,Ce=kv(oe,pe),ie=[],J=V&&roe({barSize:L,stackGroups:A,totalSize:zge(me,K)});if(he){var Fe,Oe,Ie=Ot(H)?B:H,we=(Fe=(Oe=kv(oe,pe,!0))!==null&&Oe!==void 0?Oe:Ie)!==null&&Fe!==void 0?Fe:0;ie=noe({barGap:O,barCategoryGap:I,bandSize:we!==Ce?we:Ce,sizeList:J[se],maxBarSize:Ie}),we!==Ce&&(ie=ie.map(function(Ae){return Se(Se({},Ae),{},{position:Se(Se({},Ae.position),{},{offset:Ae.position.offset-we/2})})}))}var Pe=Z&&Z.type&&Z.type.getComposedData;Pe&&M.push({props:Se(Se({},Pe(Se(Se({},me),{},{displayedData:ae,props:y,dataKey:z,item:Z,bandSize:Ce,barPosition:ie,offset:S,stackedData:xe,layout:D,dataStartIndex:P,dataEndIndex:C}))),{},mt(mt(mt({key:Z.key||"item-".concat(ne)},U,me[U]),K,me[K]),"animationId",k)),childIndex:nV(Z,y.children),item:Z})}),M},h=function(y,w){var _=y.props,A=y.dataStartIndex,S=y.dataEndIndex,k=y.updateId;if(!c3({props:_}))return null;var P=_.children,C=_.layout,L=_.stackOffset,D=_.data,O=_.reverseStackOrder,I=XO(C),B=I.numericAxisName,F=I.cateAxisName,U=Hi(P,n),K=hoe(D,U,"".concat(B,"Id"),"".concat(F,"Id"),L,O),V=l.reduce(function(E,z){var H="".concat(z.axisType,"Map");return Se(Se({},E),{},mt({},H,Dge(_,Se(Se({},z),{},{graphicalItems:U,stackGroups:z.axisType===B&&K,dataStartIndex:A,dataEndIndex:S}))))},{}),M=Uge(Se(Se({},V),{},{props:_,graphicalItems:U}),w==null?void 0:w.legendBBox);Object.keys(V).forEach(function(E){V[E]=u(_,V[E],M,E.replace("Map",""),r)});var Z=V["".concat(F,"Map")],ne=Bge(Z),ae=p(_,Se(Se({},V),{},{dataStartIndex:A,dataEndIndex:S,updateId:k,graphicalItems:U,stackGroups:K,offset:M}));return Se(Se({formattedGraphicalItems:ae,graphicalItems:U,offset:M,stackGroups:K},ne),V)},v=function(x){function y(w){var _,A,S;return wge(this,y),S=jge(this,y,[w]),mt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),mt(S,"accessibilityManager",new oge),mt(S,"handleLegendBBoxUpdate",function(k){if(k){var P=S.state,C=P.dataStartIndex,L=P.dataEndIndex,D=P.updateId;S.setState(Se({legendBBox:k},h({props:S.props,dataStartIndex:C,dataEndIndex:L,updateId:D},Se(Se({},S.state),{},{legendBBox:k}))))}}),mt(S,"handleReceiveSyncEvent",function(k,P,C){if(S.props.syncId===k){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(P)}}),mt(S,"handleBrushChange",function(k){var P=k.startIndex,C=k.endIndex;if(P!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var L=S.state.updateId;S.setState(function(){return Se({dataStartIndex:P,dataEndIndex:C},h({props:S.props,dataStartIndex:P,dataEndIndex:C,updateId:L},S.state))}),S.triggerSyncEvent({dataStartIndex:P,dataEndIndex:C})}}),mt(S,"handleMouseEnter",function(k){var P=S.getMouseInfo(k);if(P){var C=Se(Se({},P),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var L=S.props.onMouseEnter;bt(L)&&L(C,k)}}),mt(S,"triggeredAfterMouseMove",function(k){var P=S.getMouseInfo(k),C=P?Se(Se({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var L=S.props.onMouseMove;bt(L)&&L(C,k)}),mt(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),mt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),mt(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),mt(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var C=S.props.onMouseLeave;bt(C)&&C(P,k)}),mt(S,"handleOuterEvent",function(k){var P=rV(k),C=Wi(S.props,"".concat(P));if(P&&bt(C)){var L,D;/.*touch.*/i.test(P)?D=S.getMouseInfo(k.changedTouches[0]):D=S.getMouseInfo(k),C((L=D)!==null&&L!==void 0?L:{},k)}}),mt(S,"handleClick",function(k){var P=S.getMouseInfo(k);if(P){var C=Se(Se({},P),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var L=S.props.onClick;bt(L)&&L(C,k)}}),mt(S,"handleMouseDown",function(k){var P=S.props.onMouseDown;if(bt(P)){var C=S.getMouseInfo(k);P(C,k)}}),mt(S,"handleMouseUp",function(k){var P=S.props.onMouseUp;if(bt(P)){var C=S.getMouseInfo(k);P(C,k)}}),mt(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),mt(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),mt(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),mt(S,"handleDoubleClick",function(k){var P=S.props.onDoubleClick;if(bt(P)){var C=S.getMouseInfo(k);P(C,k)}}),mt(S,"handleContextMenu",function(k){var P=S.props.onContextMenu;if(bt(P)){var C=S.getMouseInfo(k);P(C,k)}}),mt(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&ux.emit(dx,S.props.syncId,k,S.eventEmitterSymbol)}),mt(S,"applySyncEvent",function(k){var P=S.props,C=P.layout,L=P.syncMethod,D=S.state.updateId,O=k.dataStartIndex,I=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(Se({dataStartIndex:O,dataEndIndex:I},h({props:S.props,dataStartIndex:O,dataEndIndex:I,updateId:D},S.state)));else if(k.activeTooltipIndex!==void 0){var B=k.chartX,F=k.chartY,U=k.activeTooltipIndex,K=S.state,V=K.offset,M=K.tooltipTicks;if(!V)return;if(typeof L=="function")U=L(M,k);else if(L==="value"){U=-1;for(var Z=0;Z<M.length;Z++)if(M[Z].value===k.activeLabel){U=Z;break}}var ne=Se(Se({},V),{},{x:V.left,y:V.top}),ae=Math.min(B,ne.x+ne.width),E=Math.min(F,ne.y+ne.height),z=M[U]&&M[U].value,H=S5(S.state,S.props.data,U),re=M[U]?{x:C==="horizontal"?M[U].coordinate:ae,y:C==="horizontal"?E:M[U].coordinate}:D$;S.setState(Se(Se({},k),{},{activeLabel:z,activeCoordinate:re,activePayload:H,activeTooltipIndex:U}))}else S.setState(k)}),mt(S,"renderCursor",function(k){var P,C=S.state,L=C.isTooltipActive,D=C.activeCoordinate,O=C.activePayload,I=C.offset,B=C.activeTooltipIndex,F=C.tooltipAxisBandSize,U=S.getTooltipEventType(),K=(P=k.props.active)!==null&&P!==void 0?P:L,V=S.props.layout,M=k.key||"_recharts-cursor";return le.createElement(pge,{key:M,activeCoordinate:D,activePayload:O,activeTooltipIndex:B,chartName:r,element:k,isActive:K,layout:V,offset:I,tooltipAxisBandSize:F,tooltipEventType:U})}),mt(S,"renderPolarAxis",function(k,P,C){var L=Wi(k,"type.axisType"),D=Wi(S.state,"".concat(L,"Map")),O=k.type.defaultProps,I=O!==void 0?Se(Se({},O),k.props):k.props,B=D&&D[I["".concat(L,"Id")]];return X.cloneElement(k,Se(Se({},B),{},{className:It(L,B.className),key:k.key||"".concat(P,"-").concat(C),ticks:Qs(B,!0)}))}),mt(S,"renderPolarGrid",function(k){var P=k.props,C=P.radialLines,L=P.polarAngles,D=P.polarRadius,O=S.state,I=O.radiusAxisMap,B=O.angleAxisMap,F=Jo(I),U=Jo(B),K=U.cx,V=U.cy,M=U.innerRadius,Z=U.outerRadius;return X.cloneElement(k,{polarAngles:Array.isArray(L)?L:Qs(U,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(D)?D:Qs(F,!0).map(function(ne){return ne.coordinate}),cx:K,cy:V,innerRadius:M,outerRadius:Z,key:k.key||"polar-grid",radialLines:C})}),mt(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,P=S.props,C=P.children,L=P.width,D=P.height,O=S.props.margin||{},I=L-(O.left||0)-(O.right||0),B=mI({children:C,formattedGraphicalItems:k,legendWidth:I,legendContent:c});if(!B)return null;var F=B.item,U=VO(B,mge);return X.cloneElement(F,Se(Se({},U),{},{chartWidth:L,chartHeight:D,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),mt(S,"renderTooltip",function(){var k,P=S.props,C=P.children,L=P.accessibilityLayer,D=$i(C,Ri);if(!D)return null;var O=S.state,I=O.isTooltipActive,B=O.activeCoordinate,F=O.activePayload,U=O.activeLabel,K=O.offset,V=(k=D.props.active)!==null&&k!==void 0?k:I;return X.cloneElement(D,{viewBox:Se(Se({},K),{},{x:K.left,y:K.top}),active:V,label:U,payload:V?F:[],coordinate:B,accessibilityLayer:L})}),mt(S,"renderBrush",function(k){var P=S.props,C=P.margin,L=P.data,D=S.state,O=D.offset,I=D.dataStartIndex,B=D.dataEndIndex,F=D.updateId;return X.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Mg(S.handleBrushChange,k.props.onChange),data:L,x:Be(k.props.x)?k.props.x:O.left,y:Be(k.props.y)?k.props.y:O.top+O.height+O.brushBottom-(C.bottom||0),width:Be(k.props.width)?k.props.width:O.width,startIndex:I,endIndex:B,updateId:"brush-".concat(F)})}),mt(S,"renderReferenceElement",function(k,P,C){if(!k)return null;var L=S,D=L.clipPathId,O=S.state,I=O.xAxisMap,B=O.yAxisMap,F=O.offset,U=k.type.defaultProps||{},K=k.props,V=K.xAxisId,M=V===void 0?U.xAxisId:V,Z=K.yAxisId,ne=Z===void 0?U.yAxisId:Z;return X.cloneElement(k,{key:k.key||"".concat(P,"-").concat(C),xAxis:I[M],yAxis:B[ne],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:D})}),mt(S,"renderActivePoints",function(k){var P=k.item,C=k.activePoint,L=k.basePoint,D=k.childIndex,O=k.isRange,I=[],B=P.props.key,F=P.item.type.defaultProps!==void 0?Se(Se({},P.item.type.defaultProps),P.item.props):P.item.props,U=F.activeDot,K=F.dataKey,V=Se(Se({index:D,dataKey:K,cx:C.x,cy:C.y,r:4,fill:US(P.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},ft(U,!1)),ev(U));return I.push(y.renderActiveDot(U,V,"".concat(B,"-activePoint-").concat(D))),L?I.push(y.renderActiveDot(U,Se(Se({},V),{},{cx:L.x,cy:L.y}),"".concat(B,"-basePoint-").concat(D))):O&&I.push(null),I}),mt(S,"renderGraphicChild",function(k,P,C){var L=S.filterFormatItem(k,P,C);if(!L)return null;var D=S.getTooltipEventType(),O=S.state,I=O.isTooltipActive,B=O.tooltipAxis,F=O.activeTooltipIndex,U=O.activeLabel,K=S.props.children,V=$i(K,Ri),M=L.props,Z=M.points,ne=M.isRange,ae=M.baseLine,E=L.item.type.defaultProps!==void 0?Se(Se({},L.item.type.defaultProps),L.item.props):L.item.props,z=E.activeDot,H=E.hide,re=E.activeBar,se=E.activeShape,ue=!!(!H&&I&&V&&(z||re||se)),me={};D!=="axis"&&V&&V.props.trigger==="click"?me={onClick:Mg(S.handleItemMouseEnter,k.props.onClick)}:D!=="axis"&&(me={onMouseLeave:Mg(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Mg(S.handleItemMouseEnter,k.props.onMouseEnter)});var oe=X.cloneElement(k,Se(Se({},L.props),me));function pe(qe){return typeof B.dataKey=="function"?B.dataKey(qe.payload):null}if(ue)if(F>=0){var xe,he;if(B.dataKey&&!B.allowDuplicatedCategory){var Ce=typeof B.dataKey=="function"?pe:"payload.".concat(B.dataKey.toString());xe=Q0(Z,Ce,U),he=ne&&ae&&Q0(ae,Ce,U)}else xe=Z==null?void 0:Z[F],he=ne&&ae&&ae[F];if(se||re){var ie=k.props.activeIndex!==void 0?k.props.activeIndex:F;return[X.cloneElement(k,Se(Se(Se({},L.props),me),{},{activeIndex:ie})),null,null]}if(!Ot(xe))return[oe].concat(Qd(S.renderActivePoints({item:L,activePoint:xe,basePoint:he,childIndex:F,isRange:ne})))}else{var J,Fe=(J=S.getItemByXY(S.state.activeCoordinate))!==null&&J!==void 0?J:{graphicalItem:oe},Oe=Fe.graphicalItem,Ie=Oe.item,we=Ie===void 0?k:Ie,Pe=Oe.childIndex,Ae=Se(Se(Se({},L.props),me),{},{activeIndex:Pe});return[X.cloneElement(we,Ae),null,null]}return ne?[oe,null,null]:[oe,null]}),mt(S,"renderCustomized",function(k,P,C){return X.cloneElement(k,Se(Se({key:"recharts-customized-".concat(C)},S.props),S.state))}),mt(S,"renderMap",{CartesianGrid:{handler:zg,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:zg},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:zg},YAxis:{handler:zg},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:gf("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=pL(S.triggeredAfterMouseMove,(A=w.throttleDelay)!==null&&A!==void 0?A:1e3/60),S.state={},S}return kge(y,x),Sge(y,[{key:"componentDidMount",value:function(){var _,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,A=_.children,S=_.data,k=_.height,P=_.layout,C=$i(A,Ri);if(C){var L=C.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,O=S5(this.state,S,L,D),I=this.state.tooltipTicks[L].coordinate,B=(this.state.offset.top+k)/2,F=P==="horizontal",U=F?{x:I,y:B}:{y:I,x:B},K=this.state.formattedGraphicalItems.find(function(M){var Z=M.item;return Z.type.name==="Scatter"});K&&(U=Se(Se({},U),K.props.points[L].tooltipPosition),O=K.props.points[L].tooltipPayload);var V={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:D,activePayload:O,activeCoordinate:U};this.setState(V),this.renderCursor(C),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(_){Z2([$i(_.children,Ri)],[$i(this.props.children,Ri)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=$i(this.props.children,Ri);if(_&&typeof _.props.shared=="boolean"){var A=_.props.shared?"axis":"item";return o.indexOf(A)>=0?A:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var A=this.container,S=A.getBoundingClientRect(),k=Pre(S),P={chartX:Math.round(_.pageX-k.left),chartY:Math.round(_.pageY-k.top)},C=S.width/A.offsetWidth||1,L=this.inRange(P.chartX,P.chartY,C);if(!L)return null;var D=this.state,O=D.xAxisMap,I=D.yAxisMap,B=this.getTooltipEventType(),F=KO(this.state,this.props.data,this.props.layout,L);if(B!=="axis"&&O&&I){var U=Jo(O).scale,K=Jo(I).scale,V=U&&U.invert?U.invert(P.chartX):null,M=K&&K.invert?K.invert(P.chartY):null;return Se(Se({},P),{},{xValue:V,yValue:M},F)}return F?Se(Se({},P),F):null}},{key:"inRange",value:function(_,A){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,P=_/S,C=A/S;if(k==="horizontal"||k==="vertical"){var L=this.state.offset,D=P>=L.left&&P<=L.left+L.width&&C>=L.top&&C<=L.top+L.height;return D?{x:P,y:C}:null}var O=this.state,I=O.angleAxisMap,B=O.radiusAxisMap;if(I&&B){var F=Jo(I);return bk({x:P,y:C},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,A=this.getTooltipEventType(),S=$i(_,Ri),k={};S&&A==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=ev(this.props,this.handleOuterEvent);return Se(Se({},P),k)}},{key:"addListener",value:function(){ux.on(dx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ux.removeListener(dx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,A,S){for(var k=this.state.formattedGraphicalItems,P=0,C=k.length;P<C;P++){var L=k[P];if(L.item===_||L.props.key===_.key||A===to(L.item.type)&&S===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,A=this.state.offset,S=A.left,k=A.top,P=A.height,C=A.width;return le.createElement("defs",null,le.createElement("clipPath",{id:_},le.createElement("rect",{x:S,y:k,height:P,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(A,S){var k=HO(S,2),P=k[0],C=k[1];return Se(Se({},A),{},mt({},P,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(A,S){var k=HO(S,2),P=k[0],C=k[1];return Se(Se({},A),{},mt({},P,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(_){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(_){var A=this.state,S=A.formattedGraphicalItems,k=A.activeItem;if(S&&S.length)for(var P=0,C=S.length;P<C;P++){var L=S[P],D=L.props,O=L.item,I=O.type.defaultProps!==void 0?Se(Se({},O.type.defaultProps),O.props):O.props,B=to(O.type);if(B==="Bar"){var F=(D.data||[]).find(function(M){return fue(_,M)});if(F)return{graphicalItem:L,payload:F}}else if(B==="RadialBar"){var U=(D.data||[]).find(function(M){return bk(_,M)});if(U)return{graphicalItem:L,payload:U}}else if(f1(L,k)||h1(L,k)||Gp(L,k)){var K=efe({graphicalItem:L,activeTooltipItem:k,itemData:I.data}),V=I.activeIndex===void 0?K:I.activeIndex;return{graphicalItem:Se(Se({},L),{},{childIndex:V}),payload:Gp(L,k)?I.data[K]:L.props.data[K]}}}return null}},{key:"render",value:function(){var _=this;if(!c3(this))return null;var A=this.props,S=A.children,k=A.className,P=A.width,C=A.height,L=A.style,D=A.compact,O=A.title,I=A.desc,B=VO(A,gge),F=ft(B,!1);if(D)return le.createElement(kO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement(ew,Zu({},F,{width:P,height:C,title:O,desc:I}),this.renderClipPath(),d3(S,this.renderMap)));if(this.props.accessibilityLayer){var U,K;F.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,F.role=(K=this.props.role)!==null&&K!==void 0?K:"application",F.onKeyDown=function(M){_.accessibilityManager.keyboardEvent(M)},F.onFocus=function(){_.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return le.createElement(kO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement("div",Zu({className:It("recharts-wrapper",k),style:Se({position:"relative",cursor:"default",width:P,height:C},L)},V,{ref:function(Z){_.container=Z}}),le.createElement(ew,Zu({},F,{width:P,height:C,title:O,desc:I,style:Lge}),this.renderClipPath(),d3(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(X.Component);mt(v,"displayName",r),mt(v,"defaultProps",Se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),mt(v,"getDerivedStateFromProps",function(x,y){var w=x.dataKey,_=x.data,A=x.children,S=x.width,k=x.height,P=x.layout,C=x.stackOffset,L=x.margin,D=y.dataStartIndex,O=y.dataEndIndex;if(y.updateId===void 0){var I=YO(x);return Se(Se(Se({},I),{},{updateId:0},h(Se(Se({props:x},I),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:k,prevLayout:P,prevStackOffset:C,prevMargin:L,prevChildren:A})}if(w!==y.prevDataKey||_!==y.prevData||S!==y.prevWidth||k!==y.prevHeight||P!==y.prevLayout||C!==y.prevStackOffset||!ld(L,y.prevMargin)){var B=YO(x),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},U=Se(Se({},KO(y,_,P)),{},{updateId:y.updateId+1}),K=Se(Se(Se({},B),F),U);return Se(Se(Se({},K),h(Se({props:x},K),y)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:k,prevLayout:P,prevStackOffset:C,prevMargin:L,prevChildren:A})}if(!Z2(A,y.prevChildren)){var V,M,Z,ne,ae=$i(A,qd),E=ae&&(V=(M=ae.props)===null||M===void 0?void 0:M.startIndex)!==null&&V!==void 0?V:D,z=ae&&(Z=(ne=ae.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&Z!==void 0?Z:O,H=E!==D||z!==O,re=!Ot(_),se=re&&!H?y.updateId:y.updateId+1;return Se(Se({updateId:se},h(Se(Se({props:x},y),{},{updateId:se,dataStartIndex:E,dataEndIndex:z}),y)),{},{prevChildren:A,dataStartIndex:E,dataEndIndex:z})}return null}),mt(v,"renderActiveDot",function(x,y,w){var _;return X.isValidElement(x)?_=X.cloneElement(x,y):bt(x)?_=x(y):_=le.createElement(o1,y),le.createElement(Gt,{className:"recharts-active-dot",key:w},_)});var g=X.forwardRef(function(y,w){return le.createElement(v,Zu({},y,{ref:w}))});return g.displayName=v.displayName,g},F$=ZS({chartName:"LineChart",GraphicalChild:zc,axisComponents:[{axisType:"xAxis",AxisComp:tu},{axisType:"yAxis",AxisComp:ru}],formatAxisMap:i$}),qge=ZS({chartName:"BarChart",GraphicalChild:eu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:tu},{axisType:"yAxis",AxisComp:ru}],formatAxisMap:i$}),Wge=ZS({chartName:"PieChart",GraphicalChild:wo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:d1},{axisType:"radiusAxis",AxisComp:c1}],formatAxisMap:Aoe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Hge({data:t}){const e=["#3b82f6","#60a5fa","#93c5fd","#cbd5e1","#ef4444"];return d.jsx(Yy,{width:"100%",height:300,children:d.jsxs(qge,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(b1,{strokeDasharray:"3 3"}),d.jsx(tu,{dataKey:"range"}),d.jsx(ru,{}),d.jsx(Ri,{}),d.jsx(eu,{dataKey:"count",fill:"#3b82f6",radius:[8,8,0,0],children:t.map((r,n)=>d.jsx(hm,{fill:e[n%e.length]},`cell-${n}`))})]})})}function Vge({data:t}){return d.jsx(Yy,{width:"100%",height:300,children:d.jsxs(F$,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(b1,{strokeDasharray:"3 3"}),d.jsx(tu,{dataKey:"date"}),d.jsx(ru,{}),d.jsx(Ri,{}),d.jsx(ro,{}),d.jsx(zc,{type:"monotone",dataKey:"completions",stroke:"#10b981",strokeWidth:2,name:"Completions"}),d.jsx(zc,{type:"monotone",dataKey:"assignments",stroke:"#3b82f6",strokeWidth:2,name:"Assignments"})]})})}const JO=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function Gge({data:t}){return d.jsx(Yy,{width:"100%",height:300,children:d.jsxs(Wge,{children:[d.jsx(wo,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:r})=>`${e}: ${(r*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((e,r)=>d.jsx(hm,{fill:JO[r%JO.length]},`cell-${r}`))}),d.jsx(Ri,{}),d.jsx(ro,{})]})})}function Kge({user:t}){const[e,r]=X.useState({totalAssignments:0,totalCompletions:0,averageScore:0,completionRate:0}),[n,i]=X.useState({scoreDistribution:[],completionTrend:[],stationPerformance:[],studentPerformance:[],hintUsage:[],diagnosisAccuracy:[],timeToCompletion:[],sloTrends:[]}),[a,s]=X.useState(!0);X.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:l}=await Le.from("stations").select("id, title").eq("created_by",t.id);if(!l)return;const c=l.map(V=>V.id),{data:u}=await Le.from("case_snapshots").select("id, station_id, clinical_case").in("station_id",c);if(!u)return;const f=u.map(V=>V.id),{data:p}=await Le.from("assignments").select("id, snapshot_id, created_at, due_at").in("snapshot_id",f),{data:h}=await Le.from("simulation_runs").select("score, submitted_at, assignment_id, started_at, student_id, transcript").in("assignment_id",(p==null?void 0:p.map(V=>V.id))||[]),v=(h==null?void 0:h.filter(V=>V.submitted_at))||[],g=v.map(V=>{var M;return((M=V.score)==null?void 0:M.overall)||0}).filter(V=>V>0),x=g.length>0?g.reduce((V,M)=>V+M,0)/g.length:0;r({totalAssignments:(p==null?void 0:p.length)||0,totalCompletions:v.length,averageScore:Math.round(x),completionRate:p&&p.length>0?Math.round(v.length/p.length*100):0});const w=[{range:"0-20",min:0,max:20},{range:"21-40",min:21,max:40},{range:"41-60",min:41,max:60},{range:"61-80",min:61,max:80},{range:"81-100",min:81,max:100}].map(V=>({range:V.range,count:g.filter(M=>M>=V.min&&M<=V.max).length})),_=new Date,A=[];for(let V=6;V>=0;V--){const M=new Date(_);M.setDate(M.getDate()-V);const Z=M.toISOString().split("T")[0],ne=v.filter(E=>{var H;return((H=E.submitted_at)==null?void 0:H.split("T")[0])===Z}).length,ae=(p==null?void 0:p.filter(E=>{var H;return((H=E.created_at)==null?void 0:H.split("T")[0])===Z}).length)||0;A.push({date:M.toLocaleDateString("en-US",{month:"short",day:"numeric"}),completions:ne,assignments:ae})}const S=new Map;v.forEach(V=>{const M=p==null?void 0:p.find(Z=>Z.id===V.assignment_id);if(M){const Z=u.find(ne=>ne.id===M.snapshot_id);if(Z){const ne=l.find(ae=>ae.id===Z.station_id);if(ne){const ae=S.get(ne.title||"Untitled")||0;S.set(ne.title||"Untitled",ae+1)}}}});const k=Array.from(S.entries()).map(([V,M])=>({name:V,value:M})).slice(0,6),P=new Map;p==null||p.forEach(V=>{var z;const M=v.filter(H=>H.assignment_id===V.id),Z=M.map(H=>{var re;return((re=H.score)==null?void 0:re.overall)||0}).filter(H=>H>0),ne=u.find(H=>H.id===V.snapshot_id),ae=((z=ne==null?void 0:ne.clinical_case)==null?void 0:z.title)||"Untitled Assignment",E=new Set(M.map(H=>H.student_id));P.set(ae,{scores:Z,completions:M.length,totalStudents:E.size})});const C=Array.from(P.entries()).map(([V,M])=>({assignmentTitle:V,averageScore:M.scores.length>0?Math.round(M.scores.reduce((Z,ne)=>Z+ne,0)/M.scores.length):0,completions:M.completions,totalStudents:M.totalStudents})).sort((V,M)=>M.averageScore-V.averageScore).slice(0,10),L=new Map;v.forEach(V=>{var Z,ne;const M=p==null?void 0:p.find(ae=>ae.id===V.assignment_id);if(M){const ae=u.find(re=>re.id===M.snapshot_id),E=((Z=ae==null?void 0:ae.clinical_case)==null?void 0:Z.title)||"Untitled Assignment",z=((ne=V.transcript)==null?void 0:ne.hintsUsed)||0,H=L.get(E)||{hints:[],total:0};H.hints.push(z),H.total+=z,L.set(E,H)}});const D=Array.from(L.entries()).map(([V,M])=>({assignmentTitle:V,averageHints:M.hints.length>0?Math.round(M.total/M.hints.length*10)/10:0,totalHints:M.total})).sort((V,M)=>M.averageHints-V.averageHints).slice(0,10),O=[];for(let V=6;V>=0;V--){const M=new Date(_);M.setDate(M.getDate()-V);const Z=M.toISOString().split("T")[0],ne=v.filter(z=>{var re;return((re=z.submitted_at)==null?void 0:re.split("T")[0])===Z});let ae=0,E=0;ne.forEach(z=>{const H=z.score;(H==null?void 0:H.diagnosisCorrect)!==void 0&&(E++,H.diagnosisCorrect&&ae++)}),O.push({date:M.toLocaleDateString("en-US",{month:"short",day:"numeric"}),accuracy:E>0?Math.round(ae/E*100):0,total:E})}const I=new Map;v.forEach(V=>{var Z;const M=p==null?void 0:p.find(ne=>ne.id===V.assignment_id);if(M&&V.started_at&&V.submitted_at){const ne=u.find(se=>se.id===M.snapshot_id),ae=((Z=ne==null?void 0:ne.clinical_case)==null?void 0:Z.title)||"Untitled Assignment",E=new Date(V.started_at).getTime(),H=(new Date(V.submitted_at).getTime()-E)/(1e3*60),re=I.get(ae)||[];re.push(H),I.set(ae,re)}});const B=Array.from(I.entries()).map(([V,M])=>{const Z=[...M].sort((ae,E)=>ae-E),ne=Z.length>0?Z[Math.floor(Z.length/2)]:0;return{assignmentTitle:V,averageTime:M.length>0?Math.round(M.reduce((ae,E)=>ae+E,0)/M.length*10)/10:0,medianTime:Math.round(ne*10)/10}}).slice(0,10),F=new Map;v.forEach(V=>{const M=V.score;((M==null?void 0:M.sloResults)||[]).forEach(ne=>{const ae=F.get(ne.sloId)||{text:"",correct:0,total:0};ae.total++,ne.status==="Achieved"&&ae.correct++,F.set(ne.sloId,ae)})});const{data:U}=await Le.from("slo").select("id, text");U==null||U.forEach(V=>{const M=F.get(V.id);M&&(M.text=V.text)});const K=Array.from(F.entries()).map(([V,M])=>({sloId:V,sloText:M.text||"Unknown SLO",achievementRate:M.total>0?Math.round(M.correct/M.total*100):0,attempts:M.total})).sort((V,M)=>M.attempts-V.attempts).slice(0,10);i({scoreDistribution:w,completionTrend:A,stationPerformance:k,studentPerformance:C,hintUsage:D,diagnosisAccuracy:O,timeToCompletion:B,sloTrends:K})}catch(l){console.error("Error loading analytics:",l)}finally{s(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Analytics Dashboard"}),a?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Assignments"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalAssignments})]}),d.jsx(co,{className:"w-8 h-8 text-blue-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Completions"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalCompletions})]}),d.jsx(Ic,{className:"w-8 h-8 text-green-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[e.averageScore,"%"]})]}),d.jsx(lm,{className:"w-8 h-8 text-purple-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Completion Rate"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[e.completionRate,"%"]})]}),d.jsx(Wa,{className:"w-8 h-8 text-orange-600"})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Score Distribution"}),n.scoreDistribution.length>0?d.jsx(Hge,{data:n.scoreDistribution}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No score data available"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Completion Trend (Last 7 Days)"}),n.completionTrend.length>0?d.jsx(Vge,{data:n.completionTrend}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No trend data available"})]})]}),n.stationPerformance.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Station Performance"}),d.jsx(Gge,{data:n.stationPerformance})]}),n.studentPerformance.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Top Assignments Performance"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Average Score"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completions"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.studentPerformance.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.jsxs("span",{className:`font-semibold ${l.averageScore>=80?"text-green-600":l.averageScore>=60?"text-yellow-600":"text-red-600"}`,children:[l.averageScore,"%"]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.completions}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.totalStudents})]},c))})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.diagnosisAccuracy.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Diagnosis Accuracy Trend (Last 7 Days)"}),d.jsx("div",{className:"space-y-3",children:n.diagnosisAccuracy.map((l,c)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:l.date}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${l.accuracy>=80?"bg-green-500":l.accuracy>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l.accuracy}%`}})}),d.jsxs("span",{className:"text-sm font-semibold text-gray-900 w-12 text-right",children:[l.accuracy,"%"]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.total,")"]})]})]},c))})]}),n.hintUsage.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Hint Usage by Assignment"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Hints"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.hintUsage.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:l.averageHints}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:l.totalHints})]},c))})]})})]})]}),n.timeToCompletion.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Time to Completion"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Time (min)"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Median Time (min)"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.timeToCompletion.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:l.averageTime}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:l.medianTime})]},c))})]})})]}),n.sloTrends.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"SLO Achievement Trends"}),d.jsx("div",{className:"space-y-4",children:n.sloTrends.map((l,c)=>d.jsxs("div",{className:"border-l-4 border-primary-500 pl-4 py-2",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:l.sloText}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${l.achievementRate>=70?"bg-green-500":l.achievementRate>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l.achievementRate}%`}})}),d.jsxs("span",{className:"text-sm font-semibold text-gray-900 w-16 text-right",children:[l.achievementRate,"%"]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.attempts," attempts)"]})]})]},c))})]})]})]})}),d.jsx(Mn,{role:"faculty"})]})}function Yge({user:t}){const e=Yi(),[r,n]=X.useState({totalStations:0,approvedCases:0,pendingReview:0,totalAssignments:0}),[i,a]=X.useState(!0);X.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:l}=await Le.from("stations").select("id").eq("created_by",t.id),{data:c}=await Le.from("case_snapshots").select("id, station_id").eq("approved_by",t.id),u=(l==null?void 0:l.map(x=>x.id))||[],{data:f}=await Le.from("case_snapshots").select("station_id").in("station_id",u),p=new Set((f==null?void 0:f.map(x=>x.station_id))||[]),h=u.filter(x=>!p.has(x)),v=(c==null?void 0:c.map(x=>x.id))||[],{data:g}=await Le.from("assignments").select("id").in("snapshot_id",v);n({totalStations:(l==null?void 0:l.length)||0,approvedCases:(c==null?void 0:c.length)||0,pendingReview:h.length,totalAssignments:(g==null?void 0:g.length)||0})}catch(l){console.error("Error loading stats:",l)}finally{a(!1)}},o=async()=>{await Le.auth.signOut(),e("/")};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Profile"}),d.jsx("p",{className:"text-gray-600",children:"View your account information and statistics"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx(ms,{className:"w-10 h-10 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(KC,{className:"w-4 h-4"}),d.jsx("span",{children:t.email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(cf,{className:"w-4 h-4"}),d.jsxs("span",{children:["Member since ",new Date(t.created_at).toLocaleDateString()]})]})]})]}),d.jsx("div",{className:"border-t pt-4",children:d.jsx("div",{className:"flex items-center gap-2 text-sm",children:d.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full font-medium",children:"Faculty"})})})]}),!i&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.totalStations})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(va,{className:"w-6 h-6 text-blue-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Approved Cases"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.approvedCases})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(Wa,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Pending Review"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.pendingReview})]}),d.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:d.jsx(Kc,{className:"w-6 h-6 text-yellow-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Assignments"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.totalAssignments})]}),d.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:d.jsx(va,{className:"w-6 h-6 text-purple-600"})})]})})]}),i&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[d.jsx(GC,{className:"w-5 h-5"}),d.jsx("span",{children:"Sign Out"})]})})]})}),d.jsx(Mn,{role:"faculty"})]})}function ZO({user:t}){const e=Yi(),[r,n]=X.useState([]),[i,a]=X.useState([]),[s,o]=X.useState(!0),[l,c]=X.useState("all"),[u,f]=X.useState(""),[p,h]=X.useState("all");X.useEffect(()=>{v()},[]),X.useEffect(()=>{g()},[r,l,u,p]);const v=async()=>{try{const{data:S}=await Le.from("cohort_members").select("cohort_id").eq("student_id",t.id);if(!S||S.length===0){o(!1);return}const k=S.map(D=>D.cohort_id),{data:P,error:C}=await Le.from("assignments").select("*").in("cohort_id",k).order("created_at",{ascending:!1});if(C)throw C;const L=await Promise.all((P||[]).map(async D=>{var V;const{data:O}=await Le.from("case_snapshots").select("*").eq("id",D.snapshot_id).single(),{data:I}=await Le.from("simulation_runs").select("id, score, submitted_at").eq("assignment_id",D.id).eq("student_id",t.id).order("submitted_at",{ascending:!1}),B=(I==null?void 0:I.length)||0,F=(I==null?void 0:I.reduce((M,Z)=>{const ne=Z.score;return Math.max(M,(ne==null?void 0:ne.overall)||0)},0))||0,U=(V=I==null?void 0:I[0])==null?void 0:V.submitted_at;let K="not_started";return B>0&&(K=(I==null?void 0:I.some(Z=>Z.submitted_at))?"completed":"in_progress"),{...D,snapshot:O,attemptsCount:B,bestScore:F,lastAttempt:U,status:K}}));n(L)}catch(S){console.error("Error loading assignments:",S)}finally{o(!1)}},g=()=>{let S=[...r];if(p==="pending"?S=S.filter(k=>k.status==="not_started"&&(!k.due_at||new Date(k.due_at)>new Date)):p==="in_progress"?S=S.filter(k=>k.status==="in_progress"):p==="completed"&&(S=S.filter(k=>k.status==="completed")),l!=="all"&&(S=S.filter(k=>k.status===l)),u){const k=u.toLowerCase();S=S.filter(P=>{var C,L,D,O,I,B,F;return((D=(L=(C=P.snapshot)==null?void 0:C.clinical_case)==null?void 0:L.title)==null?void 0:D.toLowerCase().includes(k))||((F=(B=(I=(O=P.snapshot)==null?void 0:O.clinical_case)==null?void 0:I.patientProfile)==null?void 0:B.name)==null?void 0:F.toLowerCase().includes(k))})}a(S)},x=S=>Math.max(0,S.max_attempts-(S.attemptsCount||0)),y=S=>S.due_at?new Date(S.due_at)<new Date&&S.status!=="completed":!1,w=({dueDate:S})=>{const[k,P]=X.useState("");return X.useEffect(()=>{const C=()=>{const D=new Date,I=new Date(S).getTime()-D.getTime();if(I<=0){P("Overdue");return}const B=Math.floor(I/(1e3*60*60*24)),F=Math.floor(I%(1e3*60*60*24)/(1e3*60*60)),U=Math.floor(I%(1e3*60*60)/(1e3*60));B>0?P(`${B}d ${F}h left`):F>0?P(`${F}h ${U}m left`):P(`${U}m left`)};C();const L=setInterval(C,6e4);return()=>clearInterval(L)},[S]),d.jsxs("span",{className:"text-xs text-primary-600 font-medium ml-2",children:["(",k,")"]})},_=S=>y(S)?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"Overdue"}):S.status==="completed"?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Completed"}):S.status==="in_progress"?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full",children:"In Progress"}):d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:"Not Started"}),A={total:r.length,completed:r.filter(S=>S.status==="completed").length,inProgress:r.filter(S=>S.status==="in_progress").length,notStarted:r.filter(S=>S.status==="not_started").length};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 pb-20 md:pb-6",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"My Assignments"}),d.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"View and manage your OSCE simulations"})]}),!s&&d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:A.total}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Total"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-green-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-green-700",children:A.completed}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Completed"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-yellow-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-yellow-700",children:A.inProgress}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"In Progress"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-700",children:A.notStarted}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Not Started"})]})]}),!s&&d.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsx("div",{className:"flex overflow-x-auto",children:[{key:"all",label:"All",count:r.length},{key:"pending",label:"Pending",count:r.filter(S=>S.status==="not_started"&&(!S.due_at||new Date(S.due_at)>new Date)).length},{key:"in_progress",label:"In Progress",count:r.filter(S=>S.status==="in_progress").length},{key:"completed",label:"Completed",count:r.filter(S=>S.status==="completed").length}].map(S=>d.jsxs("button",{onClick:()=>h(S.key),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${p===S.key?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[S.label,S.count>0&&d.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${p===S.key?"bg-primary-100 text-primary-800":"bg-gray-100 text-gray-600"}`,children:S.count})]},S.key))})}),d.jsx("div",{className:"p-4 border-b border-gray-200",children:d.jsxs("div",{className:"relative",children:[d.jsx(W_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search assignments...",value:u,onChange:S=>f(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})})]}),s?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):i.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsx(Ay,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.length===0?"No Assignments Available":"No Assignments Match Your Filters"}),d.jsx("p",{className:"text-gray-600 text-sm mb-4",children:r.length===0?"You don't have any assignments yet. Check back later or contact your faculty if you expect to see assignments here.":"Try adjusting your search or filter criteria to find what you're looking for."}),r.length>0&&d.jsx("button",{onClick:()=>{h("all"),c("all"),f("")},className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Clear Filters"}),r.length===0&&d.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("strong",{children:"Tip:"})," Make sure you're enrolled in cohorts to receive assignments. You can manage your cohorts in your Profile settings."]})})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(S=>{var k,P,C,L,D,O;return d.jsxs("div",{className:`bg-white rounded-xl shadow-md p-5 md:p-6 hover:shadow-xl transition-all border-2 ${y(S)?"border-l-4 border-red-500 border-r-2 border-t-2 border-b-2":"border-gray-200"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 flex-1",children:((P=(k=S.snapshot)==null?void 0:k.clinical_case)==null?void 0:P.title)||"Untitled Station"}),_(S)]}),((L=(C=S.snapshot)==null?void 0:C.clinical_case)==null?void 0:L.patientProfile)&&d.jsxs("div",{className:"mb-3 text-sm text-gray-600",children:[d.jsx("span",{className:"font-medium",children:"Patient:"})," ",S.snapshot.clinical_case.patientProfile.name]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(Kc,{className:"w-4 h-4"}),d.jsxs("span",{children:[((O=(D=S.snapshot)==null?void 0:D.clinical_case)==null?void 0:O.durationMinutes)||15," minutes"]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(TN,{className:"w-4 h-4"}),d.jsxs("span",{children:[x(S)," of ",S.max_attempts," attempts left"]})]}),S.bestScore!==void 0&&S.bestScore>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[d.jsx(Wa,{className:"w-4 h-4"}),d.jsxs("span",{children:["Best Score: ",S.bestScore.toFixed(0),"%"]})]}),S.due_at&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(cf,{className:"w-4 h-4"}),d.jsxs("span",{className:y(S)?"text-red-600 font-medium":"",children:["Due: ",new Date(S.due_at).toLocaleDateString()]}),!y(S)&&new Date(S.due_at)>new Date&&d.jsx(w,{dueDate:S.due_at})]})]}),d.jsx("div",{className:"flex gap-2",children:S.status==="completed"?d.jsxs("button",{onClick:()=>{e("/results")},className:"flex-1 flex items-center justify-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:[d.jsx(ps,{className:"w-4 h-4"}),"View Results"]}):d.jsxs("button",{onClick:()=>e(`/simulation/${S.id}`),disabled:x(S)===0,className:"flex-1 flex items-center justify-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[d.jsx(TN,{className:"w-4 h-4"}),S.status==="in_progress"?"Continue":"Start Simulation"]})})]},S.id)})})]}),d.jsx(Mn,{role:"student"})]})}function Xge({activeTab:t,onTabChange:e}){const r=[{id:"chat",label:"Chat",icon:NU},{id:"exam",label:"Exam",icon:EU},{id:"labs",label:"Labs",icon:TU},{id:"diagnosis",label:"Diagnosis",icon:va}];return d.jsx("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm",children:d.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:r.map(n=>{const i=n.icon,a=t===n.id;return d.jsxs("button",{onClick:()=>e(n.id),className:`flex items-center gap-2 px-4 md:px-6 py-3 md:py-4 text-sm md:text-base font-semibold border-b-3 transition-all whitespace-nowrap ${a?"border-primary-600 text-primary-700 bg-primary-50":"border-transparent text-gray-600 hover:text-primary-600 hover:bg-gray-50 hover:border-gray-300"}`,children:[d.jsx(i,{className:`w-4 h-4 md:w-5 md:h-5 ${a?"text-primary-600":""}`}),d.jsx("span",{children:n.label})]},n.id)})})})}function Jge({messages:t,input:e,setInput:r,sending:n,onSendMessage:i,onRequestHint:a,hintsRemaining:s}){const o=X.useRef(null);return X.useEffect(()=>{var l;(l=o.current)==null||l.scrollIntoView({behavior:"smooth"})},[t]),d.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[d.jsxs("div",{className:"bg-white border-b-2 border-gray-300 p-4 flex items-center justify-between shadow-sm",children:[d.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Chat with Patient"}),d.jsxs("button",{onClick:a,disabled:s<=0,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900 rounded-lg hover:from-yellow-500 hover:to-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md font-semibold text-sm",children:[d.jsx(VC,{className:"w-4 h-4"}),"Hint (",s,")"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.map((l,c)=>d.jsxs("div",{className:`flex ${l.role==="user"?"justify-end":"justify-start"} items-start gap-2`,children:[l.role==="assistant"&&d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(ms,{className:"w-4 h-4 text-primary-600"})}),d.jsxs("div",{className:`max-w-[85%] md:max-w-[75%] rounded-xl p-3 md:p-4 shadow-md ${l.role==="user"?"bg-gradient-to-br from-primary-600 to-primary-700 text-white":"bg-white border-2 border-gray-200 text-gray-900"}`,children:[d.jsx("p",{className:`whitespace-pre-wrap ${l.role==="user"?"text-white":"text-gray-800"}`,children:l.content}),d.jsx("span",{className:`text-xs mt-2 block ${l.role==="user"?"text-primary-100":"text-gray-500"}`,children:l.timestamp instanceof Date?l.timestamp.toLocaleTimeString():new Date(l.timestamp).toLocaleTimeString()})]}),l.role==="user"&&d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(ms,{className:"w-4 h-4 text-gray-600"})})]},c)),n&&d.jsxs("div",{className:"flex justify-start items-start gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(ms,{className:"w-4 h-4 text-primary-600"})}),d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),d.jsx("div",{ref:o})]}),d.jsx("div",{className:"bg-white border-t-2 border-gray-300 p-4 shadow-lg",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:e,onChange:l=>r(l.target.value),onKeyPress:l=>l.key==="Enter"&&!n&&i(),placeholder:"Ask a question...",className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400",disabled:n}),d.jsx("button",{onClick:i,disabled:n||!e.trim(),className:"px-5 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-lg hover:from-primary-700 hover:to-primary-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md font-semibold",children:d.jsx(OU,{className:"w-5 h-5"})})]})})]})}function Zge({caseData:t}){const e=(t==null?void 0:t.physicalExam)||{},r=e.vitals||{},n=e.generalExam||"",i=e.systemicExam||"";return d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Physical Examination"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-generated examination findings"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("div",{className:"bg-primary-100 p-2 rounded-lg",children:d.jsx(_U,{className:"w-5 h-5 text-primary-700"})}),d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Vital Signs"})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 md:gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Blood Pressure"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-lg text-gray-900 font-medium",children:r.bp||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Heart Rate"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200 rounded-lg text-gray-900 font-medium",children:r.hr||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Respiratory Rate"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200 rounded-lg text-gray-900 font-medium",children:r.rr||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Temperature"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-orange-50 to-orange-100 border-2 border-orange-200 rounded-lg text-gray-900 font-medium",children:r.temp||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"SpO2"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200 rounded-lg text-gray-900 font-medium",children:r.spo2||"Not recorded"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4",children:"General Examination"}),d.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-lg min-h-[120px] text-gray-900 whitespace-pre-wrap leading-relaxed",children:n||"General examination findings not available."})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("div",{className:"flex items-center gap-2 mb-4",children:d.jsx("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Systemic Examination"})}),d.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-lg min-h-[200px] text-gray-900 whitespace-pre-wrap leading-relaxed",children:i||"Systemic examination findings not available."})]})]})}const U$=[{name:"BEDSIDE TESTS",tests:["ECG","Blood Glucose","Urine Dipstick"]},{name:"BASIC LABS",tests:["CBC","CMP","ESR","CRP","TSH","Lipid Profile","LFT","RFT","ABG"]},{name:"ADVANCED LABS",tests:["Troponin","BNP","D-dimer","Coagulation Profile","Blood Culture","HbA1c"]},{name:"IMAGING",tests:["Chest X-Ray","CT Head","CT Chest","CT Abdomen","Abdominal Ultrasound","Echocardiogram"]}];U$.flatMap(t=>t.tests.map(e=>({test:e,category:t.name})));function z$(t,e,r){if(r&&r[t])return r[t];const n=t.toLowerCase();return n.includes("ecg")?"Normal sinus rhythm, no acute changes":n.includes("glucose")?"Random blood glucose: 180 mg/dL (elevated)":n.includes("urine")?"Negative for nitrites, leukocyte esterase, protein, blood":n.includes("cbc")?"WBC: 15,000/L (elevated), Hb: 12 g/dL, Platelets: 250,000/L":n.includes("cmp")?"Na: 138 mEq/L, K: 4.2 mEq/L, Creatinine: 1.2 mg/dL, BUN: 45 mg/dL (elevated)":n.includes("crp")?"150 mg/L (markedly elevated)":n.includes("chest x-ray")||n.includes("chest xray")?"Consolidation in right lower lobe, consistent with pneumonia":n.includes("ct head")?"No acute intracranial pathology, age-appropriate atrophy":n.includes("ct chest")?"Right lower lobe consolidation with air bronchograms, consistent with pneumonia":n.includes("blood culture")?"Pending (results typically available in 48-72 hours)":n.includes("troponin")?"0.02 ng/mL (normal)":n.includes("bnp")?"200 pg/mL (mildly elevated)":n.includes("d-dimer")?"0.8 mg/L (elevated)":n.includes("abg")?"pH: 7.35, pCO2: 42 mmHg, pO2: 65 mmHg, HCO3: 22 mEq/L (respiratory acidosis with hypoxemia)":`Result for ${t}: See detailed report`}function QO(t,e){return e.some(r=>r.testName===t)}function Qge({labOrders:t,labResults:e,onOrderTest:r,caseData:n}){const[i,a]=X.useState("order"),s=(l,c)=>{QO(l,t)||r(l,c)},o=l=>{const c=e.find(u=>u.testName===l);return c?c.result:z$(l,n,n==null?void 0:n.labResults)};return d.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[d.jsx("div",{className:"bg-white border-b-2 border-gray-300 p-4 shadow-sm",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>a("order"),className:`px-6 py-2.5 rounded-lg font-semibold transition-all shadow-md ${i==="order"?"bg-gradient-to-r from-primary-600 to-primary-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Order Tests"}),d.jsx("button",{onClick:()=>a("view"),className:`px-6 py-2.5 rounded-lg font-semibold transition-all shadow-md ${i==="view"?"bg-gradient-to-r from-primary-600 to-primary-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"View Results"})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:i==="order"?d.jsx("div",{className:"space-y-4 md:space-y-6",children:U$.map(l=>d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 md:p-6 border border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4 pb-2 border-b-2 border-gray-200",children:l.name}),d.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3",children:l.tests.map(c=>{const u=QO(c,t);return d.jsxs("button",{onClick:()=>s(c,l.name),disabled:u,className:`px-4 py-2 rounded-lg text-sm md:text-base font-semibold transition-all shadow-sm ${u?"bg-gradient-to-r from-green-500 to-green-600 text-white cursor-not-allowed shadow-md":"bg-gray-100 text-gray-800 hover:bg-primary-100 hover:text-primary-700 hover:shadow-md border-2 border-gray-200"}`,children:[c,u&&" "]},c)})})]},l.name))}):d.jsx("div",{className:"space-y-4",children:t.length===0?d.jsx("div",{className:"bg-white rounded-xl shadow-md p-8 md:p-12 text-center border border-gray-200",children:d.jsx("p",{className:"text-gray-600 font-medium",children:'No tests ordered yet. Switch to "Order Tests" to order lab tests.'})}):t.map(l=>{const c=o(l.testName);return d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 md:p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b-2 border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:l.testName}),d.jsx("span",{className:"text-xs md:text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full font-medium",children:l.category})]}),d.jsx("p",{className:"text-gray-800 font-medium leading-relaxed",children:c})]},l.testName)})})})]})}function e0e({diagnosis:t,onUpdate:e}){const[r,n]=X.useState(t);return X.useEffect(()=>{e(r)},[r,e]),d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 md:p-6 bg-gray-50",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"bg-primary-100 p-2 rounded-lg",children:d.jsx(va,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-700"})}),d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Enter Diagnosis"})]}),d.jsx("p",{className:"text-sm md:text-base text-gray-600 ml-12",children:"Enter your diagnosis based on the patient's history, physical examination findings, and laboratory results."})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm md:text-base font-semibold text-gray-700 mb-3",children:"Your Diagnosis"}),d.jsx("textarea",{value:r,onChange:i=>n(i.target.value),placeholder:"Enter your diagnosis here (e.g., Pitta Jwara, Vata-Pitta imbalance, etc.)...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 min-h-[200px] md:min-h-[250px] text-gray-900 placeholder-gray-400 text-base leading-relaxed shadow-sm"})]}),r&&d.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-4 md:p-5 shadow-md",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-green-500 p-1.5 rounded-full",children:d.jsx(ps,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold text-green-900 block",children:"Diagnosis Entered"}),d.jsx("span",{className:"text-sm text-green-800 mt-1 block",children:r})]})]})})]})}const t0e="AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",r0e="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";function n0e({user:t}){var Ce,ie,J,Fe;const{assignmentId:e}=wy(),r=Yi(),n=vo(),[i,a]=X.useState(null),[s,o]=X.useState(null),[l,c]=X.useState([]),[u,f]=X.useState(""),[p,h]=X.useState(!0),[v,g]=X.useState(!1),[x,y]=X.useState(0),[w,_]=X.useState(null),[A,S]=X.useState(!1),[k,P]=X.useState("chat"),[C,L]=X.useState(0),[D,O]=X.useState([]),[I,B]=X.useState([]),[F,U]=X.useState(""),K=10;X.useEffect(()=>{e&&(V(),M())},[e]);const V=async()=>{try{const{data:Oe,error:Ie}=await Le.from("assignments").select("*").eq("id",e).single();if(Ie)throw Ie;a(Oe);const{data:we,error:Pe}=await Le.from("case_snapshots").select("*").eq("id",Oe.snapshot_id).single();if(Pe)throw Pe;o(we);const{data:Ae}=await Le.from("simulation_runs").select("*").eq("assignment_id",e).eq("student_id",t.id).is("submitted_at",null).order("created_at",{ascending:!1}).limit(1);let qe;if(Ae&&Ae.length>0){if(qe=Ae[0],_(qe.id),qe.transcript){const De=qe.transcript;De.messages&&c(De.messages.map(Xe=>({...Xe,timestamp:typeof Xe.timestamp=="string"?new Date(Xe.timestamp):Xe.timestamp}))),L(De.hintsUsed||0),O(De.labOrders||[]),B(De.labResults||[]),U(De.diagnosis||"")}}else{const{data:De,error:Xe}=await Le.from("simulation_runs").insert({assignment_id:e,student_id:t.id,started_at:new Date().toISOString(),transcript:{messages:[],hintsUsed:0,labOrders:[],labResults:[],diagnosis:""}}).select().single();if(Xe)throw Xe;qe=De,_(De.id)}}catch(Oe){console.error("Error loading assignment:",Oe),n.error("Failed to load assignment")}finally{h(!1)}},M=()=>{const Oe=setInterval(()=>{y(Ie=>{var Pe;const we=Ie+1;if((Pe=s==null?void 0:s.clinical_case)!=null&&Pe.durationMinutes){const Ae=s.clinical_case.durationMinutes*60;we>=Ae*.8&&!A&&S(!0)}return we})},1e3);return()=>clearInterval(Oe)},Z=Oe=>{const Ie=Math.floor(Oe/60),we=Oe%60;return`${Ie}:${we.toString().padStart(2,"0")}`},ne=async()=>{if(!w)return;const Oe={messages:l.map(Ie=>({...Ie,timestamp:Ie.timestamp instanceof Date?Ie.timestamp.toISOString():Ie.timestamp})),hintsUsed:C,labOrders:D,labResults:I,diagnosis:F};await Le.from("simulation_runs").update({transcript:Oe}).eq("id",w)},ae=(Oe,Ie)=>{var ze,We;if(!(s!=null&&s.clinical_case))return"";const we=s.clinical_case,Pe=((ze=we.patientProfile)==null?void 0:ze.name)||"Patient",Ae=we.historyOfPresentIllness||"",qe=((We=we.patientProfile)==null?void 0:We.prakriti)||"Sama",De=we.doshaAnalysis||{},Xe=Ie.slice(-5).map(gt=>`${gt.role==="user"?"Clinician":"Patient"}: ${gt.content}`).join(`
`);return`You are ${Pe}, a virtual patient in an Ayurvedic medical simulation. You are speaking with a clinician who is examining you.

IMPORTANT: You are the PATIENT. The user asking questions is the CLINICIAN/DOCTOR. Do not switch roles.

Patient Context:
- History of Present Illness: ${Ae}
- Prakriti: ${qe}
- Dosha Analysis: Vata ${De.vata||33}%, Pitta ${De.pitta||33}%, Kapha ${De.kapha||34}%

Recent Conversation:
${Xe}

Clinician: ${Oe}

Respond as the patient would, staying in character. Be natural, concise (1-2 sentences), and consistent with the case. Do not reveal diagnosis or treatment unless asked directly about symptoms. Keep responses under 100 words.`},E=Oe=>{if(!(s!=null&&s.clinical_case))return null;const Ie=s.clinical_case,we=Oe.toLowerCase();if(we.includes("physical exam")||we.includes("vitals")||we.includes("examination")){const Pe=Ie.physicalExam;if(!Pe)return"Physical examination information is not available. Please perform the examination yourself.";let Ae=`Based on the physical examination:
`;return Pe.vitals&&(Ae+="Vitals: ",Pe.vitals.bp&&(Ae+=`BP ${Pe.vitals.bp}, `),Pe.vitals.hr&&(Ae+=`HR ${Pe.vitals.hr}, `),Pe.vitals.rr&&(Ae+=`RR ${Pe.vitals.rr}, `),Pe.vitals.temp&&(Ae+=`Temp ${Pe.vitals.temp}, `),Pe.vitals.spo2&&(Ae+=`SpO2 ${Pe.vitals.spo2}. `),Ae+=`
`),Pe.generalExam&&(Ae+=`General Examination: ${Pe.generalExam}
`),Pe.systemicExam&&(Ae+=`Systemic Examination: ${Pe.systemicExam}
`),Ae.trim()||"Physical examination findings are being documented."}if(we.includes("lab")||we.includes("test result")||we.includes("investigation")){const Pe=Ie.labResults||{};for(const[Ae,qe]of Object.entries(Pe))if(we.includes(Ae.toLowerCase())||Ae.toLowerCase().includes(we))return`${Ae}: ${qe}`;return Object.keys(Pe).length>0?`Lab results are available. Please check the Labs tab to view specific test results. Available tests: ${Object.keys(Pe).join(", ")}`:"No lab results are available yet. Please order tests from the Labs tab."}return null},z=async()=>{var Pe,Ae,qe,De;if(!u.trim()||!w||!s)return;const Oe={role:"user",content:u,timestamp:new Date},Ie=[...l,Oe];c(Ie);const we=u;f(""),g(!0);try{const Xe=E(we);if(Xe){const Ve={role:"assistant",content:Xe,timestamp:new Date},Bt=[...Ie,Ve];c(Bt),await ne(),g(!1);return}if(s!=null&&s.id)try{const{data:Ve}=await Le.from("faq_cache").select("faq_data").eq("snapshot_id",s.id).single();if(Ve!=null&&Ve.faq_data){const Bt=Ve.faq_data,Rt=we.toLowerCase().trim();for(const[nt,_t]of Object.entries(Bt)){const Yt=nt.toLowerCase();if(Rt.includes(Yt)||Yt.includes(Rt)||Rt.split(/\s+/).filter(ut=>ut.length>3&&Yt.includes(ut)).length>=2){const ut={role:"assistant",content:_t,timestamp:new Date},Mt=[...Ie,ut];c(Mt),await ne(),g(!1);return}}}}catch(Ve){console.debug("FAQ cache check failed, using Gemini API:",Ve)}const ze=ae(we,l);if(!ze)throw new Error("Unable to build patient context. Please refresh the page.");const We=await fetch(r0e,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":t0e},body:JSON.stringify({contents:[{parts:[{text:ze}]}],generationConfig:{temperature:.8,topK:40,topP:.95,maxOutputTokens:1024}})});if(!We.ok){const Ve=await We.text();let Bt=`Gemini API error (${We.status})`;try{const Rt=JSON.parse(Ve);(Pe=Rt.error)!=null&&Pe.message?Bt+=": "+Rt.error.message:Bt+=": "+Ve}catch{Bt+=": "+Ve}throw new Error(Bt)}const gt=await We.json();if(!gt.candidates||gt.candidates.length===0)throw new Error("No response from Gemini API. Please check your API key and try again.");const rt={role:"assistant",content:((De=(qe=(Ae=gt.candidates[0])==null?void 0:Ae.content)==null?void 0:qe.parts[0])==null?void 0:De.text)||"I'm sorry, I didn't understand that.",timestamp:new Date},ht=[...Ie,rt];c(ht),await ne()}catch(Xe){console.error("Error sending message:",Xe),n.error("Failed to send message: "+Xe.message)}finally{g(!1)}},H=async()=>{if(!(C>=K||!w||!s)){g(!0);try{const Oe=["Consider asking about the onset and progression of symptoms.","Think about the patient's dosha imbalance - what symptoms suggest this?","Review the physical examination findings carefully.","Consider what laboratory tests would be most helpful for this presentation.","Think about the differential diagnoses based on the chief complaint.","Consider the patient's age, gender, and prakriti in your assessment.","Review the history of present illness for key diagnostic clues.","Consider what additional history might be relevant.","Think about the most likely diagnosis given the symptoms.","Consider what treatment approach would be appropriate."],we={role:"assistant",content:Oe[Math.floor(Math.random()*Oe.length)],timestamp:new Date};c([...l,we]),L(C+1),await ne()}catch(Oe){console.error("Error requesting hint:",Oe),n.error("Failed to get hint: "+Oe.message)}finally{g(!1)}}},re=(Oe,Ie)=>{var De;const we={testName:Oe,category:Ie,orderedAt:new Date().toISOString()},Pe=[...D,we];O(Pe);const Ae={testName:Oe,result:z$(Oe,s==null?void 0:s.clinical_case,(De=s==null?void 0:s.clinical_case)==null?void 0:De.labResults),category:Ie},qe=[...I,Ae];B(qe),ne()},se=Oe=>{U(Oe),ne()},ue=async()=>{var Oe,Ie,we,Pe,Ae,qe,De;if(w)try{await ne();let Xe;try{Xe=await Le.functions.invoke("score_simulation",{body:{runId:w}})}catch(dt){throw console.error("Function invoke error (catch block):",dt),(Oe=dt.message)!=null&&Oe.includes("Failed to fetch")||(Ie=dt.message)!=null&&Ie.includes("NetworkError")||(we=dt.message)!=null&&we.includes("Failed to send")||!dt.message?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase. Check the Supabase Dashboard  Edge Functions."):new Error(`Failed to call Edge Function: ${dt.message||"Unknown error"}`)}const{data:ze,error:We}=Xe||{};if(We)throw console.error("Scoring function error details:",{error:We,message:We.message,context:We.context,status:We.status}),(Pe=We.message)!=null&&Pe.includes("Failed to send")||(Ae=We.message)!=null&&Ae.includes("fetch")||(qe=We.message)!=null&&qe.includes("NetworkError")||(De=We.message)!=null&&De.includes("Failed to fetch")?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase. Check the Supabase Dashboard  Edge Functions."):new Error(We.message||"Failed to score simulation");if(!ze||!ze.score)throw console.error("Invalid response from scoring function:",ze),new Error("Invalid response from scoring function");const{error:gt}=await Le.from("simulation_runs").update({submitted_at:new Date().toISOString(),score:ze.score}).eq("id",w);if(gt)throw console.error("Update error:",gt),new Error("Failed to update simulation run");r(`/debrief/${w}`)}catch(Xe){console.error("Error submitting:",Xe);const ze=Xe.message||"Please try again.";n.error(`Error submitting simulation: ${ze}. If this persists, the Edge Function may not be deployed. Please check Supabase Dashboard  Edge Functions.`)}};if(p)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});const me=((ie=(Ce=s==null?void 0:s.clinical_case)==null?void 0:Ce.patientProfile)==null?void 0:ie.name)||"Patient",pe=(((J=s==null?void 0:s.clinical_case)==null?void 0:J.durationMinutes)||15)*60,xe=x/pe*100,he=x>=pe;return d.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-br from-gray-50 to-gray-100 pb-20 md:pb-4",children:[d.jsxs("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm p-4 md:p-6",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-8 w-auto object-contain hidden md:block"}),d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center shadow-md",children:d.jsx(ms,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:me}),d.jsx("p",{className:"text-sm md:text-base text-gray-600",children:((Fe=s==null?void 0:s.clinical_case)==null?void 0:Fe.title)||"Clinical Case"})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mt-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Kc,{className:`w-5 h-5 ${A?"text-red-600":"text-gray-700"}`}),d.jsxs("span",{className:`font-mono text-base md:text-lg font-semibold ${A?"text-red-600":"text-gray-900"}`,children:[Z(x)," / ",Z(pe)]}),A&&!he&&d.jsx("span",{className:"text-xs md:text-sm text-red-600 font-medium bg-red-50 px-2 py-1 rounded",children:"Time running out!"})]}),he&&d.jsxs("span",{className:"text-sm text-red-700 font-semibold flex items-center gap-2 bg-red-50 px-3 py-1.5 rounded-lg",children:[d.jsx(jy,{className:"w-5 h-5"}),"Time's up!"]})]}),d.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-3 shadow-inner",children:d.jsx("div",{className:`h-3 rounded-full transition-all shadow-sm ${xe>=100?"bg-red-600":xe>=80?"bg-yellow-500":"bg-primary-600"}`,style:{width:`${Math.min(xe,100)}%`}})})]}),d.jsx(Xge,{activeTab:k,onTabChange:P}),d.jsxs("div",{className:"flex-1 overflow-hidden",children:[k==="chat"&&d.jsx(Jge,{messages:l,input:u,setInput:f,sending:v,onSendMessage:z,onRequestHint:H,hintsRemaining:K-C}),k==="exam"&&d.jsx(Zge,{caseData:s==null?void 0:s.clinical_case}),k==="labs"&&d.jsx(Qge,{labOrders:D,labResults:I,onOrderTest:re,caseData:s==null?void 0:s.clinical_case}),k==="diagnosis"&&d.jsx(e0e,{diagnosis:F,onUpdate:se})]}),d.jsxs("div",{className:"bg-white border-t border-gray-200 p-4",children:[d.jsxs("button",{onClick:ue,disabled:!w,className:"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(ps,{className:"w-4 h-4"}),"Submit for Scoring"]}),he&&d.jsx("p",{className:"text-xs text-red-600 mt-2 text-center",children:"Your time is up. You can still submit your responses."})]}),d.jsx(Mn,{role:"student"}),d.jsx(gl,{toasts:n.toasts,onClose:n.removeToast})]})}function i0e({activeTab:t,onTabChange:e}){const r=[{id:"feedback",label:"Feedback",icon:va},{id:"review",label:"Review",icon:z_},{id:"questions",label:"Questions",icon:SU}];return d.jsx("div",{className:"bg-white border-b border-gray-200",children:d.jsx("div",{className:"flex overflow-x-auto",children:r.map(n=>{const i=n.icon,a=t===n.id;return d.jsxs("button",{onClick:()=>e(n.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx(i,{className:"w-4 h-4"}),n.label]},n.id)})})})}function a0e({accuracy:t,timeTaken:e,currentStreak:r}){return d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Accuracy"}),d.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[t,"%"]})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Time Taken"}),d.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e})]}),d.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Current Streak"}),d.jsxs("div",{className:"text-3xl font-bold text-yellow-600 flex items-center gap-1",children:[r,d.jsx("span",{className:"text-2xl",children:""})]})]})]})}function s0e({reasoning:t}){const[e,r]=X.useState(!0);return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!e),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"STEPWISE REASONING"}),d.jsx(Ny,{className:`w-5 h-5 text-gray-500 transition-transform ${e?"":"rotate-180"}`})]}),e&&d.jsx("div",{className:"prose max-w-none",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:t})})]})}function o0e({potentialDiagnoses:t,studentDiagnosis:e,correctDiagnosis:r}){const[n,i]=X.useState(!0);return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>i(!n),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"DIFFERENTIALS REVIEW"}),d.jsx(Ny,{className:`w-5 h-5 text-gray-500 transition-transform ${n?"":"rotate-180"}`})]}),n&&d.jsx("div",{className:"space-y-3",children:t.map((a,s)=>{const o=a.dx===r,l=a.dx===e;return d.jsx("div",{className:`p-4 rounded-lg border-2 ${o?"bg-green-50 border-green-200":l?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[o?d.jsx(ps,{className:"w-5 h-5 text-green-600"}):l?d.jsx(Ac,{className:"w-5 h-5 text-red-600"}):null,d.jsx("span",{className:"font-medium text-gray-900",children:a.dx})]}),l&&!o&&d.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Your Pick"})]})},s)})})]})}function l0e({pearls:t}){const[e,r]=X.useState(!0);return!t||t.length===0?null:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!e),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"LEARNING PEARLS"}),d.jsx(Ny,{className:`w-5 h-5 text-gray-500 transition-transform ${e?"":"rotate-180"}`})]}),e&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((n,i)=>d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(VC,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:n})]})},i))})]})}function c0e({references:t}){const[e,r]=X.useState(!0);return!t||t.length===0?null:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!e),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"FURTHER READING"}),d.jsx(Ny,{className:`w-5 h-5 text-gray-500 transition-transform ${e?"":"rotate-180"}`})]}),e&&d.jsx("div",{className:"space-y-3",children:t.map((n,i)=>d.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Ay,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:n.title}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:n.reference})]})]})},i))})]})}const u0e="modulepreload",d0e=function(t){return"/"+t},eP={},hx=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=d0e(l),l in eP)return;eP[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":u0e,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function nr(t){"@babel/helpers - typeof";return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(t)}var Ga=Uint8Array,zi=Uint16Array,QS=Int32Array,ej=new Ga([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tj=new Ga([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tP=new Ga([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),q$=function(t,e){for(var r=new zi(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new QS(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},W$=q$(ej,2),f0e=W$.b,j5=W$.r;f0e[28]=258,j5[258]=28;var h0e=q$(tj,0),rP=h0e.r,A5=new zi(32768);for(var jr=0;jr<32768;++jr){var zo=(jr&43690)>>1|(jr&21845)<<1;zo=(zo&52428)>>2|(zo&13107)<<2,zo=(zo&61680)>>4|(zo&3855)<<4,A5[jr]=((zo&65280)>>8|(zo&255)<<8)>>1}var Vh=function(t,e,r){for(var n=t.length,i=0,a=new zi(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new zi(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new zi(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=s[t[i]-1]++<<u,p=f|(1<<u)-1;f<=p;++f)o[A5[f]>>l]=c}else for(o=new zi(n),i=0;i<n;++i)t[i]&&(o[i]=A5[s[t[i]-1]++]>>15-t[i]);return o},qc=new Ga(288);for(var jr=0;jr<144;++jr)qc[jr]=8;for(var jr=144;jr<256;++jr)qc[jr]=9;for(var jr=256;jr<280;++jr)qc[jr]=7;for(var jr=280;jr<288;++jr)qc[jr]=8;var ey=new Ga(32);for(var jr=0;jr<32;++jr)ey[jr]=5;var p0e=Vh(qc,9,0),m0e=Vh(ey,5,0),H$=function(t){return(t+7)/8|0},g0e=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ga(t.subarray(e,r))},Us=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},yh=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},px=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:G$,l:0};if(i==1){var s=new Ga(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(S,k){return S.f-k.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new zi(p+1),v=N5(r[u-1],h,0);if(v>e){var n=0,g=0,x=v-e,y=1<<x;for(a.sort(function(k,P){return h[P.s]-h[k.s]||k.f-P.f});n<i;++n){var w=a[n].s;if(h[w]>e)g+=y-(1<<v-h[w]),h[w]=e;else break}for(g>>=x;g>0;){var _=a[n].s;h[_]<e?g-=1<<e-h[_]++-1:++n}for(;n>=0&&g;--n){var A=a[n].s;h[A]==e&&(--h[A],++g)}v=e}return{t:new Ga(h),l:v}},N5=function(t,e,r){return t.s==-1?Math.max(N5(t.l,e,r+1),N5(t.r,e,r+1)):e[t.s]=r},nP=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new zi(++e),n=0,i=t[0],a=1,s=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:r.subarray(0,n),n:e}},bh=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},V$=function(t,e,r){var n=r.length,i=H$(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},iP=function(t,e,r,n,i,a,s,o,l,c,u){Us(e,u++,r),++i[256];for(var f=px(i,15),p=f.t,h=f.l,v=px(a,15),g=v.t,x=v.l,y=nP(p),w=y.c,_=y.n,A=nP(g),S=A.c,k=A.n,P=new zi(19),C=0;C<w.length;++C)++P[w[C]&31];for(var C=0;C<S.length;++C)++P[S[C]&31];for(var L=px(P,7),D=L.t,O=L.l,I=19;I>4&&!D[tP[I-1]];--I);var B=c+5<<3,F=bh(i,qc)+bh(a,ey)+s,U=bh(i,p)+bh(a,g)+s+14+3*I+bh(P,D)+2*P[16]+3*P[17]+7*P[18];if(l>=0&&B<=F&&B<=U)return V$(e,u,t.subarray(l,l+c));var K,V,M,Z;if(Us(e,u,1+(U<F)),u+=2,U<F){K=Vh(p,h,0),V=p,M=Vh(g,x,0),Z=g;var ne=Vh(D,O,0);Us(e,u,_-257),Us(e,u+5,k-1),Us(e,u+10,I-4),u+=14;for(var C=0;C<I;++C)Us(e,u+3*C,D[tP[C]]);u+=3*I;for(var ae=[w,S],E=0;E<2;++E)for(var z=ae[E],C=0;C<z.length;++C){var H=z[C]&31;Us(e,u,ne[H]),u+=D[H],H>15&&(Us(e,u,z[C]>>5&127),u+=z[C]>>12)}}else K=p0e,V=qc,M=m0e,Z=ey;for(var C=0;C<o;++C){var re=n[C];if(re>255){var H=re>>18&31;yh(e,u,K[H+257]),u+=V[H+257],H>7&&(Us(e,u,re>>23&31),u+=ej[H]);var se=re&31;yh(e,u,M[se]),u+=Z[se],se>3&&(yh(e,u,re>>5&8191),u+=tj[se])}else yh(e,u,K[re]),u+=V[re]}return yh(e,u,K[256]),u+V[256]},v0e=new QS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),G$=new Ga(0),y0e=function(t,e,r,n,i,a){var s=a.z||t.length,o=new Ga(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),c=a.l,u=(a.r||0)&7;if(e){u&&(l[0]=a.r>>3);for(var f=v0e[e-1],p=f>>13,h=f&8191,v=(1<<r)-1,g=a.p||new zi(32768),x=a.h||new zi(v+1),y=Math.ceil(r/3),w=2*y,_=function(ie){return(t[ie]^t[ie+1]<<y^t[ie+2]<<w)&v},A=new QS(25e3),S=new zi(288),k=new zi(32),P=0,C=0,L=a.i||0,D=0,O=a.w||0,I=0;L+2<s;++L){var B=_(L),F=L&32767,U=x[B];if(g[F]=U,x[B]=F,O<=L){var K=s-L;if((P>7e3||D>24576)&&(K>423||!c)){u=iP(t,l,0,A,S,k,C,D,I,L-I,u),D=P=C=0,I=L;for(var V=0;V<286;++V)S[V]=0;for(var V=0;V<30;++V)k[V]=0}var M=2,Z=0,ne=h,ae=F-U&32767;if(K>2&&B==_(L-ae))for(var E=Math.min(p,K)-1,z=Math.min(32767,L),H=Math.min(258,K);ae<=z&&--ne&&F!=U;){if(t[L+M]==t[L+M-ae]){for(var re=0;re<H&&t[L+re]==t[L+re-ae];++re);if(re>M){if(M=re,Z=ae,re>E)break;for(var se=Math.min(ae,re-2),ue=0,V=0;V<se;++V){var me=L-ae+V&32767,oe=g[me],pe=me-oe&32767;pe>ue&&(ue=pe,U=me)}}}F=U,U=g[F],ae+=F-U&32767}if(Z){A[D++]=268435456|j5[M]<<18|rP[Z];var xe=j5[M]&31,he=rP[Z]&31;C+=ej[xe]+tj[he],++S[257+xe],++k[he],O=L+M,++P}else A[D++]=t[L],++S[t[L]]}}for(L=Math.max(L,O);L<s;++L)A[D++]=t[L],++S[t[L]];u=iP(t,l,c,A,S,k,C,D,I,L-I,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=x,a.p=g,a.i=L,a.w=O)}else{for(var L=a.w||0;L<s+c;L+=65535){var Ce=L+65535;Ce>=s&&(l[u/8|0]=c,Ce=s),u=V$(l,u+1,t.subarray(L,Ce))}a.i=s}return g0e(o,0,n+H$(u)+i)},K$=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},b0e=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Ga(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return y0e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},Y$=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},x0e=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=K$();i.p(e.dictionary),Y$(t,2,i.d())}};function k5(t,e){e||(e={});var r=K$();r.p(t);var n=b0e(t,e,e.dictionary?6:2,4);return x0e(n,e),Y$(n,n.length-4,r.d()),n}var w0e=typeof TextDecoder<"u"&&new TextDecoder,_0e=0;try{w0e.decode(G$,{stream:!0}),_0e=1}catch{}function S0e(t){if(Array.isArray(t))return t}function j0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function aP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function A0e(t,e){if(t){if(typeof t=="string")return aP(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aP(t,e):void 0}}function N0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sP(t,e){return S0e(t)||j0e(t,e)||A0e(t,e)||N0e()}function oP(t,e="utf8"){return new TextDecoder(e).decode(t)}const k0e=new TextEncoder;function O0e(t){return k0e.encode(t)}const P0e=1024*8,E0e=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),mx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class rj{constructor(e=P0e,r={}){Jt(this,"buffer");Jt(this,"byteLength");Jt(this,"byteOffset");Jt(this,"length");Jt(this,"offset");Jt(this,"lastWrittenByte");Jt(this,"littleEndian");Jt(this,"_data");Jt(this,"_mark");Jt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof rj)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=mx[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===E0e&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new mx[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new mx[r](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return oP(this.readBytes(e))}decodeText(e=1,r="utf8"){return oP(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(O0e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function jf(t){let e=t.length;for(;--e>=0;)t[e]=0}const T0e=3,C0e=258,X$=29,L0e=256,I0e=L0e+1+X$,J$=30,$0e=512,R0e=new Array((I0e+2)*2);jf(R0e);const M0e=new Array(J$*2);jf(M0e);const D0e=new Array($0e);jf(D0e);const B0e=new Array(C0e-T0e+1);jf(B0e);const F0e=new Array(X$);jf(F0e);const U0e=new Array(J$);jf(U0e);const z0e=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var O5=z0e;const q0e=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},W0e=new Uint32Array(q0e()),H0e=(t,e,r,n)=>{const i=W0e,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var ss=H0e,P5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Z$={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const V0e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var G0e=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)V0e(r,n)&&(t[n]=r[n])}}return t},K0e=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let s=t[n];r.set(s,i),i+=s.length}return r},Q$={assign:G0e,flattenChunks:K0e};let eR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{eR=!1}const em=new Uint8Array(256);for(let t=0;t<256;t++)em[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;em[254]=em[254]=1;var Y0e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,s=t.length,o=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const X0e=(t,e)=>{if(e<65534&&t.subarray&&eR)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var J0e=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){a[i++]=s;continue}let o=em[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|t[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return X0e(a,i)},Z0e=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+em[t[r]]>e?r:e},E5={string2buf:Y0e,buf2string:J0e,utf8border:Z0e};function Q0e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var eve=Q0e;const qg=16209,tve=16191;var rve=function(e,r){let n,i,a,s,o,l,c,u,f,p,h,v,g,x,y,w,_,A,S,k,P,C,L,D;const O=e.state;n=e.next_in,L=e.input,i=n+(e.avail_in-5),a=e.next_out,D=e.output,s=a-(r-e.avail_out),o=a+(e.avail_out-257),l=O.dmax,c=O.wsize,u=O.whave,f=O.wnext,p=O.window,h=O.hold,v=O.bits,g=O.lencode,x=O.distcode,y=(1<<O.lenbits)-1,w=(1<<O.distbits)-1;e:do{v<15&&(h+=L[n++]<<v,v+=8,h+=L[n++]<<v,v+=8),_=g[h&y];t:for(;;){if(A=_>>>24,h>>>=A,v-=A,A=_>>>16&255,A===0)D[a++]=_&65535;else if(A&16){S=_&65535,A&=15,A&&(v<A&&(h+=L[n++]<<v,v+=8),S+=h&(1<<A)-1,h>>>=A,v-=A),v<15&&(h+=L[n++]<<v,v+=8,h+=L[n++]<<v,v+=8),_=x[h&w];r:for(;;){if(A=_>>>24,h>>>=A,v-=A,A=_>>>16&255,A&16){if(k=_&65535,A&=15,v<A&&(h+=L[n++]<<v,v+=8,v<A&&(h+=L[n++]<<v,v+=8)),k+=h&(1<<A)-1,k>l){e.msg="invalid distance too far back",O.mode=qg;break e}if(h>>>=A,v-=A,A=a-s,k>A){if(A=k-A,A>u&&O.sane){e.msg="invalid distance too far back",O.mode=qg;break e}if(P=0,C=p,f===0){if(P+=c-A,A<S){S-=A;do D[a++]=p[P++];while(--A);P=a-k,C=D}}else if(f<A){if(P+=c+f-A,A-=f,A<S){S-=A;do D[a++]=p[P++];while(--A);if(P=0,f<S){A=f,S-=A;do D[a++]=p[P++];while(--A);P=a-k,C=D}}}else if(P+=f-A,A<S){S-=A;do D[a++]=p[P++];while(--A);P=a-k,C=D}for(;S>2;)D[a++]=C[P++],D[a++]=C[P++],D[a++]=C[P++],S-=3;S&&(D[a++]=C[P++],S>1&&(D[a++]=C[P++]))}else{P=a-k;do D[a++]=D[P++],D[a++]=D[P++],D[a++]=D[P++],S-=3;while(S>2);S&&(D[a++]=D[P++],S>1&&(D[a++]=D[P++]))}}else if(A&64){e.msg="invalid distance code",O.mode=qg;break e}else{_=x[(_&65535)+(h&(1<<A)-1)];continue r}break}}else if(A&64)if(A&32){O.mode=tve;break e}else{e.msg="invalid literal/length code",O.mode=qg;break e}else{_=g[(_&65535)+(h&(1<<A)-1)];continue t}break}}while(n<i&&a<o);S=v>>3,n-=S,v-=S<<3,h&=(1<<v)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<o?257+(o-a):257-(a-o),O.hold=h,O.bits=v};const Ou=15,lP=852,cP=592,uP=0,gx=1,dP=2,nve=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ive=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ave=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),sve=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ove=(t,e,r,n,i,a,s,o)=>{const l=o.bits;let c=0,u=0,f=0,p=0,h=0,v=0,g=0,x=0,y=0,w=0,_,A,S,k,P,C=null,L;const D=new Uint16Array(Ou+1),O=new Uint16Array(Ou+1);let I=null,B,F,U;for(c=0;c<=Ou;c++)D[c]=0;for(u=0;u<n;u++)D[e[r+u]]++;for(h=l,p=Ou;p>=1&&D[p]===0;p--);if(h>p&&(h=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&D[f]===0;f++);for(h<f&&(h=f),x=1,c=1;c<=Ou;c++)if(x<<=1,x-=D[c],x<0)return-1;if(x>0&&(t===uP||p!==1))return-1;for(O[1]=0,c=1;c<Ou;c++)O[c+1]=O[c]+D[c];for(u=0;u<n;u++)e[r+u]!==0&&(s[O[e[r+u]]++]=u);if(t===uP?(C=I=s,L=20):t===gx?(C=nve,I=ive,L=257):(C=ave,I=sve,L=0),w=0,u=0,c=f,P=a,v=h,g=0,S=-1,y=1<<h,k=y-1,t===gx&&y>lP||t===dP&&y>cP)return 1;for(;;){B=c-g,s[u]+1<L?(F=0,U=s[u]):s[u]>=L?(F=I[s[u]-L],U=C[s[u]-L]):(F=96,U=0),_=1<<c-g,A=1<<v,f=A;do A-=_,i[P+(w>>g)+A]=B<<24|F<<16|U|0;while(A!==0);for(_=1<<c-1;w&_;)_>>=1;if(_!==0?(w&=_-1,w+=_):w=0,u++,--D[c]===0){if(c===p)break;c=e[r+s[u]]}if(c>h&&(w&k)!==S){for(g===0&&(g=h),P+=f,v=c-g,x=1<<v;v+g<p&&(x-=D[v+g],!(x<=0));)v++,x<<=1;if(y+=1<<v,t===gx&&y>lP||t===dP&&y>cP)return 1;S=w&k,i[S]=h<<24|v<<16|P-a|0}}return w!==0&&(i[P+w]=c-g<<24|64<<16|0),o.bits=h,0};var Gh=ove;const lve=0,tR=1,rR=2,{Z_FINISH:fP,Z_BLOCK:cve,Z_TREES:Wg,Z_OK:Wc,Z_STREAM_END:uve,Z_NEED_DICT:dve,Z_STREAM_ERROR:ba,Z_DATA_ERROR:nR,Z_MEM_ERROR:iR,Z_BUF_ERROR:fve,Z_DEFLATED:hP}=Z$,w1=16180,pP=16181,mP=16182,gP=16183,vP=16184,yP=16185,bP=16186,xP=16187,wP=16188,_P=16189,ty=16190,zs=16191,vx=16192,SP=16193,yx=16194,jP=16195,AP=16196,NP=16197,kP=16198,Hg=16199,Vg=16200,OP=16201,PP=16202,EP=16203,TP=16204,CP=16205,bx=16206,LP=16207,IP=16208,Nr=16209,aR=16210,sR=16211,hve=852,pve=592,mve=15,gve=mve,$P=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function vve(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const nu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<w1||e.mode>sR?1:0},oR=t=>{if(nu(t))return ba;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=w1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(hve),e.distcode=e.distdyn=new Int32Array(pve),e.sane=1,e.back=-1,Wc},lR=t=>{if(nu(t))return ba;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,oR(t)},cR=(t,e)=>{let r;if(nu(t))return ba;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ba:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,lR(t))},uR=(t,e)=>{if(!t)return ba;const r=new vve;t.state=r,r.strm=t,r.window=null,r.mode=w1;const n=cR(t,e);return n!==Wc&&(t.state=null),n},yve=t=>uR(t,gve);let RP=!0,xx,wx;const bve=t=>{if(RP){xx=new Int32Array(512),wx=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Gh(tR,t.lens,0,288,xx,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Gh(rR,t.lens,0,32,wx,0,t.work,{bits:5}),RP=!1}t.lencode=xx,t.lenbits=9,t.distcode=wx,t.distbits=5},dR=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},xve=(t,e)=>{let r,n,i,a,s,o,l,c,u,f,p,h,v,g,x=0,y,w,_,A,S,k,P,C;const L=new Uint8Array(4);let D,O;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(nu(t)||!t.output||!t.input&&t.avail_in!==0)return ba;r=t.state,r.mode===zs&&(r.mode=vx),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,c=r.hold,u=r.bits,f=o,p=l,C=Wc;e:for(;;)switch(r.mode){case w1:if(r.wrap===0){r.mode=vx;break}for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,L[0]=c&255,L[1]=c>>>8&255,r.check=ss(r.check,L,2,0),c=0,u=0,r.mode=pP;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Nr;break}if((c&15)!==hP){t.msg="unknown compression method",r.mode=Nr;break}if(c>>>=4,u-=4,P=(c&15)+8,r.wbits===0&&(r.wbits=P),P>15||P>r.wbits){t.msg="invalid window size",r.mode=Nr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?_P:zs,c=0,u=0;break;case pP:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==hP){t.msg="unknown compression method",r.mode=Nr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Nr;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,r.check=ss(r.check,L,2,0)),c=0,u=0,r.mode=mP;case mP:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,L[2]=c>>>16&255,L[3]=c>>>24&255,r.check=ss(r.check,L,4,0)),c=0,u=0,r.mode=gP;case gP:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,r.check=ss(r.check,L,2,0)),c=0,u=0,r.mode=vP;case vP:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,r.check=ss(r.check,L,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=yP;case yP:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),P)),r.flags&512&&r.wrap&4&&(r.check=ss(r.check,n,h,a)),o-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=bP;case bP:if(r.flags&2048){if(o===0)break e;h=0;do P=n[a+h++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P));while(P&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=ss(r.check,n,h,a)),o-=h,a+=h,P)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=xP;case xP:if(r.flags&4096){if(o===0)break e;h=0;do P=n[a+h++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P));while(P&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=ss(r.check,n,h,a)),o-=h,a+=h,P)break e}else r.head&&(r.head.comment=null);r.mode=wP;case wP:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Nr;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=zs;break;case _P:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}t.adler=r.check=$P(c),c=0,u=0,r.mode=ty;case ty:if(r.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=u,dve;t.adler=r.check=1,r.mode=zs;case zs:if(e===cve||e===Wg)break e;case vx:if(r.last){c>>>=u&7,u-=u&7,r.mode=bx;break}for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=SP;break;case 1:if(bve(r),r.mode=Hg,e===Wg){c>>>=2,u-=2;break e}break;case 2:r.mode=AP;break;case 3:t.msg="invalid block type",r.mode=Nr}c>>>=2,u-=2;break;case SP:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Nr;break}if(r.length=c&65535,c=0,u=0,r.mode=yx,e===Wg)break e;case yx:r.mode=jP;case jP:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(n.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,r.length-=h;break}r.mode=zs;break;case AP:for(;u<14;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Nr;break}r.have=0,r.mode=NP;case NP:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.lens[I[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},C=Gh(lve,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,C){t.msg="invalid code lengths set",r.mode=Nr;break}r.have=0,r.mode=kP;case kP:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[c&(1<<r.lenbits)-1],y=x>>>24,w=x>>>16&255,_=x&65535,!(y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(_<16)c>>>=y,u-=y,r.lens[r.have++]=_;else{if(_===16){for(O=y+2;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(c>>>=y,u-=y,r.have===0){t.msg="invalid bit length repeat",r.mode=Nr;break}P=r.lens[r.have-1],h=3+(c&3),c>>>=2,u-=2}else if(_===17){for(O=y+3;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=y,u-=y,P=0,h=3+(c&7),c>>>=3,u-=3}else{for(O=y+7;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=y,u-=y,P=0,h=11+(c&127),c>>>=7,u-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Nr;break}for(;h--;)r.lens[r.have++]=P}}if(r.mode===Nr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Nr;break}if(r.lenbits=9,D={bits:r.lenbits},C=Gh(tR,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,C){t.msg="invalid literal/lengths set",r.mode=Nr;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},C=Gh(rR,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,C){t.msg="invalid distances set",r.mode=Nr;break}if(r.mode=Hg,e===Wg)break e;case Hg:r.mode=Vg;case Vg:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=u,rve(t,p),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,c=r.hold,u=r.bits,r.mode===zs&&(r.back=-1);break}for(r.back=0;x=r.lencode[c&(1<<r.lenbits)-1],y=x>>>24,w=x>>>16&255,_=x&65535,!(y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(w&&!(w&240)){for(A=y,S=w,k=_;x=r.lencode[k+((c&(1<<A+S)-1)>>A)],y=x>>>24,w=x>>>16&255,_=x&65535,!(A+y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=A,u-=A,r.back+=A}if(c>>>=y,u-=y,r.back+=y,r.length=_,w===0){r.mode=CP;break}if(w&32){r.back=-1,r.mode=zs;break}if(w&64){t.msg="invalid literal/length code",r.mode=Nr;break}r.extra=w&15,r.mode=OP;case OP:if(r.extra){for(O=r.extra;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=PP;case PP:for(;x=r.distcode[c&(1<<r.distbits)-1],y=x>>>24,w=x>>>16&255,_=x&65535,!(y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(!(w&240)){for(A=y,S=w,k=_;x=r.distcode[k+((c&(1<<A+S)-1)>>A)],y=x>>>24,w=x>>>16&255,_=x&65535,!(A+y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=A,u-=A,r.back+=A}if(c>>>=y,u-=y,r.back+=y,w&64){t.msg="invalid distance code",r.mode=Nr;break}r.offset=_,r.extra=w&15,r.mode=EP;case EP:if(r.extra){for(O=r.extra;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Nr;break}r.mode=TP;case TP:if(l===0)break e;if(h=p-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Nr;break}h>r.wnext?(h-=r.wnext,v=r.wsize-h):v=r.wnext-h,h>r.length&&(h=r.length),g=r.window}else g=i,v=s-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[s++]=g[v++];while(--h);r.length===0&&(r.mode=Vg);break;case CP:if(l===0)break e;i[s++]=r.length,l--,r.mode=Vg;break;case bx:if(r.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[a++]<<u,u+=8}if(p-=l,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?ss(r.check,i,p,s-p):O5(r.check,i,p,s-p)),p=l,r.wrap&4&&(r.flags?c:$P(c))!==r.check){t.msg="incorrect data check",r.mode=Nr;break}c=0,u=0}r.mode=LP;case LP:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Nr;break}c=0,u=0}r.mode=IP;case IP:C=uve;break e;case Nr:C=nR;break e;case aR:return iR;case sR:default:return ba}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=u,(r.wsize||p!==t.avail_out&&r.mode<Nr&&(r.mode<bx||e!==fP))&&dR(t,t.output,t.next_out,p-t.avail_out),f-=t.avail_in,p-=t.avail_out,t.total_in+=f,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?ss(r.check,i,p,t.next_out-p):O5(r.check,i,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===zs?128:0)+(r.mode===Hg||r.mode===yx?256:0),(f===0&&p===0||e===fP)&&C===Wc&&(C=fve),C},wve=t=>{if(nu(t))return ba;let e=t.state;return e.window&&(e.window=null),t.state=null,Wc},_ve=(t,e)=>{if(nu(t))return ba;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Wc):ba},Sve=(t,e)=>{const r=e.length;let n,i,a;return nu(t)||(n=t.state,n.wrap!==0&&n.mode!==ty)?ba:n.mode===ty&&(i=1,i=O5(i,e,r,0),i!==n.check)?nR:(a=dR(t,e,r,r),a?(n.mode=aR,iR):(n.havedict=1,Wc))};var jve=lR,Ave=cR,Nve=oR,kve=yve,Ove=uR,Pve=xve,Eve=wve,Tve=_ve,Cve=Sve,Lve="pako inflate (from Nodeca project)",Gs={inflateReset:jve,inflateReset2:Ave,inflateResetKeep:Nve,inflateInit:kve,inflateInit2:Ove,inflate:Pve,inflateEnd:Eve,inflateGetHeader:Tve,inflateSetDictionary:Cve,inflateInfo:Lve};function Ive(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var $ve=Ive;const fR=Object.prototype.toString,{Z_NO_FLUSH:Rve,Z_FINISH:Mve,Z_OK:tm,Z_STREAM_END:_x,Z_NEED_DICT:Sx,Z_STREAM_ERROR:Dve,Z_DATA_ERROR:MP,Z_MEM_ERROR:Bve}=Z$;function xm(t){this.options=Q$.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new eve,this.strm.avail_out=0;let r=Gs.inflateInit2(this.strm,e.windowBits);if(r!==tm)throw new Error(P5[r]);if(this.header=new $ve,Gs.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=E5.string2buf(e.dictionary):fR.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Gs.inflateSetDictionary(this.strm,e.dictionary),r!==tm)))throw new Error(P5[r])}xm.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Mve:Rve,fR.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Gs.inflate(r,s),a===Sx&&i&&(a=Gs.inflateSetDictionary(r,i),a===tm?a=Gs.inflate(r,s):a===MP&&(a=Sx));r.avail_in>0&&a===_x&&r.state.wrap>0&&t[r.next_in]!==0;)Gs.inflateReset(r),a=Gs.inflate(r,s);switch(a){case Dve:case MP:case Sx:case Bve:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===_x))if(this.options.to==="string"){let l=E5.utf8border(r.output,r.next_out),c=r.next_out-l,u=E5.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===tm&&o===0)){if(a===_x)return a=Gs.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};xm.prototype.onData=function(t){this.chunks.push(t)};xm.prototype.onEnd=function(t){t===tm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Q$.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Fve(t,e){const r=new xm(e);if(r.push(t),r.err)throw r.msg||P5[r.err];return r.result}var Uve=xm,zve=Fve,qve={Inflate:Uve,inflate:zve};const{Inflate:Wve,inflate:Hve}=qve;var DP=Wve,Vve=Hve;const hR=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;hR[t]=e}const BP=4294967295;function Gve(t,e,r){let n=t;for(let i=0;i<r;i++)n=hR[(n^e[i])&255]^n>>>8;return n}function Kve(t,e){return(Gve(BP,t,e)^BP)>>>0}function FP(t,e,r){const n=t.readUint32(),i=Kve(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function pR(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function mR(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function gR(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function vR(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function yR(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+Yve(e[a-i],r[a],r[a-i])&255}}function Yve(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),s=Math.abs(n-r);return i<=a&&i<=s?t:a<=s?e:r}function Xve(t,e,r,n,i,a){switch(t){case 0:pR(e,r,i);break;case 1:mR(e,r,i,a);break;case 2:gR(e,r,n,i);break;case 3:vR(e,r,n,i,a);break;case 4:yR(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Jve=new Uint16Array([255]),Zve=new Uint8Array(Jve.buffer),Qve=Zve[0]===255;function eye(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let u=0;u<7;u++){const f=s[u],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const v=p*o,g=new Uint8Array(v);for(let x=0;x<h;x++){const y=e[c++],w=e.subarray(c,c+v);c+=v;const _=new Uint8Array(v);Xve(y,w,_,g,v,o),g.set(_);for(let A=0;A<p;A++){const S=f.x+A*f.xStep,k=f.y+x*f.yStep;if(!(S>=r||k>=n))for(let P=0;P<o;P++)l[(k*r+S)*o+P]=_[A*o+P]}}}if(a===16){const u=new Uint16Array(l.buffer);if(Qve)for(let f=0;f<u.length;f++)u[f]=tye(u[f]);return u}else return l}function tye(t){return(t&255)<<8|t>>8&255}const rye=new Uint16Array([255]),nye=new Uint8Array(rye.buffer),iye=nye[0]===255,aye=new Uint8Array(0);function UP(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),l=new Uint8Array(n*o);let c=aye,u=0,f,p;for(let h=0;h<n;h++){switch(f=e.subarray(u+1,u+1+o),p=l.subarray(h*o,(h+1)*o),e[u]){case 0:pR(f,p,o);break;case 1:mR(f,p,o,s);break;case 2:gR(f,p,c,o);break;case 3:vR(f,p,c,o,s);break;case 4:yR(f,p,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=p,u+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(iye)for(let v=0;v<h.length;v++)h[v]=sye(h[v]);return h}else return l}function sye(t){return(t&255)<<8|t>>8&255}const d0=Uint8Array.of(137,80,78,71,13,10,26,10);function zP(t){if(!oye(t.readBytes(d0.length)))throw new Error("wrong PNG signature")}function oye(t){if(t.length<d0.length)return!1;for(let e=0;e<d0.length;e++)if(t[e]!==d0[e])return!1;return!0}const lye="tEXt",cye=0,bR=new TextDecoder("latin1");function uye(t){if(fye(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const dye=/^[\u0000-\u00FF]*$/;function fye(t){if(!dye.test(t))throw new Error("invalid latin1 text")}function hye(t,e,r){const n=xR(e);t[n]=pye(e,r-n.length-1)}function xR(t){for(t.mark();t.readByte()!==cye;);const e=t.offset;t.reset();const r=bR.decode(t.readBytes(e-t.offset-1));return t.skip(1),uye(r),r}function pye(t,e){return bR.decode(t.readBytes(e))}const Ti={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},jx={UNKNOWN:-1,DEFLATE:0},qP={UNKNOWN:-1,ADAPTIVE:0},Ax={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Gg={NONE:0,BACKGROUND:1,PREVIOUS:2},Nx={SOURCE:0,OVER:1};class mye extends rj{constructor(r,n={}){super(r);Jt(this,"_checkCrc");Jt(this,"_inflator");Jt(this,"_png");Jt(this,"_apng");Jt(this,"_end");Jt(this,"_hasPalette");Jt(this,"_palette");Jt(this,"_hasTransparency");Jt(this,"_transparency");Jt(this,"_compressionMethod");Jt(this,"_filterMethod");Jt(this,"_interlaceMethod");Jt(this,"_colorType");Jt(this,"_isAnimated");Jt(this,"_numberOfFrames");Jt(this,"_numberOfPlays");Jt(this,"_frames");Jt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new DP,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=jx.UNKNOWN,this._filterMethod=qP.UNKNOWN,this._interlaceMethod=Ax.UNKNOWN,this._colorType=Ti.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(zP(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(zP(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case lye:hye(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?FP(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?FP(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=gye(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Ti.GREYSCALE:i=1;break;case Ti.TRUECOLOUR:i=3;break;case Ti.INDEXED_COLOUR:i=1;break;case Ti.GREYSCALE_ALPHA:i=2;break;case Ti.TRUECOLOUR_ALPHA:i=4;break;case Ti.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==jx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ti.GREYSCALE:case Ti.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ti.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ti.UNKNOWN:case Ti.GREYSCALE_ALPHA:case Ti.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=xR(this),i=this.readUint8();if(i!==jx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Vve(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=UP({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case Gg.NONE:break;case Gg.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case Gg.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case Nx.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case Nx.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++){const f=n.data[c+this._png.channels-1]/i,p=u%(this._png.channels-1)===0?1:n.data[c+u],h=Math.floor(f*p+(1-f)*r.data[l+u]);r.data[l+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==qP.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ax.NO_INTERLACE)this._png.data=UP({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ax.ADAM7)this._png.data=eye({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Gg.NONE,blendOp:Nx.SOURCE,data:r}),this._inflator=new DP,this._writingDataChunks=!1}}function gye(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var WP;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(WP||(WP={}));function vye(t,e){return new mye(t,e).decode()}var yt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function kx(){yt.console&&typeof yt.console.log=="function"&&yt.console.log.apply(yt.console,arguments)}var dr={log:kx,warn:function(t){yt.console&&(typeof yt.console.warn=="function"?yt.console.warn.apply(yt.console,arguments):kx.call(null,arguments))},error:function(t){yt.console&&(typeof yt.console.error=="function"?yt.console.error.apply(yt.console,arguments):kx(t))}};function Ox(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){cc(n.response,e,r)},n.onerror=function(){dr.error("could not download file")},n.send()}function HP(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Kg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var cc=yt.saveAs||((typeof window>"u"?"undefined":nr(window))!=="object"||window!==yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=yt.URL||yt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?HP(i.href)?Ox(t,e,r):Kg(i,i.target="_blank"):Kg(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Kg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(HP(t))Ox(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Kg(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:nr(a)!=="object"&&(dr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Ox(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(yt.HTMLElement)||yt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":nr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(t)}else{var l=yt.URL||yt.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function wR(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var f0=yt.atob.bind(yt),VP=yt.btoa.bind(yt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Px(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Wn(r,n,i,a,e[0],7,-680876936),a=Wn(a,r,n,i,e[1],12,-389564586),i=Wn(i,a,r,n,e[2],17,606105819),n=Wn(n,i,a,r,e[3],22,-1044525330),r=Wn(r,n,i,a,e[4],7,-176418897),a=Wn(a,r,n,i,e[5],12,1200080426),i=Wn(i,a,r,n,e[6],17,-1473231341),n=Wn(n,i,a,r,e[7],22,-45705983),r=Wn(r,n,i,a,e[8],7,1770035416),a=Wn(a,r,n,i,e[9],12,-1958414417),i=Wn(i,a,r,n,e[10],17,-42063),n=Wn(n,i,a,r,e[11],22,-1990404162),r=Wn(r,n,i,a,e[12],7,1804603682),a=Wn(a,r,n,i,e[13],12,-40341101),i=Wn(i,a,r,n,e[14],17,-1502002290),r=Hn(r,n=Wn(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Hn(a,r,n,i,e[6],9,-1069501632),i=Hn(i,a,r,n,e[11],14,643717713),n=Hn(n,i,a,r,e[0],20,-373897302),r=Hn(r,n,i,a,e[5],5,-701558691),a=Hn(a,r,n,i,e[10],9,38016083),i=Hn(i,a,r,n,e[15],14,-660478335),n=Hn(n,i,a,r,e[4],20,-405537848),r=Hn(r,n,i,a,e[9],5,568446438),a=Hn(a,r,n,i,e[14],9,-1019803690),i=Hn(i,a,r,n,e[3],14,-187363961),n=Hn(n,i,a,r,e[8],20,1163531501),r=Hn(r,n,i,a,e[13],5,-1444681467),a=Hn(a,r,n,i,e[2],9,-51403784),i=Hn(i,a,r,n,e[7],14,1735328473),r=Vn(r,n=Hn(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Vn(a,r,n,i,e[8],11,-2022574463),i=Vn(i,a,r,n,e[11],16,1839030562),n=Vn(n,i,a,r,e[14],23,-35309556),r=Vn(r,n,i,a,e[1],4,-1530992060),a=Vn(a,r,n,i,e[4],11,1272893353),i=Vn(i,a,r,n,e[7],16,-155497632),n=Vn(n,i,a,r,e[10],23,-1094730640),r=Vn(r,n,i,a,e[13],4,681279174),a=Vn(a,r,n,i,e[0],11,-358537222),i=Vn(i,a,r,n,e[3],16,-722521979),n=Vn(n,i,a,r,e[6],23,76029189),r=Vn(r,n,i,a,e[9],4,-640364487),a=Vn(a,r,n,i,e[12],11,-421815835),i=Vn(i,a,r,n,e[15],16,530742520),r=Gn(r,n=Vn(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Gn(a,r,n,i,e[7],10,1126891415),i=Gn(i,a,r,n,e[14],15,-1416354905),n=Gn(n,i,a,r,e[5],21,-57434055),r=Gn(r,n,i,a,e[12],6,1700485571),a=Gn(a,r,n,i,e[3],10,-1894986606),i=Gn(i,a,r,n,e[10],15,-1051523),n=Gn(n,i,a,r,e[1],21,-2054922799),r=Gn(r,n,i,a,e[8],6,1873313359),a=Gn(a,r,n,i,e[15],10,-30611744),i=Gn(i,a,r,n,e[6],15,-1560198380),n=Gn(n,i,a,r,e[13],21,1309151649),r=Gn(r,n,i,a,e[4],6,-145523070),a=Gn(a,r,n,i,e[11],10,-1120210379),i=Gn(i,a,r,n,e[2],15,718787259),n=Gn(n,i,a,r,e[9],21,-343485551),t[0]=rl(r,t[0]),t[1]=rl(n,t[1]),t[2]=rl(i,t[2]),t[3]=rl(a,t[3])}function _1(t,e,r,n,i,a){return e=rl(rl(e,t),rl(n,a)),rl(e<<i|e>>>32-i,r)}function Wn(t,e,r,n,i,a,s){return _1(e&r|~e&n,t,e,i,a,s)}function Hn(t,e,r,n,i,a,s){return _1(e&n|r&~n,t,e,i,a,s)}function Vn(t,e,r,n,i,a,s){return _1(e^r^n,t,e,i,a,s)}function Gn(t,e,r,n,i,a,s){return _1(r^(e|~n),t,e,i,a,s)}function _R(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Px(n,yye(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Px(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Px(n,i),n}function yye(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var GP="0123456789abcdef".split("");function bye(t){for(var e="",r=0;r<4;r++)e+=GP[t>>8*r+4&15]+GP[t>>8*r&15];return e}function xye(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function T5(t){return _R(t).map(xye).join("")}var wye=function(t){for(var e=0;e<t.length;e++)t[e]=bye(t[e]);return t.join("")}(_R("hello"))!="5d41402abc4b2a76b9719d911017c592";function rl(t,e){if(wye){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function C5(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=t,n=o}else o=n;var f=e.length,p=0,h=0,v="";for(l=0;l<f;l++)h=(h+(u=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=u,s=o[(o[p]+o[h])%256],v+=String.fromCharCode(e.charCodeAt(l)^s);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var KP={print:4,modify:8,copy:16,"annot-forms":32};function Iu(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(KP.perm!==void 0)throw new Error("Invalid permission: "+o);i+=KP[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=T5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=C5(this.encryptionKey,this.padding)}function $u(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function YP(t){if(nr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(o){yt.console&&dr.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ry(t){if(!(this instanceof ry))return new ry(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function SR(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function pc(t,e,r,n,i){if(!(this instanceof pc))return new pc(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,SR.call(this,n,i)}function Qu(t,e,r,n,i){if(!(this instanceof Qu))return new Qu(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,SR.call(this,n,i)}function lt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;nr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=YP;var v="1.3",g=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(j){v=j};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return x};var y=h.__private__.getPageFormat=function(j){return x[j]};i=i||"a4";var w="compat",_="advanced",A=w;function S(){this.saveGraphicsState(),J(new pt(ht,0,0,-ht,0,Fl()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),c="n",A=_}function k(){this.restoreGraphicsState(),c="S",A=w}var P=h.__private__.combineFontStyleAndFontWeight=function(j,$){if(j=="bold"&&$=="normal"||j=="bold"&&$==400||j=="normal"&&$=="italic"||j=="bold"&&$=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return $&&(j=$==400||$==="normal"?j==="italic"?"italic":"normal":$!=700&&$!=="bold"||j!=="normal"?($==700?"bold":$)+""+j:"bold"),j};h.advancedAPI=function(j){var $=A===w;return $&&S.call(this),typeof j!="function"||(j(this),$&&k.call(this)),this},h.compatAPI=function(j){var $=A===_;return $&&k.call(this),typeof j!="function"||(j(this),$&&S.call(this)),this},h.isAdvancedAPI=function(){return A===_};var C,L=function(j){if(A!==_)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=h.roundToPrecision=h.__private__.roundToPrecision=function(j,$){var te=e||$;if(isNaN(j)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(te).replace(/0+$/,"")};C=h.hpf=h.__private__.hpf=typeof l=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return D(j,l)}:l==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return D(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return D(j,16)};var O=h.f2=h.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return D(j,2)},I=h.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return D(j,3)},B=h.scale=h.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return A===w?j*ht:A===_?j:void 0},F=function(j){return B(function($){return A===w?Fl()-$:A===_?$:void 0}(j))};h.__private__.setPrecision=h.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(e=parseInt(j,10))};var U,K="00000000000000000000000000000000",V=h.__private__.getFileId=function(){return K},M=h.__private__.setFileId=function(j){return K=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(zr=new Iu(u.userPermissions,u.userPassword,u.ownerPassword,K)),K};h.setFileId=function(j){return M(j),this},h.getFileId=function(){return V()};var Z=h.__private__.convertDateToPDFDate=function(j){var $=j.getTimezoneOffset(),te=$<0?"+":"-",ce=Math.floor(Math.abs($/60)),ge=Math.abs($%60),Ne=[te,H(ce),"'",H(ge),"'"].join("");return["D:",j.getFullYear(),H(j.getMonth()+1),H(j.getDate()),H(j.getHours()),H(j.getMinutes()),H(j.getSeconds()),Ne].join("")},ne=h.__private__.convertPDFDateToDate=function(j){var $=parseInt(j.substr(2,4),10),te=parseInt(j.substr(6,2),10)-1,ce=parseInt(j.substr(8,2),10),ge=parseInt(j.substr(10,2),10),Ne=parseInt(j.substr(12,2),10),Te=parseInt(j.substr(14,2),10);return new Date($,te,ce,ge,Ne,Te,0)},ae=h.__private__.setCreationDate=function(j){var $;if(j===void 0&&(j=new Date),j instanceof Date)$=Z(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");$=j}return U=$},E=h.__private__.getCreationDate=function(j){var $=U;return j==="jsDate"&&($=ne(U)),$};h.setCreationDate=function(j){return ae(j),this},h.getCreationDate=function(j){return E(j)};var z,H=h.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},re=h.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},se=0,ue=[],me=[],oe=0,pe=[],xe=[],he=!1,Ce=me;h.__private__.setCustomOutputDestination=function(j){he=!0,Ce=j};var ie=function(j){he||(Ce=j)};h.__private__.resetCustomOutputDestination=function(){he=!1,Ce=me};var J=h.__private__.out=function(j){return j=j.toString(),oe+=j.length+1,Ce.push(j),Ce},Fe=h.__private__.write=function(j){return J(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},Oe=h.__private__.getArrayBuffer=function(j){for(var $=j.length,te=new ArrayBuffer($),ce=new Uint8Array(te);$--;)ce[$]=j.charCodeAt($);return te},Ie=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Ie};var we=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(j){return we=A===_?j/ht:j,this};var Pe,Ae=h.__private__.getFontSize=h.getFontSize=function(){return A===w?we:we*ht},qe=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(j){return qe=j,this},h.__private__.getR2L=h.getR2L=function(){return qe};var De,Xe=h.__private__.setZoomMode=function(j){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))Pe=j;else if(isNaN(j)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');Pe=j}else Pe=parseInt(j,10)};h.__private__.getZoomMode=function(){return Pe};var ze,We=h.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');De=j};h.__private__.getPageMode=function(){return De};var gt=h.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');ze=j};h.__private__.getLayoutMode=function(){return ze},h.__private__.setDisplayMode=h.setDisplayMode=function(j,$,te){return Xe(j),gt($),We(te),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(j){if(Object.keys(dt).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[j]},h.__private__.getDocumentProperties=function(){return dt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(j){for(var $ in dt)dt.hasOwnProperty($)&&j[$]&&(dt[$]=j[$]);return this},h.__private__.setDocumentProperty=function(j,$){if(Object.keys(dt).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[j]=$};var rt,ht,Ve,Bt,Rt,nt={},_t={},Yt=[],ut={},Mt={},Et={},Ur={},ln=null,lr=0,St=[],Zt=new YP(h),Ol=t.hotfixes||[],Bn={},As={},Ja=[],pt=function j($,te,ce,ge,Ne,Te){if(!(this instanceof j))return new j($,te,ce,ge,Ne,Te);isNaN($)&&($=1),isNaN(te)&&(te=0),isNaN(ce)&&(ce=0),isNaN(ge)&&(ge=1),isNaN(Ne)&&(Ne=0),isNaN(Te)&&(Te=0),this._matrix=[$,te,ce,ge,Ne,Te]};Object.defineProperty(pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pt.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(j)},pt.prototype.multiply=function(j){var $=j.sx*this.sx+j.shy*this.shx,te=j.sx*this.shy+j.shy*this.sy,ce=j.shx*this.sx+j.sy*this.shx,ge=j.shx*this.shy+j.sy*this.sy,Ne=j.tx*this.sx+j.ty*this.shx+this.tx,Te=j.tx*this.shy+j.ty*this.sy+this.ty;return new pt($,te,ce,ge,Ne,Te)},pt.prototype.decompose=function(){var j=this.sx,$=this.shy,te=this.shx,ce=this.sy,ge=this.tx,Ne=this.ty,Te=Math.sqrt(j*j+$*$),Qe=(j/=Te)*te+($/=Te)*ce;te-=j*Qe,ce-=$*Qe;var st=Math.sqrt(te*te+ce*ce);return Qe/=st,j*(ce/=st)<$*(te/=st)&&(j=-j,$=-$,Qe=-Qe,Te=-Te),{scale:new pt(Te,0,0,st,0,0),translate:new pt(1,0,0,1,ge,Ne),rotate:new pt(j,$,-$,j,0,0),skew:new pt(1,0,Qe,1,0,0)}},pt.prototype.toString=function(j){return this.join(" ")},pt.prototype.inversed=function(){var j=this.sx,$=this.shy,te=this.shx,ce=this.sy,ge=this.tx,Ne=this.ty,Te=1/(j*ce-$*te),Qe=ce*Te,st=-$*Te,xt=-te*Te,Nt=j*Te;return new pt(Qe,st,xt,Nt,-Qe*ge-xt*Ne,-st*ge-Nt*Ne)},pt.prototype.applyToPoint=function(j){var $=j.x*this.sx+j.y*this.shx+this.tx,te=j.x*this.shy+j.y*this.sy+this.ty;return new Dl($,te)},pt.prototype.applyToRectangle=function(j){var $=this.applyToPoint(j),te=this.applyToPoint(new Dl(j.x+j.w,j.y+j.h));return new $f($.x,$.y,te.x-$.x,te.y-$.y)},pt.prototype.clone=function(){var j=this.sx,$=this.shy,te=this.shx,ce=this.sy,ge=this.tx,Ne=this.ty;return new pt(j,$,te,ce,ge,Ne)},h.Matrix=pt;var Ns=h.matrixMult=function(j,$){return $.multiply(j)},ks=new pt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=ks;var Xi=function(j,$){if(!Mt[j]){var te=($ instanceof pc?"Sh":"P")+(Object.keys(ut).length+1).toString(10);$.id=te,Mt[j]=te,ut[te]=$,Zt.publish("addPattern",$)}};h.ShadingPattern=pc,h.TilingPattern=Qu,h.addShadingPattern=function(j,$){return L("addShadingPattern()"),Xi(j,$),this},h.beginTilingPattern=function(j){L("beginTilingPattern()"),Rf(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},h.endTilingPattern=function(j,$){L("endTilingPattern()"),$.stream=xe[z].join(`
`),Xi(j,$),Zt.publish("endTilingPattern",$),Ja.pop().restore()};var Ji,Ir=h.__private__.newObject=function(){var j=_n();return Pn(j,!0),j},_n=h.__private__.newObjectDeferred=function(){return se++,ue[se]=function(){return oe},se},Pn=function(j,$){return $=typeof $=="boolean"&&$,ue[j]=oe,$&&J(j+" 0 obj"),j},Pl=h.__private__.newAdditionalObject=function(){var j={objId:_n(),content:""};return pe.push(j),j},_o=_n(),Sa=_n(),Za=h.__private__.decodeColorString=function(j){var $=j.split(" ");if($.length!==2||$[1]!=="g"&&$[1]!=="G")$.length!==5||$[4]!=="k"&&$[4]!=="K"||($=[(1-$[0])*(1-$[3]),(1-$[1])*(1-$[3]),(1-$[2])*(1-$[3]),"r"]);else{var te=parseFloat($[0]);$=[te,te,te,"r"]}for(var ce="#",ge=0;ge<3;ge++)ce+=("0"+Math.floor(255*parseFloat($[ge])).toString(16)).slice(-2);return ce},ja=h.__private__.encodeColorString=function(j){var $;typeof j=="string"&&(j={ch1:j});var te=j.ch1,ce=j.ch2,ge=j.ch3,Ne=j.ch4,Te=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var Qe=new wR(te);if(Qe.ok)te=Qe.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var st=parseInt(te.substr(1),16);te=st>>16&255,ce=st>>8&255,ge=255&st}if(ce===void 0||Ne===void 0&&te===ce&&ce===ge)$=typeof te=="string"?te+" "+Te[0]:j.precision===2?O(te/255)+" "+Te[0]:I(te/255)+" "+Te[0];else if(Ne===void 0||nr(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return["1.","1.","1.",Te[1]].join(" ");$=typeof te=="string"?[te,ce,ge,Te[1]].join(" "):j.precision===2?[O(te/255),O(ce/255),O(ge/255),Te[1]].join(" "):[I(te/255),I(ce/255),I(ge/255),Te[1]].join(" ")}else $=typeof te=="string"?[te,ce,ge,Ne,Te[2]].join(" "):j.precision===2?[O(te),O(ce),O(ge),O(Ne),Te[2]].join(" "):[I(te),I(ce),I(ge),I(Ne),Te[2]].join(" ");return $},Aa=h.__private__.getFilters=function(){return s},Zi=h.__private__.putStream=function(j){var $=(j=j||{}).data||"",te=j.filters||Aa(),ce=j.alreadyAppliedFilters||[],ge=j.addLength1||!1,Ne=$.length,Te=j.objectId,Qe=function(cn){return cn};if(u!==null&&Te===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Qe=zr.encryptor(Te,0));var st={};te===!0&&(te=["FlateEncode"]);var xt=j.additionalKeyValues||[],Nt=(st=lt.API.processDataByFilters!==void 0?lt.API.processDataByFilters($,te):{data:$,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(st.data.length!==0&&(xt.push({key:"Length",value:st.data.length}),ge===!0&&xt.push({key:"Length1",value:Ne})),Nt.length!=0)if(Nt.split("/").length-1==1)xt.push({key:"Filter",value:Nt});else{xt.push({key:"Filter",value:"["+Nt+"]"});for(var Xt=0;Xt<xt.length;Xt+=1)if(xt[Xt].key==="DecodeParms"){for(var Pr=[],Qr=0;Qr<st.reverseChain.split("/").length-1;Qr+=1)Pr.push("null");Pr.push(xt[Xt].value),xt[Xt].value="["+Pr.join(" ")+"]"}}J("<<");for(var hr=0;hr<xt.length;hr++)J("/"+xt[hr].key+" "+xt[hr].value);J(">>"),st.data.length!==0&&(J("stream"),J(Qe(st.data)),J("endstream"))},El=h.__private__.putPage=function(j){var $=j.number,te=j.data,ce=j.objId,ge=j.contentsObjId;Pn(ce,!0),J("<</Type /Page"),J("/Parent "+j.rootDictionaryObjId+" 0 R"),J("/Resources "+j.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(C(j.mediaBox.bottomLeftX))+" "+parseFloat(C(j.mediaBox.bottomLeftY))+" "+C(j.mediaBox.topRightX)+" "+C(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&J("/CropBox ["+C(j.cropBox.bottomLeftX)+" "+C(j.cropBox.bottomLeftY)+" "+C(j.cropBox.topRightX)+" "+C(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&J("/BleedBox ["+C(j.bleedBox.bottomLeftX)+" "+C(j.bleedBox.bottomLeftY)+" "+C(j.bleedBox.topRightX)+" "+C(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&J("/TrimBox ["+C(j.trimBox.bottomLeftX)+" "+C(j.trimBox.bottomLeftY)+" "+C(j.trimBox.topRightX)+" "+C(j.trimBox.topRightY)+"]"),j.artBox!==null&&J("/ArtBox ["+C(j.artBox.bottomLeftX)+" "+C(j.artBox.bottomLeftY)+" "+C(j.artBox.topRightX)+" "+C(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&J("/UserUnit "+j.userUnit),Zt.publish("putPage",{objId:ce,pageContext:St[$],pageNumber:$,page:te}),J("/Contents "+ge+" 0 R"),J(">>"),J("endobj");var Ne=te.join(`
`);return A===_&&(Ne+=`
Q`),Pn(ge,!0),Zi({data:Ne,filters:Aa(),objectId:ge}),J("endobj"),ce},Qa=h.__private__.putPages=function(){var j,$,te=[];for(j=1;j<=lr;j++)St[j].objId=_n(),St[j].contentsObjId=_n();for(j=1;j<=lr;j++)te.push(El({number:j,data:xe[j],objId:St[j].objId,contentsObjId:St[j].contentsObjId,mediaBox:St[j].mediaBox,cropBox:St[j].cropBox,bleedBox:St[j].bleedBox,trimBox:St[j].trimBox,artBox:St[j].artBox,userUnit:St[j].userUnit,rootDictionaryObjId:_o,resourceDictionaryObjId:Sa}));Pn(_o,!0),J("<</Type /Pages");var ce="/Kids [";for($=0;$<lr;$++)ce+=te[$]+" 0 R ";J(ce+"]"),J("/Count "+lr),J(">>"),J("endobj"),Zt.publish("postPutPages")},Tl=function(j){Zt.publish("putFont",{font:j,out:J,newObject:Ir,putStream:Zi}),j.isAlreadyPutted!==!0&&(j.objectNumber=Ir(),J("<<"),J("/Type /Font"),J("/BaseFont /"+$u(j.postScriptName)),J("/Subtype /Type1"),typeof j.encoding=="string"&&J("/Encoding /"+j.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},au=function(j){j.objectNumber=Ir();var $=[];$.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Form"}),$.push({key:"BBox",value:"["+[C(j.x),C(j.y),C(j.x+j.width),C(j.y+j.height)].join(" ")+"]"}),$.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var te=j.pages[1].join(`
`);Zi({data:te,additionalKeyValues:$,objectId:j.objectNumber}),J("endobj")},su=function(j,$){$||($=21);var te=Ir(),ce=function(Te,Qe){var st,xt=[],Nt=1/(Qe-1);for(st=0;st<1;st+=Nt)xt.push(st);if(xt.push(1),Te[0].offset!=0){var Xt={offset:0,color:Te[0].color};Te.unshift(Xt)}if(Te[Te.length-1].offset!=1){var Pr={offset:1,color:Te[Te.length-1].color};Te.push(Pr)}for(var Qr="",hr=0,cn=0;cn<xt.length;cn++){for(st=xt[cn];st>Te[hr+1].offset;)hr++;var en=Te[hr].offset,En=(st-en)/(Te[hr+1].offset-en),ea=Te[hr].color,di=Te[hr+1].color;Qr+=re(Math.round((1-En)*ea[0]+En*di[0]).toString(16))+re(Math.round((1-En)*ea[1]+En*di[1]).toString(16))+re(Math.round((1-En)*ea[2]+En*di[2]).toString(16))}return Qr.trim()}(j.colors,$),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+$+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Zi({data:ce,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),J("endobj"),j.objectNumber=Ir(),J("<< /ShadingType "+j.type),J("/ColorSpace /DeviceRGB");var Ne="/Coords ["+C(parseFloat(j.coords[0]))+" "+C(parseFloat(j.coords[1]))+" ";j.type===2?Ne+=C(parseFloat(j.coords[2]))+" "+C(parseFloat(j.coords[3])):Ne+=C(parseFloat(j.coords[2]))+" "+C(parseFloat(j.coords[3]))+" "+C(parseFloat(j.coords[4]))+" "+C(parseFloat(j.coords[5])),J(Ne+="]"),j.matrix&&J("/Matrix ["+j.matrix.toString()+"]"),J("/Function "+te+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},ou=function(j,$){var te=_n(),ce=Ir();$.push({resourcesOid:te,objectOid:ce}),j.objectNumber=ce;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+j.boundingBox.map(C).join(" ")+"]"}),ge.push({key:"XStep",value:C(j.xStep)}),ge.push({key:"YStep",value:C(j.yStep)}),ge.push({key:"Resources",value:te+" 0 R"}),j.matrix&&ge.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),Zi({data:j.stream,additionalKeyValues:ge,objectId:j.objectNumber}),J("endobj")},S1=function(j){for(var $ in j.objectNumber=Ir(),J("<<"),j)switch($){case"opacity":J("/ca "+O(j[$]));break;case"stroke-opacity":J("/CA "+O(j[$]))}J(">>"),J("endobj")},Af=function(j){Pn(j.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var $ in J("/Font <<"),nt)nt.hasOwnProperty($)&&(f===!1||f===!0&&p.hasOwnProperty($))&&J("/"+$+" "+nt[$].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(ut).length>0){for(var $ in J("/Shading <<"),ut)ut.hasOwnProperty($)&&ut[$]instanceof pc&&ut[$].objectNumber>=0&&J("/"+$+" "+ut[$].objectNumber+" 0 R");Zt.publish("putShadingPatternDict"),J(">>")}}(),function($){if(Object.keys(ut).length>0){for(var te in J("/Pattern <<"),ut)ut.hasOwnProperty(te)&&ut[te]instanceof h.TilingPattern&&ut[te].objectNumber>=0&&ut[te].objectNumber<$&&J("/"+te+" "+ut[te].objectNumber+" 0 R");Zt.publish("putTilingPatternDict"),J(">>")}}(j.objectOid),function(){if(Object.keys(Et).length>0){var $;for($ in J("/ExtGState <<"),Et)Et.hasOwnProperty($)&&Et[$].objectNumber>=0&&J("/"+$+" "+Et[$].objectNumber+" 0 R");Zt.publish("putGStateDict"),J(">>")}}(),function(){for(var $ in J("/XObject <<"),Bn)Bn.hasOwnProperty($)&&Bn[$].objectNumber>=0&&J("/"+$+" "+Bn[$].objectNumber+" 0 R");Zt.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},wm=function(j){_t[j.fontName]=_t[j.fontName]||{},_t[j.fontName][j.fontStyle]=j.id},_m=function(j,$,te,ce,ge){var Ne={id:"F"+(Object.keys(nt).length+1).toString(10),postScriptName:j,fontName:$,fontStyle:te,encoding:ce,isStandardFont:ge||!1,metadata:{}};return Zt.publish("addFont",{font:Ne,instance:this}),nt[Ne.id]=Ne,wm(Ne),Ne.id},Qi=h.__private__.pdfEscape=h.pdfEscape=function(j,$){return function(te,ce){var ge,Ne,Te,Qe,st,xt,Nt,Xt,Pr;if(Te=(ce=ce||{}).sourceEncoding||"Unicode",st=ce.outputEncoding,(ce.autoencode||st)&&nt[rt].metadata&&nt[rt].metadata[Te]&&nt[rt].metadata[Te].encoding&&(Qe=nt[rt].metadata[Te].encoding,!st&&nt[rt].encoding&&(st=nt[rt].encoding),!st&&Qe.codePages&&(st=Qe.codePages[0]),typeof st=="string"&&(st=Qe[st]),st)){for(Nt=!1,xt=[],ge=0,Ne=te.length;ge<Ne;ge++)(Xt=st[te.charCodeAt(ge)])?xt.push(String.fromCharCode(Xt)):xt.push(te[ge]),xt[ge].charCodeAt(0)>>8&&(Nt=!0);te=xt.join("")}for(ge=te.length;Nt===void 0&&ge!==0;)te.charCodeAt(ge-1)>>8&&(Nt=!0),ge--;if(!Nt)return te;for(xt=ce.noBOM?[]:[254,255],ge=0,Ne=te.length;ge<Ne;ge++){if((Pr=(Xt=te.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xt.push(Pr),xt.push(Xt-(Pr<<8))}return String.fromCharCode.apply(void 0,xt)}(j,$).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nf=h.__private__.beginPage=function(j){xe[++lr]=[],St[lr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},jm(lr),ie(xe[z])},Sm=function(j,$){var te,ce,ge;switch(r=$||r,typeof j=="string"&&(te=y(j.toLowerCase()),Array.isArray(te)&&(ce=te[0],ge=te[1])),Array.isArray(j)&&(ce=j[0]*ht,ge=j[1]*ht),isNaN(ce)&&(ce=i[0],ge=i[1]),(ce>14400||ge>14400)&&(dr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ge=Math.min(14400,ge)),i=[ce,ge],r.substr(0,1)){case"l":ge>ce&&(i=[ge,ce]);break;case"p":ce>ge&&(i=[ge,ce])}Nf(i),C1(Tf),J(cu),Lf!==0&&J(Lf+" J"),If!==0&&J(If+" j"),Zt.publish("addPage",{pageNumber:lr})},kf=function(j){j>0&&j<=lr&&(xe.splice(j,1),St.splice(j,1),lr--,z>lr&&(z=lr),this.setPage(z))},jm=function(j){j>0&&j<=lr&&(z=j)},Am=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return xe.length-1},Nm=function(j,$,te){var ce,ge=void 0;return te=te||{},j=j!==void 0?j:nt[rt].fontName,$=$!==void 0?$:nt[rt].fontStyle,ce=j.toLowerCase(),_t[ce]!==void 0&&_t[ce][$]!==void 0?ge=_t[ce][$]:_t[j]!==void 0&&_t[j][$]!==void 0?ge=_t[j][$]:te.disableWarning===!1&&dr.warn("Unable to look up font label for font '"+j+"', '"+$+"'. Refer to getFontList() for available fonts."),ge||te.noFallback||(ge=_t.times[$])==null&&(ge=_t.times.normal),ge},lu=h.__private__.putInfo=function(){var j=Ir(),$=function(ce){return ce};for(var te in u!==null&&($=zr.encryptor(j,0)),J("<<"),J("/Producer ("+Qi($("jsPDF "+lt.version))+")"),dt)dt.hasOwnProperty(te)&&dt[te]&&J("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+Qi($(dt[te]))+")");J("/CreationDate ("+Qi($(U))+")"),J(">>"),J("endobj")},j1=h.__private__.putCatalog=function(j){var $=(j=j||{}).rootDictionaryObjId||_o;switch(Ir(),J("<<"),J("/Type /Catalog"),J("/Pages "+$+" 0 R"),Pe||(Pe="fullwidth"),Pe){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+Pe;te.substr(te.length-1)==="%"&&(Pe=parseInt(Pe)/100),typeof Pe=="number"&&J("/OpenAction [3 0 R /XYZ null null "+O(Pe)+"]")}switch(ze||(ze="continuous"),ze){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}De&&J("/PageMode /"+De),Zt.publish("putCatalog"),J(">>"),J("endobj")},Zr=h.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(se+1)),J("/Root "+se+" 0 R"),J("/Info "+(se-1)+" 0 R"),u!==null&&J("/Encrypt "+zr.oid+" 0 R"),J("/ID [ <"+K+"> <"+K+"> ]"),J(">>")},km=h.__private__.putHeader=function(){J("%PDF-"+v),J("%")},Om=h.__private__.putXRef=function(){var j="0000000000";J("xref"),J("0 "+(se+1)),J("0000000000 65535 f ");for(var $=1;$<=se;$++)typeof ue[$]=="function"?J((j+ue[$]()).slice(-10)+" 00000 n "):ue[$]!==void 0?J((j+ue[$]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Os=h.__private__.buildDocument=function(){var j;se=0,oe=0,me=[],ue=[],pe=[],_o=_n(),Sa=_n(),ie(me),Zt.publish("buildDocument"),km(),Qa(),function(){Zt.publish("putAdditionalObjects");for(var te=0;te<pe.length;te++){var ce=pe[te];Pn(ce.objId,!0),J(ce.content),J("endobj")}Zt.publish("postPutAdditionalObjects")}(),j=[],function(){for(var te in nt)nt.hasOwnProperty(te)&&(f===!1||f===!0&&p.hasOwnProperty(te))&&Tl(nt[te])}(),function(){var te;for(te in Et)Et.hasOwnProperty(te)&&S1(Et[te])}(),function(){for(var te in Bn)Bn.hasOwnProperty(te)&&au(Bn[te])}(),function(te){var ce;for(ce in ut)ut.hasOwnProperty(ce)&&(ut[ce]instanceof pc?su(ut[ce]):ut[ce]instanceof Qu&&ou(ut[ce],te))}(j),Zt.publish("putResources"),j.forEach(Af),Af({resourcesOid:Sa,objectOid:Number.MAX_SAFE_INTEGER}),Zt.publish("postPutResources"),u!==null&&(zr.oid=Ir(),J("<<"),J("/Filter /Standard"),J("/V "+zr.v),J("/R "+zr.r),J("/U <"+zr.toHexString(zr.U)+">"),J("/O <"+zr.toHexString(zr.O)+">"),J("/P "+zr.P),J(">>"),J("endobj")),lu(),j1();var $=oe;return Om(),Zr(),J("startxref"),J(""+$),J("%%EOF"),ie(xe[z]),me.join(`
`)},Cl=h.__private__.getBlob=function(j){return new Blob([Oe(j)],{type:"application/pdf"})},Na=h.output=h.__private__.output=(Ji=function(j,$){switch(typeof($=$||{})=="string"?$={filename:$}:$.filename=$.filename||"generated.pdf",j){case void 0:return Os();case"save":h.save($.filename);break;case"arraybuffer":return Oe(Os());case"blob":return Cl(Os());case"bloburi":case"bloburl":if(yt.URL!==void 0&&typeof yt.URL.createObjectURL=="function")return yt.URL&&yt.URL.createObjectURL(Cl(Os()))||void 0;dr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",ce=Os();try{te=VP(ce)}catch{te=VP(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+$.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';$.pdfObjectUrl&&(ge=$.pdfObjectUrl,Ne="");var Te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify($)+");<\/script></body></html>",Qe=yt.open();return Qe!==null&&Qe.document.write(Te),Qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+($.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+$.filename+'" width="500px" height="400px" /></body></html>',xt=yt.open();if(xt!==null){xt.document.write(st);var Nt=this;xt.document.documentElement.querySelector("#pdfViewer").onload=function(){xt.document.title=$.filename,xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nt.output("bloburl"))}}return xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",$)+'"></iframe></body></html>',Pr=yt.open();if(Pr!==null&&(Pr.document.write(Xt),Pr.document.title=$.filename),Pr||typeof safari>"u")return Pr;break;case"datauri":case"dataurl":return yt.document.location.href=this.output("datauristring",$);default:return null}},Ji.foo=function(){try{return Ji.apply(this,arguments)}catch(te){var j=te.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var $="Error in function "+j.split(`
`)[0].split("<")[0]+": "+te.message;if(!yt.console)throw new Error($);yt.console.error($,te),yt.alert&&alert($)}},Ji.foo.bar=Ji,Ji.foo),Ll=function(j){return Array.isArray(Ol)===!0&&Ol.indexOf(j)>-1};switch(n){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=Ll("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ht=n}var zr=null;ae(),M();var Of=h.__private__.getPageInfo=h.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[j].objId,pageNumber:j,pageContext:St[j]}},A1=h.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var $ in St)if(St[$].objId===j)break;return Of($)},N1=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:St[z].objId,pageNumber:z,pageContext:St[z]}};h.addPage=function(){return Sm.apply(this,arguments),this},h.setPage=function(){return jm.apply(this,arguments),ie.call(this,xe[z]),this},h.insertPage=function(j){return this.addPage(),this.movePage(z,j),this},h.movePage=function(j,$){var te,ce;if(j>$){te=xe[j],ce=St[j];for(var ge=j;ge>$;ge--)xe[ge]=xe[ge-1],St[ge]=St[ge-1];xe[$]=te,St[$]=ce,this.setPage($)}else if(j<$){te=xe[j],ce=St[j];for(var Ne=j;Ne<$;Ne++)xe[Ne]=xe[Ne+1],St[Ne]=St[Ne+1];xe[$]=te,St[$]=ce,this.setPage($)}return this},h.deletePage=function(){return kf.apply(this,arguments),this},h.__private__.text=h.text=function(j,$,te,ce,ge){var Ne,Te,Qe,st,xt,Nt,Xt,Pr,Qr,hr=(ce=ce||{}).scope||this;if(typeof j=="number"&&typeof $=="number"&&(typeof te=="string"||Array.isArray(te))){var cn=te;te=$,$=j,j=cn}if(arguments[3]instanceof pt==0?(Qe=arguments[4],st=arguments[5],nr(Xt=arguments[3])==="object"&&Xt!==null||(typeof Qe=="string"&&(st=Qe,Qe=null),typeof Xt=="string"&&(st=Xt,Xt=null),typeof Xt=="number"&&(Qe=Xt,Xt=null),ce={flags:Xt,angle:Qe,align:st})):(L("The transform parameter of text() with a Matrix value"),Qr=ge),isNaN($)||isNaN(te)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return hr;var en,En="",ea=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:$l,di=hr.internal.scaleFactor;function Rm(Qt){return Qt=Qt.split("	").join(Array(ce.TabLen||9).join(" ")),Qi(Qt,Xt)}function hu(Qt){for(var cr,Wr=Qt.concat(),un=[],$s=Wr.length;$s--;)typeof(cr=Wr.shift())=="string"?un.push(cr):Array.isArray(Qt)&&(cr.length===1||cr[1]===void 0&&cr[2]===void 0)?un.push(cr[0]):un.push([cr[0],cr[1],cr[2]]);return un}function Ul(Qt,cr){var Wr;if(typeof Qt=="string")Wr=cr(Qt)[0];else if(Array.isArray(Qt)){for(var un,$s,Vf=Qt.concat(),gu=[],Bm=Vf.length;Bm--;)typeof(un=Vf.shift())=="string"?gu.push(cr(un)[0]):Array.isArray(un)&&typeof un[0]=="string"&&($s=cr(un[0],un[1],un[2]),gu.push([$s[0],$s[1],$s[2]]));Wr=gu}return Wr}var Ao=!1,zl=!0;if(typeof j=="string")Ao=!0;else if(Array.isArray(j)){var ql=j.concat();Te=[];for(var Wl,Fn=ql.length;Fn--;)(typeof(Wl=ql.shift())!="string"||Array.isArray(Wl)&&typeof Wl[0]!="string")&&(zl=!1);Ao=zl}if(Ao===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var Hl=we/hr.internal.scaleFactor,Vl=Hl*(ea-1);switch(ce.baseline){case"bottom":te-=Vl;break;case"top":te+=Hl-Vl;break;case"hanging":te+=Hl-2*Vl;break;case"middle":te+=Hl/2-Vl}if((Nt=ce.maxWidth||0)>0&&(typeof j=="string"?j=hr.splitTextToSize(j,Nt):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(Qt,cr){return Qt.concat(hr.splitTextToSize(cr,Nt))},[]))),Ne={text:j,x:$,y:te,options:ce,mutex:{pdfEscape:Qi,activeFontKey:rt,fonts:nt,activeFontSize:we}},Zt.publish("preProcessText",Ne),j=Ne.text,Qe=(ce=Ne.options).angle,Qr instanceof pt==0&&Qe&&typeof Qe=="number"){Qe*=Math.PI/180,ce.rotationDirection===0&&(Qe=-Qe),A===_&&(Qe=-Qe);var Mf=Math.cos(Qe),Df=Math.sin(Qe);Qr=new pt(Mf,Df,-Df,Mf,0,0)}else Qe&&Qe instanceof pt&&(Qr=Qe);A!==_||Qr||(Qr=ks),(xt=ce.charSpace||du)!==void 0&&(En+=C(B(xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pr=ce.horizontalScale)!==void 0&&(En+=C(100*Pr)+` Tz
`),ce.lang;var $r=-1,Ls=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,pu=hr.internal.getCurrentPageInfo().pageContext;switch(Ls){case 0:case!1:case"fill":$r=0;break;case 1:case!0:case"stroke":$r=1;break;case 2:case"fillThenStroke":$r=2;break;case 3:case"invisible":$r=3;break;case 4:case"fillAndAddForClipping":$r=4;break;case 5:case"strokeAndAddPathForClipping":$r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$r=6;break;case 7:case"addToPathForClipping":$r=7}var Mm=pu.usedRenderingMode!==void 0?pu.usedRenderingMode:-1;$r!==-1?En+=$r+` Tr
`:Mm!==-1&&(En+=`0 Tr
`),$r!==-1&&(pu.usedRenderingMode=$r),st=ce.align||"left";var ta,Gl=we*ea,Bf=hr.internal.pageSize.getWidth(),Ff=nt[rt];xt=ce.charSpace||du,Nt=ce.maxWidth||0,Xt=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var No=[],Kl=function(Qt){return hr.getStringUnitWidth(Qt,{font:Ff,charSpace:xt,fontSize:we,doKerning:!1})*we/di};if(Object.prototype.toString.call(j)==="[object Array]"){var Si;Te=hu(j),st!=="left"&&(ta=Te.map(Kl));var ji,ko=0;if(st==="right"){$-=ta[0],j=[],Fn=Te.length;for(var Is=0;Is<Fn;Is++)Is===0?(ji=Ps($),Si=Es(te)):(ji=B(ko-ta[Is]),Si=-Gl),j.push([Te[Is],ji,Si]),ko=ta[Is]}else if(st==="center"){$-=ta[0]/2,j=[],Fn=Te.length;for(var Oo=0;Oo<Fn;Oo++)Oo===0?(ji=Ps($),Si=Es(te)):(ji=B((ko-ta[Oo])/2),Si=-Gl),j.push([Te[Oo],ji,Si]),ko=ta[Oo]}else if(st==="left"){j=[],Fn=Te.length;for(var Uf=0;Uf<Fn;Uf++)j.push(Te[Uf])}else if(st==="justify"&&Ff.encoding==="Identity-H"){j=[],Fn=Te.length,Nt=Nt!==0?Nt:Bf;for(var mu=0,qr=0;qr<Fn;qr++)if(Si=qr===0?Es(te):-Gl,ji=qr===0?Ps($):mu,qr<Fn-1){var Dm=B((Nt-ta[qr])/(Te[qr].split(" ").length-1)),ts=Te[qr].split(" ");j.push([ts[0]+" ",ji,Si]),mu=0;for(var rs=1;rs<ts.length;rs++){var zf=(Kl(ts[rs-1]+" "+ts[rs])-Kl(ts[rs]))*di+Dm;rs==ts.length-1?j.push([ts[rs],zf,0]):j.push([ts[rs]+" ",zf,0]),mu-=zf}}else j.push([Te[qr],ji,Si]);j.push(["",mu,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],Fn=Te.length,Nt=Nt!==0?Nt:Bf,qr=0;qr<Fn;qr++){Si=qr===0?Es(te):-Gl,ji=qr===0?Ps($):0;var qf=Te[qr].split(" ").length-1,Wf=qf>0?(Nt-ta[qr])/qf:0;qr<Fn-1?No.push(C(B(Wf))):No.push(0),j.push([Te[qr],ji,Si])}}}(typeof ce.R2L=="boolean"?ce.R2L:qe)===!0&&(j=Ul(j,function(Qt,cr,Wr){return[Qt.split("").reverse().join(""),cr,Wr]})),Ne={text:j,x:$,y:te,options:ce,mutex:{pdfEscape:Qi,activeFontKey:rt,fonts:nt,activeFontSize:we}},Zt.publish("postProcessText",Ne),j=Ne.text,en=Ne.mutex.isHex||!1;var Hf=nt[rt].encoding;Hf!=="WinAnsiEncoding"&&Hf!=="StandardEncoding"||(j=Ul(j,function(Qt,cr,Wr){return[Rm(Qt),cr,Wr]})),Te=hu(j),j=[];for(var Po,Eo,To,Yl=Array.isArray(Te[0])?1:0,Co="",Xl=function(Qt,cr,Wr){var un="";return Wr instanceof pt?(Wr=typeof ce.angle=="number"?Ns(Wr,new pt(1,0,0,1,Qt,cr)):Ns(new pt(1,0,0,1,Qt,cr),Wr),A===_&&(Wr=Ns(new pt(1,0,0,-1,0,0),Wr)),un=Wr.join(" ")+` Tm
`):un=C(Qt)+" "+C(cr)+` Td
`,un},ra=0;ra<Te.length;ra++){switch(Co="",Yl){case 1:To=(en?"<":"(")+Te[ra][0]+(en?">":")"),Po=parseFloat(Te[ra][1]),Eo=parseFloat(Te[ra][2]);break;case 0:To=(en?"<":"(")+Te[ra]+(en?">":")"),Po=Ps($),Eo=Es(te)}No!==void 0&&No[ra]!==void 0&&(Co=No[ra]+` Tw
`),ra===0?j.push(Co+Xl(Po,Eo,Qr)+To):Yl===0?j.push(Co+To):Yl===1&&j.push(Co+Xl(Po,Eo,Qr)+To)}j=Yl===0?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var ns=`BT
/`;return ns+=rt+" "+we+` Tf
`,ns+=C(we*ea)+` TL
`,ns+=Rl+`
`,ns+=En,ns+=j,J(ns+="ET"),p[rt]=!0,hr};var k1=h.__private__.clip=h.clip=function(j){return J(j==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return k1("evenodd")},h.__private__.discardPath=h.discardPath=function(){return J("n"),this};var es=h.__private__.isValidStyle=function(j){var $=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&($=!0),$};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(j){return es(j)&&(c=j),this};var Pm=h.__private__.getStyle=h.getStyle=function(j){var $=c;switch(j){case"D":case"S":$="S";break;case"F":$="f";break;case"FD":case"DF":$="B";break;case"f":case"f*":case"B":case"B*":$=j}return $},Em=h.close=function(){return J("h"),this};h.stroke=function(){return J("S"),this},h.fill=function(j){return So("f",j),this},h.fillEvenOdd=function(j){return So("f*",j),this},h.fillStroke=function(j){return So("B",j),this},h.fillStrokeEvenOdd=function(j){return So("B*",j),this};var So=function(j,$){nr($)==="object"?P1($,j):J(j)},Pf=function(j){j===null||A===_&&j===void 0||(j=Pm(j),J(j))};function O1(j,$,te,ce,ge){var Ne=new Qu($||this.boundingBox,te||this.xStep,ce||this.yStep,this.gState,ge||this.matrix);Ne.stream=this.stream;var Te=j+"$$"+this.cloneIndex+++"$$";return Xi(Te,Ne),Ne}var P1=function(j,$){var te=Mt[j.key],ce=ut[te];if(ce instanceof pc)J("q"),J(E1($)),ce.gState&&h.setGState(ce.gState),J(j.matrix.toString()+" cm"),J("/"+te+" sh"),J("Q");else if(ce instanceof Qu){var ge=new pt(1,0,0,-1,0,Fl());j.matrix&&(ge=ge.multiply(j.matrix||ks),te=O1.call(ce,j.key,j.boundingBox,j.xStep,j.yStep,ge).id),J("q"),J("/Pattern cs"),J("/"+te+" scn"),ce.gState&&h.setGState(ce.gState),J($),J("Q")}},E1=function(j){switch(j){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ef=h.moveTo=function(j,$){return J(C(B(j))+" "+C(F($))+" m"),this},Il=h.lineTo=function(j,$){return J(C(B(j))+" "+C(F($))+" l"),this},jo=h.curveTo=function(j,$,te,ce,ge,Ne){return J([C(B(j)),C(F($)),C(B(te)),C(F(ce)),C(B(ge)),C(F(Ne)),"c"].join(" ")),this};h.__private__.line=h.line=function(j,$,te,ce,ge){if(isNaN(j)||isNaN($)||isNaN(te)||isNaN(ce)||!es(ge))throw new Error("Invalid arguments passed to jsPDF.line");return A===w?this.lines([[te-j,ce-$]],j,$,[1,1],ge||"S"):this.lines([[te-j,ce-$]],j,$,[1,1]).stroke()},h.__private__.lines=h.lines=function(j,$,te,ce,ge,Ne){var Te,Qe,st,xt,Nt,Xt,Pr,Qr,hr,cn,en,En;if(typeof j=="number"&&(En=te,te=$,$=j,j=En),ce=ce||[1,1],Ne=Ne||!1,isNaN($)||isNaN(te)||!Array.isArray(j)||!Array.isArray(ce)||!es(ge)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ef($,te),Te=ce[0],Qe=ce[1],xt=j.length,cn=$,en=te,st=0;st<xt;st++)(Nt=j[st]).length===2?(cn=Nt[0]*Te+cn,en=Nt[1]*Qe+en,Il(cn,en)):(Xt=Nt[0]*Te+cn,Pr=Nt[1]*Qe+en,Qr=Nt[2]*Te+cn,hr=Nt[3]*Qe+en,cn=Nt[4]*Te+cn,en=Nt[5]*Qe+en,jo(Xt,Pr,Qr,hr,cn,en));return Ne&&Em(),Pf(ge),this},h.path=function(j){for(var $=0;$<j.length;$++){var te=j[$],ce=te.c;switch(te.op){case"m":Ef(ce[0],ce[1]);break;case"l":Il(ce[0],ce[1]);break;case"c":jo.apply(this,ce);break;case"h":Em()}}return this},h.__private__.rect=h.rect=function(j,$,te,ce,ge){if(isNaN(j)||isNaN($)||isNaN(te)||isNaN(ce)||!es(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return A===w&&(ce=-ce),J([C(B(j)),C(F($)),C(B(te)),C(B(ce)),"re"].join(" ")),Pf(ge),this},h.__private__.triangle=h.triangle=function(j,$,te,ce,ge,Ne,Te){if(isNaN(j)||isNaN($)||isNaN(te)||isNaN(ce)||isNaN(ge)||isNaN(Ne)||!es(Te))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-j,ce-$],[ge-te,Ne-ce],[j-ge,$-Ne]],j,$,[1,1],Te,!0),this},h.__private__.roundedRect=h.roundedRect=function(j,$,te,ce,ge,Ne,Te){if(isNaN(j)||isNaN($)||isNaN(te)||isNaN(ce)||isNaN(ge)||isNaN(Ne)||!es(Te))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qe=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*te),Ne=Math.min(Ne,.5*ce),this.lines([[te-2*ge,0],[ge*Qe,0,ge,Ne-Ne*Qe,ge,Ne],[0,ce-2*Ne],[0,Ne*Qe,-ge*Qe,Ne,-ge,Ne],[2*ge-te,0],[-ge*Qe,0,-ge,-Ne*Qe,-ge,-Ne],[0,2*Ne-ce],[0,-Ne*Qe,ge*Qe,-Ne,ge,-Ne]],j+ge,$,[1,1],Te,!0),this},h.__private__.ellipse=h.ellipse=function(j,$,te,ce,ge){if(isNaN(j)||isNaN($)||isNaN(te)||isNaN(ce)||!es(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*te,Te=4/3*(Math.SQRT2-1)*ce;return Ef(j+te,$),jo(j+te,$-Te,j+Ne,$-ce,j,$-ce),jo(j-Ne,$-ce,j-te,$-Te,j-te,$),jo(j-te,$+Te,j-Ne,$+ce,j,$+ce),jo(j+Ne,$+ce,j+te,$+Te,j+te,$),Pf(ge),this},h.__private__.circle=h.circle=function(j,$,te,ce){if(isNaN(j)||isNaN($)||isNaN(te)||!es(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,$,te,te,ce)},h.setFont=function(j,$,te){return te&&($=P($,te)),rt=Nm(j,$,{disableWarning:!1}),this};var T1=h.__private__.getFont=h.getFont=function(){return nt[Nm.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var j,$,te={};for(j in _t)if(_t.hasOwnProperty(j))for($ in te[j]=[],_t[j])_t[j].hasOwnProperty($)&&te[j].push($);return te},h.addFont=function(j,$,te,ce,ge){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(te=P(te,ce)),_m.call(this,j,$,te,ge=ge||"Identity-H")};var $l,Tf=t.lineWidth||.200025,jt=h.__private__.getLineWidth=h.getLineWidth=function(){return Tf},C1=h.__private__.setLineWidth=h.setLineWidth=function(j){return Tf=j,J(C(B(j))+" w"),this};h.__private__.setLineDash=lt.API.setLineDash=lt.API.setLineDashPattern=function(j,$){if(j=j||[],$=$||0,isNaN($)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(te){return C(B(te))}).join(" "),$=C(B($)),J("["+j+"] "+$+" d"),this};var L1=h.__private__.getLineHeight=h.getLineHeight=function(){return we*$l};h.__private__.getLineHeight=h.getLineHeight=function(){return we*$l};var I1=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&($l=j),this},$1=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return $l};I1(t.lineHeight);var Ps=h.__private__.getHorizontalCoordinate=function(j){return B(j)},Es=h.__private__.getVerticalCoordinate=function(j){return A===_?j:St[z].mediaBox.topRightY-St[z].mediaBox.bottomLeftY-B(j)},R1=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(j){return C(Ps(j))},M1=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(j){return C(Es(j))},cu=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Za(cu)},h.__private__.setStrokeColor=h.setDrawColor=function(j,$,te,ce){return cu=ja({ch1:j,ch2:$,ch3:te,ch4:ce,pdfColorType:"draw",precision:2}),J(cu),this};var Cf=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Za(Cf)},h.__private__.setFillColor=h.setFillColor=function(j,$,te,ce){return Cf=ja({ch1:j,ch2:$,ch3:te,ch4:ce,pdfColorType:"fill",precision:2}),J(Cf),this};var Rl=t.textColor||"0 g",uu=h.__private__.getTextColor=h.getTextColor=function(){return Za(Rl)};h.__private__.setTextColor=h.setTextColor=function(j,$,te,ce){return Rl=ja({ch1:j,ch2:$,ch3:te,ch4:ce,pdfColorType:"text",precision:3}),this};var du=t.charSpace,D1=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(du||0)};h.__private__.setCharSpace=h.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return du=j,this};var Lf=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(j){var $=h.CapJoinStyles[j];if($===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lf=$,J($+" J"),this};var If=0;h.__private__.setLineJoin=h.setLineJoin=function(j){var $=h.CapJoinStyles[j];if($===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return If=$,J($+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(C(B(j))+" M"),this},h.GState=ry,h.setGState=function(j){(j=typeof j=="string"?Et[Ur[j]]:Ml(null,j)).equals(ln)||(J("/"+j.id+" gs"),ln=j)};var Ml=function(j,$){if(!j||!Ur[j]){var te=!1;for(var ce in Et)if(Et.hasOwnProperty(ce)&&Et[ce].equals($)){te=!0;break}if(te)$=Et[ce];else{var ge="GS"+(Object.keys(Et).length+1).toString(10);Et[ge]=$,$.id=ge}return j&&(Ur[j]=$.id),Zt.publish("addGState",$),$}};h.addGState=function(j,$){return Ml(j,$),this},h.saveGraphicsState=function(){return J("q"),Yt.push({key:rt,size:we,color:Rl}),this},h.restoreGraphicsState=function(){J("Q");var j=Yt.pop();return rt=j.key,we=j.size,Rl=j.color,ln=null,this},h.setCurrentTransformationMatrix=function(j){return J(j.toString()+" cm"),this},h.comment=function(j){return J("#"+j),this};var Dl=function(j,$){var te=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Ne){isNaN(Ne)||(te=parseFloat(Ne))}});var ce=$||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Ne){isNaN(Ne)||(ce=parseFloat(Ne))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Ne){ge=Ne.toString()}}),this},$f=function(j,$,te,ce){Dl.call(this,j,$),this.type="rect";var ge=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(Te){isNaN(Te)||(ge=parseFloat(Te))}});var Ne=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(Te){isNaN(Te)||(Ne=parseFloat(Te))}}),this},fu=function(){this.page=lr,this.currentPage=z,this.pages=xe.slice(0),this.pagesContext=St.slice(0),this.x=Ve,this.y=Bt,this.matrix=Rt,this.width=Tm(z),this.height=Ts(z),this.outputDestination=Ce,this.id="",this.objectNumber=-1};fu.prototype.restore=function(){lr=this.page,z=this.currentPage,St=this.pagesContext,xe=this.pages,Ve=this.x,Bt=this.y,Rt=this.matrix,Cm(z,this.width),Cs(z,this.height),Ce=this.outputDestination};var Rf=function(j,$,te,ce,ge){Ja.push(new fu),lr=z=0,xe=[],Ve=j,Bt=$,Rt=ge,Nf([te,ce])};for(var Bl in h.beginFormObject=function(j,$,te,ce,ge){return Rf(j,$,te,ce,ge),this},h.endFormObject=function(j){return function($){if(As[$])Ja.pop().restore();else{var te=new fu,ce="Xo"+(Object.keys(Bn).length+1).toString(10);te.id=ce,As[$]=ce,Bn[ce]=te,Zt.publish("addFormObject",te),Ja.pop().restore()}}(j),this},h.doFormObject=function(j,$){var te=Bn[As[j]];return J("q"),J($.toString()+" cm"),J("/"+te.id+" Do"),J("Q"),this},h.getFormObject=function(j){var $=Bn[As[j]];return{x:$.x,y:$.y,width:$.width,height:$.height,matrix:$.matrix}},h.save=function(j,$){return j=j||"generated.pdf",($=$||{}).returnPromise=$.returnPromise||!1,$.returnPromise===!1?(cc(Cl(Os()),j),typeof cc.unload=="function"&&yt.setTimeout&&setTimeout(cc.unload,911),this):new Promise(function(te,ce){try{var ge=cc(Cl(Os()),j);typeof cc.unload=="function"&&yt.setTimeout&&setTimeout(cc.unload,911),te(ge)}catch(Ne){ce(Ne.message)}})},lt.API)lt.API.hasOwnProperty(Bl)&&(Bl==="events"&&lt.API.events.length?function(j,$){var te,ce,ge;for(ge=$.length-1;ge!==-1;ge--)te=$[ge][0],ce=$[ge][1],j.subscribe.apply(j,[te].concat(typeof ce=="function"?[ce]:ce))}(Zt,lt.API.events):h[Bl]=lt.API[Bl]);function Tm(j){return St[j].mediaBox.topRightX-St[j].mediaBox.bottomLeftX}function Cm(j,$){St[j].mediaBox.topRightX=$+St[j].mediaBox.bottomLeftX}function Ts(j){return St[j].mediaBox.topRightY-St[j].mediaBox.bottomLeftY}function Cs(j,$){St[j].mediaBox.topRightY=$+St[j].mediaBox.bottomLeftY}var Lm=h.getPageWidth=function(j){return Tm(j=j||z)/ht},Im=h.setPageWidth=function(j,$){Cm(j,$*ht)},Fl=h.getPageHeight=function(j){return Ts(j=j||z)/ht},$m=h.setPageHeight=function(j,$){Cs(j,$*ht)};return h.internal={pdfEscape:Qi,getStyle:Pm,getFont:T1,getFontSize:Ae,getCharSpace:D1,getTextColor:uu,getLineHeight:L1,getLineHeightFactor:$1,getLineWidth:jt,write:Fe,getHorizontalCoordinate:Ps,getVerticalCoordinate:Es,getCoordinateString:R1,getVerticalCoordinateString:M1,collections:{},newObject:Ir,newAdditionalObject:Pl,newObjectDeferred:_n,newObjectDeferredBegin:Pn,getFilters:Aa,putStream:Zi,events:Zt,scaleFactor:ht,pageSize:{getWidth:function(){return Lm(z)},setWidth:function(j){Im(z,j)},getHeight:function(){return Fl(z)},setHeight:function(j){$m(z,j)}},encryptionOptions:u,encryption:zr,getEncryptor:function(j){return u!==null?zr.encryptor(j,0):function($){return $}},output:Na,getNumberOfPages:Am,pages:xe,out:J,f2:O,f3:I,getPageInfo:Of,getPageInfoByObjId:A1,getCurrentPageInfo:N1,getPDFVersion:g,Point:Dl,Rectangle:$f,Matrix:pt,hasHotfix:Ll},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Lm(z)},set:function(j){Im(z,j)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Fl(z)},set:function(j){$m(z,j)},enumerable:!0,configurable:!0}),(function(j){for(var $=0,te=Ie.length;$<te;$++){var ce=_m.call(this,j[$][0],j[$][1],j[$][2],Ie[$][3],!0);f===!1&&(p[ce]=!0);var ge=j[$][0].split("-");wm({id:ce,fontName:ge[0],fontStyle:ge[1]||""})}Zt.publish("addFonts",{fonts:nt,dictionary:_t})}).call(h,Ie),rt="F1",Sm(i,r),Zt.publish("initialized"),h}Iu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Iu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Iu.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Iu.prototype.processOwnerPassword=function(t,e){return C5(T5(e).substr(0,5),t)},Iu.prototype.encryptor=function(t,e){var r=T5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return C5(r,n)}},ry.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||nr(t)!==nr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},lt.API={events:[]},lt.version="3.0.3";var Dr=lt.API,nj=1,iu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kt=function(t){return t.toFixed(2)},qo=function(t){return t.toFixed(5)};Dr.__acroform__={};var _i=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},XP=function(t){return t*nj},os=function(t){var e=new AR,r=Je.internal.getHeight(t)||0,n=Je.internal.getWidth(t)||0;return e.BBox=[0,0,Number(kt(n)),Number(kt(r))],e},_ye=Dr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Sye=Dr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},jye=Dr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Kr=Dr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return jye(t,e-1)},Yr=Dr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _ye(t,e-1)},Xr=Dr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Sye(t,e-1)},Aye=Dr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(kt(l.lowerLeft_X)),Number(kt(l.lowerLeft_Y)),Number(kt(l.upperRight_X)),Number(kt(l.upperRight_Y))]},Nye=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=L5(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+kt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=os(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},L5=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var a=r,s=Je.internal.getHeight(t)||0;s=s<0?-s:s;var o=Je.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(O,I,B){if(O+1<i.length){var F=I+" "+i[O+1][0];return Yg(F,t,B).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var c,u,f=Yg("3",t,a).height,p=t.multiline?s-a:(s-f)/2,h=p+=2,v=0,g=0,x=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Yg(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var y="",w=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var A=!1;if(i[_].length!==1&&x!==i[_].length-1){if((f+2)*(w+2)+2>s)continue e;y+=i[_][x],A=!0,g=_,_--}else{y=(y+=i[_][x]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var S=parseInt(_),k=l(S,y,a),P=_>=i.length-1;if(k&&!P){y+=" ",x=0;continue}if(k||P){if(P)g=S;else if(t.multiline&&(f+2)*(w+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(w+2)+2>s)continue e;g=S}}for(var C="",L=v;L<=g;L++){var D=i[L];if(t.multiline){if(L===g){C+=D[x]+" ",x=(x+1)%D.length;continue}if(L===v){C+=D[D.length-1]+" ";continue}}C+=D[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,u=Yg(C,t,a).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=kt(c)+" "+kt(h)+` Td
`,e+="("+iu(C)+`) Tj
`,e+=-kt(c)+` 0 Td
`,h=-(a+2),u=0,v=A?g:g+1,w++,y=""}break}return n.text=e,n.fontSize=a,n},Yg=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},kye={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Oye=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Pye=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ya.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(kye)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");nj=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new NR,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&Oye(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=Aye(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Je.createDefaultAppearanceStream(o),nr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=Nye(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var v=h[s];typeof v=="function"&&(v=v.call(i,o)),f+="/"+s+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(i,o)),f+="/"+s+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(g,x){for(var y in g)if(g.hasOwnProperty(y)){var w=y,_=g[y];x.internal.newObjectDeferredBegin(_.objId,!0),nr(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete g[w]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},jR=Dr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),nr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+iu(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ex=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+iu(n(t))+")"},ds=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ds.prototype.toString=function(){return this.objId+" 0 R"},ds.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ds.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:jR(i,this.objId,this.scope)}):i instanceof ds?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var AR=function(){ds.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};_i(AR,ds);var NR=function(){ds.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+iu(r(t))+")"}},set:function(r){t=r}})};_i(NR,ds);var Ya=function t(){ds.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Kr(e,3)},set:function(y){y?this.F=Yr(e,3):this.F=Xr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof ny)return;a="FieldObject"+t.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+iu(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/nj:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof ny||this instanceof Oc))return Ex(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof An==0?Ex(p,this.objId,this.scope):p},set:function(y){y=y.toString(),p=this instanceof An==0?y.substr(0,1)==="("?Pu(y.substr(1,y.length-2)):Pu(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof An==1?Pu(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof An==1?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof An==0?Ex(h,this.objId,this.scope):h},set:function(y){y=y.toString(),h=this instanceof An==0?y.substr(0,1)==="("?Pu(y.substr(1,y.length-2)):Pu(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof An==1?Pu(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof An==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){y=!!y,g=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,1)},set:function(y){y?this.Ff=Yr(this.Ff,1):this.Ff=Xr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,2)},set:function(y){y?this.Ff=Yr(this.Ff,2):this.Ff=Xr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,3)},set:function(y){y?this.Ff=Yr(this.Ff,3):this.Ff=Xr(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');x=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(x){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};_i(Ya,ds);var dd=function(){Ya.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jR(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,18)},set:function(r){r?this.Ff=Yr(this.Ff,18):this.Ff=Xr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Yr(this.Ff,19):this.Ff=Xr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,20)},set:function(r){r?(this.Ff=Yr(this.Ff,20),e.sort()):this.Ff=Xr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,22)},set:function(r){r?this.Ff=Yr(this.Ff,22):this.Ff=Xr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,23)},set:function(r){r?this.Ff=Yr(this.Ff,23):this.Ff=Xr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,27)},set:function(r){r?this.Ff=Yr(this.Ff,27):this.Ff=Xr(this.Ff,27)}}),this.hasAppearanceStream=!1};_i(dd,Ya);var fd=function(){dd.call(this),this.fontName="helvetica",this.combo=!1};_i(fd,dd);var hd=function(){fd.call(this),this.combo=!0};_i(hd,fd);var h0=function(){hd.call(this),this.edit=!0};_i(h0,hd);var An=function(){Ya.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,15)},set:function(r){r?this.Ff=Yr(this.Ff,15):this.Ff=Xr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,16)},set:function(r){r?this.Ff=Yr(this.Ff,16):this.Ff=Xr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,17)},set:function(r){r?this.Ff=Yr(this.Ff,17):this.Ff=Xr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,26)},set:function(r){r?this.Ff=Yr(this.Ff,26):this.Ff=Xr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+iu(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){nr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};_i(An,Ya);var p0=function(){An.call(this),this.pushButton=!0};_i(p0,An);var pd=function(){An.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};_i(pd,An);var ny=function(){var t,e;Ya.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+iu(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){nr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Je.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_i(ny,Ya),pd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},pd.prototype.createOption=function(t){var e=new ny;return e.Parent=this,e.optionName=t,this.Kids.push(e),Eye.call(this.scope,e),e};var m0=function(){An.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Je.CheckBox.createAppearanceStream()};_i(m0,An);var Oc=function(){Ya.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,13)},set:function(e){e?this.Ff=Yr(this.Ff,13):this.Ff=Xr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,21)},set:function(e){e?this.Ff=Yr(this.Ff,21):this.Ff=Xr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,23)},set:function(e){e?this.Ff=Yr(this.Ff,23):this.Ff=Xr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,24)},set:function(e){e?this.Ff=Yr(this.Ff,24):this.Ff=Xr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,25)},set:function(e){e?this.Ff=Yr(this.Ff,25):this.Ff=Xr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,26)},set:function(e){e?this.Ff=Yr(this.Ff,26):this.Ff=Xr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_i(Oc,Ya);var g0=function(){Oc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,14)},set:function(t){t?this.Ff=Yr(this.Ff,14):this.Ff=Xr(this.Ff,14)}}),this.password=!0};_i(g0,Oc);var Je={CheckBox:{createAppearanceStream:function(){return{N:{On:Je.CheckBox.YesNormal},D:{On:Je.CheckBox.YesPushDown,Off:Je.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=os(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=L5(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+kt(Je.internal.getWidth(t))+" "+kt(Je.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+kt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=os(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=Je.internal.getHeight(t),s=Je.internal.getWidth(t),o=L5(t,t.caption);return i.push("1 g"),i.push("0 0 "+kt(s)+" "+kt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+kt(s-1)+" "+kt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+kt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=os(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+kt(Je.internal.getWidth(t))+" "+kt(Je.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Je.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Je.RadioButton.Circle.YesNormal,e.D[t]=Je.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=os(t);e.scope=t.scope;var r=[],n=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Je.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+qo(Je.internal.getWidth(t)/2)+" "+qo(Je.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=os(t);e.scope=t.scope;var r=[],n=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Je.internal.Bezier_C).toFixed(5)),s=Number((n*Je.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qo(Je.internal.getWidth(t)/2)+" "+qo(Je.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+qo(Je.internal.getWidth(t)/2)+" "+qo(Je.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=os(t);e.scope=t.scope;var r=[],n=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Je.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qo(Je.internal.getWidth(t)/2)+" "+qo(Je.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Je.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Je.RadioButton.Cross.YesNormal,e.D[t]=Je.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=os(t);e.scope=t.scope;var r=[],n=Je.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+kt(Je.internal.getWidth(t)-2)+" "+kt(Je.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(kt(n.x1.x)+" "+kt(n.x1.y)+" m"),r.push(kt(n.x2.x)+" "+kt(n.x2.y)+" l"),r.push(kt(n.x4.x)+" "+kt(n.x4.y)+" m"),r.push(kt(n.x3.x)+" "+kt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=os(t);e.scope=t.scope;var r=Je.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(Je.internal.getWidth(t))+" "+kt(Je.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+kt(Je.internal.getWidth(t)-2)+" "+kt(Je.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(kt(r.x1.x)+" "+kt(r.x1.y)+" m"),n.push(kt(r.x2.x)+" "+kt(r.x2.y)+" l"),n.push(kt(r.x4.x)+" "+kt(r.x4.y)+" m"),n.push(kt(r.x3.x)+" "+kt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=os(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+kt(Je.internal.getWidth(t))+" "+kt(Je.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Je.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Je.internal.getWidth(t),r=Je.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Je.internal.getWidth=function(t){var e=0;return nr(t)==="object"&&(e=XP(t.Rect[2])),e},Je.internal.getHeight=function(t){var e=0;return nr(t)==="object"&&(e=XP(t.Rect[3])),e};var Eye=Dr.addField=function(t){if(Pye(this,t),!(t instanceof Ya))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Dr.AcroFormChoiceField=dd,Dr.AcroFormListBox=fd,Dr.AcroFormComboBox=hd,Dr.AcroFormEditBox=h0,Dr.AcroFormButton=An,Dr.AcroFormPushButton=p0,Dr.AcroFormRadioButton=pd,Dr.AcroFormCheckBox=m0,Dr.AcroFormTextField=Oc,Dr.AcroFormPasswordField=g0,Dr.AcroFormAppearance=Je,Dr.AcroForm={ChoiceField:dd,ListBox:fd,ComboBox:hd,EditBox:h0,Button:An,PushButton:p0,RadioButton:pd,CheckBox:m0,TextField:Oc,PasswordField:g0,Appearance:Je},lt.AcroForm={ChoiceField:dd,ListBox:fd,ComboBox:hd,EditBox:h0,Button:An,PushButton:p0,RadioButton:pd,CheckBox:m0,TextField:Oc,PasswordField:g0,Appearance:Je};lt.AcroForm;function kR(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(O,I){var B,F,U,K,V,M=r;if((I=I||r)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(k(O))for(V in n)for(U=n[V],B=0;B<U.length;B+=1){for(K=!0,F=0;F<U[B].length;F+=1)if(U[B][F]!==void 0&&U[B][F]!==O[F]){K=!1;break}if(K===!0){M=V;break}}else for(V in n)for(U=n[V],B=0;B<U.length;B+=1){for(K=!0,F=0;F<U[B].length;F+=1)if(U[B][F]!==void 0&&U[B][F]!==O.charCodeAt(F)){K=!1;break}if(K===!0){M=V;break}}return M===r&&I!==r&&(M=I),M},a=function O(I){for(var B=this.internal.write,F=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:I.width}),K.push({key:"Height",value:I.height}),I.colorSpace===y.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===y.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var V="",M=0,Z=I.transparency.length;M<Z;M++)V+=I.transparency[M]+" "+I.transparency[M]+" ";K.push({key:"Mask",value:"["+V+"]"})}I.sMask!==void 0&&K.push({key:"SMask",value:I.objectId+1+" 0 R"});var ne=I.filter!==void 0?["/"+I.filter]:void 0;if(F({data:I.data,additionalKeyValues:K,alreadyAppliedFilters:ne,objectId:I.objectId}),B("endobj"),"sMask"in I&&I.sMask!==void 0){var ae,E=(ae=I.sMaskBitsPerComponent)!==null&&ae!==void 0?ae:I.bitsPerComponent,z={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:E,data:I.sMask};"filter"in I&&(z.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(E," /Columns ").concat(I.width),z.filter=I.filter),O.call(this,z)}if(I.colorSpace===y.INDEXED){var H=this.internal.newObject();F({data:C(new Uint8Array(I.palette)),objectId:H}),B("endobj")}},s=function(){var O=this.internal.collections[e+"images"];for(var I in O)a.call(this,O[I])},o=function(){var O,I=this.internal.collections[e+"images"],B=this.internal.write;for(var F in I)B("/I"+(O=I[F]).index,O.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var O=this.internal.collections[e+"images"];return l.call(this),O},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(O){return typeof t["process"+O.toUpperCase()]=="function"},p=function(O){return nr(O)==="object"&&O.nodeType===1},h=function(O,I){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var B=""+O.getAttribute("src");if(B.indexOf("data:image/")===0)return f0(unescape(B).split("base64,").pop());var F=t.loadFile(B,!0);if(F!==void 0)return F}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var U;switch(I){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;default:U="image/jpeg"}return f0(O.toDataURL(U,1).split("base64,").pop())}},v=function(O){var I=this.internal.collections[e+"images"];if(I){for(var B in I)if(O===I[B].alias)return I[B]}},g=function(O,I,B){return O||I||(O=-96,I=-96),O<0&&(O=-1*B.width*72/O/this.internal.scaleFactor),I<0&&(I=-1*B.height*72/I/this.internal.scaleFactor),O===0&&(O=I*B.width/B.height),I===0&&(I=O*B.height/B.width),[O,I]},x=function(O,I,B,F,U,K){var V=g.call(this,B,F,U),M=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,ne=c.call(this);if(B=V[0],F=V[1],ne[U.index]=U,K){K*=Math.PI/180;var ae=Math.cos(K),E=Math.sin(K),z=function(re){return re.toFixed(4)},H=[z(ae),z(E),z(-1*E),z(ae),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,M(O),Z(I+F),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([M(B),"0","0",M(F),"0","0","cm"].join(" "))):this.internal.write([M(B),"0","0",M(F),M(O),Z(I+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(O){var I,B,F=0;if(typeof O=="string")for(B=O.length,I=0;I<B;I++)F=(F<<5)-F+O.charCodeAt(I),F|=0;else if(k(O))for(B=O.byteLength/2,I=0;I<B;I++)F=(F<<5)-F+O[I],F|=0;return F},A=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var I=!0;return O.length===0&&(I=!1),O.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(I=!1),I},S=t.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var I=O.indexOf(",");return I<0?null:O.substring(0,I).trim().endsWith("base64")?O.substring(I+1):null};t.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var k=t.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},P=t.__addimage__.binaryStringToUint8Array=function(O){for(var I=O.length,B=new Uint8Array(I),F=0;F<I;F++)B[F]=O.charCodeAt(F);return B},C=t.__addimage__.arrayBufferToBinaryString=function(O){for(var I="",B=k(O)?O:new Uint8Array(O),F=0;F<B.length;F+=8192)I+=String.fromCharCode.apply(null,B.subarray(F,F+8192));return I};t.addImage=function(){var O,I,B,F,U,K,V,M,Z;if(typeof arguments[1]=="number"?(I=r,B=arguments[1],F=arguments[2],U=arguments[3],K=arguments[4],V=arguments[5],M=arguments[6],Z=arguments[7]):(I=arguments[1],B=arguments[2],F=arguments[3],U=arguments[4],K=arguments[5],V=arguments[6],M=arguments[7],Z=arguments[8]),nr(O=arguments[0])==="object"&&!p(O)&&"imageData"in O){var ne=O;O=ne.imageData,I=ne.format||I||r,B=ne.x||B||0,F=ne.y||F||0,U=ne.w||ne.width||U,K=ne.h||ne.height||K,V=ne.alias||V,M=ne.compression||M,Z=ne.rotation||ne.angle||Z}var ae=this.internal.getFilters();if(M===void 0&&ae.indexOf("FlateEncode")!==-1&&(M="SLOW"),isNaN(B)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var E=L.call(this,O,I,V,M);return x.call(this,B,F,U,K,E,Z),this};var L=function(O,I,B,F){var U,K,V;if(typeof O=="string"&&i(O)===r){O=unescape(O);var M=D(O,!1);(M!==""||(M=t.loadFile(O,!0))!==void 0)&&(O=M)}if(p(O)&&(O=h(O,I)),I=i(O,I),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((V=B)==null||V.length===0)&&(B=function(Z){return typeof Z=="string"||k(Z)?_(Z):k(Z.data)?_(Z.data):null}(O)),(U=v.call(this,B))||(O instanceof Uint8Array||I==="RGBA"||(K=O,O=P(O)),U=this["process"+I.toUpperCase()](O,u.call(this),B,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in t.image_compression?Z:w.NONE}(F),K)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},D=t.__addimage__.convertBase64ToBinaryString=function(O,I){I=typeof I!="boolean"||I;var B,F="";if(typeof O=="string"){var U;B=(U=S(O))!==null&&U!==void 0?U:O;try{F=f0(B)}catch(K){if(I)throw A(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};t.getImageProperties=function(O){var I,B,F="";if(p(O)&&(O=h(O)),typeof O=="string"&&i(O)===r&&((F=D(O,!1))===""&&(F=t.loadFile(O)||""),O=F),B=i(O),!f(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(O instanceof Uint8Array||(O=P(O)),!(I=this["process"+B.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=B,I}})(lt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};lt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(g.objId),w=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(y(n.contents))+")",a+=" /Popup "+x.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(y(w))+") >>",g.content=a;var _=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(a+=" /Open true"),a+=" >>",x.content=a,this.internal.write(g.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(v(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var k=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+k+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,i,a),i+=.2*c,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-c,o,s,a),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(lt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=t.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&i.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(g){var x=0,y=r,w="",_=0;for(x=0;x<g.length;x+=1)y[g.charCodeAt(x)]!==void 0?(_++,typeof(y=y[g.charCodeAt(x)])=="number"&&(w+=String.fromCharCode(y),y=r,_=0),x===g.length-1&&(y=r,w+=g.charAt(x-(_-1)),x-=_-1,_=0)):(y=r,w+=g.charAt(x-_),x-=_,_=0);return w};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(g,x,y){return s(g)?a(g)===!1?-1:!c(g)||!s(x)&&!s(y)||!s(y)&&o(x)||o(g)&&!s(x)||o(g)&&l(x)||o(g)&&o(x)?0:u(g)&&s(x)&&!o(x)&&s(y)&&c(y)?3:o(g)||!s(y)?1:2:-1},h=function(g){var x=0,y=0,w=0,_="",A="",S="",k=(g=g||"").split("\\s+"),P=[];for(x=0;x<k.length;x+=1){for(P.push(""),y=0;y<k[x].length;y+=1)_=k[x][y],A=k[x][y-1],S=k[x][y+1],s(_)?(w=p(_,A,S),P[x]+=w!==-1?String.fromCharCode(e[_.charCodeAt(0)][w]):_):P[x]+=_;P[x]=f(P[x])}return P.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var g,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(x)){var w=0;for(y=[],w=0;w<x.length;w+=1)Array.isArray(x[w])?y.push([h(x[w][0]),x[w][1],x[w][2]]):y.push([h(x[w])]);g=y}else g=h(x);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",v])}(lt.API),lt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(lt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,h=0,v=0,g=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,A){return _.concat(x.splitTextToSize(A,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)h<(g=this.getStringUnitWidth(l[w],{font:f})*u)&&(h=g);return h!==0&&(v=l.length),{w:h/=p,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var h,v,g,x,y=[],w=[],_=[],A={},S={},k=[],P=[],C=(p=p||{}).autoSize||!1,L=p.printHeaders!==!1,D=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,O=p.margins||Object.assign({width:this.getPageWidth()},e),I=typeof p.padding=="number"?p.padding:3,B=p.headerBackgroundColor||"#c8c8c8",F=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=F,this.setFontSize(D),f==null)w=y=Object.keys(u[0]),_=y.map(function(){return"left"});else if(Array.isArray(f)&&nr(f[0])==="object")for(y=f.map(function(ne){return ne.name}),w=f.map(function(ne){return ne.prompt||ne.name||""}),_=f.map(function(ne){return ne.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=y=f,_=y.map(function(){return"left"}));if(C||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<y.length;h+=1){for(A[x=y[h]]=u.map(function(ne){return ne[x]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=A[x],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)k.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[x]=Math.max.apply(null,k)+I+I,k=[]}if(L){var U={};for(h=0;h<y.length;h+=1)U[y[h]]={},U[y[h]].text=w[h],U[y[h]].align=_[h];var K=o.call(this,U,S);P=y.map(function(ne){return new a(l,c,S[ne],K,U[ne].text,void 0,U[ne].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var V=f.reduce(function(ne,ae){return ne[ae.name]=ae.align,ne},{});for(h=0;h<u.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:u[h]},this);var M=o.call(this,u[h],S);for(g=0;g<y.length;g+=1){var Z=u[h][y[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:Z},this),s.call(this,new a(l,c,S[y[g]],M,Z,h+2,V[y[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var v=l[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+u+u},this).reduce(function(h,v){return Math.max(h,v)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(lt.API);var OR={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},PR=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],I5=kR(PR),ER=[100,200,300,400,500,600,700,800,900],Tye=kR(ER);function Tx(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return OR[a=a||"normal"]?a:"normal"}(t.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof I5[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function JP(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var Cye={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ZP={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function QP(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function eE(t){return t.trimLeft()}function Lye(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Iye(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Xg,tE,rE,Eu,Jg,nE,iE,aE,Cx=["times"];function sE(t,e,r,n,i){var a=4,s=lE;switch(i){case lt.API.image_compression.FAST:a=1,s=oE;break;case lt.API.image_compression.MEDIUM:a=6,s=cE;break;case lt.API.image_compression.SLOW:a=9,s=uE}t=function(l,c,u,f){for(var p,h=l.length/c,v=new Uint8Array(l.length+h),g=[$ye,oE,lE,cE,uE],x=0;x<h;x+=1){var y=x*c,w=l.subarray(y,y+c);if(f)v.set(f(w,u,p),y+x);else{for(var _=g.length,A=[],S=0;S<_;S+=1)A[S]=g[S](w,u,p);var k=Mye(A.concat());v.set(A[k],y+x)}p=w}return v}(t,e,Math.ceil(r*n/8),s);var o=k5(t,{level:a});return lt.API.__addimage__.arrayBufferToBinaryString(o)}function $ye(t){var e=Array.apply([],t);return e.unshift(0),e}function oE(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function lE(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=t[a]-s+256&255}return i}function cE(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=t[a-e]||0,o=r&&r[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function uE(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=Rye(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function Rye(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function Mye(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Lx(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return TR(t,i)>>a&s}function dE(t,e,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(e&o)<<s;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var p=f>>8&255;c.setUint8(u,p)}})(t,a,TR(t,a)&~(o<<s)&65535|l)}function TR(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Dye(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var c=!0,u=[],f=0,p=null,h=0,v=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],1&g||(p=null),h=g>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,A=t[e++],S=A>>6&1,k=1<<1+(7&A),P=o,C=l,L=!1;A>>7&&(L=!0,P=e,C=k,e+=3*k);var D=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}u.push({x,y,width:w,height:_,has_local_palette:L,palette_offset:P,palette_size:C,data_offset:D,data_length:e-D,transparent_index:p,interlaced:!!S,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,B){var F=this.frameInfo(I),U=F.width*F.height,K=new Uint8Array(U);fE(t,F.data_offset,K,U);var V=F.palette_offset,M=F.transparent_index;M===null&&(M=256);var Z=F.width,ne=r-Z,ae=Z,E=4*(F.y*r+F.x),z=4*((F.y+F.height)*r+F.x),H=E,re=4*ne;F.interlaced===!0&&(re+=4*r*7);for(var se=8,ue=0,me=K.length;ue<me;++ue){var oe=K[ue];if(ae===0&&(ae=Z,(H+=re)>=z&&(re=4*ne+4*r*(se-1),H=E+(Z+ne)*(se<<1),se>>=1)),oe===M)H+=4;else{var pe=t[V+3*oe],xe=t[V+3*oe+1],he=t[V+3*oe+2];B[H++]=he,B[H++]=xe,B[H++]=pe,B[H++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(I,B){var F=this.frameInfo(I),U=F.width*F.height,K=new Uint8Array(U);fE(t,F.data_offset,K,U);var V=F.palette_offset,M=F.transparent_index;M===null&&(M=256);var Z=F.width,ne=r-Z,ae=Z,E=4*(F.y*r+F.x),z=4*((F.y+F.height)*r+F.x),H=E,re=4*ne;F.interlaced===!0&&(re+=4*r*7);for(var se=8,ue=0,me=K.length;ue<me;++ue){var oe=K[ue];if(ae===0&&(ae=Z,(H+=re)>=z&&(re=4*ne+4*r*(se-1),H=E+(Z+ne)*(se<<1),se>>=1)),oe===M)H+=4;else{var pe=t[V+3*oe],xe=t[V+3*oe+1],he=t[V+3*oe+2];B[H++]=pe,B[H++]=xe,B[H++]=he,B[H++]=255}--ae}}}function fE(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,f=0,p=0,h=t[e++],v=new Int32Array(4096),g=null;;){for(;u<16&&h!==0;)f|=t[e++]<<u,u+=8,h===1?h=t[e++]:--h;if(u<l)break;var x=f&c;if(f>>=l,u-=l,x!==a){if(x===s)break;for(var y=x<o?x:g,w=0,_=y;_>a;)_=v[_]>>8,++w;var A=_;if(p+w+(y!==x?1:0)>n)return void dr.log("Warning, gif stream longer than expected.");r[p++]=A;var S=p+=w;for(y!==x&&(r[p++]=A),_=y;w--;)_=v[_],r[--S]=255&_,_>>=8;g!==null&&o<4096&&(v[o++]=g<<8|A,o>=c+1&&l<12&&(++l,c=c<<1|1)),g=x}else o=s+1,c=(1<<(l=i+1))-1,g=null}return p!==n&&dr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ix(t){var e,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),v=new Array(64),g=[],x=0,y=7,w=new Array(64),_=new Array(64),A=new Array(64),S=new Array(256),k=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(E,z){for(var H=0,re=0,se=new Array,ue=1;ue<=16;ue++){for(var me=1;me<=E[ue];me++)se[z[re]]=[],se[z[re]][0]=H,se[z[re]][1]=ue,re++,H++;H*=2}return se}function V(E){for(var z=E[0],H=E[1]-1;H>=0;)z&1<<H&&(x|=1<<y),H--,--y<0&&(x==255?(M(255),M(0)):M(x),y=7,x=0)}function M(E){g.push(E)}function Z(E){M(E>>8&255),M(255&E)}function ne(E,z,H,re,se){for(var ue,me=se[0],oe=se[240],pe=function(we,Pe){var Ae,qe,De,Xe,ze,We,gt,dt,rt,ht,Ve=0;for(rt=0;rt<8;++rt){Ae=we[Ve],qe=we[Ve+1],De=we[Ve+2],Xe=we[Ve+3],ze=we[Ve+4],We=we[Ve+5],gt=we[Ve+6];var Bt=Ae+(dt=we[Ve+7]),Rt=Ae-dt,nt=qe+gt,_t=qe-gt,Yt=De+We,ut=De-We,Mt=Xe+ze,Et=Xe-ze,Ur=Bt+Mt,ln=Bt-Mt,lr=nt+Yt,St=nt-Yt;we[Ve]=Ur+lr,we[Ve+4]=Ur-lr;var Zt=.707106781*(St+ln);we[Ve+2]=ln+Zt,we[Ve+6]=ln-Zt;var Ol=.382683433*((Ur=Et+ut)-(St=_t+Rt)),Bn=.5411961*Ur+Ol,As=1.306562965*St+Ol,Ja=.707106781*(lr=ut+_t),pt=Rt+Ja,Ns=Rt-Ja;we[Ve+5]=Ns+Bn,we[Ve+3]=Ns-Bn,we[Ve+1]=pt+As,we[Ve+7]=pt-As,Ve+=8}for(Ve=0,rt=0;rt<8;++rt){Ae=we[Ve],qe=we[Ve+8],De=we[Ve+16],Xe=we[Ve+24],ze=we[Ve+32],We=we[Ve+40],gt=we[Ve+48];var ks=Ae+(dt=we[Ve+56]),Xi=Ae-dt,Ji=qe+gt,Ir=qe-gt,_n=De+We,Pn=De-We,Pl=Xe+ze,_o=Xe-ze,Sa=ks+Pl,Za=ks-Pl,ja=Ji+_n,Aa=Ji-_n;we[Ve]=Sa+ja,we[Ve+32]=Sa-ja;var Zi=.707106781*(Aa+Za);we[Ve+16]=Za+Zi,we[Ve+48]=Za-Zi;var El=.382683433*((Sa=_o+Pn)-(Aa=Ir+Xi)),Qa=.5411961*Sa+El,Tl=1.306562965*Aa+El,au=.707106781*(ja=Pn+Ir),su=Xi+au,ou=Xi-au;we[Ve+40]=ou+Qa,we[Ve+24]=ou-Qa,we[Ve+8]=su+Tl,we[Ve+56]=su-Tl,Ve++}for(rt=0;rt<64;++rt)ht=we[rt]*Pe[rt],h[rt]=ht>0?ht+.5|0:ht-.5|0;return h}(E,z),xe=0;xe<64;++xe)v[P[xe]]=pe[xe];var he=v[0]-H;H=v[0],he==0?V(re[0]):(V(re[p[ue=32767+he]]),V(f[ue]));for(var Ce=63;Ce>0&&v[Ce]==0;)Ce--;if(Ce==0)return V(me),H;for(var ie,J=1;J<=Ce;){for(var Fe=J;v[J]==0&&J<=Ce;)++J;var Oe=J-Fe;if(Oe>=16){ie=Oe>>4;for(var Ie=1;Ie<=ie;++Ie)V(oe);Oe&=15}ue=32767+v[J],V(se[(Oe<<4)+p[ue]]),V(f[ue]),J++}return Ce!=63&&V(me),H}function ae(E){E=Math.min(Math.max(E,1),100),a!=E&&(function(z){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var se=s((H[re]*z+50)/100);se=Math.min(Math.max(se,1),255),o[P[re]]=se}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var oe=s((ue[me]*z+50)/100);oe=Math.min(Math.max(oe,1),255),l[P[me]]=oe}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,he=0;he<8;he++)for(var Ce=0;Ce<8;Ce++)c[xe]=1/(o[P[xe]]*pe[he]*pe[Ce]*8),u[xe]=1/(l[P[xe]]*pe[he]*pe[Ce]*8),xe++}(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),a=E)}this.encode=function(E,z){z&&ae(z),g=new Array,x=0,y=7,Z(65496),Z(65504),Z(16),M(74),M(70),M(73),M(70),M(0),M(1),M(1),M(0),Z(1),Z(1),M(0),M(0),function(){Z(65499),Z(132),M(0);for(var qe=0;qe<64;qe++)M(o[qe]);M(1);for(var De=0;De<64;De++)M(l[De])}(),function(qe,De){Z(65472),Z(17),M(8),Z(De),Z(qe),M(3),M(1),M(17),M(0),M(2),M(17),M(1),M(3),M(17),M(1)}(E.width,E.height),function(){Z(65476),Z(418),M(0);for(var qe=0;qe<16;qe++)M(C[qe+1]);for(var De=0;De<=11;De++)M(L[De]);M(16);for(var Xe=0;Xe<16;Xe++)M(D[Xe+1]);for(var ze=0;ze<=161;ze++)M(O[ze]);M(1);for(var We=0;We<16;We++)M(I[We+1]);for(var gt=0;gt<=11;gt++)M(B[gt]);M(17);for(var dt=0;dt<16;dt++)M(F[dt+1]);for(var rt=0;rt<=161;rt++)M(U[rt])}(),Z(65498),Z(12),M(3),M(1),M(0),M(2),M(17),M(3),M(17),M(0),M(63),M(0);var H=0,re=0,se=0;x=0,y=7,this.encode.displayName="_encode_";for(var ue,me,oe,pe,xe,he,Ce,ie,J,Fe=E.data,Oe=E.width,Ie=E.height,we=4*Oe,Pe=0;Pe<Ie;){for(ue=0;ue<we;){for(xe=we*Pe+ue,Ce=-1,ie=0,J=0;J<64;J++)he=xe+(ie=J>>3)*we+(Ce=4*(7&J)),Pe+ie>=Ie&&(he-=we*(Pe+1+ie-Ie)),ue+Ce>=we&&(he-=ue+Ce-we+4),me=Fe[he++],oe=Fe[he++],pe=Fe[he++],w[J]=(k[me]+k[oe+256|0]+k[pe+512|0]>>16)-128,_[J]=(k[me+768|0]+k[oe+1024|0]+k[pe+1280|0]>>16)-128,A[J]=(k[me+1280|0]+k[oe+1536|0]+k[pe+1792|0]>>16)-128;H=ne(w,c,H,e,n),re=ne(_,u,re,r,i),se=ne(A,u,se,r,i),ue+=32}Pe+=8}if(y>=0){var Ae=[];Ae[1]=y+1,Ae[0]=(1<<y+1)-1,V(Ae)}return Z(65497),new Uint8Array(g)},t=t||50,function(){for(var E=String.fromCharCode,z=0;z<256;z++)S[z]=E(z)}(),e=K(C,L),r=K(I,B),n=K(D,O),i=K(F,U),function(){for(var E=1,z=2,H=1;H<=15;H++){for(var re=E;re<z;re++)p[32767+re]=H,f[32767+re]=[],f[32767+re][1]=H,f[32767+re][0]=re;for(var se=-(z-1);se<=-E;se++)p[32767+se]=H,f[32767+se]=[],f[32767+se][1]=H,f[32767+se][0]=z-1+se;E<<=1,z<<=1}}(),function(){for(var E=0;E<256;E++)k[E]=19595*E,k[E+256|0]=38470*E,k[E+512|0]=7471*E+32768,k[E+768|0]=-11059*E,k[E+1024|0]=-21709*E,k[E+1280|0]=32768*E+8421375,k[E+1536|0]=-27439*E,k[E+1792|0]=-5329*E}(),ae(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ca(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function hE(t){function e(L){if(!L)throw Error("assert :P")}function r(L,D,O){for(var I=0;4>I;I++)if(L[D+I]!=O.charCodeAt(I))return!0;return!1}function n(L,D,O,I,B){for(var F=0;F<B;F++)L[D+F]=O[I+F]}function i(L,D,O,I){for(var B=0;B<I;B++)L[D+B]=O}function a(L){return new Int32Array(L)}function s(L,D){for(var O=[],I=0;I<L;I++)O.push(new D);return O}function o(L,D){var O=[];return function I(B,F,U){for(var K=U[F],V=0;V<K&&(B.push(U.length>F+1?[]:new D),!(U.length<F+1));V++)I(B[V],F+1,U)}(O,0,L),O}var l=function(){var L=this;function D(m,b){for(var N=1<<b-1>>>0;m&N;)N>>>=1;return N?(m&N-1)+N:m}function O(m,b,N,T,R){e(!(T%N));do m[b+(T-=N)]=R;while(0<T)}function I(m,b,N,T,R){if(e(2328>=R),512>=R)var q=a(512);else if((q=a(R))==null)return 0;return function(W,G,Y,Q,de,be){var ee,fe,ve=G,_e=1<<Y,ye=a(16),je=a(16);for(e(de!=0),e(Q!=null),e(W!=null),e(0<Y),fe=0;fe<de;++fe){if(15<Q[fe])return 0;++ye[Q[fe]]}if(ye[0]==de)return 0;for(je[1]=0,ee=1;15>ee;++ee){if(ye[ee]>1<<ee)return 0;je[ee+1]=je[ee]+ye[ee]}for(fe=0;fe<de;++fe)ee=Q[fe],0<Q[fe]&&(be[je[ee]++]=fe);if(je[15]==1)return(Q=new B).g=0,Q.value=be[0],O(W,ve,1,_e,Q),_e;var ke,$e=-1,Ee=_e-1,ot=0,Ye=1,Ct=1,et=1<<Y;for(fe=0,ee=1,de=2;ee<=Y;++ee,de<<=1){if(Ye+=Ct<<=1,0>(Ct-=ye[ee]))return 0;for(;0<ye[ee];--ye[ee])(Q=new B).g=ee,Q.value=be[fe++],O(W,ve+ot,de,et,Q),ot=D(ot,ee)}for(ee=Y+1,de=2;15>=ee;++ee,de<<=1){if(Ye+=Ct<<=1,0>(Ct-=ye[ee]))return 0;for(;0<ye[ee];--ye[ee]){if(Q=new B,(ot&Ee)!=$e){for(ve+=et,ke=1<<($e=ee)-Y;15>$e&&!(0>=(ke-=ye[$e]));)++$e,ke<<=1;_e+=et=1<<(ke=$e-Y),W[G+($e=ot&Ee)].g=ke+Y,W[G+$e].value=ve-G-$e}Q.g=ee-Y,Q.value=be[fe++],O(W,ve+(ot>>Y),de,et,Q),ot=D(ot,ee)}}return Ye!=2*je[15]-1?0:_e}(m,b,N,T,R,q)}function B(){this.value=this.g=0}function F(){this.value=this.g=0}function U(){this.G=s(5,B),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Kl,F)}function K(m,b,N,T){e(m!=null),e(b!=null),e(2147483648>T),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=N,m.Jd=b,m.Yc=N+T,m.Zc=4<=T?N+T-4+1:N,me(m)}function V(m,b){for(var N=0;0<b--;)N|=pe(m,128)<<b;return N}function M(m,b){var N=V(m,b);return oe(m)?-N:N}function Z(m,b,N,T){var R,q=0;for(e(m!=null),e(b!=null),e(4294967288>T),m.Sb=T,m.Ra=0,m.u=0,m.h=0,4<T&&(T=4),R=0;R<T;++R)q+=b[N+R]<<8*R;m.Ra=q,m.bb=T,m.oa=b,m.pa=N}function ne(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<ko-8>>>0,++m.bb,m.u-=8;re(m)&&(m.h=1,m.u=0)}function ae(m,b){if(e(0<=b),!m.h&&b<=ji){var N=H(m)&Si[b];return m.u+=b,ne(m),N}return m.h=1,m.u=0}function E(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(m){return m.Ra>>>(m.u&ko-1)>>>0}function re(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>ko}function se(m,b){m.u=b,m.h=re(m)}function ue(m){m.u>=Is&&(e(m.u>=Is),ne(m))}function me(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function oe(m){return V(m,1)}function pe(m,b){var N=m.Ca;0>m.b&&me(m);var T=m.b,R=N*b>>>8,q=(m.I>>>T>R)+0;for(q?(N-=R,m.I-=R+1<<T>>>0):N=R+1,T=N,R=0;256<=T;)R+=8,T>>=8;return T=7^R+Oo[T],m.b-=T,m.Ca=(N<<T)-1,q}function xe(m,b,N){m[b+0]=N>>24&255,m[b+1]=N>>16&255,m[b+2]=N>>8&255,m[b+3]=255&N}function he(m,b){return m[b+0]|m[b+1]<<8}function Ce(m,b){return he(m,b)|m[b+2]<<16}function ie(m,b){return he(m,b)|he(m,b+2)<<16}function J(m,b){var N=1<<b;return e(m!=null),e(0<b),m.X=a(N),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function Fe(m,b){e(m!=null),e(b!=null),e(m.Xa==b.Xa),n(b.X,0,m.X,0,1<<b.Xa)}function Oe(){this.X=[],this.Xa=this.Mb=0}function Ie(m,b,N,T){e(N!=null),e(T!=null);var R=N[0],q=T[0];return R==0&&(R=(m*q+b/2)/b),q==0&&(q=(b*R+m/2)/m),0>=R||0>=q?0:(N[0]=R,T[0]=q,1)}function we(m,b){return m+(1<<b)-1>>>b}function Pe(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function Ae(m,b){L[b]=function(N,T,R,q,W,G,Y){var Q;for(Q=0;Q<W;++Q){var de=L[m](G[Y+Q-1],R,q+Q);G[Y+Q]=Pe(N[T+Q],de)}}}function qe(){this.ud=this.hd=this.jd=0}function De(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function Xe(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function ze(m,b){return Xe(m+(m-b+.5>>1))}function We(m,b,N){return Math.abs(b-N)-Math.abs(m-N)}function gt(m,b,N,T,R,q,W){for(T=q[W-1],N=0;N<R;++N)q[W+N]=T=Pe(m[b+N],T)}function dt(m,b,N,T,R){var q;for(q=0;q<N;++q){var W=m[b+q],G=W>>8&255,Y=16711935&(Y=(Y=16711935&W)+((G<<16)+G));T[R+q]=(4278255360&W)+Y>>>0}}function rt(m,b){b.jd=255&m,b.hd=m>>8&255,b.ud=m>>16&255}function ht(m,b,N,T,R,q){var W;for(W=0;W<T;++W){var G=b[N+W],Y=G>>>8,Q=G,de=255&(de=(de=G>>>16)+((m.jd<<24>>24)*(Y<<24>>24)>>>5));Q=255&(Q=(Q+=(m.hd<<24>>24)*(Y<<24>>24)>>>5)+((m.ud<<24>>24)*(de<<24>>24)>>>5)),R[q+W]=(4278255360&G)+(de<<16)+Q}}function Ve(m,b,N,T,R){L[b]=function(q,W,G,Y,Q,de,be,ee,fe){for(Y=be;Y<ee;++Y)for(be=0;be<fe;++be)Q[de++]=R(G[T(q[W++])])},L[m]=function(q,W,G,Y,Q,de,be){var ee=8>>q.b,fe=q.Ea,ve=q.K[0],_e=q.w;if(8>ee)for(q=(1<<q.b)-1,_e=(1<<ee)-1;W<G;++W){var ye,je=0;for(ye=0;ye<fe;++ye)ye&q||(je=T(Y[Q++])),de[be++]=R(ve[je&_e]),je>>=ee}else L["VP8LMapColor"+N](Y,Q,ve,_e,de,be,W,G,fe)}}function Bt(m,b,N,T,R){for(N=b+N;b<N;){var q=m[b++];T[R++]=q>>16&255,T[R++]=q>>8&255,T[R++]=255&q}}function Rt(m,b,N,T,R){for(N=b+N;b<N;){var q=m[b++];T[R++]=q>>16&255,T[R++]=q>>8&255,T[R++]=255&q,T[R++]=q>>24&255}}function nt(m,b,N,T,R){for(N=b+N;b<N;){var q=(W=m[b++])>>16&240|W>>12&15,W=240&W|W>>28&15;T[R++]=q,T[R++]=W}}function _t(m,b,N,T,R){for(N=b+N;b<N;){var q=(W=m[b++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;T[R++]=q,T[R++]=W}}function Yt(m,b,N,T,R){for(N=b+N;b<N;){var q=m[b++];T[R++]=255&q,T[R++]=q>>8&255,T[R++]=q>>16&255}}function ut(m,b,N,T,R,q){if(q==0)for(N=b+N;b<N;)xe(T,((q=m[b++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),R+=32;else n(T,R,m,b,N)}function Mt(m,b){L[b][0]=L[m+"0"],L[b][1]=L[m+"1"],L[b][2]=L[m+"2"],L[b][3]=L[m+"3"],L[b][4]=L[m+"4"],L[b][5]=L[m+"5"],L[b][6]=L[m+"6"],L[b][7]=L[m+"7"],L[b][8]=L[m+"8"],L[b][9]=L[m+"9"],L[b][10]=L[m+"10"],L[b][11]=L[m+"11"],L[b][12]=L[m+"12"],L[b][13]=L[m+"13"],L[b][14]=L[m+"0"],L[b][15]=L[m+"0"]}function Et(m){return m==U1||m==z1||m==Hm||m==q1}function Ur(){this.eb=[],this.size=this.A=this.fb=0}function ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function lr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ur,this.f.kb=new ln,this.sd=null}function St(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Zt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ol(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Bn(m,b){var N=m.T,T=b.ba.f.RGBA,R=T.eb,q=T.fb+m.ka*T.A,W=ia[b.ba.S],G=m.y,Y=m.O,Q=m.f,de=m.N,be=m.ea,ee=m.W,fe=b.cc,ve=b.dc,_e=b.Mc,ye=b.Nc,je=m.ka,ke=m.ka+m.T,$e=m.U,Ee=$e+1>>1;for(je==0?W(G,Y,null,null,Q,de,be,ee,Q,de,be,ee,R,q,null,null,$e):(W(b.ec,b.fc,G,Y,fe,ve,_e,ye,Q,de,be,ee,R,q-T.A,R,q,$e),++N);je+2<ke;je+=2)fe=Q,ve=de,_e=be,ye=ee,de+=m.Rc,ee+=m.Rc,q+=2*T.A,W(G,(Y+=2*m.fa)-m.fa,G,Y,fe,ve,_e,ye,Q,de,be,ee,R,q-T.A,R,q,$e);return Y+=m.fa,m.j+ke<m.o?(n(b.ec,b.fc,G,Y,$e),n(b.cc,b.dc,Q,de,Ee),n(b.Mc,b.Nc,be,ee,Ee),N--):1&ke||W(G,Y,null,null,Q,de,be,ee,Q,de,be,ee,R,q+T.A,null,null,$e),N}function As(m,b,N){var T=m.F,R=[m.J];if(T!=null){var q=m.U,W=b.ba.S,G=W==Wm||W==Hm;b=b.ba.f.RGBA;var Y=[0],Q=m.ka;Y[0]=m.T,m.Kb&&(Q==0?--Y[0]:(--Q,R[0]-=m.width),m.j+m.ka+m.T==m.o&&(Y[0]=m.o-m.j-Q));var de=b.eb;Q=b.fb+Q*b.A,m=dj(T,R[0],m.width,q,Y,de,Q+(G?0:3),b.A),e(N==Y),m&&Et(W)&&Gf(de,Q,G,q,Y,b.A)}return 0}function Ja(m){var b=m.ma,N=b.ba.S,T=11>N,R=N==zm||N==qm||N==Wm||N==F1||N==12||Et(N);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Bf(b.Oa,m,R?11:12))return 0;if(R&&Et(N)&&Rm(),m.da)alert("todo:use_scaling");else{if(T){if(b.Ib=Ol,m.Kb){if(N=m.U+1>>1,b.memory=a(m.U+2*N),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+N,b.Ib=Bn,Rm()}}else alert("todo:EmitYUV");R&&(b.Jb=As,T&&ea())}if(T&&!kj){for(m=0;256>m;++m)ZR[m]=89858*(m-128)+Gm>>Vm,t7[m]=-22014*(m-128)+Gm,e7[m]=-45773*(m-128),QR[m]=113618*(m-128)+Gm>>Vm;for(m=Yf;m<V1;++m)b=76283*(m-16)+Gm>>Vm,r7[m-Yf]=$r(b,255),n7[m-Yf]=$r(b+8>>4,15);kj=1}return 1}function pt(m){var b=m.ma,N=m.U,T=m.T;return e(!(1&m.ka)),0>=N||0>=T?0:(N=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,N),b.Dc+=N,1)}function Ns(m){m.ma.memory=null}function ks(m,b,N,T){return ae(m,8)!=47?0:(b[0]=ae(m,14)+1,N[0]=ae(m,14)+1,T[0]=ae(m,1),ae(m,3)!=0?0:!m.h)}function Xi(m,b){if(4>m)return m+1;var N=m-2>>1;return(2+(1&m)<<N)+ae(b,N)+1}function Ji(m,b){return 120<b?b-120:1<=(N=((N=DR[b-1])>>4)*m+(8-(15&N)))?N:1;var N}function Ir(m,b,N){var T=H(N),R=m[b+=255&T].g-8;return 0<R&&(se(N,N.u+8),T=H(N),b+=m[b].value,b+=T&(1<<R)-1),se(N,N.u+m[b].g),m[b].value}function _n(m,b,N){return N.g+=m.g,N.value+=m.value<<b>>>0,e(8>=N.g),m.g}function Pn(m,b,N){var T=m.xc;return e((b=T==0?0:m.vc[m.md*(N>>T)+(b>>T)])<m.Wb),m.Ya[b]}function Pl(m,b,N,T){var R=m.ab,q=m.c*b,W=m.C;b=W+b;var G=N,Y=T;for(T=m.Ta,N=m.Ua;0<R--;){var Q=m.gc[R],de=W,be=b,ee=G,fe=Y,ve=(Y=T,G=N,Q.Ea);switch(e(de<be),e(be<=Q.nc),Q.hc){case 2:qr(ee,fe,(be-de)*ve,Y,G);break;case 0:var _e=de,ye=be,je=Y,ke=G,$e=(et=Q).Ea;_e==0&&(Uf(ee,fe,null,null,1,je,ke),gt(ee,fe+1,0,0,$e-1,je,ke+1),fe+=$e,ke+=$e,++_e);for(var Ee=1<<et.b,ot=Ee-1,Ye=we($e,et.b),Ct=et.K,et=et.w+(_e>>et.b)*Ye;_e<ye;){var Ft=Ct,dn=et,Lt=1;for(mu(ee,fe,je,ke-$e,1,je,ke);Lt<$e;){var tt=(Lt&~ot)+Ee;tt>$e&&(tt=$e),(0,qf[Ft[dn++]>>8&15])(ee,fe+ +Lt,je,ke+Lt-$e,tt-Lt,je,ke+Lt),Lt=tt}fe+=$e,ke+=$e,++_e&ot||(et+=Ye)}be!=Q.nc&&n(Y,G-ve,Y,G+(be-de-1)*ve,ve);break;case 1:for(ve=ee,ye=fe,$e=(ee=Q.Ea)-(ke=ee&~(je=(fe=1<<Q.b)-1)),_e=we(ee,Q.b),Ee=Q.K,Q=Q.w+(de>>Q.b)*_e;de<be;){for(ot=Ee,Ye=Q,Ct=new qe,et=ye+ke,Ft=ye+ee;ye<et;)rt(ot[Ye++],Ct),Wf(Ct,ve,ye,fe,Y,G),ye+=fe,G+=fe;ye<Ft&&(rt(ot[Ye++],Ct),Wf(Ct,ve,ye,$e,Y,G),ye+=$e,G+=$e),++de&je||(Q+=_e)}break;case 3:if(ee==Y&&fe==G&&0<Q.b){for(ye=Y,ee=ve=G+(be-de)*ve-(ke=(be-de)*we(Q.Ea,Q.b)),fe=Y,je=G,_e=[],ke=($e=ke)-1;0<=ke;--ke)_e[ke]=fe[je+ke];for(ke=$e-1;0<=ke;--ke)ye[ee+ke]=_e[ke];Dm(Q,de,be,Y,ve,Y,G)}else Dm(Q,de,be,ee,fe,Y,G)}G=T,Y=N}Y!=N&&n(T,N,G,Y,q)}function _o(m,b){var N=m.V,T=m.Ba+m.c*m.C,R=b-m.C;if(e(b<=m.l.o),e(16>=R),0<R){var q=m.l,W=m.Ta,G=m.Ua,Y=q.width;if(Pl(m,R,N,T),R=G=[G],e((N=m.C)<(T=b)),e(q.v<q.va),T>q.o&&(T=q.o),N<q.j){var Q=q.j-N;N=q.j,R[0]+=Q*Y}if(N>=T?N=0:(R[0]+=4*q.v,q.ka=N-q.j,q.U=q.va-q.v,q.T=T-N,N=1),N){if(G=G[0],11>(N=m.ca).S){var de=N.f.RGBA,be=(T=N.S,R=q.U,q=q.T,Q=de.eb,de.A),ee=q;for(de=de.fb+m.Ma*de.A;0<ee--;){var fe=W,ve=G,_e=R,ye=Q,je=de;switch(T){case Um:Hf(fe,ve,_e,ye,je);break;case zm:Po(fe,ve,_e,ye,je);break;case U1:Po(fe,ve,_e,ye,je),Gf(ye,je,0,_e,1,0);break;case yj:Yl(fe,ve,_e,ye,je);break;case qm:ut(fe,ve,_e,ye,je,1);break;case z1:ut(fe,ve,_e,ye,je,1),Gf(ye,je,0,_e,1,0);break;case Wm:ut(fe,ve,_e,ye,je,0);break;case Hm:ut(fe,ve,_e,ye,je,0),Gf(ye,je,1,_e,1,0);break;case F1:Eo(fe,ve,_e,ye,je);break;case q1:Eo(fe,ve,_e,ye,je),uj(ye,je,_e,1,0);break;case bj:To(fe,ve,_e,ye,je);break;default:e(0)}G+=Y,de+=be}m.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=N.height)}}m.C=b,e(m.C<=m.i)}function Sa(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var N=m.Ya[b].G,T=m.Ya[b].H;if(0<N[1][T[1]+0].g||0<N[2][T[2]+0].g||0<N[3][T[3]+0].g)return 0}return 1}function Za(m,b,N,T,R,q){if(m.Z!=0){var W=m.qd,G=m.rd;for(e(Io[m.Z]!=null);b<N;++b)Io[m.Z](W,G,T,R,T,R,q),W=T,G=R,R+=q;m.qd=W,m.rd=G}}function ja(m,b){var N=m.l.ma,T=N.Z==0||N.Z==1?m.l.j:m.C;if(T=m.C<T?T:m.C,e(b<=m.l.o),b>T){var R=m.l.width,q=N.ca,W=N.tb+R*T,G=m.V,Y=m.Ba+m.c*T,Q=m.gc;e(m.ab==1),e(Q[0].hc==3),rs(Q[0],T,b,G,Y,q,W),Za(N,T,b,q,W,R)}m.C=m.Ma=b}function Aa(m,b,N,T,R,q,W){var G=m.$/T,Y=m.$%T,Q=m.m,de=m.s,be=N+m.$,ee=be;R=N+T*R;var fe=N+T*q,ve=280+de.ua,_e=m.Pb?G:16777216,ye=0<de.ua?de.Wa:null,je=de.wc,ke=be<fe?Pn(de,Y,G):null;e(m.C<q),e(fe<=R);var $e=!1;e:for(;;){for(;$e||be<fe;){var Ee=0;if(G>=_e){var ot=be-N;e((_e=m).Pb),_e.wd=_e.m,_e.xd=ot,0<_e.s.ua&&Fe(_e.s.Wa,_e.s.vb),_e=G+FR}if(Y&je||(ke=Pn(de,Y,G)),e(ke!=null),ke.Qb&&(b[be]=ke.qb,$e=!0),!$e)if(ue(Q),ke.jc){Ee=Q,ot=b;var Ye=be,Ct=ke.pd[H(Ee)&Kl-1];e(ke.jc),256>Ct.g?(se(Ee,Ee.u+Ct.g),ot[Ye]=Ct.value,Ee=0):(se(Ee,Ee.u+Ct.g-256),e(256<=Ct.value),Ee=Ct.value),Ee==0&&($e=!0)}else Ee=Ir(ke.G[0],ke.H[0],Q);if(Q.h)break;if($e||256>Ee){if(!$e)if(ke.nd)b[be]=(ke.qb|Ee<<8)>>>0;else{if(ue(Q),$e=Ir(ke.G[1],ke.H[1],Q),ue(Q),ot=Ir(ke.G[2],ke.H[2],Q),Ye=Ir(ke.G[3],ke.H[3],Q),Q.h)break;b[be]=(Ye<<24|$e<<16|Ee<<8|ot)>>>0}if($e=!1,++be,++Y>=T&&(Y=0,++G,W!=null&&G<=q&&!(G%16)&&W(m,G),ye!=null))for(;ee<be;)Ee=b[ee++],ye.X[(506832829*Ee&4294967295)>>>ye.Mb]=Ee}else if(280>Ee){if(Ee=Xi(Ee-256,Q),ot=Ir(ke.G[4],ke.H[4],Q),ue(Q),ot=Ji(T,ot=Xi(ot,Q)),Q.h)break;if(be-N<ot||R-be<Ee)break e;for(Ye=0;Ye<Ee;++Ye)b[be+Ye]=b[be+Ye-ot];for(be+=Ee,Y+=Ee;Y>=T;)Y-=T,++G,W!=null&&G<=q&&!(G%16)&&W(m,G);if(e(be<=R),Y&je&&(ke=Pn(de,Y,G)),ye!=null)for(;ee<be;)Ee=b[ee++],ye.X[(506832829*Ee&4294967295)>>>ye.Mb]=Ee}else{if(!(Ee<ve))break e;for($e=Ee-280,e(ye!=null);ee<be;)Ee=b[ee++],ye.X[(506832829*Ee&4294967295)>>>ye.Mb]=Ee;Ee=be,e(!($e>>>(ot=ye).Xa)),b[Ee]=ot.X[$e],$e=!0}$e||e(Q.h==re(Q))}if(m.Pb&&Q.h&&be<R)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Fe(m.s.vb,m.s.Wa);else{if(Q.h)break e;W!=null&&W(m,G>q?q:G),m.a=0,m.$=be-N}return 1}return m.a=3,0}function Zi(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,e(m!=null)}function El(){var m=new st;return m==null?null:(m.a=0,m.xb=_j,Mt("Predictor","VP8LPredictors"),Mt("Predictor","VP8LPredictors_C"),Mt("PredictorAdd","VP8LPredictorsAdd"),Mt("PredictorAdd","VP8LPredictorsAdd_C"),qr=dt,Wf=ht,Hf=Bt,Po=Rt,Eo=nt,To=_t,Yl=Yt,L.VP8LMapColor32b=ts,L.VP8LMapColor8b=zf,m)}function Qa(m,b,N,T,R){var q=1,W=[m],G=[b],Y=T.m,Q=T.s,de=null,be=0;e:for(;;){if(N)for(;q&&ae(Y,1);){var ee=W,fe=G,ve=T,_e=1,ye=ve.m,je=ve.gc[ve.ab],ke=ae(ye,2);if(ve.Oc&1<<ke)q=0;else{switch(ve.Oc|=1<<ke,je.hc=ke,je.Ea=ee[0],je.nc=fe[0],je.K=[null],++ve.ab,e(4>=ve.ab),ke){case 0:case 1:je.b=ae(ye,3)+2,_e=Qa(we(je.Ea,je.b),we(je.nc,je.b),0,ve,je.K),je.K=je.K[0];break;case 3:var $e,Ee=ae(ye,8)+1,ot=16<Ee?0:4<Ee?1:2<Ee?2:3;if(ee[0]=we(je.Ea,ot),je.b=ot,$e=_e=Qa(Ee,1,0,ve,je.K)){var Ye,Ct=Ee,et=je,Ft=1<<(8>>et.b),dn=a(Ft);if(dn==null)$e=0;else{var Lt=et.K[0],tt=et.w;for(dn[0]=et.K[0][0],Ye=1;Ye<1*Ct;++Ye)dn[Ye]=Pe(Lt[tt+Ye],dn[Ye-1]);for(;Ye<4*Ft;++Ye)dn[Ye]=0;et.K[0]=null,et.K[0]=dn,$e=1}}_e=$e;break;case 2:break;default:e(0)}q=_e}}if(W=W[0],G=G[0],q&&ae(Y,1)&&!(q=1<=(be=ae(Y,4))&&11>=be)){T.a=3;break e}var Ue;if(Ue=q)t:{var Hr,Tt,zt,xr=T,Tn=W,Qn=G,Rr=be,Un=N,ei=xr.m,fn=xr.s,qt=[null],tr=1,Mr=0,rr=BR[Rr];r:for(;;){if(Un&&ae(ei,1)){var Cn=ae(ei,3)+2,Oa=we(Tn,Cn),Vr=we(Qn,Cn),fi=Oa*Vr;if(!Qa(Oa,Vr,0,xr,qt))break r;for(qt=qt[0],fn.xc=Cn,Hr=0;Hr<fi;++Hr){var ur=qt[Hr]>>8&65535;qt[Hr]=ur,ur>=tr&&(tr=ur+1)}}if(ei.h)break r;for(Tt=0;5>Tt;++Tt){var hn=xj[Tt];!Tt&&0<Rr&&(hn+=1<<Rr),Mr<hn&&(Mr=hn)}var Ni=s(tr*rr,B),ti=tr,ki=s(ti,U);if(ki==null)var Oi=null;else e(65536>=ti),Oi=ki;var hi=a(Mr);if(Oi==null||hi==null||Ni==null){xr.a=1;break r}var Pi=Ni;for(Hr=zt=0;Hr<tr;++Hr){var pr=Oi[Hr],Ei=pr.G,Pa=pr.H,Jl=0,Ms=1,Ln=0;for(Tt=0;5>Tt;++Tt){hn=xj[Tt],Ei[Tt]=Pi,Pa[Tt]=zt,!Tt&&0<Rr&&(hn+=1<<Rr);i:{var Ym,G1=hn,Xm=xr,Xf=hi,s7=Pi,o7=zt,K1=0,$o=Xm.m,l7=ae($o,1);if(i(Xf,0,0,G1),l7){var c7=ae($o,1)+1,u7=ae($o,1),Ej=ae($o,u7==0?1:8);Xf[Ej]=1,c7==2&&(Xf[Ej=ae($o,8)]=1);var Jm=1}else{var Tj=a(19),Cj=ae($o,4)+4;if(19<Cj){Xm.a=3;var Zm=0;break i}for(Ym=0;Ym<Cj;++Ym)Tj[MR[Ym]]=ae($o,3);var Y1=void 0,Jf=void 0,Lj=Xm,d7=Tj,Qm=G1,Ij=Xf,X1=0,Ro=Lj.m,$j=8,Rj=s(128,B);n:for(;I(Rj,0,7,d7,19);){if(ae(Ro,1)){var f7=2+2*ae(Ro,3);if((Y1=2+ae(Ro,f7))>Qm)break n}else Y1=Qm;for(Jf=0;Jf<Qm&&Y1--;){ue(Ro);var Mj=Rj[0+(127&H(Ro))];se(Ro,Ro.u+Mj.g);var vu=Mj.value;if(16>vu)Ij[Jf++]=vu,vu!=0&&($j=vu);else{var h7=vu==16,Dj=vu-16,p7=$R[Dj],Bj=ae(Ro,IR[Dj])+p7;if(Jf+Bj>Qm)break n;for(var m7=h7?$j:0;0<Bj--;)Ij[Jf++]=m7}}X1=1;break n}X1||(Lj.a=3),Jm=X1}(Jm=Jm&&!$o.h)&&(K1=I(s7,o7,8,Xf,G1)),Jm&&K1!=0?Zm=K1:(Xm.a=3,Zm=0)}if(Zm==0)break r;if(Ms&&RR[Tt]==1&&(Ms=Pi[zt].g==0),Jl+=Pi[zt].g,zt+=Zm,3>=Tt){var Zf,J1=hi[0];for(Zf=1;Zf<hn;++Zf)hi[Zf]>J1&&(J1=hi[Zf]);Ln+=J1}}if(pr.nd=Ms,pr.Qb=0,Ms&&(pr.qb=(Ei[3][Pa[3]+0].value<<24|Ei[1][Pa[1]+0].value<<16|Ei[2][Pa[2]+0].value)>>>0,Jl==0&&256>Ei[0][Pa[0]+0].value&&(pr.Qb=1,pr.qb+=Ei[0][Pa[0]+0].value<<8)),pr.jc=!pr.Qb&&6>Ln,pr.jc){var eg,Ds=pr;for(eg=0;eg<Kl;++eg){var Mo=eg,Do=Ds.pd[Mo],tg=Ds.G[0][Ds.H[0]+Mo];256<=tg.value?(Do.g=tg.g+256,Do.value=tg.value):(Do.g=0,Do.value=0,Mo>>=_n(tg,8,Do),Mo>>=_n(Ds.G[1][Ds.H[1]+Mo],16,Do),Mo>>=_n(Ds.G[2][Ds.H[2]+Mo],0,Do),_n(Ds.G[3][Ds.H[3]+Mo],24,Do))}}}fn.vc=qt,fn.Wb=tr,fn.Ya=Oi,fn.yc=Ni,Ue=1;break t}Ue=0}if(!(q=Ue)){T.a=3;break e}if(0<be){if(Q.ua=1<<be,!J(Q.Wa,be)){T.a=1,q=0;break e}}else Q.ua=0;var Z1=T,Fj=W,g7=G,Q1=Z1.s,eb=Q1.xc;if(Z1.c=Fj,Z1.i=g7,Q1.md=we(Fj,eb),Q1.wc=eb==0?-1:(1<<eb)-1,N){T.xb=GR;break e}if((de=a(W*G))==null){T.a=1,q=0;break e}q=(q=Aa(T,de,0,W,G,G,null))&&!Y.h;break e}return q?(R!=null?R[0]=de:(e(de==null),e(N)),T.$=0,N||Zi(Q)):Zi(Q),q}function Tl(m,b){var N=m.c*m.i,T=N+b+16*b;return e(m.c<=b),m.V=a(T),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+N+b,1)}function au(m,b){var N=m.C,T=b-N,R=m.V,q=m.Ba+m.c*N;for(e(b<=m.l.o);0<T;){var W=16<T?16:T,G=m.l.ma,Y=m.l.width,Q=Y*W,de=G.ca,be=G.tb+Y*N,ee=m.Ta,fe=m.Ua;Pl(m,W,R,q),fj(ee,fe,de,be,Q),Za(G,N,N+W,de,be,Y),T-=W,R+=W*m.c,N+=W}e(N==b),m.C=m.Ma=b}function su(){this.ub=this.yd=this.td=this.Rb=0}function ou(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function S1(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Af(){this.Yb=function(){var m=[];return function b(N,T,R){for(var q=R[T],W=0;W<q&&(N.push(R.length>T+1?[]:0),!(R.length<T+1));W++)b(N[W],T+1,R)}(m,0,[3,11]),m}()}function wm(){this.jb=a(3),this.Wc=o([4,8],Af),this.Xc=o([4,17],Af)}function _m(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Qi(){this.ld=this.La=this.dd=this.tc=0}function Nf(){this.Na=this.la=0}function Sm(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function kf(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function jm(){this.uc=this.M=this.Nb=0,this.wa=Array(new Qi),this.Y=0,this.ya=Array(new kf),this.aa=0,this.l=new lu}function Am(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Nm(){this.cb=this.a=0,this.sc="",this.m=new E,this.Od=new su,this.Kc=new ou,this.ed=new _m,this.Qa=new S1,this.Ic=this.$c=this.Aa=0,this.D=new jm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,E),this.ia=0,this.pb=s(4,Sm),this.Pa=new wm,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Am),this.Hd=0,this.rb=Array(new Nf),this.sb=0,this.wa=Array(new Qi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new kf),this.L=this.aa=0,this.gd=o([4,2],Qi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function lu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function j1(){var m=new Nm;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Kf||(Kf=Os)),m}function Zr(m,b,N){return m.a==0&&(m.a=b,m.sc=N,m.cb=0),0}function km(m,b,N){return 3<=N&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function Om(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return Zr(m,2,"null VP8Io passed to VP8GetHeaders()");var N=b.data,T=b.w,R=b.ha;if(4>R)return Zr(m,7,"Truncated header.");var q=N[T+0]|N[T+1]<<8|N[T+2]<<16,W=m.Od;if(W.Rb=!(1&q),W.td=q>>1&7,W.yd=q>>4&1,W.ub=q>>5,3<W.td)return Zr(m,3,"Incorrect keyframe parameters.");if(!W.yd)return Zr(m,4,"Frame not displayable.");T+=3,R-=3;var G=m.Kc;if(W.Rb){if(7>R)return Zr(m,7,"cannot parse picture header");if(!km(N,T,R))return Zr(m,3,"Bad code word");G.c=16383&(N[T+4]<<8|N[T+3]),G.Td=N[T+4]>>6,G.i=16383&(N[T+6]<<8|N[T+5]),G.Ud=N[T+6]>>6,T+=7,R-=7,m.za=G.c+15>>4,m.Ub=G.i+15>>4,b.width=G.c,b.height=G.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,i((q=m.Pa).jb,0,255,q.jb.length),e((q=m.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,i(q.Zb,0,0,q.Zb.length),i(q.Lb,0,0,q.Lb)}if(W.ub>R)return Zr(m,7,"bad partition length");K(q=m.m,N,T,W.ub),T+=W.ub,R-=W.ub,W.Rb&&(G.Ld=oe(q),G.Kd=oe(q)),G=m.Qa;var Y,Q=m.Pa;if(e(q!=null),e(G!=null),G.Cb=oe(q),G.Cb){if(G.Bb=oe(q),oe(q)){for(G.Fb=oe(q),Y=0;4>Y;++Y)G.Zb[Y]=oe(q)?M(q,7):0;for(Y=0;4>Y;++Y)G.Lb[Y]=oe(q)?M(q,6):0}if(G.Bb)for(Y=0;3>Y;++Y)Q.jb[Y]=oe(q)?V(q,8):255}else G.Bb=0;if(q.Ka)return Zr(m,3,"cannot parse segment header");if((G=m.ed).zd=oe(q),G.Tb=V(q,6),G.wb=V(q,3),G.Pc=oe(q),G.Pc&&oe(q)){for(Q=0;4>Q;++Q)oe(q)&&(G.vd[Q]=M(q,6));for(Q=0;4>Q;++Q)oe(q)&&(G.od[Q]=M(q,6))}if(m.L=G.Tb==0?0:G.zd?1:2,q.Ka)return Zr(m,3,"cannot parse filter header");var de=R;if(R=Y=T,T=Y+de,G=de,m.Xb=(1<<V(m.m,2))-1,de<3*(Q=m.Xb))N=7;else{for(Y+=3*Q,G-=3*Q,de=0;de<Q;++de){var be=N[R+0]|N[R+1]<<8|N[R+2]<<16;be>G&&(be=G),K(m.Jc[+de],N,Y,be),Y+=be,G-=be,R+=3}K(m.Jc[+Q],N,Y,G),N=Y<T?0:5}if(N!=0)return Zr(m,N,"cannot parse partitions");for(N=V(Y=m.m,7),R=oe(Y)?M(Y,4):0,T=oe(Y)?M(Y,4):0,G=oe(Y)?M(Y,4):0,Q=oe(Y)?M(Y,4):0,Y=oe(Y)?M(Y,4):0,de=m.Qa,be=0;4>be;++be){if(de.Cb){var ee=de.Zb[be];de.Fb||(ee+=N)}else{if(0<be){m.pb[be]=m.pb[0];continue}ee=N}var fe=m.pb[be];fe.Sc[0]=W1[$r(ee+R,127)],fe.Sc[1]=H1[$r(ee+0,127)],fe.Eb[0]=2*W1[$r(ee+T,127)],fe.Eb[1]=101581*H1[$r(ee+G,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=W1[$r(ee+Q,117)],fe.Qc[1]=H1[$r(ee+Y,127)],fe.lc=ee+Y}if(!W.Rb)return Zr(m,4,"Not a key frame.");for(oe(q),W=m.Pa,N=0;4>N;++N){for(R=0;8>R;++R)for(T=0;3>T;++T)for(G=0;11>G;++G)Q=pe(q,HR[N][R][T][G])?V(q,8):qR[N][R][T][G],W.Wc[N][R].Yb[T][G]=Q;for(R=0;17>R;++R)W.Xc[N][R]=W.Wc[N][VR[R]]}return m.kc=oe(q),m.kc&&(m.Bd=V(q,8)),m.cb=1}function Os(m,b,N,T,R,q,W){var G=b[R].Yb[N];for(N=0;16>R;++R){if(!pe(m,G[N+0]))return R;for(;!pe(m,G[N+1]);)if(G=b[++R].Yb[0],N=0,R==16)return 16;var Y=b[R+1].Yb;if(pe(m,G[N+2])){var Q=m,de=0;if(pe(Q,(ee=G)[(be=N)+3]))if(pe(Q,ee[be+6])){for(G=0,be=2*(de=pe(Q,ee[be+8]))+(ee=pe(Q,ee[be+9+de])),de=0,ee=UR[be];ee[G];++G)de+=de+pe(Q,ee[G]);de+=3+(8<<be)}else pe(Q,ee[be+7])?(de=7+2*pe(Q,165),de+=pe(Q,145)):de=5+pe(Q,159);else de=pe(Q,ee[be+4])?3+pe(Q,ee[be+5]):2;G=Y[2]}else de=1,G=Y[1];Y=W+zR[R],0>(Q=m).b&&me(Q);var be,ee=Q.b,fe=(be=Q.Ca>>1)-(Q.I>>ee)>>31;--Q.b,Q.Ca+=fe,Q.Ca|=1,Q.I-=(be+1&fe)<<ee,q[Y]=((de^fe)-fe)*T[(0<R)+0]}return 16}function Cl(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function Na(m,b,N,T,R){R=m[b+N+32*T]+(R>>3),m[b+N+32*T]=-256&R?0>R?0:255:R}function Ll(m,b,N,T,R,q){Na(m,b,0,N,T+R),Na(m,b,1,N,T+q),Na(m,b,2,N,T-q),Na(m,b,3,N,T-R)}function zr(m){return(20091*m>>16)+m}function Of(m,b,N,T){var R,q=0,W=a(16);for(R=0;4>R;++R){var G=m[b+0]+m[b+8],Y=m[b+0]-m[b+8],Q=(35468*m[b+4]>>16)-zr(m[b+12]),de=zr(m[b+4])+(35468*m[b+12]>>16);W[q+0]=G+de,W[q+1]=Y+Q,W[q+2]=Y-Q,W[q+3]=G-de,q+=4,b++}for(R=q=0;4>R;++R)G=(m=W[q+0]+4)+W[q+8],Y=m-W[q+8],Q=(35468*W[q+4]>>16)-zr(W[q+12]),Na(N,T,0,0,G+(de=zr(W[q+4])+(35468*W[q+12]>>16))),Na(N,T,1,0,Y+Q),Na(N,T,2,0,Y-Q),Na(N,T,3,0,G-de),q++,T+=32}function A1(m,b,N,T){var R=m[b+0]+4,q=35468*m[b+4]>>16,W=zr(m[b+4]),G=35468*m[b+1]>>16;Ll(N,T,0,R+W,m=zr(m[b+1]),G),Ll(N,T,1,R+q,m,G),Ll(N,T,2,R-q,m,G),Ll(N,T,3,R-W,m,G)}function N1(m,b,N,T,R){Of(m,b,N,T),R&&Of(m,b+16,N,T+4)}function k1(m,b,N,T){Xl(m,b+0,N,T,1),Xl(m,b+32,N,T+128,1)}function es(m,b,N,T){var R;for(m=m[b+0]+4,R=0;4>R;++R)for(b=0;4>b;++b)Na(N,T,b,R,m)}function Pm(m,b,N,T){m[b+0]&&Qt(m,b+0,N,T),m[b+16]&&Qt(m,b+16,N,T+4),m[b+32]&&Qt(m,b+32,N,T+128),m[b+48]&&Qt(m,b+48,N,T+128+4)}function Em(m,b,N,T){var R,q=a(16);for(R=0;4>R;++R){var W=m[b+0+R]+m[b+12+R],G=m[b+4+R]+m[b+8+R],Y=m[b+4+R]-m[b+8+R],Q=m[b+0+R]-m[b+12+R];q[0+R]=W+G,q[8+R]=W-G,q[4+R]=Q+Y,q[12+R]=Q-Y}for(R=0;4>R;++R)W=(m=q[0+4*R]+3)+q[3+4*R],G=q[1+4*R]+q[2+4*R],Y=q[1+4*R]-q[2+4*R],Q=m-q[3+4*R],N[T+0]=W+G>>3,N[T+16]=Q+Y>>3,N[T+32]=W-G>>3,N[T+48]=Q-Y>>3,T+=64}function So(m,b,N){var T,R=b-32,q=Ai,W=255-m[R-1];for(T=0;T<N;++T){var G,Y=q,Q=W+m[b-1];for(G=0;G<N;++G)m[b+G]=Y[Q+m[R+G]];b+=32}}function Pf(m,b){So(m,b,4)}function O1(m,b){So(m,b,8)}function P1(m,b){So(m,b,16)}function E1(m,b){var N;for(N=0;16>N;++N)n(m,b+32*N,m,b-32,16)}function Ef(m,b){var N;for(N=16;0<N;--N)i(m,b,m[b-1],16),b+=32}function Il(m,b,N){var T;for(T=0;16>T;++T)i(b,N+32*T,m,16)}function jo(m,b){var N,T=16;for(N=0;16>N;++N)T+=m[b-1+32*N]+m[b+N-32];Il(T>>5,m,b)}function T1(m,b){var N,T=8;for(N=0;16>N;++N)T+=m[b-1+32*N];Il(T>>4,m,b)}function $l(m,b){var N,T=8;for(N=0;16>N;++N)T+=m[b+N-32];Il(T>>4,m,b)}function Tf(m,b){Il(128,m,b)}function jt(m,b,N){return m+2*b+N+2>>2}function C1(m,b){var N,T=b-32;for(T=new Uint8Array([jt(m[T-1],m[T+0],m[T+1]),jt(m[T+0],m[T+1],m[T+2]),jt(m[T+1],m[T+2],m[T+3]),jt(m[T+2],m[T+3],m[T+4])]),N=0;4>N;++N)n(m,b+32*N,T,0,T.length)}function L1(m,b){var N=m[b-1],T=m[b-1+32],R=m[b-1+64],q=m[b-1+96];xe(m,b+0,16843009*jt(m[b-1-32],N,T)),xe(m,b+32,16843009*jt(N,T,R)),xe(m,b+64,16843009*jt(T,R,q)),xe(m,b+96,16843009*jt(R,q,q))}function I1(m,b){var N,T=4;for(N=0;4>N;++N)T+=m[b+N-32]+m[b-1+32*N];for(T>>=3,N=0;4>N;++N)i(m,b+32*N,T,4)}function $1(m,b){var N=m[b-1+0],T=m[b-1+32],R=m[b-1+64],q=m[b-1-32],W=m[b+0-32],G=m[b+1-32],Y=m[b+2-32],Q=m[b+3-32];m[b+0+96]=jt(T,R,m[b-1+96]),m[b+1+96]=m[b+0+64]=jt(N,T,R),m[b+2+96]=m[b+1+64]=m[b+0+32]=jt(q,N,T),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=jt(W,q,N),m[b+3+64]=m[b+2+32]=m[b+1+0]=jt(G,W,q),m[b+3+32]=m[b+2+0]=jt(Y,G,W),m[b+3+0]=jt(Q,Y,G)}function Ps(m,b){var N=m[b+1-32],T=m[b+2-32],R=m[b+3-32],q=m[b+4-32],W=m[b+5-32],G=m[b+6-32],Y=m[b+7-32];m[b+0+0]=jt(m[b+0-32],N,T),m[b+1+0]=m[b+0+32]=jt(N,T,R),m[b+2+0]=m[b+1+32]=m[b+0+64]=jt(T,R,q),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=jt(R,q,W),m[b+3+32]=m[b+2+64]=m[b+1+96]=jt(q,W,G),m[b+3+64]=m[b+2+96]=jt(W,G,Y),m[b+3+96]=jt(G,Y,Y)}function Es(m,b){var N=m[b-1+0],T=m[b-1+32],R=m[b-1+64],q=m[b-1-32],W=m[b+0-32],G=m[b+1-32],Y=m[b+2-32],Q=m[b+3-32];m[b+0+0]=m[b+1+64]=q+W+1>>1,m[b+1+0]=m[b+2+64]=W+G+1>>1,m[b+2+0]=m[b+3+64]=G+Y+1>>1,m[b+3+0]=Y+Q+1>>1,m[b+0+96]=jt(R,T,N),m[b+0+64]=jt(T,N,q),m[b+0+32]=m[b+1+96]=jt(N,q,W),m[b+1+32]=m[b+2+96]=jt(q,W,G),m[b+2+32]=m[b+3+96]=jt(W,G,Y),m[b+3+32]=jt(G,Y,Q)}function R1(m,b){var N=m[b+0-32],T=m[b+1-32],R=m[b+2-32],q=m[b+3-32],W=m[b+4-32],G=m[b+5-32],Y=m[b+6-32],Q=m[b+7-32];m[b+0+0]=N+T+1>>1,m[b+1+0]=m[b+0+64]=T+R+1>>1,m[b+2+0]=m[b+1+64]=R+q+1>>1,m[b+3+0]=m[b+2+64]=q+W+1>>1,m[b+0+32]=jt(N,T,R),m[b+1+32]=m[b+0+96]=jt(T,R,q),m[b+2+32]=m[b+1+96]=jt(R,q,W),m[b+3+32]=m[b+2+96]=jt(q,W,G),m[b+3+64]=jt(W,G,Y),m[b+3+96]=jt(G,Y,Q)}function M1(m,b){var N=m[b-1+0],T=m[b-1+32],R=m[b-1+64],q=m[b-1+96];m[b+0+0]=N+T+1>>1,m[b+2+0]=m[b+0+32]=T+R+1>>1,m[b+2+32]=m[b+0+64]=R+q+1>>1,m[b+1+0]=jt(N,T,R),m[b+3+0]=m[b+1+32]=jt(T,R,q),m[b+3+32]=m[b+1+64]=jt(R,q,q),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=q}function cu(m,b){var N=m[b-1+0],T=m[b-1+32],R=m[b-1+64],q=m[b-1+96],W=m[b-1-32],G=m[b+0-32],Y=m[b+1-32],Q=m[b+2-32];m[b+0+0]=m[b+2+32]=N+W+1>>1,m[b+0+32]=m[b+2+64]=T+N+1>>1,m[b+0+64]=m[b+2+96]=R+T+1>>1,m[b+0+96]=q+R+1>>1,m[b+3+0]=jt(G,Y,Q),m[b+2+0]=jt(W,G,Y),m[b+1+0]=m[b+3+32]=jt(N,W,G),m[b+1+32]=m[b+3+64]=jt(T,N,W),m[b+1+64]=m[b+3+96]=jt(R,T,N),m[b+1+96]=jt(q,R,T)}function Cf(m,b){var N;for(N=0;8>N;++N)n(m,b+32*N,m,b-32,8)}function Rl(m,b){var N;for(N=0;8>N;++N)i(m,b,m[b-1],8),b+=32}function uu(m,b,N){var T;for(T=0;8>T;++T)i(b,N+32*T,m,8)}function du(m,b){var N,T=8;for(N=0;8>N;++N)T+=m[b+N-32]+m[b-1+32*N];uu(T>>4,m,b)}function D1(m,b){var N,T=4;for(N=0;8>N;++N)T+=m[b+N-32];uu(T>>3,m,b)}function Lf(m,b){var N,T=4;for(N=0;8>N;++N)T+=m[b-1+32*N];uu(T>>3,m,b)}function If(m,b){uu(128,m,b)}function Ml(m,b,N){var T=m[b-N],R=m[b+0],q=3*(R-T)+B1[1020+m[b-2*N]-m[b+N]],W=Fm[112+(q+4>>3)];m[b-N]=Ai[255+T+Fm[112+(q+3>>3)]],m[b+0]=Ai[255+R-W]}function Dl(m,b,N,T){var R=m[b+0],q=m[b+N];return na[255+m[b-2*N]-m[b-N]]>T||na[255+q-R]>T}function $f(m,b,N,T){return 4*na[255+m[b-N]-m[b+0]]+na[255+m[b-2*N]-m[b+N]]<=T}function fu(m,b,N,T,R){var q=m[b-3*N],W=m[b-2*N],G=m[b-N],Y=m[b+0],Q=m[b+N],de=m[b+2*N],be=m[b+3*N];return 4*na[255+G-Y]+na[255+W-Q]>T?0:na[255+m[b-4*N]-q]<=R&&na[255+q-W]<=R&&na[255+W-G]<=R&&na[255+be-de]<=R&&na[255+de-Q]<=R&&na[255+Q-Y]<=R}function Rf(m,b,N,T){var R=2*T+1;for(T=0;16>T;++T)$f(m,b+T,N,R)&&Ml(m,b+T,N)}function Bl(m,b,N,T){var R=2*T+1;for(T=0;16>T;++T)$f(m,b+T*N,1,R)&&Ml(m,b+T*N,1)}function Tm(m,b,N,T){var R;for(R=3;0<R;--R)Rf(m,b+=4*N,N,T)}function Cm(m,b,N,T){var R;for(R=3;0<R;--R)Bl(m,b+=4,N,T)}function Ts(m,b,N,T,R,q,W,G){for(q=2*q+1;0<R--;){if(fu(m,b,N,q,W))if(Dl(m,b,N,G))Ml(m,b,N);else{var Y=m,Q=b,de=N,be=Y[Q-2*de],ee=Y[Q-de],fe=Y[Q+0],ve=Y[Q+de],_e=Y[Q+2*de],ye=27*(ke=B1[1020+3*(fe-ee)+B1[1020+be-ve]])+63>>7,je=18*ke+63>>7,ke=9*ke+63>>7;Y[Q-3*de]=Ai[255+Y[Q-3*de]+ke],Y[Q-2*de]=Ai[255+be+je],Y[Q-de]=Ai[255+ee+ye],Y[Q+0]=Ai[255+fe-ye],Y[Q+de]=Ai[255+ve-je],Y[Q+2*de]=Ai[255+_e-ke]}b+=T}}function Cs(m,b,N,T,R,q,W,G){for(q=2*q+1;0<R--;){if(fu(m,b,N,q,W))if(Dl(m,b,N,G))Ml(m,b,N);else{var Y=m,Q=b,de=N,be=Y[Q-de],ee=Y[Q+0],fe=Y[Q+de],ve=Fm[112+(4+(_e=3*(ee-be))>>3)],_e=Fm[112+(_e+3>>3)],ye=ve+1>>1;Y[Q-2*de]=Ai[255+Y[Q-2*de]+ye],Y[Q-de]=Ai[255+be+_e],Y[Q+0]=Ai[255+ee-ve],Y[Q+de]=Ai[255+fe-ye]}b+=T}}function Lm(m,b,N,T,R,q){Ts(m,b,N,1,16,T,R,q)}function Im(m,b,N,T,R,q){Ts(m,b,1,N,16,T,R,q)}function Fl(m,b,N,T,R,q){var W;for(W=3;0<W;--W)Cs(m,b+=4*N,N,1,16,T,R,q)}function $m(m,b,N,T,R,q){var W;for(W=3;0<W;--W)Cs(m,b+=4,1,N,16,T,R,q)}function j(m,b,N,T,R,q,W,G){Ts(m,b,R,1,8,q,W,G),Ts(N,T,R,1,8,q,W,G)}function $(m,b,N,T,R,q,W,G){Ts(m,b,1,R,8,q,W,G),Ts(N,T,1,R,8,q,W,G)}function te(m,b,N,T,R,q,W,G){Cs(m,b+4*R,R,1,8,q,W,G),Cs(N,T+4*R,R,1,8,q,W,G)}function ce(m,b,N,T,R,q,W,G){Cs(m,b+4,1,R,8,q,W,G),Cs(N,T+4,1,R,8,q,W,G)}function ge(){this.ba=new lr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Zt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ne(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Te(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Qe(){this.ua=0,this.Wa=new Oe,this.vb=new Oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new B}function st(){this.xb=this.a=0,this.l=new lu,this.ca=new lr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Qe,this.ab=0,this.gc=s(4,Te),this.Oc=0}function xt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new lu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Nt(m,b,N,T,R,q,W){for(m=m==null?0:m[b+0],b=0;b<W;++b)R[q+b]=m+N[T+b]&255,m=R[q+b]}function Xt(m,b,N,T,R,q,W){var G;if(m==null)Nt(null,null,N,T,R,q,W);else for(G=0;G<W;++G)R[q+G]=m[b+G]+N[T+G]&255}function Pr(m,b,N,T,R,q,W){if(m==null)Nt(null,null,N,T,R,q,W);else{var G,Y=m[b+0],Q=Y,de=Y;for(G=0;G<W;++G)Q=de+(Y=m[b+G])-Q,de=N[T+G]+(-256&Q?0>Q?0:255:Q)&255,Q=Y,R[q+G]=de}}function Qr(m,b,N,T){var R=b.width,q=b.o;if(e(m!=null&&b!=null),0>N||0>=T||N+T>q)return null;if(!m.Cc){if(m.ga==null){var W;if(m.ga=new xt,(W=m.ga==null)||(W=b.width*b.o,e(m.Gb.length==0),m.Gb=a(W),m.Uc=0,m.Gb==null?W=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,W=1),W=!W),!W){W=m.ga;var G=m.Fa,Y=m.P,Q=m.qc,de=m.mb,be=m.nb,ee=Y+1,fe=Q-1,ve=W.l;if(e(G!=null&&de!=null&&b!=null),Io[0]=null,Io[1]=Nt,Io[2]=Xt,Io[3]=Pr,W.ca=de,W.tb=be,W.c=b.width,W.i=b.height,e(0<W.c&&0<W.i),1>=Q)b=0;else if(W.$a=3&G[Y+0],W.Z=G[Y+0]>>2&3,W.Lc=G[Y+0]>>4&3,Y=G[Y+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||Y)b=0;else if(ve.put=pt,ve.ac=Ja,ve.bc=Ns,ve.ma=W,ve.width=b.width,ve.height=b.height,ve.Da=b.Da,ve.v=b.v,ve.va=b.va,ve.j=b.j,ve.o=b.o,W.$a)e:{e(W.$a==1),b=El();t:for(;;){if(b==null){b=0;break e}if(e(W!=null),W.mc=b,b.c=W.c,b.i=W.i,b.l=W.l,b.l.ma=W,b.l.width=W.c,b.l.height=W.i,b.a=0,Z(b.m,G,ee,fe),!Qa(W.c,W.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Sa(b.s)?(W.ic=1,G=b.c*b.i,b.Ta=null,b.Ua=0,b.V=a(G),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(W.ic=0,b=Tl(b,W.c)),!b))break t;b=1;break e}W.mc=null,b=0}else b=fe>=W.c*W.i;W=!b}if(W)return null;m.ga.Lc!=1?m.Ga=0:T=q-N}e(m.ga!=null),e(N+T<=q);e:{if(b=(G=m.ga).c,q=G.l.o,G.$a==0){if(ee=m.rc,fe=m.Vc,ve=m.Fa,Y=m.P+1+N*b,Q=m.mb,de=m.nb+N*b,e(Y<=m.P+m.qc),G.Z!=0)for(e(Io[G.Z]!=null),W=0;W<T;++W)Io[G.Z](ee,fe,ve,Y,Q,de,b),ee=Q,fe=de,de+=b,Y+=b;else for(W=0;W<T;++W)n(Q,de,ve,Y,b),ee=Q,fe=de,de+=b,Y+=b;m.rc=ee,m.Vc=fe}else{if(e(G.mc!=null),b=N+T,e((W=G.mc)!=null),e(b<=W.i),W.C>=b)b=1;else if(G.ic||ea(),G.ic){G=W.V,ee=W.Ba,fe=W.c;var _e=W.i,ye=(ve=1,Y=W.$/fe,Q=W.$%fe,de=W.m,be=W.s,W.$),je=fe*_e,ke=fe*b,$e=be.wc,Ee=ye<ke?Pn(be,Q,Y):null;e(ye<=je),e(b<=_e),e(Sa(be));t:for(;;){for(;!de.h&&ye<ke;){if(Q&$e||(Ee=Pn(be,Q,Y)),e(Ee!=null),ue(de),256>(_e=Ir(Ee.G[0],Ee.H[0],de)))G[ee+ye]=_e,++ye,++Q>=fe&&(Q=0,++Y<=b&&!(Y%16)&&ja(W,Y));else{if(!(280>_e)){ve=0;break t}_e=Xi(_e-256,de);var ot,Ye=Ir(Ee.G[4],Ee.H[4],de);if(ue(de),!(ye>=(Ye=Ji(fe,Ye=Xi(Ye,de)))&&je-ye>=_e)){ve=0;break t}for(ot=0;ot<_e;++ot)G[ee+ye+ot]=G[ee+ye+ot-Ye];for(ye+=_e,Q+=_e;Q>=fe;)Q-=fe,++Y<=b&&!(Y%16)&&ja(W,Y);ye<ke&&Q&$e&&(Ee=Pn(be,Q,Y))}e(de.h==re(de))}ja(W,Y>b?b:Y);break t}!ve||de.h&&ye<je?(ve=0,W.a=de.h?5:3):W.$=ye,b=ve}else b=Aa(W,W.V,W.Ba,W.c,W.i,b,au);if(!b){T=0;break e}}N+T>=q&&(m.Cc=1),T=1}if(!T)return null;if(m.Cc&&((T=m.ga)!=null&&(T.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+N*R}function hr(m,b,N,T,R,q){for(;0<R--;){var W,G=m,Y=b+(N?1:0),Q=m,de=b+(N?0:3);for(W=0;W<T;++W){var be=Q[de+4*W];be!=255&&(be*=32897,G[Y+4*W+0]=G[Y+4*W+0]*be>>23,G[Y+4*W+1]=G[Y+4*W+1]*be>>23,G[Y+4*W+2]=G[Y+4*W+2]*be>>23)}b+=q}}function cn(m,b,N,T,R){for(;0<T--;){var q;for(q=0;q<N;++q){var W=m[b+2*q+0],G=15&(Q=m[b+2*q+1]),Y=4369*G,Q=(240&Q|Q>>4)*Y>>16;m[b+2*q+0]=(240&W|W>>4)*Y>>16&240|(15&W|W<<4)*Y>>16>>4&15,m[b+2*q+1]=240&Q|G}b+=R}}function en(m,b,N,T,R,q,W,G){var Y,Q,de=255;for(Q=0;Q<R;++Q){for(Y=0;Y<T;++Y){var be=m[b+Y];q[W+4*Y]=be,de&=be}b+=N,W+=G}return de!=255}function En(m,b,N,T,R){var q;for(q=0;q<R;++q)N[T+q]=m[b+q]>>8}function ea(){Gf=hr,uj=cn,dj=en,fj=En}function di(m,b,N){L[m]=function(T,R,q,W,G,Y,Q,de,be,ee,fe,ve,_e,ye,je,ke,$e){var Ee,ot=$e-1>>1,Ye=G[Y+0]|Q[de+0]<<16,Ct=be[ee+0]|fe[ve+0]<<16;e(T!=null);var et=3*Ye+Ct+131074>>2;for(b(T[R+0],255&et,et>>16,_e,ye),q!=null&&(et=3*Ct+Ye+131074>>2,b(q[W+0],255&et,et>>16,je,ke)),Ee=1;Ee<=ot;++Ee){var Ft=G[Y+Ee]|Q[de+Ee]<<16,dn=be[ee+Ee]|fe[ve+Ee]<<16,Lt=Ye+Ft+Ct+dn+524296,tt=Lt+2*(Ft+Ct)>>3;et=tt+Ye>>1,Ye=(Lt=Lt+2*(Ye+dn)>>3)+Ft>>1,b(T[R+2*Ee-1],255&et,et>>16,_e,ye+(2*Ee-1)*N),b(T[R+2*Ee-0],255&Ye,Ye>>16,_e,ye+(2*Ee-0)*N),q!=null&&(et=Lt+Ct>>1,Ye=tt+dn>>1,b(q[W+2*Ee-1],255&et,et>>16,je,ke+(2*Ee-1)*N),b(q[W+2*Ee+0],255&Ye,Ye>>16,je,ke+(2*Ee+0)*N)),Ye=Ft,Ct=dn}1&$e||(et=3*Ye+Ct+131074>>2,b(T[R+$e-1],255&et,et>>16,_e,ye+($e-1)*N),q!=null&&(et=3*Ct+Ye+131074>>2,b(q[W+$e-1],255&et,et>>16,je,ke+($e-1)*N)))}}function Rm(){ia[Um]=KR,ia[zm]=Sj,ia[yj]=YR,ia[qm]=jj,ia[Wm]=Aj,ia[F1]=Nj,ia[bj]=XR,ia[U1]=Sj,ia[z1]=jj,ia[Hm]=Aj,ia[q1]=Nj}function hu(m){return m&-16384?0>m?0:255:m>>JR}function Ul(m,b){return hu((19077*m>>8)+(26149*b>>8)-14234)}function Ao(m,b,N){return hu((19077*m>>8)-(6419*b>>8)-(13320*N>>8)+8708)}function zl(m,b){return hu((19077*m>>8)+(33050*b>>8)-17685)}function ql(m,b,N,T,R){T[R+0]=Ul(m,N),T[R+1]=Ao(m,b,N),T[R+2]=zl(m,b)}function Wl(m,b,N,T,R){T[R+0]=zl(m,b),T[R+1]=Ao(m,b,N),T[R+2]=Ul(m,N)}function Fn(m,b,N,T,R){var q=Ao(m,b,N);b=q<<3&224|zl(m,b)>>3,T[R+0]=248&Ul(m,N)|q>>5,T[R+1]=b}function Hl(m,b,N,T,R){var q=240&zl(m,b)|15;T[R+0]=240&Ul(m,N)|Ao(m,b,N)>>4,T[R+1]=q}function Vl(m,b,N,T,R){T[R+0]=255,ql(m,b,N,T,R+1)}function Mf(m,b,N,T,R){Wl(m,b,N,T,R),T[R+3]=255}function Df(m,b,N,T,R){ql(m,b,N,T,R),T[R+3]=255}function $r(m,b){return 0>m?0:m>b?b:m}function Ls(m,b,N){L[m]=function(T,R,q,W,G,Y,Q,de,be){for(var ee=de+(-2&be)*N;de!=ee;)b(T[R+0],q[W+0],G[Y+0],Q,de),b(T[R+1],q[W+0],G[Y+0],Q,de+N),R+=2,++W,++Y,de+=2*N;1&be&&b(T[R+0],q[W+0],G[Y+0],Q,de)}}function pu(m,b,N){return N==0?m==0?b==0?6:5:b==0?4:0:N}function Mm(m,b,N,T,R){switch(m>>>30){case 3:Xl(b,N,T,R,0);break;case 2:ra(b,N,T,R);break;case 1:Qt(b,N,T,R)}}function ta(m,b){var N,T,R=b.M,q=b.Nb,W=m.oc,G=m.pc+40,Y=m.oc,Q=m.pc+584,de=m.oc,be=m.pc+600;for(N=0;16>N;++N)W[G+32*N-1]=129;for(N=0;8>N;++N)Y[Q+32*N-1]=129,de[be+32*N-1]=129;for(0<R?W[G-1-32]=Y[Q-1-32]=de[be-1-32]=129:(i(W,G-32-1,127,21),i(Y,Q-32-1,127,9),i(de,be-32-1,127,9)),T=0;T<m.za;++T){var ee=b.ya[b.aa+T];if(0<T){for(N=-1;16>N;++N)n(W,G+32*N-4,W,G+32*N+12,4);for(N=-1;8>N;++N)n(Y,Q+32*N-4,Y,Q+32*N+4,4),n(de,be+32*N-4,de,be+32*N+4,4)}var fe=m.Gd,ve=m.Hd+T,_e=ee.ad,ye=ee.Hc;if(0<R&&(n(W,G-32,fe[ve].y,0,16),n(Y,Q-32,fe[ve].f,0,8),n(de,be-32,fe[ve].ea,0,8)),ee.Za){var je=W,ke=G-32+16;for(0<R&&(T>=m.za-1?i(je,ke,fe[ve].y[15],4):n(je,ke,fe[ve+1].y,0,4)),N=0;4>N;N++)je[ke+128+N]=je[ke+256+N]=je[ke+384+N]=je[ke+0+N];for(N=0;16>N;++N,ye<<=2)je=W,ke=G+Oj[N],ka[ee.Ob[N]](je,ke),Mm(ye,_e,16*+N,je,ke)}else if(je=pu(T,R,ee.Ob[0]),Lo[je](W,G),ye!=0)for(N=0;16>N;++N,ye<<=2)Mm(ye,_e,16*+N,W,G+Oj[N]);for(N=ee.Gc,je=pu(T,R,ee.Dd),Rs[je](Y,Q),Rs[je](de,be),ye=_e,je=Y,ke=Q,255&(ee=0|N)&&(170&ee?ns(ye,256,je,ke):cr(ye,256,je,ke)),ee=de,ye=be,255&(N>>=8)&&(170&N?ns(_e,320,ee,ye):cr(_e,320,ee,ye)),R<m.Ub-1&&(n(fe[ve].y,0,W,G+480,16),n(fe[ve].f,0,Y,Q+224,8),n(fe[ve].ea,0,de,be+224,8)),N=8*q*m.B,fe=m.sa,ve=m.ta+16*T+16*q*m.R,_e=m.qa,ee=m.ra+8*T+N,ye=m.Ha,je=m.Ia+8*T+N,N=0;16>N;++N)n(fe,ve+N*m.R,W,G+32*N,16);for(N=0;8>N;++N)n(_e,ee+N*m.B,Y,Q+32*N,8),n(ye,je+N*m.B,de,be+32*N,8)}}function Gl(m,b,N,T,R,q,W,G,Y){var Q=[0],de=[0],be=0,ee=Y!=null?Y.kd:0,fe=Y??new Ne;if(m==null||12>N)return 7;fe.data=m,fe.w=b,fe.ha=N,b=[b],N=[N],fe.gb=[fe.gb];e:{var ve=b,_e=N,ye=fe.gb;if(e(m!=null),e(_e!=null),e(ye!=null),ye[0]=0,12<=_e[0]&&!r(m,ve[0],"RIFF")){if(r(m,ve[0]+8,"WEBP")){ye=3;break e}var je=ie(m,ve[0]+4);if(12>je||4294967286<je){ye=3;break e}if(ee&&je>_e[0]-8){ye=7;break e}ye[0]=je,ve[0]+=12,_e[0]-=12}ye=0}if(ye!=0)return ye;for(je=0<fe.gb[0],N=N[0];;){e:{var ke=m;_e=b,ye=N;var $e=Q,Ee=de,ot=ve=[0];if((et=be=[be])[0]=0,8>ye[0])ye=7;else{if(!r(ke,_e[0],"VP8X")){if(ie(ke,_e[0]+4)!=10){ye=3;break e}if(18>ye[0]){ye=7;break e}var Ye=ie(ke,_e[0]+8),Ct=1+Ce(ke,_e[0]+12);if(2147483648<=Ct*(ke=1+Ce(ke,_e[0]+15))){ye=3;break e}ot!=null&&(ot[0]=Ye),$e!=null&&($e[0]=Ct),Ee!=null&&(Ee[0]=ke),_e[0]+=18,ye[0]-=18,et[0]=1}ye=0}}if(be=be[0],ve=ve[0],ye!=0)return ye;if(_e=!!(2&ve),!je&&be)return 3;if(q!=null&&(q[0]=!!(16&ve)),W!=null&&(W[0]=_e),G!=null&&(G[0]=0),W=Q[0],ve=de[0],be&&_e&&Y==null){ye=0;break}if(4>N){ye=7;break}if(je&&be||!je&&!be&&!r(m,b[0],"ALPH")){N=[N],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{Ye=m,ye=b,je=N;var et=fe.gb;$e=fe.na,Ee=fe.P,ot=fe.Sa,Ct=22,e(Ye!=null),e(je!=null),ke=ye[0];var Ft=je[0];for(e($e!=null),e(ot!=null),$e[0]=null,Ee[0]=null,ot[0]=0;;){if(ye[0]=ke,je[0]=Ft,8>Ft){ye=7;break e}var dn=ie(Ye,ke+4);if(4294967286<dn){ye=3;break e}var Lt=8+dn+1&-2;if(Ct+=Lt,0<et&&Ct>et){ye=3;break e}if(!r(Ye,ke,"VP8 ")||!r(Ye,ke,"VP8L")){ye=0;break e}if(Ft[0]<Lt){ye=7;break e}r(Ye,ke,"ALPH")||($e[0]=Ye,Ee[0]=ke+8,ot[0]=dn),ke+=Lt,Ft-=Lt}}if(N=N[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],ye!=0)break}N=[N],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if(et=m,ye=b,je=N,$e=fe.gb[0],Ee=fe.Ja,ot=fe.xa,Ye=ye[0],ke=!r(et,Ye,"VP8 "),Ct=!r(et,Ye,"VP8L"),e(et!=null),e(je!=null),e(Ee!=null),e(ot!=null),8>je[0])ye=7;else{if(ke||Ct){if(et=ie(et,Ye+4),12<=$e&&et>$e-12){ye=3;break e}if(ee&&et>je[0]-8){ye=7;break e}Ee[0]=et,ye[0]+=8,je[0]-=8,ot[0]=Ct}else ot[0]=5<=je[0]&&et[Ye+0]==47&&!(et[Ye+4]>>5),Ee[0]=je[0];ye=0}if(N=N[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],b=b[0],ye!=0)break;if(4294967286<fe.Ja)return 3;if(G==null||_e||(G[0]=fe.xa?2:1),W=[W],ve=[ve],fe.xa){if(5>N){ye=7;break}G=W,ee=ve,_e=q,m==null||5>N?m=0:5<=N&&m[b+0]==47&&!(m[b+4]>>5)?(je=[0],et=[0],$e=[0],Z(Ee=new z,m,b,N),ks(Ee,je,et,$e)?(G!=null&&(G[0]=je[0]),ee!=null&&(ee[0]=et[0]),_e!=null&&(_e[0]=$e[0]),m=1):m=0):m=0}else{if(10>N){ye=7;break}G=ve,m==null||10>N||!km(m,b+3,N-3)?m=0:(ee=m[b+0]|m[b+1]<<8|m[b+2]<<16,_e=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&ee||3<(ee>>1&7)||!(ee>>4&1)||ee>>5>=fe.Ja||!_e||!m?m=0:(W&&(W[0]=_e),G&&(G[0]=m),m=1))}if(!m||(W=W[0],ve=ve[0],be&&(Q[0]!=W||de[0]!=ve)))return 3;Y!=null&&(Y[0]=fe,Y.offset=b-Y.w,e(4294967286>b-Y.w),e(Y.offset==Y.ha-N));break}return ye==0||ye==7&&be&&Y==null?(q!=null&&(q[0]|=fe.na!=null&&0<fe.na.length),T!=null&&(T[0]=W),R!=null&&(R[0]=ve),0):ye}function Bf(m,b,N){var T=b.width,R=b.height,q=0,W=0,G=T,Y=R;if(b.Da=m!=null&&0<m.Da,b.Da&&(G=m.cd,Y=m.bd,q=m.v,W=m.j,11>N||(q&=-2,W&=-2),0>q||0>W||0>=G||0>=Y||q+G>T||W+Y>R))return 0;if(b.v=q,b.j=W,b.va=q+G,b.o=W+Y,b.U=G,b.T=Y,b.da=m!=null&&0<m.da,b.da){if(!Ie(G,Y,N=[m.ib],q=[m.hb]))return 0;b.ib=N[0],b.hb=q[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*T/4&&b.hb<3*R/4,b.Kb=0),1}function Ff(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function No(m,b,N,T){if(T==null||0>=m||0>=b)return 2;if(N!=null){if(N.Da){var R=N.cd,q=N.bd,W=-2&N.v,G=-2&N.j;if(0>W||0>G||0>=R||0>=q||W+R>m||G+q>b)return 2;m=R,b=q}if(N.da){if(!Ie(m,b,R=[N.ib],q=[N.hb]))return 2;m=R[0],b=q[0]}}T.width=m,T.height=b;e:{var Y=T.width,Q=T.height;if(m=T.S,0>=Y||0>=Q||!(m>=Um&&13>m))m=2;else{if(0>=T.Rd&&T.sd==null){W=q=R=b=0;var de=(G=Y*Pj[m])*Q;if(11>m||(q=(Q+1)/2*(b=(Y+1)/2),m==12&&(W=(R=Y)*Q)),(Q=a(de+2*q+W))==null){m=1;break e}T.sd=Q,11>m?((Y=T.f.RGBA).eb=Q,Y.fb=0,Y.A=G,Y.size=de):((Y=T.f.kb).y=Q,Y.O=0,Y.fa=G,Y.Fd=de,Y.f=Q,Y.N=0+de,Y.Ab=b,Y.Cd=q,Y.ea=Q,Y.W=0+de+q,Y.Db=b,Y.Ed=q,m==12&&(Y.F=Q,Y.J=0+de+2*q),Y.Tc=W,Y.lb=R)}if(b=1,R=T.S,q=T.width,W=T.height,R>=Um&&13>R)if(11>R)m=T.f.RGBA,b&=(G=Math.abs(m.A))*(W-1)+q<=m.size,b&=G>=q*Pj[R],b&=m.eb!=null;else{m=T.f.kb,G=(q+1)/2,de=(W+1)/2,Y=Math.abs(m.fa),Q=Math.abs(m.Ab);var be=Math.abs(m.Db),ee=Math.abs(m.lb),fe=ee*(W-1)+q;b&=Y*(W-1)+q<=m.Fd,b&=Q*(de-1)+G<=m.Cd,b=(b&=be*(de-1)+G<=m.Ed)&Y>=q&Q>=G&be>=G,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,R==12&&(b&=ee>=q,b&=fe<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||N!=null&&N.fd&&(m=Ff(T)),m}var Kl=64,Si=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ji=24,ko=32,Is=8,Oo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ae("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(m){return m},L.Predictor2=function(m,b,N){return b[N+0]},L.Predictor3=function(m,b,N){return b[N+1]},L.Predictor4=function(m,b,N){return b[N-1]},L.Predictor5=function(m,b,N){return De(De(m,b[N+1]),b[N+0])},L.Predictor6=function(m,b,N){return De(m,b[N-1])},L.Predictor7=function(m,b,N){return De(m,b[N+0])},L.Predictor8=function(m,b,N){return De(b[N-1],b[N+0])},L.Predictor9=function(m,b,N){return De(b[N+0],b[N+1])},L.Predictor10=function(m,b,N){return De(De(m,b[N-1]),De(b[N+0],b[N+1]))},L.Predictor11=function(m,b,N){var T=b[N+0];return 0>=We(T>>24&255,m>>24&255,(b=b[N-1])>>24&255)+We(T>>16&255,m>>16&255,b>>16&255)+We(T>>8&255,m>>8&255,b>>8&255)+We(255&T,255&m,255&b)?T:m},L.Predictor12=function(m,b,N){var T=b[N+0];return(Xe((m>>24&255)+(T>>24&255)-((b=b[N-1])>>24&255))<<24|Xe((m>>16&255)+(T>>16&255)-(b>>16&255))<<16|Xe((m>>8&255)+(T>>8&255)-(b>>8&255))<<8|Xe((255&m)+(255&T)-(255&b)))>>>0},L.Predictor13=function(m,b,N){var T=b[N-1];return(ze((m=De(m,b[N+0]))>>24&255,T>>24&255)<<24|ze(m>>16&255,T>>16&255)<<16|ze(m>>8&255,T>>8&255)<<8|ze(255&m,255&T))>>>0};var Uf=L.PredictorAdd0;L.PredictorAdd1=gt,Ae("Predictor2","PredictorAdd2"),Ae("Predictor3","PredictorAdd3"),Ae("Predictor4","PredictorAdd4"),Ae("Predictor5","PredictorAdd5"),Ae("Predictor6","PredictorAdd6"),Ae("Predictor7","PredictorAdd7"),Ae("Predictor8","PredictorAdd8"),Ae("Predictor9","PredictorAdd9"),Ae("Predictor10","PredictorAdd10"),Ae("Predictor11","PredictorAdd11"),Ae("Predictor12","PredictorAdd12"),Ae("Predictor13","PredictorAdd13");var mu=L.PredictorAdd2;Ve("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Ve("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var qr,Dm=L.ColorIndexInverseTransform,ts=L.MapARGB,rs=L.VP8LColorIndexInverseTransformAlpha,zf=L.MapAlpha,qf=L.VP8LPredictorsAdd=[];qf.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Wf,Hf,Po,Eo,To,Yl,Co,Xl,ra,ns,Qt,cr,Wr,un,$s,Vf,gu,Bm,ij,aj,sj,oj,lj,cj,Gf,uj,dj,fj,hj=a(511),pj=a(2041),mj=a(225),gj=a(767),vj=0,B1=pj,Fm=mj,Ai=gj,na=hj,Um=0,zm=1,yj=2,qm=3,Wm=4,F1=5,bj=6,U1=7,z1=8,Hm=9,q1=10,IR=[2,3,7],$R=[3,3,11],xj=[280,256,256,256,40],RR=[0,1,1,1,0],MR=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],DR=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],BR=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],FR=8,W1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],H1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Kf=null,UR=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],zR=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],wj=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qR=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],WR=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],HR=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],VR=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Lo=[],ka=[],Rs=[],GR=1,_j=2,Io=[],ia=[];di("UpsampleRgbLinePair",ql,3),di("UpsampleBgrLinePair",Wl,3),di("UpsampleRgbaLinePair",Df,4),di("UpsampleBgraLinePair",Mf,4),di("UpsampleArgbLinePair",Vl,4),di("UpsampleRgba4444LinePair",Hl,2),di("UpsampleRgb565LinePair",Fn,2);var KR=L.UpsampleRgbLinePair,YR=L.UpsampleBgrLinePair,Sj=L.UpsampleRgbaLinePair,jj=L.UpsampleBgraLinePair,Aj=L.UpsampleArgbLinePair,Nj=L.UpsampleRgba4444LinePair,XR=L.UpsampleRgb565LinePair,Vm=16,Gm=1<<Vm-1,Yf=-227,V1=482,JR=6,kj=0,ZR=a(256),QR=a(256),e7=a(256),t7=a(256),r7=a(V1-Yf),n7=a(V1-Yf);Ls("YuvToRgbRow",ql,3),Ls("YuvToBgrRow",Wl,3),Ls("YuvToRgbaRow",Df,4),Ls("YuvToBgraRow",Mf,4),Ls("YuvToArgbRow",Vl,4),Ls("YuvToRgba4444Row",Hl,2),Ls("YuvToRgb565Row",Fn,2);var Oj=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Km=[0,2,8],i7=[8,7,6,4,4,2,2,2,1,1,1,1],a7=1;this.WebPDecodeRGBA=function(m,b,N,T,R){var q=zm,W=new ge,G=new lr;W.ba=G,G.S=q,G.width=[G.width],G.height=[G.height];var Y=G.width,Q=G.height,de=new St;if(de==null||m==null)var be=2;else e(de!=null),be=Gl(m,b,N,de.width,de.height,de.Pd,de.Qd,de.format,null);if(be!=0?Y=0:(Y!=null&&(Y[0]=de.width[0]),Q!=null&&(Q[0]=de.height[0]),Y=1),Y){G.width=G.width[0],G.height=G.height[0],T!=null&&(T[0]=G.width),R!=null&&(R[0]=G.height);e:{if(T=new lu,(R=new Ne).data=m,R.w=b,R.ha=N,R.kd=1,b=[0],e(R!=null),((m=Gl(R.data,R.w,R.ha,null,null,null,b,null,R))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(e(W!=null),T.data=R.data,T.w=R.w+R.offset,T.ha=R.ha-R.offset,T.put=pt,T.ac=Ja,T.bc=Ns,T.ma=W,R.xa){if((m=El())==null){W=1;break e}if(function(ee,fe){var ve=[0],_e=[0],ye=[0];t:for(;;){if(ee==null)return 0;if(fe==null)return ee.a=2,0;if(ee.l=fe,ee.a=0,Z(ee.m,fe.data,fe.w,fe.ha),!ks(ee.m,ve,_e,ye)){ee.a=3;break t}if(ee.xb=_j,fe.width=ve[0],fe.height=_e[0],!Qa(ve[0],_e[0],1,ee,null))break t;return 1}return e(ee.a!=0),0}(m,T)){if(T=(b=No(T.width,T.height,W.Oa,W.ba))==0){t:{T=m;r:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((N=T.l)!=null),e((R=N.ma)!=null),T.xb!=0){if(T.ca=R.ba,T.tb=R.tb,e(T.ca!=null),!Bf(R.Oa,N,qm)){T.a=2;break r}if(!Tl(T,N.width)||N.da)break r;if((N.da||Et(T.ca.S))&&ea(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&ea()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!J(T.s.vb,T.s.Wa.Xa)){T.a=1;break r}T.xb=0}if(!Aa(T,T.V,T.Ba,T.c,T.i,N.o,_o))break r;R.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(b=m.a)}else b=m.a}else{if((m=new j1)==null){W=1;break e}if(m.Fa=R.na,m.P=R.P,m.qc=R.Sa,Om(m,T)){if((b=No(T.width,T.height,W.Oa,W.ba))==0){if(m.Aa=0,N=W.Oa,e((R=m)!=null),N!=null){if(0<(Y=0>(Y=N.Md)?0:100<Y?255:255*Y/100)){for(Q=de=0;4>Q;++Q)12>(be=R.pb[Q]).lc&&(be.ia=Y*i7[0>be.lc?0:be.lc]>>3),de|=be.ia;de&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=N.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}(function(ee,fe){if(ee==null)return 0;if(fe==null)return Zr(ee,2,"NULL VP8Io parameter in VP8Decode().");if(!ee.cb&&!Om(ee,fe))return 0;if(e(ee.cb),fe.ac==null||fe.ac(fe)){fe.ob&&(ee.L=0);var ve=Km[ee.L];if(ee.L==2?(ee.yb=0,ee.zb=0):(ee.yb=fe.v-ve>>4,ee.zb=fe.j-ve>>4,0>ee.yb&&(ee.yb=0),0>ee.zb&&(ee.zb=0)),ee.Va=fe.o+15+ve>>4,ee.Hb=fe.va+15+ve>>4,ee.Hb>ee.za&&(ee.Hb=ee.za),ee.Va>ee.Ub&&(ee.Va=ee.Ub),0<ee.L){var _e=ee.ed;for(ve=0;4>ve;++ve){var ye;if(ee.Qa.Cb){var je=ee.Qa.Lb[ve];ee.Qa.Fb||(je+=_e.Tb)}else je=_e.Tb;for(ye=0;1>=ye;++ye){var ke=ee.gd[ve][ye],$e=je;if(_e.Pc&&($e+=_e.vd[0],ye&&($e+=_e.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var Ee=$e;0<_e.wb&&(Ee=4<_e.wb?Ee>>2:Ee>>1)>9-_e.wb&&(Ee=9-_e.wb),1>Ee&&(Ee=1),ke.dd=Ee,ke.tc=2*$e+Ee,ke.ld=40<=$e?2:15<=$e?1:0}else ke.tc=0;ke.La=ye}}}ve=0}else Zr(ee,6,"Frame setup failed"),ve=ee.a;if(ve=ve==0){if(ve){ee.$c=0,0<ee.Aa||(ee.Ic=a7);t:{ve=ee.Ic,_e=4*(Ee=ee.za);var ot=32*Ee,Ye=Ee+1,Ct=0<ee.L?Ee*(0<ee.Aa?2:1):0,et=(ee.Aa==2?2:1)*Ee;if((ke=_e+832+(ye=3*(16*ve+Km[ee.L])/2*ot)+(je=ee.Fa!=null&&0<ee.Fa.length?ee.Kc.c*ee.Kc.i:0))!=ke)ve=0;else{if(ke>ee.Vb){if(ee.Vb=0,ee.Ec=a(ke),ee.Fc=0,ee.Ec==null){ve=Zr(ee,1,"no memory during frame initialization.");break t}ee.Vb=ke}ke=ee.Ec,$e=ee.Fc,ee.Ac=ke,ee.Bc=$e,$e+=_e,ee.Gd=s(ot,Am),ee.Hd=0,ee.rb=s(Ye+1,Nf),ee.sb=1,ee.wa=Ct?s(Ct,Qi):null,ee.Y=0,ee.D.Nb=0,ee.D.wa=ee.wa,ee.D.Y=ee.Y,0<ee.Aa&&(ee.D.Y+=Ee),e(!0),ee.oc=ke,ee.pc=$e,$e+=832,ee.ya=s(et,kf),ee.aa=0,ee.D.ya=ee.ya,ee.D.aa=ee.aa,ee.Aa==2&&(ee.D.aa+=Ee),ee.R=16*Ee,ee.B=8*Ee,Ee=(ot=Km[ee.L])*ee.R,ot=ot/2*ee.B,ee.sa=ke,ee.ta=$e+Ee,ee.qa=ee.sa,ee.ra=ee.ta+16*ve*ee.R+ot,ee.Ha=ee.qa,ee.Ia=ee.ra+8*ve*ee.B+ot,ee.$c=0,$e+=ye,ee.mb=je?ke:null,ee.nb=je?$e:null,e($e+je<=ee.Fc+ee.Vb),Cl(ee),i(ee.Ac,ee.Bc,0,_e),ve=1}}if(ve){if(fe.ka=0,fe.y=ee.sa,fe.O=ee.ta,fe.f=ee.qa,fe.N=ee.ra,fe.ea=ee.Ha,fe.Vd=ee.Ia,fe.fa=ee.R,fe.Rc=ee.B,fe.F=null,fe.J=0,!vj){for(ve=-255;255>=ve;++ve)hj[255+ve]=0>ve?-ve:ve;for(ve=-1020;1020>=ve;++ve)pj[1020+ve]=-128>ve?-128:127<ve?127:ve;for(ve=-112;112>=ve;++ve)mj[112+ve]=-16>ve?-16:15<ve?15:ve;for(ve=-255;510>=ve;++ve)gj[255+ve]=0>ve?0:255<ve?255:ve;vj=1}Co=Em,Xl=N1,ns=k1,Qt=es,cr=Pm,ra=A1,Wr=Lm,un=Im,$s=j,Vf=$,gu=Fl,Bm=$m,ij=te,aj=ce,sj=Rf,oj=Bl,lj=Tm,cj=Cm,ka[0]=I1,ka[1]=Pf,ka[2]=C1,ka[3]=L1,ka[4]=$1,ka[5]=Es,ka[6]=Ps,ka[7]=R1,ka[8]=cu,ka[9]=M1,Lo[0]=jo,Lo[1]=P1,Lo[2]=E1,Lo[3]=Ef,Lo[4]=T1,Lo[5]=$l,Lo[6]=Tf,Rs[0]=du,Rs[1]=O1,Rs[2]=Cf,Rs[3]=Rl,Rs[4]=Lf,Rs[5]=D1,Rs[6]=If,ve=1}else ve=0}ve&&(ve=function(Ft,dn){for(Ft.M=0;Ft.M<Ft.Va;++Ft.M){var Lt,tt=Ft.Jc[Ft.M&Ft.Xb],Ue=Ft.m,Hr=Ft;for(Lt=0;Lt<Hr.za;++Lt){var Tt=Ue,zt=Hr,xr=zt.Ac,Tn=zt.Bc+4*Lt,Qn=zt.zc,Rr=zt.ya[zt.aa+Lt];if(zt.Qa.Bb?Rr.$b=pe(Tt,zt.Pa.jb[0])?2+pe(Tt,zt.Pa.jb[2]):pe(Tt,zt.Pa.jb[1]):Rr.$b=0,zt.kc&&(Rr.Ad=pe(Tt,zt.Bd)),Rr.Za=!pe(Tt,145)+0,Rr.Za){var Un=Rr.Ob,ei=0;for(zt=0;4>zt;++zt){var fn,qt=Qn[0+zt];for(fn=0;4>fn;++fn){qt=WR[xr[Tn+fn]][qt];for(var tr=wj[pe(Tt,qt[0])];0<tr;)tr=wj[2*tr+pe(Tt,qt[tr])];qt=-tr,xr[Tn+fn]=qt}n(Un,ei,xr,Tn,4),ei+=4,Qn[0+zt]=qt}}else qt=pe(Tt,156)?pe(Tt,128)?1:3:pe(Tt,163)?2:0,Rr.Ob[0]=qt,i(xr,Tn,qt,4),i(Qn,0,qt,4);Rr.Dd=pe(Tt,142)?pe(Tt,114)?pe(Tt,183)?1:3:2:0}if(Hr.m.Ka)return Zr(Ft,7,"Premature end-of-partition0 encountered.");for(;Ft.ja<Ft.za;++Ft.ja){if(Hr=tt,Tt=(Ue=Ft).rb[Ue.sb-1],xr=Ue.rb[Ue.sb+Ue.ja],Lt=Ue.ya[Ue.aa+Ue.ja],Tn=Ue.kc?Lt.Ad:0)Tt.la=xr.la=0,Lt.Za||(Tt.Na=xr.Na=0),Lt.Hc=0,Lt.Gc=0,Lt.ia=0;else{var Mr,rr;if(Tt=xr,xr=Hr,Tn=Ue.Pa.Xc,Qn=Ue.ya[Ue.aa+Ue.ja],Rr=Ue.pb[Qn.$b],zt=Qn.ad,Un=0,ei=Ue.rb[Ue.sb-1],qt=fn=0,i(zt,Un,0,384),Qn.Za)var Cn=0,Oa=Tn[3];else{tr=a(16);var Vr=Tt.Na+ei.Na;if(Vr=Kf(xr,Tn[1],Vr,Rr.Eb,0,tr,0),Tt.Na=ei.Na=(0<Vr)+0,1<Vr)Co(tr,0,zt,Un);else{var fi=tr[0]+3>>3;for(tr=0;256>tr;tr+=16)zt[Un+tr]=fi}Cn=1,Oa=Tn[0]}var ur=15&Tt.la,hn=15&ei.la;for(tr=0;4>tr;++tr){var Ni=1&hn;for(fi=rr=0;4>fi;++fi)ur=ur>>1|(Ni=(Vr=Kf(xr,Oa,Vr=Ni+(1&ur),Rr.Sc,Cn,zt,Un))>Cn)<<7,rr=rr<<2|(3<Vr?3:1<Vr?2:zt[Un+0]!=0),Un+=16;ur>>=4,hn=hn>>1|Ni<<7,fn=(fn<<8|rr)>>>0}for(Oa=ur,Cn=hn>>4,Mr=0;4>Mr;Mr+=2){for(rr=0,ur=Tt.la>>4+Mr,hn=ei.la>>4+Mr,tr=0;2>tr;++tr){for(Ni=1&hn,fi=0;2>fi;++fi)Vr=Ni+(1&ur),ur=ur>>1|(Ni=0<(Vr=Kf(xr,Tn[2],Vr,Rr.Qc,0,zt,Un)))<<3,rr=rr<<2|(3<Vr?3:1<Vr?2:zt[Un+0]!=0),Un+=16;ur>>=2,hn=hn>>1|Ni<<5}qt|=rr<<4*Mr,Oa|=ur<<4<<Mr,Cn|=(240&hn)<<Mr}Tt.la=Oa,ei.la=Cn,Qn.Hc=fn,Qn.Gc=qt,Qn.ia=43690&qt?0:Rr.ia,Tn=!(fn|qt)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[Lt.$b][Lt.Za],Ue.wa[Ue.Y+Ue.ja].La|=!Tn),Hr.Ka)return Zr(Ft,7,"Premature end-of-file encountered.")}if(Cl(Ft),Ue=dn,Hr=1,Lt=(tt=Ft).D,Tt=0<tt.L&&tt.M>=tt.zb&&tt.M<=tt.Va,tt.Aa==0)t:{if(Lt.M=tt.M,Lt.uc=Tt,ta(tt,Lt),Hr=1,Lt=(rr=tt.D).Nb,Tt=(qt=Km[tt.L])*tt.R,xr=qt/2*tt.B,tr=16*Lt*tt.R,fi=8*Lt*tt.B,Tn=tt.sa,Qn=tt.ta-Tt+tr,Rr=tt.qa,zt=tt.ra-xr+fi,Un=tt.Ha,ei=tt.Ia-xr+fi,hn=(ur=rr.M)==0,fn=ur>=tt.Va-1,tt.Aa==2&&ta(tt,rr),rr.uc)for(Ni=(Vr=tt).D.M,e(Vr.D.uc),rr=Vr.yb;rr<Vr.Hb;++rr){Cn=rr,Oa=Ni;var ti=(ki=(Ln=Vr).D).Nb;Mr=Ln.R;var ki=ki.wa[ki.Y+Cn],Oi=Ln.sa,hi=Ln.ta+16*ti*Mr+16*Cn,Pi=ki.dd,pr=ki.tc;if(pr!=0)if(e(3<=pr),Ln.L==1)0<Cn&&oj(Oi,hi,Mr,pr+4),ki.La&&cj(Oi,hi,Mr,pr),0<Oa&&sj(Oi,hi,Mr,pr+4),ki.La&&lj(Oi,hi,Mr,pr);else{var Ei=Ln.B,Pa=Ln.qa,Jl=Ln.ra+8*ti*Ei+8*Cn,Ms=Ln.Ha,Ln=Ln.Ia+8*ti*Ei+8*Cn;ti=ki.ld,0<Cn&&(un(Oi,hi,Mr,pr+4,Pi,ti),Vf(Pa,Jl,Ms,Ln,Ei,pr+4,Pi,ti)),ki.La&&(Bm(Oi,hi,Mr,pr,Pi,ti),aj(Pa,Jl,Ms,Ln,Ei,pr,Pi,ti)),0<Oa&&(Wr(Oi,hi,Mr,pr+4,Pi,ti),$s(Pa,Jl,Ms,Ln,Ei,pr+4,Pi,ti)),ki.La&&(gu(Oi,hi,Mr,pr,Pi,ti),ij(Pa,Jl,Ms,Ln,Ei,pr,Pi,ti))}}if(tt.ia&&alert("todo:DitherRow"),Ue.put!=null){if(rr=16*ur,ur=16*(ur+1),hn?(Ue.y=tt.sa,Ue.O=tt.ta+tr,Ue.f=tt.qa,Ue.N=tt.ra+fi,Ue.ea=tt.Ha,Ue.W=tt.Ia+fi):(rr-=qt,Ue.y=Tn,Ue.O=Qn,Ue.f=Rr,Ue.N=zt,Ue.ea=Un,Ue.W=ei),fn||(ur-=qt),ur>Ue.o&&(ur=Ue.o),Ue.F=null,Ue.J=null,tt.Fa!=null&&0<tt.Fa.length&&rr<ur&&(Ue.J=Qr(tt,Ue,rr,ur-rr),Ue.F=tt.mb,Ue.F==null&&Ue.F.length==0)){Hr=Zr(tt,3,"Could not decode alpha data.");break t}rr<Ue.j&&(qt=Ue.j-rr,rr=Ue.j,e(!(1&qt)),Ue.O+=tt.R*qt,Ue.N+=tt.B*(qt>>1),Ue.W+=tt.B*(qt>>1),Ue.F!=null&&(Ue.J+=Ue.width*qt)),rr<ur&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=rr-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=ur-rr,Hr=Ue.put(Ue))}Lt+1!=tt.Ic||fn||(n(tt.sa,tt.ta-Tt,Tn,Qn+16*tt.R,Tt),n(tt.qa,tt.ra-xr,Rr,zt+8*tt.B,xr),n(tt.Ha,tt.Ia-xr,Un,ei+8*tt.B,xr))}if(!Hr)return Zr(Ft,6,"Output aborted.")}return 1}(ee,fe)),fe.bc!=null&&fe.bc(fe),ve&=1}return ve?(ee.cb=0,ve):0})(m,T)||(b=m.a)}}else b=m.a}b==0&&W.Oa!=null&&W.Oa.fd&&(b=Ff(W.ba))}W=b}q=W!=0?null:11>q?G.f.RGBA.eb:G.f.kb.y}else q=null;return q};var Pj=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(L,D){for(var O="",I=0;I<4;I++)O+=String.fromCharCode(L[D++]);return O}function u(L,D){return L[D+0]|L[D+1]<<8}function f(L,D){return(L[D+0]|L[D+1]<<8|L[D+2]<<16)>>>0}function p(L,D){return(L[D+0]|L[D+1]<<8|L[D+2]<<16|L[D+3]<<24)>>>0}new l;var h=[0],v=[0],g=[],x=new l,y=t,w=function(L,D){var O={},I=0,B=!1,F=0,U=0;if(O.frames=[],!function(E,z){for(var H=0;H<4;H++)if(E[z+H]!="RIFF".charCodeAt(H))return!0;return!1}(L,D)){for(p(L,D+=4),D+=8;D<L.length;){var K=c(L,D),V=p(L,D+=4);D+=4;var M=V+(1&V);switch(K){case"VP8 ":case"VP8L":O.frames[I]===void 0&&(O.frames[I]={}),(ae=O.frames[I]).src_off=B?U:D-8,ae.src_size=F+V+8,I++,B&&(B=!1,F=0,U=0);break;case"VP8X":(ae=O.header={}).feature_flags=L[D];var Z=D+4;ae.canvas_width=1+f(L,Z),Z+=3,ae.canvas_height=1+f(L,Z),Z+=3;break;case"ALPH":B=!0,F=M+8,U=D-8;break;case"ANIM":(ae=O.header).bgcolor=p(L,D),Z=D+4,ae.loop_count=u(L,Z),Z+=2;break;case"ANMF":var ne,ae;(ae=O.frames[I]={}).offset_x=2*f(L,D),D+=3,ae.offset_y=2*f(L,D),D+=3,ae.width=1+f(L,D),D+=3,ae.height=1+f(L,D),D+=3,ae.duration=f(L,D),D+=3,ne=L[D++],ae.dispose=1&ne,ae.blend=ne>>1&1}K!="ANMF"&&(D+=M)}return O}}(y,0);w.response=y,w.rgbaoutput=!0,w.dataurl=!1;var _=w.header?w.header:null,A=w.frames?w.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],v=[_.canvas_width];for(var S=0;S<A.length&&A[S].blend!=0;S++);}var k=A[0],P=x.WebPDecodeRGBA(y,k.src_off,k.src_size,v,h);k.rgba=P,k.imgwidth=v[0],k.imgheight=h[0];for(var C=0;C<v[0]*h[0]*4;C++)g[C]=P[C];return this.width=v,this.height=h,this.data=g,this}(function(t){var e,r,n,i,a,s,o,l,c,u=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new l,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new s,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new s,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=E;Object.defineProperty(this,"pdf",{get:function(){return z}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(ie){H=!!ie}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(ie){re=!!ie}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(ie){isNaN(ie)||(se=ie)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(ie){isNaN(ie)||(ue=ie)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ie){var J;typeof ie=="number"?J=[ie,ie,ie,ie]:((J=new Array(4))[0]=ie[0],J[1]=ie.length>=2?ie[1]:J[0],J[2]=ie.length>=3?ie[2]:J[0],J[3]=ie.length>=4?ie[3]:J[1]),c.margin=J}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(ie){me=ie}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(ie){oe=ie}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(ie){pe=ie}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ie){ie instanceof u&&(c=ie)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ie){c.path=ie}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(ie){xe=ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ie){var J;J=p(ie),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ie){var J=p(ie);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ie){["butt","round","square"].indexOf(ie)!==-1&&(this.ctx.lineCap=ie,this.pdf.setLineCap(ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ie){isNaN(ie)||(this.ctx.lineWidth=ie,this.pdf.setLineWidth(ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ie){["bevel","round","miter"].indexOf(ie)!==-1&&(this.ctx.lineJoin=ie,this.pdf.setLineJoin(ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ie){isNaN(ie)||(this.ctx.miterLimit=ie,this.pdf.setMiterLimit(ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ie){this.ctx.textBaseline=ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ie){["right","end","center","left","start"].indexOf(ie)!==-1&&(this.ctx.textAlign=ie)}});var he=null,Ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ce},set:function(ie){he=null,Ce=ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ie){var J;if(this.ctx.font=ie,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ie))!==null){var Fe=J[1];J[2];var Oe=J[3],Ie=J[4];J[5];var we=J[6],Pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(Pe==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:Pe==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var Ae=function(ht){var Ve,Bt,Rt=[],nt=ht.trim();if(nt==="")return Cx;if(nt in ZP)return[ZP[nt]];for(;nt!=="";){switch(Bt=null,Ve=(nt=eE(nt)).charAt(0)){case'"':case"'":Bt=Lye(nt.substring(1),Ve);break;default:Bt=Iye(nt)}if(Bt===null||(Rt.push(Bt[0]),(nt=eE(Bt[1]))!==""&&nt.charAt(0)!==","))return Cx;nt=nt.replace(/^,/,"")}return Rt}(we);if(this.fontFaces){var qe=function(ht,Ve){if(he===null){var Bt=function(Rt){var nt=[];return Object.keys(Rt).forEach(function(_t){Rt[_t].forEach(function(Yt){var ut=null;switch(Yt){case"bold":ut={family:_t,weight:"bold"};break;case"italic":ut={family:_t,style:"italic"};break;case"bolditalic":ut={family:_t,weight:"bold",style:"italic"};break;case"":case"normal":ut={family:_t}}ut!==null&&(ut.ref={name:_t,style:Yt},nt.push(ut))})}),nt}(ht.getFontList());he=function(Rt){for(var nt={},_t=0;_t<Rt.length;++_t){var Yt=Tx(Rt[_t]),ut=Yt.family,Mt=Yt.stretch,Et=Yt.style,Ur=Yt.weight;nt[ut]=nt[ut]||{},nt[ut][Mt]=nt[ut][Mt]||{},nt[ut][Mt][Et]=nt[ut][Mt][Et]||{},nt[ut][Mt][Et][Ur]=Yt}return nt}(Bt.concat(Ve))}return he}(this.pdf,this.fontFaces),De=Ae.map(function(ht){return{family:ht,stretch:"normal",weight:Oe,style:Fe}}),Xe=function(ht,Ve,Bt){for(var Rt=(Bt=Bt||{}).defaultFontFamily||"times",nt=Object.assign({},Cye,Bt.genericFontFamilies||{}),_t=null,Yt=null,ut=0;ut<Ve.length;++ut)if(nt[(_t=Tx(Ve[ut])).family]&&(_t.family=nt[_t.family]),ht.hasOwnProperty(_t.family)){Yt=ht[_t.family];break}if(!(Yt=Yt||ht[Rt]))throw new Error("Could not find a font-family for the rule '"+QP(_t)+"' and default family '"+Rt+"'.");if(Yt=function(Mt,Et){if(Et[Mt])return Et[Mt];var Ur=I5[Mt],ln=Ur<=I5.normal?-1:1,lr=JP(Et,PR,Ur,ln);if(!lr)throw new Error("Could not find a matching font-stretch value for "+Mt);return lr}(_t.stretch,Yt),Yt=function(Mt,Et){if(Et[Mt])return Et[Mt];for(var Ur=OR[Mt],ln=0;ln<Ur.length;++ln)if(Et[Ur[ln]])return Et[Ur[ln]];throw new Error("Could not find a matching font-style for "+Mt)}(_t.style,Yt),!(Yt=function(Mt,Et){if(Et[Mt])return Et[Mt];if(Mt===400&&Et[500])return Et[500];if(Mt===500&&Et[400])return Et[400];var Ur=Tye[Mt],ln=JP(Et,ER,Ur,Mt<400?-1:1);if(!ln)throw new Error("Could not find a matching font-weight for value "+Mt);return ln}(_t.weight,Yt)))throw new Error("Failed to resolve a font for the rule '"+QP(_t)+"'.");return Yt}(qe,De);this.pdf.setFont(Xe.ref.name,Xe.ref.style)}else{var ze="";(Oe==="bold"||parseInt(Oe,10)>=700||Fe==="bold")&&(ze="bold"),Fe==="italic"&&(ze+="italic"),ze.length===0&&(ze="normal");for(var We="",gt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<Ae.length;dt++){if(this.pdf.internal.getFont(Ae[dt],ze,{noFallback:!0,disableWarning:!0})!==void 0){We=Ae[dt];break}if(ze==="bolditalic"&&this.pdf.internal.getFont(Ae[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)We=Ae[dt],ze="bold";else if(this.pdf.internal.getFont(Ae[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){We=Ae[dt],ze="normal";break}}if(We===""){for(var rt=0;rt<Ae.length;rt++)if(gt[Ae[rt]]){We=gt[Ae[rt]];break}}We=We===""?"Times":We,this.pdf.setFont(We,ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ie){this.ctx.globalCompositeOperation=ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ie){this.ctx.globalAlpha=ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ie){this.ctx.lineDashOffset=ie,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ie){this.ctx.lineDash=ie,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ie){this.ctx.ignoreClearRect=!!ie}})};f.prototype.setLineDash=function(E){this.lineDash=E},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){A.call(this,"fill",!1)},f.prototype.stroke=function(){A.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(E,z){if(isNaN(E)||isNaN(z))throw dr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new s(E,z));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new s(E,z)},f.prototype.closePath=function(){var E=new s(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&nr(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){E=new s(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(E.x,E.y)},f.prototype.lineTo=function(E,z){if(isNaN(E)||isNaN(z))throw dr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new s(E,z));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new s(H.x,H.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},f.prototype.quadraticCurveTo=function(E,z,H,re){if(isNaN(H)||isNaN(re)||isNaN(E)||isNaN(z))throw dr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new s(H,re)),ue=this.ctx.transform.applyToPoint(new s(E,z));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:se.x,y:se.y}),this.ctx.lastPoint=new s(se.x,se.y)},f.prototype.bezierCurveTo=function(E,z,H,re,se,ue){if(isNaN(se)||isNaN(ue)||isNaN(E)||isNaN(z)||isNaN(H)||isNaN(re))throw dr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new s(se,ue)),oe=this.ctx.transform.applyToPoint(new s(E,z)),pe=this.ctx.transform.applyToPoint(new s(H,re));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:pe.x,y2:pe.y,x:me.x,y:me.y}),this.ctx.lastPoint=new s(me.x,me.y)},f.prototype.arc=function(E,z,H,re,se,ue){if(isNaN(E)||isNaN(z)||isNaN(H)||isNaN(re)||isNaN(se))throw dr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new s(E,z));E=me.x,z=me.y;var oe=this.ctx.transform.applyToPoint(new s(0,H)),pe=this.ctx.transform.applyToPoint(new s(0,0));H=Math.sqrt(Math.pow(oe.x-pe.x,2)+Math.pow(oe.y-pe.y,2))}Math.abs(se-re)>=2*Math.PI&&(re=0,se=2*Math.PI),this.path.push({type:"arc",x:E,y:z,radius:H,startAngle:re,endAngle:se,counterclockwise:ue})},f.prototype.arcTo=function(E,z,H,re,se){throw new Error("arcTo not implemented.")},f.prototype.rect=function(E,z,H,re){if(isNaN(E)||isNaN(z)||isNaN(H)||isNaN(re))throw dr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,z),this.lineTo(E+H,z),this.lineTo(E+H,z+re),this.lineTo(E,z+re),this.lineTo(E,z),this.lineTo(E+H,z),this.lineTo(E,z)},f.prototype.fillRect=function(E,z,H,re){if(isNaN(E)||isNaN(z)||isNaN(H)||isNaN(re))throw dr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,z,H,re),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},f.prototype.strokeRect=function(E,z,H,re){if(isNaN(E)||isNaN(z)||isNaN(H)||isNaN(re))throw dr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(E,z,H,re),this.stroke())},f.prototype.clearRect=function(E,z,H,re){if(isNaN(E)||isNaN(z)||isNaN(H)||isNaN(re))throw dr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,z,H,re))},f.prototype.save=function(E){E=typeof E!="boolean"||E;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},f.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(z),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(E){var z,H,re,se;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))z=0,H=0,re=0,se=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(ue!==null)z=parseInt(ue[1]),H=parseInt(ue[2]),re=parseInt(ue[3]),se=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)z=parseInt(ue[1]),H=parseInt(ue[2]),re=parseInt(ue[3]),se=parseFloat(ue[4]);else{if(se=1,typeof E=="string"&&E.charAt(0)!=="#"){var me=new wR(E);E=me.ok?me.toHex():"#000000"}E.length===4?(z=E.substring(1,2),z+=z,H=E.substring(2,3),H+=H,re=E.substring(3,4),re+=re):(z=E.substring(1,3),H=E.substring(3,5),re=E.substring(5,7)),z=parseInt(z,16),H=parseInt(H,16),re=parseInt(re,16)}}return{r:z,g:H,b:re,a:se,style:E}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(E,z,H,re){if(isNaN(z)||isNaN(H)||typeof E!="string")throw dr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!h.call(this)){var se=M(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;I.call(this,{text:E,x:z,y:H,scale:ue,angle:se,align:this.textAlign,maxWidth:re})}},f.prototype.strokeText=function(E,z,H,re){if(isNaN(z)||isNaN(H)||typeof E!="string")throw dr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){re=isNaN(re)?void 0:re;var se=M(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;I.call(this,{text:E,x:z,y:H,scale:ue,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:re})}},f.prototype.measureText=function(E){if(typeof E!="string")throw dr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,H=this.pdf.internal.scaleFactor,re=z.internal.getFontSize(),se=z.getStringUnitWidth(E)*re/z.internal.scaleFactor;return new function(ue){var me=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this}({width:se*=Math.round(96*H/72*1e4)/1e4})},f.prototype.scale=function(E,z){if(isNaN(E)||isNaN(z))throw dr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new l(E,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.rotate=function(E){if(isNaN(E))throw dr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.translate=function(E,z){if(isNaN(E)||isNaN(z))throw dr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new l(1,0,0,1,E,z);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.transform=function(E,z,H,re,se,ue){if(isNaN(E)||isNaN(z)||isNaN(H)||isNaN(re)||isNaN(se)||isNaN(ue))throw dr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(E,z,H,re,se,ue);this.ctx.transform=this.ctx.transform.multiply(me)},f.prototype.setTransform=function(E,z,H,re,se,ue){E=isNaN(E)?1:E,z=isNaN(z)?0:z,H=isNaN(H)?0:H,re=isNaN(re)?1:re,se=isNaN(se)?0:se,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(E,z,H,re,se,ue)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(E,z,H,re,se,ue,me,oe,pe){var xe=this.pdf.getImageProperties(E),he=1,Ce=1,ie=1,J=1;re!==void 0&&oe!==void 0&&(ie=oe/re,J=pe/se,he=xe.width/re*oe/re,Ce=xe.height/se*pe/se),ue===void 0&&(ue=z,me=H,z=0,H=0),re!==void 0&&oe===void 0&&(oe=re,pe=se),re===void 0&&oe===void 0&&(oe=xe.width,pe=xe.height);for(var Fe,Oe=this.ctx.transform.decompose(),Ie=M(Oe.rotate.shx),we=new l,Pe=(we=(we=(we=we.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale)).applyToRectangle(new o(ue-z*ie,me-H*J,re*he,se*Ce)),Ae=x.call(this,Pe),qe=[],De=0;De<Ae.length;De+=1)qe.indexOf(Ae[De])===-1&&qe.push(Ae[De]);if(_(qe),this.autoPaging)for(var Xe=qe[0],ze=qe[qe.length-1],We=Xe;We<ze+1;We++){this.pdf.setPage(We);var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=We===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=We===1?0:rt+(We-2)*ht;if(this.ctx.clip_path.length!==0){var Bt=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Fe,this.posX+this.margin[3],-Ve+dt+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=Bt}var Rt=JSON.parse(JSON.stringify(Pe));Rt=w([Rt],this.posX+this.margin[3],-Ve+dt+this.ctx.prevPageLastElemOffset)[0];var nt=(We>Xe||We<ze)&&g.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,ht,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",Rt.x,Rt.y,Rt.w,Rt.h,null,null,Ie),nt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(E,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,Ie)};var x=function(E,z,H){var re=[];z=z||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":re.push(Math.floor((E.y+se)/H)+1);break;case"arc":re.push(Math.floor((E.y+se-E.radius)/H)+1),re.push(Math.floor((E.y+se+E.radius)/H)+1);break;case"qct":var ue=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);re.push(Math.floor((ue.y+se)/H)+1),re.push(Math.floor((ue.y+ue.h+se)/H)+1);break;case"bct":var me=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);re.push(Math.floor((me.y+se)/H)+1),re.push(Math.floor((me.y+me.h+se)/H)+1);break;case"rect":re.push(Math.floor((E.y+se)/H)+1),re.push(Math.floor((E.y+E.h+se)/H)+1)}for(var oe=0;oe<re.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<re[oe];)y.call(this);return re},y=function(){var E=this.fillStyle,z=this.strokeStyle,H=this.font,re=this.lineCap,se=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=z,this.font=H,this.lineCap=re,this.lineWidth=se,this.lineJoin=ue},w=function(E,z,H){for(var re=0;re<E.length;re++)switch(E[re].type){case"bct":E[re].x2+=z,E[re].y2+=H;case"qct":E[re].x1+=z,E[re].y1+=H;default:E[re].x+=z,E[re].y+=H}return E},_=function(E){return E.sort(function(z,H){return z-H})},A=function(E,z){for(var H,re,se=this.fillStyle,ue=this.strokeStyle,me=this.lineCap,oe=this.lineWidth,pe=Math.abs(oe*this.ctx.transform.scaleX),xe=this.lineJoin,he=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),ie=[],J=0;J<Ce.length;J++)if(Ce[J].x!==void 0)for(var Fe=x.call(this,Ce[J]),Oe=0;Oe<Fe.length;Oe+=1)ie.indexOf(Fe[Oe])===-1&&ie.push(Fe[Oe]);for(var Ie=0;Ie<ie.length;Ie++)for(;this.pdf.internal.getNumberOfPages()<ie[Ie];)y.call(this);if(_(ie),this.autoPaging)for(var we=ie[0],Pe=ie[ie.length-1],Ae=we;Ae<Pe+1;Ae++){this.pdf.setPage(Ae),this.fillStyle=se,this.strokeStyle=ue,this.lineCap=me,this.lineWidth=pe,this.lineJoin=xe;var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=Ae===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=Ae===1?0:Xe+(Ae-2)*ze;if(this.ctx.clip_path.length!==0){var gt=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(H,this.posX+this.margin[3],-We+De+this.ctx.prevPageLastElemOffset),S.call(this,E,!0),this.path=gt}if(re=JSON.parse(JSON.stringify(he)),this.path=w(re,this.posX+this.margin[3],-We+De+this.ctx.prevPageLastElemOffset),z===!1||Ae===0){var dt=(Ae>we||Ae<Pe)&&g.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,ze,null).clip().discardPath()),S.call(this,E,z),dt&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=pe,S.call(this,E,z),this.lineWidth=oe;this.path=he},S=function(E,z){if((E!=="stroke"||z||!v.call(this))&&(E==="stroke"||z||!h.call(this))){for(var H,re,se=[],ue=this.path,me=0;me<ue.length;me++){var oe=ue[me];switch(oe.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:oe,deltas:[],abs:[]});break;case"lt":var pe=se.length;if(ue[me-1]&&!isNaN(ue[me-1].x)&&(H=[oe.x-ue[me-1].x,oe.y-ue[me-1].y],pe>0)){for(;pe>=0;pe--)if(se[pe-1].close!==!0&&se[pe-1].begin!==!0){se[pe-1].deltas.push(H),se[pe-1].abs.push(oe);break}}break;case"bct":H=[oe.x1-ue[me-1].x,oe.y1-ue[me-1].y,oe.x2-ue[me-1].x,oe.y2-ue[me-1].y,oe.x-ue[me-1].x,oe.y-ue[me-1].y],se[se.length-1].deltas.push(H);break;case"qct":var xe=ue[me-1].x+2/3*(oe.x1-ue[me-1].x),he=ue[me-1].y+2/3*(oe.y1-ue[me-1].y),Ce=oe.x+2/3*(oe.x1-oe.x),ie=oe.y+2/3*(oe.y1-oe.y),J=oe.x,Fe=oe.y;H=[xe-ue[me-1].x,he-ue[me-1].y,Ce-ue[me-1].x,ie-ue[me-1].y,J-ue[me-1].x,Fe-ue[me-1].y],se[se.length-1].deltas.push(H);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(oe)}}re=z?null:E==="stroke"?"stroke":"fill";for(var Oe=!1,Ie=0;Ie<se.length;Ie++)if(se[Ie].arc)for(var we=se[Ie].abs,Pe=0;Pe<we.length;Pe++){var Ae=we[Pe];Ae.type==="arc"?C.call(this,Ae.x,Ae.y,Ae.radius,Ae.startAngle,Ae.endAngle,Ae.counterclockwise,void 0,z,!Oe):B.call(this,Ae.x,Ae.y),Oe=!0}else if(se[Ie].close===!0)this.pdf.internal.out("h"),Oe=!1;else if(se[Ie].begin!==!0){var qe=se[Ie].start.x,De=se[Ie].start.y;F.call(this,se[Ie].deltas,qe,De),Oe=!0}re&&L.call(this,re),z&&D.call(this)}},k=function(E){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-H;case"top":return E+z-H;case"hanging":return E+z-2*H;case"middle":return E+z/2-H;default:return E}},P=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(z,H){this.colorStops.push([z,H])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(E,z,H,re,se,ue,me,oe,pe){for(var xe=K.call(this,H,re,se,ue),he=0;he<xe.length;he++){var Ce=xe[he];he===0&&(pe?O.call(this,Ce.x1+E,Ce.y1+z):B.call(this,Ce.x1+E,Ce.y1+z)),U.call(this,E,z,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}oe?D.call(this):L.call(this,me)},L=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(E,z){this.pdf.internal.out(r(E)+" "+n(z)+" m")},I=function(E){var z;switch(E.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var H=this.pdf.getTextDimensions(E.text),re=k.call(this,E.y),se=P.call(this,re)-H.h,ue=this.ctx.transform.applyToPoint(new s(E.x,re)),me=this.ctx.transform.decompose(),oe=new l;oe=(oe=(oe=oe.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var pe,xe,he,Ce=this.ctx.transform.applyToRectangle(new o(E.x,re,H.w,H.h)),ie=oe.applyToRectangle(new o(E.x,se,H.w,H.h)),J=x.call(this,ie),Fe=[],Oe=0;Oe<J.length;Oe+=1)Fe.indexOf(J[Oe])===-1&&Fe.push(J[Oe]);if(_(Fe),this.autoPaging)for(var Ie=Fe[0],we=Fe[Fe.length-1],Pe=Ie;Pe<we+1;Pe++){this.pdf.setPage(Pe);var Ae=Pe===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[2],Xe=De-this.margin[0],ze=this.pdf.internal.pageSize.width-this.margin[1],We=ze-this.margin[3],gt=Pe===1?0:qe+(Pe-2)*Xe;if(this.ctx.clip_path.length!==0){var dt=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(pe,this.posX+this.margin[3],-1*gt+Ae),S.call(this,"fill",!0),this.path=dt}var rt=w([JSON.parse(JSON.stringify(ie))],this.posX+this.margin[3],-gt+Ae+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*E.scale),he=this.lineWidth,this.lineWidth=he*E.scale);var ht=this.autoPaging!=="text";if(ht||rt.y+rt.h<=De){if(ht||rt.y>=Ae&&rt.x<=ze){var Ve=ht?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||ze-rt.x)[0],Bt=w([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-gt+Ae+this.ctx.prevPageLastElemOffset)[0],Rt=ht&&(Pe>Ie||Pe<we)&&g.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,Xe,null).clip().discardPath()),this.pdf.text(Ve,Bt.x,Bt.y,{angle:E.angle,align:z,renderingMode:E.renderingMode}),Rt&&this.pdf.restoreGraphicsState()}}else rt.y<De&&(this.ctx.prevPageLastElemOffset+=De-rt.y);E.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=he)}else E.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*E.scale),he=this.lineWidth,this.lineWidth=he*E.scale),this.pdf.text(E.text,ue.x+this.posX,ue.y+this.posY,{angle:E.angle,align:z,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=he)},B=function(E,z,H,re){H=H||0,re=re||0,this.pdf.internal.out(r(E+H)+" "+n(z+re)+" l")},F=function(E,z,H){return this.pdf.lines(E,z,H,null,null)},U=function(E,z,H,re,se,ue,me,oe){this.pdf.internal.out([e(i(H+E)),e(a(re+z)),e(i(se+E)),e(a(ue+z)),e(i(me+E)),e(a(oe+z)),"c"].join(" "))},K=function(E,z,H,re){for(var se=2*Math.PI,ue=Math.PI/2;z>H;)z-=se;var me=Math.abs(H-z);me<se&&re&&(me=se-me);for(var oe=[],pe=re?-1:1,xe=z;me>1e-5;){var he=xe+pe*Math.min(me,ue);oe.push(V.call(this,E,xe,he)),me-=Math.abs(he-xe),xe=he}return oe},V=function(E,z,H){var re=(H-z)/2,se=E*Math.cos(re),ue=E*Math.sin(re),me=se,oe=-ue,pe=me*me+oe*oe,xe=pe+me*se+oe*ue,he=4/3*(Math.sqrt(2*pe*xe)-xe)/(me*ue-oe*se),Ce=me-he*oe,ie=oe+he*me,J=Ce,Fe=-ie,Oe=re+z,Ie=Math.cos(Oe),we=Math.sin(Oe);return{x1:E*Math.cos(z),y1:E*Math.sin(z),x2:Ce*Ie-ie*we,y2:Ce*we+ie*Ie,x3:J*Ie-Fe*we,y3:J*we+Fe*Ie,x4:E*Math.cos(H),y4:E*Math.sin(H)}},M=function(E){return 180*E/Math.PI},Z=function(E,z,H,re,se,ue){var me=E+.5*(H-E),oe=z+.5*(re-z),pe=se+.5*(H-se),xe=ue+.5*(re-ue),he=Math.min(E,se,me,pe),Ce=Math.max(E,se,me,pe),ie=Math.min(z,ue,oe,xe),J=Math.max(z,ue,oe,xe);return new o(he,ie,Ce-he,J-ie)},ne=function(E,z,H,re,se,ue,me,oe){var pe,xe,he,Ce,ie,J,Fe,Oe,Ie,we,Pe,Ae,qe,De,Xe=H-E,ze=re-z,We=se-H,gt=ue-re,dt=me-se,rt=oe-ue;for(xe=0;xe<41;xe++)Ie=(Fe=(he=E+(pe=xe/40)*Xe)+pe*((ie=H+pe*We)-he))+pe*(ie+pe*(se+pe*dt-ie)-Fe),we=(Oe=(Ce=z+pe*ze)+pe*((J=re+pe*gt)-Ce))+pe*(J+pe*(ue+pe*rt-J)-Oe),xe==0?(Pe=Ie,Ae=we,qe=Ie,De=we):(Pe=Math.min(Pe,Ie),Ae=Math.min(Ae,we),qe=Math.max(qe,Ie),De=Math.max(De,we));return new o(Math.round(Pe),Math.round(Ae),Math.round(qe-Pe),Math.round(De-Ae))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,z,H=(E=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:z}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(lt.API),function(t){var e=function(s){var o,l,c,u,f,p,h,v,g,x;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(p=(f=((f=((f=((f=(f-(x=f%85))/85)-(g=f%85))/85)-(v=f%85))/85)-(h=f%85))/85)%85,l.push(p+33,h+33,v+33,g+33,x+33)):l.push(122);return function(y,w){for(var _=w;_>0;_--)y.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,u,f,p=String,h="length",v=255,g="charCodeAt",x="slice",y="replace";for(s[x](-2),s=s[x](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),c=[],u=0,f=(s+=o="uuuuu"[x](s[h]%5||5))[h];f>u;u+=5)l=52200625*(s[g](u)-33)+614125*(s[g](u+1)-33)+7225*(s[g](u+2)-33)+85*(s[g](u+3)-33)+(s[g](u+4)-33),c.push(v&l>>24,v&l>>16,v&l>>8,v&l);return function(w,_){for(var A=_;A>0;A--)w.pop()}(c,o[h]),p.fromCharCode.apply(p,c)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=k5(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(lt.API),function(t){t.loadFile=function(e,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,p=0,h=function(v){var g=v.length,x=[],y=String.fromCharCode;for(p=0;p<g;p+=1)x.push(y(255&v.charCodeAt(p)));return x.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(h(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)}(i,a,s)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(lt.API),function(t){function e(){return(yt.html2canvas?Promise.resolve(yt.html2canvas):hx(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(yt.DOMPurify?Promise.resolve(yt.DOMPurify):hx(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=nr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var v=u[h],g=v.src.find(function(x){return x.format==="truetype"});g&&c.addFont(g.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,f).then(function(p){return c.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),p=c.call(f,o,l);return s.convert(p,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,lt.getPageSize=function(o,l,c){if(nr(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var v,g=0,x=0;if(h.hasOwnProperty(p))g=h[p][1]/f,x=h[p][0]/f;else try{g=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>g&&(v=x,x=g,g=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>x&&(v=x,x=g,g=v)}return{width:x,height:g,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Tx):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(lt.API),lt.API.addJS=function(t){return rE=t,this.internal.events.subscribe("postPutResources",function(){Xg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Xg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),tE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+rE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Xg!==void 0&&tE!==void 0&&this.internal.out("/Names <</JavaScript "+Xg+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var f=r.internal.newObject();u.push(f);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<u.length;a++)r.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(lt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,g={width:0,height:0,numcomponents:1},x=4;x<v;x+=2){if(x+=h,e.indexOf(f.charCodeAt(x+1))!==-1){p=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),g={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:p,numcomponents:f.charCodeAt(x+9)};break}h=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}}(lt.API),lt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=vye(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&l===1?function(C){for(var L=C.width,D=C.height,O=C.data,I=C.palette,B=C.depth,F=!1,U=[],K=[],V=void 0,M=!1,Z=0,ne=0;ne<I.length;ne++){var ae=sP(I[ne],4),E=ae[0],z=ae[1],H=ae[2],re=ae[3];U.push(E,z,H),re!=null&&(re===0?(Z++,K.length<1&&K.push(ne)):re<255&&(M=!0))}if(M||Z>1){F=!0,K=void 0;var se=L*D;V=new Uint8Array(se);for(var ue=new DataView(O.buffer),me=0;me<se;me++){var oe=Lx(ue,me,B),pe=sP(I[oe],4)[3];V[me]=pe}}else Z===0&&(K=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:F?8:void 0,colorBytes:O,alphaBytes:V,needSMask:F,palette:U,mask:K}}(a):l===2||l===4?function(C){for(var L=C.data,D=C.width,O=C.height,I=C.channels,B=C.depth,F=I===2?"DeviceGray":"DeviceRGB",U=I-1,K=D*O,V=U,M=K*V,Z=1*K,ne=Math.ceil(M*B/8),ae=Math.ceil(Z*B/8),E=new Uint8Array(ne),z=new Uint8Array(ae),H=new DataView(L.buffer),re=new DataView(E.buffer),se=new DataView(z.buffer),ue=!1,me=0;me<K;me++){for(var oe=me*I,pe=0;pe<V;pe++)dE(re,Lx(H,oe+pe,B),me*V+pe,B);var xe=Lx(H,oe+V,B);xe<(1<<B)-1&&(ue=!0),dE(se,xe,1*me,B)}return{colorSpace:F,colorsPerPixel:U,sMaskBitsPerComponent:ue?B:void 0,colorBytes:E,alphaBytes:z,needSMask:ue}}(a):function(C){var L=C.data,D=C.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:L instanceof Uint16Array?function(O){for(var I=O.length,B=new Uint8Array(2*I),F=new DataView(B.buffer,B.byteOffset,B.byteLength),U=0;U<I;U++)F.setUint16(2*U,O[U],!1);return B}(L):L,needSMask:!1}}(a);var f,p,h,v=i,g=v.colorSpace,x=v.colorsPerPixel,y=v.sMaskBitsPerComponent,w=v.colorBytes,_=v.alphaBytes,A=v.needSMask,S=v.palette,k=v.mask,P=null;return n!==lt.API.image_compression.NONE&&typeof k5=="function"?(P=function(C){var L;switch(C){case lt.API.image_compression.FAST:L=11;break;case lt.API.image_compression.MEDIUM:L=13;break;case lt.API.image_compression.SLOW:L=14;break;default:L=12}return L}(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(P," /Colors ").concat(x," /BitsPerComponent ").concat(u," /Columns ").concat(s),t=sE(w,Math.ceil(s*x*u/8),x,u,n),A&&(h=sE(_,Math.ceil(s*y/8),1,y,n))):(f=void 0,p=void 0,t=w,A&&(h=_)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:f,decodeParameters:p,transparency:k,palette:S,sMask:h,predictor:P,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:y,colorSpace:g}}},function(t){t.processGIF89A=function(e,r,n,i){var a=new Dye(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new Ix(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)},t.processGIF87A=t.processGIF89A}(lt.API),Ca.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ca.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){dr.log("bit decode error:"+r)}},Ca.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Ca.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Ca.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Ca.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=t}},Ca.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Ca.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Ca.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},Ca.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new Ca(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Ix(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(lt.API),hE.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new hE(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Ix(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(lt.API),lt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],f=n[c+1],p=n[c+2],h=n[c+3];a[o++]=u,a[o++]=f,a[o++]=p,s[l++]=h}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},lt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Eu=lt.API,Jg=Eu.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,p=0,h=t.length,v=0,g=o[0]||l,x=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(p=f&&nr(c[n])==="object"&&!isNaN(parseInt(c[n][v],10))?c[n][v]/u:0,x.push((o[n]||g)/l+p)),v=n;return x},nE=Eu.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Eu.processArabic&&(t=Eu.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Jg.apply(this,arguments).reduce(function(a,s){return a+s},0)},iE=function(t,e,r,n){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<r;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>n&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},aE=function(t,e,r){r||(r={});var n,i,a,s,o,l,c,u=[],f=[u],p=r.textIndent||0,h=0,v=0,g=t.split(" "),x=Jg.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),w=[];g.map(function(A){(A=A.split(/\s*\n/)).length>1?w=w.concat(A.map(function(S,k){return(k&&S.length?`
`:"")+S})):w.push(A[0])}),g=w,l=nE.apply(this,[y,r])}for(a=0,s=g.length;a<s;a++){var _=0;if(n=g[a],l&&n[0]==`
`&&(n=n.substr(1),_=1),p+h+(v=(i=Jg.apply(this,[n,r])).reduce(function(A,S){return A+S},0))>e||_){if(v>e){for(o=iE.apply(this,[n,i,e-(p+h),e]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);v=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(A,S){return A+S},0)}else u=[n];f.push(u),p=v+l,h=x}else u.push(n),p+=h+v,h=x}return c=l?function(A,S){return(S?y:"")+A.join(" ")}:function(A){return A.join(" ")},f.map(c)},Eu.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(aE.apply(this,[n[o],s,a]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=t.__fontmetrics__.compress=function(p){var h,v,g,x,y=["{"];for(var w in p){if(h=p[w],isNaN(parseInt(w,10))?v="'"+w+"'":(w=parseInt(w,10),v=(v=s(w).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof h=="number")h<0?(g=s(h).slice(3),x="-"):(g=s(h).slice(2),x=""),g=x+g.slice(0,-1)+i[g.slice(-1)];else{if(nr(h)!=="object")throw new Error("Don't know what to do with value type "+nr(h)+".");g=o(h)}y.push(v+g)}return y.push("}"),y.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,v,g,x,y={},w=1,_=y,A=[],S="",k="",P=p.length-1,C=1;C<P;C+=1)(x=p[C])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(A.push([_,g]),_={},g=void 0):x=="}"?((v=A.pop())[0][v[1]]=_,g=void 0,_=v[0]):x=="-"?w=-1:g===void 0?n.hasOwnProperty(x)?(S+=n[x],g=parseInt(S,16)*w,w=1,S=""):S+=x:n.hasOwnProperty(x)?(k+=n[x],_[g]=parseInt(k,16)*w,w=1,g=void 0,k=""):k+=x;return y},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var h=p.font,v=f.Unicode[h.postScriptName];v&&(h.metadata.Unicode={},h.metadata.Unicode.widths=v.widths,h.metadata.Unicode.kerning=v.kerning);var g=u.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(lt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(f0(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(lt),lt.API.addSvgAsImage=function(t,e,r,n,i,a,s,o){if(isNaN(e)||isNaN(r))throw dr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw dr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(yt.canvg?Promise.resolve(yt.canvg):hx(()=>import("./index.es-BBzBEztc.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,s,o)})},lt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},lt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function p(v,g){var x,y=!1;for(x=0;x<v.length;x+=1)v[x]===g&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(nr(t)==="object"){for(i in t)if(a=t[i],p(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(n=!1);n===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?g.push("/"+v+" /"+r[v].value):g.push("/"+v+" "+r[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(lt.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,p=a.length;f<p;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(a){var s,o,l,c,u,f,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(a).sort(function(h,v){return h-v})).length;f<p;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",v=0;v<p.length;v++)h+=String.fromCharCode(p[v]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var x=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+$u(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+$u(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+$u(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var v=c();u({data:p,addLength1:!0,objectId:v}),l("endobj");var g=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var x=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+$u(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+$u(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},f=a.mutex||{},p=f.pdfEscape,h=f.activeFontKey,v=f.fonts,g=h,x="",y=0,w="",_=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(w=o,g=h,Array.isArray(o)&&(w=o[0]),y=0;y<w.length;y+=1)v[g].metadata.hasOwnProperty("cmap")&&(s=v[g].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),s||w[y].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?x+=w[y]:x+="";var A="";return parseInt(g.slice(1))<14||_==="WinAnsiEncoding"?A=p(x,g).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(A=r(x,v[g])),f.isHex=!0,{text:A,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(lt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(lt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,o,l,c,u,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var A=function(O){var I=O.charCodeAt(),B=I>>8,F=g[B];return F!==void 0?f[256*F+(255&I)]:B===252||B===253?"AL":y.test(B)?"L":B===8?"R":"N"},S=function(O){for(var I,B=0;B<O.length;B++){if((I=A(O.charAt(B)))==="L")return!1;if(I==="R")return!0}return!1},k=function(O,I,B,F){var U,K,V,M,Z=I[F];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(Z="AN");break;case"AL":w=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":F<1||F+1>=I.length||(U=B[F-1])!=="EN"&&U!=="AN"||(K=I[F+1])!=="EN"&&K!=="AN"?Z="N":w&&(K="AN"),Z=K===U?K:"N";break;case"ES":Z=(U=F>0?B[F-1]:"B")==="EN"&&F+1<I.length&&I[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&B[F-1]==="EN"){Z="EN";break}if(w){Z="N";break}for(V=F+1,M=I.length;V<M&&I[V]==="ET";)V++;Z=V<M&&I[V]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(M=I.length,V=F+1;V<M&&I[V]==="NSM";)V++;if(V<M){var ne=O[F],ae=ne>=1425&&ne<=2303||ne===64286;if(U=I[V],ae&&(U==="R"||U==="AL")){Z="R";break}}}Z=F<1||(U=I[F-1])==="B"?"N":B[F-1];break;case"B":w=!1,i=!0,Z=_;break;case"S":a=!0,Z="N"}return Z},P=function(O,I,B){var F=O.split("");return B&&C(F,B,{hiLevel:_}),F.reverse(),I&&I.reverse(),F.join("")},C=function(O,I,B){var F,U,K,V,M,Z=-1,ne=O.length,ae=0,E=[],z=_?h:p,H=[];for(w=!1,i=!1,a=!1,U=0;U<ne;U++)H[U]=A(O[U]);for(K=0;K<ne;K++){if(M=ae,E[K]=k(O,H,E,K),F=240&(ae=z[M][v[E[K]]]),ae&=15,I[K]=V=z[ae][5],F>0)if(F===16){for(U=Z;U<K;U++)I[U]=1;Z=-1}else Z=-1;if(z[ae][6])Z===-1&&(Z=K);else if(Z>-1){for(U=Z;U<K;U++)I[U]=V;Z=-1}H[K]==="B"&&(I[K]=0),B.hiLevel|=V}a&&function(re,se,ue){for(var me=0;me<ue;me++)if(re[me]==="S"){se[me]=_;for(var oe=me-1;oe>=0&&re[oe]==="WS";oe--)se[oe]=_}}(H,I,ne)},L=function(O,I,B,F,U){if(!(U.hiLevel<O)){if(O===1&&_===1&&!i)return I.reverse(),void(B&&B.reverse());for(var K,V,M,Z,ne=I.length,ae=0;ae<ne;){if(F[ae]>=O){for(M=ae+1;M<ne&&F[M]>=O;)M++;for(Z=ae,V=M-1;Z<V;Z++,V--)K=I[Z],I[Z]=I[V],I[V]=K,B&&(K=B[Z],B[Z]=B[V],B[V]=K);ae=M}ae++}}},D=function(O,I,B){var F=O.split(""),U={hiLevel:_};return B||(B=[]),C(F,B,U),function(K,V,M){if(M.hiLevel!==0&&u)for(var Z,ne=0;ne<K.length;ne++)V[ne]===1&&(Z=x.indexOf(K[ne]))>=0&&(K[ne]=x[Z+1])}(F,B,U),L(2,F,I,B,U),L(1,F,I,B,U),F.join("")};return this.__bidiEngine__.doBidiReorder=function(O,I,B){if(function(U,K){if(K)for(var V=0;V<U.length;V++)K[V]=V;o===void 0&&(o=S(U)),c===void 0&&(c=S(U))}(O,I),s||!l||c)if(s&&l&&o^c)_=o?1:0,O=P(O,I,B);else if(!s&&l&&c)_=o?1:0,O=D(O,I,B),O=P(O,I);else if(!s||o||l||c){if(s&&!l&&o^c)O=P(O,I),o?(_=0,O=D(O,I,B)):(_=1,O=D(O,I,B),O=P(O,I));else if(s&&o&&!l&&c)_=1,O=D(O,I,B),O=P(O,I);else if(!s&&!l&&o^c){var F=u;o?(_=1,O=D(O,I,B),_=0,u=!1,O=D(O,I,B),u=F):(_=0,O=D(O,I,B),O=P(O,I),_=1,u=!1,O=D(O,I,B),u=F,O=P(O,I))}}else _=0,O=D(O,I,B);else _=o?1:0,O=D(O,I,B);return O},this.__bidiEngine__.setOptions=function(O){O&&(s=O.isInputVisual,l=O.isOutputVisual,o=O.isInputRtl,c=O.isOutputRtl,u=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(lt),lt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new yl(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Qye(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Bye(this.contents),this.head=new Uye(this),this.name=new Vye(this),this.cmap=new CR(this),this.toUnicode={},this.hhea=new zye(this),this.maxp=new Gye(this),this.hmtx=new Kye(this),this.post=new Wye(this),this.os2=new qye(this),this.loca=new Zye(this),this.glyf=new Yye(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Xa,yl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),Bye=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,o,l,c,u,f,p,h,v,g;for(g in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),u=16*h-f,(i=new yl).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(u),a=16*h,c=i.pos+a,o=null,v=[],r)for(p=r[g],i.writeString(g),i.writeInt(t(p)),i.writeInt(c),i.writeInt(p.length),v=v.concat(p),g==="head"&&(o=c),c+=p.length;c%4;)v.push(0),c++;return i.write(v),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=LR.call(r);r.length%4;)r.push(0);for(a=new yl(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),Fye={}.hasOwnProperty,js=function(t,e){for(var r in e)Fye.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Xa=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Uye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new yl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),pE=function(){function t(e,r){var n,i,a,s,o,l,c,u,f,p,h,v,g,x,y,w,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),p=h/2,e.pos+=6,a=function(){var A,S;for(S=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)S.push(e.readUInt16());return S}(),e.pos+=2,g=function(){var A,S;for(S=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)S.push(e.readUInt16());return S}(),c=function(){var A,S;for(S=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)S.push(e.readUInt16());return S}(),u=function(){var A,S;for(S=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)S.push(e.readUInt16());return S}(),i=(this.length-e.pos+this.offset)/2,o=function(){var A,S;for(S=[],l=A=0;0<=i?A<i:A>i;l=0<=i?++A:--A)S.push(e.readUInt16());return S}(),l=y=0,_=a.length;y<_;l=++y)for(x=a[l],n=w=v=g[l];v<=x?w<=x:w>=x;n=v<=x?++w:--w)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-v)-(p-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}e.pos=f}return t.encode=function(e,r){var n,i,a,s,o,l,c,u,f,p,h,v,g,x,y,w,_,A,S,k,P,C,L,D,O,I,B,F,U,K,V,M,Z,ne,ae,E,z,H,re,se,ue,me,oe,pe,xe,he;switch(F=new yl,s=Object.keys(e).sort(function(Ce,ie){return Ce-ie}),r){case"macroman":for(g=0,x=function(){var Ce=[];for(v=0;v<256;++v)Ce.push(0);return Ce}(),w={0:0},a={},U=0,Z=s.length;U<Z;U++)w[oe=e[i=s[U]]]==null&&(w[oe]=++g),a[i]={old:e[i],new:w[e[i]]},x[i]=w[e[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(x),{charMap:a,subtable:F.data,maxGlyphID:g+1};case"unicode":for(I=[],f=[],_=0,w={},n={},y=c=null,K=0,ne=s.length;K<ne;K++)w[S=e[i=s[K]]]==null&&(w[S]=++_),n[i]={old:S,new:w[S]},o=w[S]-i,y!=null&&o===c||(y&&f.push(y),I.push(i),c=o),y=i;for(y&&f.push(y),f.push(65535),I.push(65535),D=2*(L=I.length),C=2*Math.pow(Math.log(L)/Math.LN2,2),p=Math.log(C/2)/Math.LN2,P=2*L-C,l=[],k=[],h=[],v=V=0,ae=I.length;V<ae;v=++V){if(O=I[v],u=f[v],O===65535){l.push(0),k.push(0);break}if(O-(B=n[O].new)>=32768)for(l.push(0),k.push(2*(h.length+L-v)),i=M=O;O<=u?M<=u:M>=u;i=O<=u?++M:--M)h.push(n[i].new);else l.push(B-O),k.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*L+2*h.length),F.writeUInt16(0),F.writeUInt16(D),F.writeUInt16(C),F.writeUInt16(p),F.writeUInt16(P),ue=0,E=f.length;ue<E;ue++)i=f[ue],F.writeUInt16(i);for(F.writeUInt16(0),me=0,z=I.length;me<z;me++)i=I[me],F.writeUInt16(i);for(pe=0,H=l.length;pe<H;pe++)o=l[pe],F.writeUInt16(o);for(xe=0,re=k.length;xe<re;xe++)A=k[xe],F.writeUInt16(A);for(he=0,se=h.length;he<se;he++)g=h[he],F.writeUInt16(g);return{charMap:n,subtable:F.data,maxGlyphID:_+1}}},t}(),CR=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new pE(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=pE.encode(e,r),(i=new yl).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),zye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),qye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Wye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),Hye=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Vye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,s,o,l,c,u,f,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=u=0,f=n.length;u<f;a=++u)i=n[a],e.pos=i.offset,c=e.readString(i.length),s=new Hye(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),Gye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Kye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,f,p;for(p=[],c=0,u=(f=this.metrics).length;c<u;c++)a=f[c],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),LR=[].slice,Yye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,s,o,l,c,u,f;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(o=new yl(r.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=s===-1?new Jye(o,c,f,l,u):new Xye(o,s,c,f,l,u),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=r.length;o<l;o++)i=e[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},t}(),Xye=function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Jye=function(){function t(e,r,n,i,a){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new yl(LR.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),Zye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},t}(),Qye=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,o,l,c,u,f,p,h,v,g,x,y;for(i in n=CR.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},y=n.charMap)h[(l=y[i]).old]=l.new;for(v in p=n.maxGlyphID,s)v in h||(h[v]=p++);return u=function(w){var _,A;for(_ in A={},w)A[w[_]]=_;return A}(h),f=Object.keys(u).sort(function(w,_){return w-_}),g=function(){var w,_,A;for(A=[],w=0,_=f.length;w<_;w++)o=f[w],A.push(u[o]);return A}(),a=this.font.glyf.encode(s,g,h),c=this.font.loca.encode(a.offsets,g),x={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();lt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e}();function e1e(t){const e=new lt;let r=20;const n=e.internal.pageSize.getWidth(),i=20,a=n-2*i,s=(l,c,u=!1,f="#000000")=>{e.setFontSize(c),e.setTextColor(f),u?e.setFont("helvetica","bold"):e.setFont("helvetica","normal"),e.splitTextToSize(l,a).forEach(h=>{r>e.internal.pageSize.getHeight()-30&&(e.addPage(),r=20),e.text(h,i,r),r+=c*.5}),r+=5};s("Simulation Debrief Report",18,!0),r+=5,s(`Case: ${t.caseTitle}`,12,!0),s(`Patient: ${t.patientName}`,10),r+=5,s("Performance Summary",14,!0,"#3b82f6"),r+=3,s(`Overall Score: ${t.score.overall}%`,12,!0),s(`Diagnosis Accuracy: ${t.score.accuracy}%`,10),s(`MCQ Score: ${t.score.mcqScore}%`,10),s(`Time Taken: ${t.timeTaken} minutes`,10),s(`Current Streak: ${t.currentStreak} days`,10),r+=5,t.score.sloResults&&t.score.sloResults.length>0&&(s("Learning Outcomes",14,!0,"#3b82f6"),r+=3,t.score.sloResults.forEach(l=>{const c=l.status==="Achieved"?"":"";s(`${c} ${l.sloId}: ${l.percent}%`,10),l.sloText&&s(`   ${l.sloText}`,9)}),r+=5),s("Diagnosis Review",14,!0,"#3b82f6"),r+=3,s(`Your Diagnosis: ${t.diagnosis.student}`,10),s(`Correct Diagnosis: ${t.diagnosis.correct}`,10,!0),t.diagnosis.potential&&t.diagnosis.potential.length>0&&(s("Other Potential Diagnoses:",10,!0),t.diagnosis.potential.forEach(l=>{s(`   ${l.dx}`,9)})),r+=5,t.stepwiseReasoning&&(s("Stepwise Reasoning",14,!0,"#3b82f6"),r+=3,s(t.stepwiseReasoning,9),r+=5),t.mcqResults&&t.mcqResults.length>0&&(s("MCQ Results",14,!0,"#3b82f6"),r+=3,t.mcqResults.forEach((l,c)=>{s(`${c+1}. ${l.question}`,10,!0),l.options.forEach((u,f)=>{let p="  ";f===l.correctIndex&&(p=" "),f===l.selectedIndex&&!l.correct&&(p=" "),s(`${p}${u}`,9)}),l.explanation&&s(`Explanation: ${l.explanation}`,9),r+=3}),r+=5),t.rubricResults&&t.rubricResults.length>0&&(s("Rubric Assessment",14,!0,"#3b82f6"),r+=3,t.rubricResults.forEach((l,c)=>{s(`${c+1}. ${l.criterion}`,10,!0),s(`   Points: ${l.pointsEarned} / ${l.maxPoints}`,9),l.percentage!==void 0&&s(`   Score: ${l.percentage}%`,9),l.feedback&&s(`   Feedback: ${l.feedback}`,9),r+=3}),r+=5),t.learningPearls&&t.learningPearls.length>0&&(s("Learning Pearls",14,!0,"#3b82f6"),r+=3,t.learningPearls.forEach(l=>{s(` ${l}`,9)}),r+=5),t.furtherReading&&t.furtherReading.length>0&&(s("Further Reading",14,!0,"#3b82f6"),r+=3,t.furtherReading.forEach(l=>{s(` ${l.title}`,9),l.url&&s(`  ${l.url}`,8)}));const o=e.getNumberOfPages();for(let l=1;l<=o;l++)e.setPage(l),e.setFontSize(8),e.setTextColor("#666666"),e.text(`Page ${l} of ${o} | Generated on ${new Date().toLocaleDateString()}`,i,e.internal.pageSize.getHeight()-10);return e}function t1e({user:t}){var se,ue,me,oe,pe,xe,he,Ce;const{runId:e}=wy(),r=Yi(),n=vo(),[i,a]=X.useState(null),[s,o]=X.useState(!0),[l,c]=X.useState(null),[u,f]=X.useState("feedback"),[p,h]=X.useState(0),[v,g]=X.useState({}),[x,y]=X.useState(!1);X.useEffect(()=>{e&&(_(),w())},[e]),X.useEffect(()=>{if(i&&i.transcript){const J=i.transcript.postCaseMCQAnswers||{};g(J),y(Object.keys(J).length>0)}},[i]);const w=async()=>{try{const{data:ie}=await Le.from("simulation_runs").select("submitted_at, created_at").eq("student_id",t.id).not("submitted_at","is",null).order("submitted_at",{ascending:!1});if(!ie||ie.length===0){h(0);return}let J=0;const Fe=new Date;Fe.setHours(0,0,0,0);let Oe=new Date(Fe);for(const Ie of ie){const we=new Date(Ie.submitted_at||Ie.created_at);if(we.setHours(0,0,0,0),we.getTime()===Oe.getTime())J++,Oe.setDate(Oe.getDate()-1);else if(we.getTime()<Oe.getTime())break}h(J)}catch(ie){console.error("Error calculating streak:",ie),h(0)}},_=async()=>{try{const{data:ie,error:J}=await Le.from("simulation_runs").select("*").eq("id",e).single();if(J)throw J;if(a(ie),ie){const Fe=ie.transcript,Oe=(Fe==null?void 0:Fe.postCaseMCQAnswers)||{};g(Oe),y(Object.keys(Oe).length>0)}if(ie.assignment_id){const{data:Fe}=await Le.from("assignments").select("snapshot_id").eq("id",ie.assignment_id).single();if(Fe){const{data:Oe}=await Le.from("case_snapshots").select("*").eq("id",Fe.snapshot_id).single();c(Oe)}}}catch(ie){console.error("Error loading debrief:",ie)}finally{o(!1)}};if(s)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(!i||!i.score)return d.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:d.jsx("p",{children:"Debrief data not available yet."})});const A=i.score,S=A.overall||0,k=A.sloResults||[],P=A.rubricResults||[],C=i.transcript,D=(((se=l==null?void 0:l.clinical_case)==null?void 0:se.mcqs)||[]).slice(-3).slice(0,3),O=(C==null?void 0:C.postCaseMCQAnswers)||{},I=D.length>0&&D.some(ie=>O[`post-case-${ie.id}`]!==void 0),B=A.postCaseMCQs||[],F=A.correctDiagnosis||((oe=(me=(ue=l==null?void 0:l.clinical_case)==null?void 0:ue.potentialDiagnoses)==null?void 0:me[0])==null?void 0:oe.dx)||"",U=A.studentDiagnosis||(C==null?void 0:C.diagnosis)||"",K=A.diagnosisCorrect||!1,V=A.diagnosisScore||0,Z=(()=>{if(!i.started_at||!i.submitted_at)return"N/A";const ie=new Date(i.started_at),J=new Date(i.submitted_at),Fe=Math.floor((J.getTime()-ie.getTime())/6e4),Oe=Math.floor((J.getTime()-ie.getTime())%6e4/1e3);return`${Fe}m ${Oe}s`})(),ne=A.stepwiseReasoning||A.aiComments||"Stepwise reasoning not available.",ae=((pe=l==null?void 0:l.clinical_case)==null?void 0:pe.learningPearls)||[],E=((xe=l==null?void 0:l.clinical_case)==null?void 0:xe.furtherReading)||[],z=ie=>ie>=80?"text-green-600":ie>=60?"text-yellow-600":"text-red-600",H=ie=>ie>=80?"bg-green-100 text-green-800 border-green-200":ie>=60?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200",re=()=>{var Pe,Ae,qe,De,Xe;if(!i||!l)return;const ie=((Pe=l.clinical_case)==null?void 0:Pe.title)||"Untitled Case",J=((qe=(Ae=l.clinical_case)==null?void 0:Ae.patientProfile)==null?void 0:qe.name)||"Patient";let Fe=0;if(i.started_at&&i.submitted_at){const ze=new Date(i.started_at),We=new Date(i.submitted_at);Fe=Math.floor((We.getTime()-ze.getTime())/6e4)}const Oe=(B||[]).map((ze,We)=>{const gt=D.find(ht=>ht.question===ze.question),dt=(gt==null?void 0:gt.answerIndex)??-1,rt=v[`post-case-${gt==null?void 0:gt.id}`]??-1;return{question:ze.question||`Question ${We+1}`,options:ze.options||(gt==null?void 0:gt.options)||[],selectedIndex:rt,correctIndex:dt,correct:rt===dt,explanation:ze.explanation}}),Ie={caseTitle:ie,patientName:J,score:{overall:S,accuracy:V,mcqScore:Oe.length>0?Math.round(Oe.filter(ze=>ze.correct).length/Oe.length*100):0,sloResults:k.map(ze=>({sloId:ze.sloId||"Unknown",sloText:ze.sloText,status:ze.status||"Not Achieved",percent:ze.percent||0}))},timeTaken:Fe,currentStreak:p,stepwiseReasoning:ne,diagnosis:{student:U,correct:F,potential:((De=l.clinical_case)==null?void 0:De.potentialDiagnoses)||[]},mcqResults:Oe,rubricResults:((Xe=i.score)==null?void 0:Xe.rubricResults)||[],learningPearls:ae,furtherReading:E};e1e(Ie).save(`debrief-${ie.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.pdf`)};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Simulation Debrief"}),((he=l==null?void 0:l.clinical_case)==null?void 0:he.title)&&d.jsx("p",{className:"text-gray-600",children:l.clinical_case.title})]}),d.jsxs("button",{onClick:()=>r("/results"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900",children:[d.jsx(gp,{className:"w-4 h-4"}),"Back to Results"]})]}),d.jsx("div",{className:`mb-6 p-4 rounded-lg border-2 ${K?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[K?d.jsx(ps,{className:"w-6 h-6 text-green-600"}):d.jsx(Ac,{className:"w-6 h-6 text-red-600"}),d.jsxs("div",{children:[d.jsxs("div",{className:`font-semibold ${K?"text-green-800":"text-red-800"}`,children:["Diagnosis ",K?"Correct":"Incorrect"]}),!K&&d.jsxs("div",{className:"text-sm text-red-700 mt-1",children:["The correct diagnosis was: ",F]})]})]})}),d.jsx(a0e,{accuracy:V,timeTaken:Z,currentStreak:p}),d.jsx(i0e,{activeTab:u,onTabChange:f}),d.jsxs("div",{className:"mt-6",children:[u==="feedback"&&d.jsxs("div",{children:[d.jsx(s0e,{reasoning:ne}),d.jsx(l0e,{pearls:ae}),d.jsx(c0e,{references:E}),A.aiComments&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Wa,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"AI-Generated Feedback"})]}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:A.aiComments})})]}),S<80&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(jy,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Areas for Improvement"}),d.jsxs("ul",{className:"list-disc list-inside text-yellow-800 space-y-1",children:[k.filter(ie=>ie.status!=="Achieved").slice(0,3).map((ie,J)=>d.jsxs("li",{children:["Focus on improving ",ie.sloId||`SLO ${J+1}`," (currently"," ",ie.percent.toFixed(0),"%)"]},J)),d.jsx("li",{children:"Review the case materials and practice similar scenarios"}),d.jsx("li",{children:"Consider retaking this simulation to improve your score"})]})]})]})})]}),u==="review"&&d.jsxs("div",{children:[d.jsxs("div",{className:`bg-white rounded-lg shadow p-6 mb-6 border-2 ${H(S)}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Overall Performance"}),d.jsx(lm,{className:`w-6 h-6 ${z(S)}`})]}),d.jsx("div",{className:"flex items-center justify-center mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:`text-6xl font-bold ${z(S)}`,children:[S.toFixed(0),"%"]}),d.jsx("div",{className:"text-gray-600 mt-2",children:"Overall Score"})]})}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:k.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"SLOs Assessed"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:k.filter(ie=>ie.status==="Achieved").length}),d.jsx("div",{className:"text-sm text-gray-600",children:"SLOs Achieved"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Z}),d.jsx("div",{className:"text-sm text-gray-600",children:"Time Taken"})]})]})]}),((Ce=l==null?void 0:l.clinical_case)==null?void 0:Ce.potentialDiagnoses)&&d.jsx(o0e,{potentialDiagnoses:l.clinical_case.potentialDiagnoses,studentDiagnosis:U,correctDiagnosis:F}),k.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(co,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"SLO (Specific Learning Outcomes) Breakdown"})]}),d.jsx("div",{className:"space-y-4",children:k.map((ie,J)=>d.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium text-gray-900",children:ie.sloId||`SLO ${J+1}`}),ie.sloText&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ie.sloText})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[ie.status==="Achieved"?d.jsx(ps,{className:"w-5 h-5 text-green-600"}):d.jsx(Ac,{className:"w-5 h-5 text-red-600"}),d.jsxs("span",{className:`font-semibold ${z(ie.percent)}`,children:[ie.percent.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:`h-3 rounded-full transition-all ${ie.percent>=70?"bg-green-600":ie.percent>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(ie.percent,100)}%`}})}),ie.feedback&&d.jsxs("p",{className:"text-sm text-gray-600 mt-2 italic",children:['"',ie.feedback,'"']})]},J))})]}),P.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(va,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Rubric Assessment"})]}),d.jsx("div",{className:"space-y-3",children:P.map((ie,J)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"font-medium text-gray-900",children:ie.criterion}),d.jsxs("span",{className:"text-sm text-gray-600",children:[ie.pointsEarned," / ",ie.maxPoints," points"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${ie.pointsEarned/ie.maxPoints*100}%`}})}),ie.feedback&&d.jsx("p",{className:"text-sm text-gray-600 mt-2",children:ie.feedback})]},J))})]})]}),u==="questions"&&d.jsx("div",{children:D.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(va,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"POST-CASE QUESTIONS"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:x?"Review your answers and results below.":"Answer these questions based on the case you just completed."}),d.jsx("div",{className:"space-y-4",children:D.map((ie,J)=>{var qe;const Fe=`post-case-${ie.id}`,Oe=v[Fe],Ie=ie.answerIndex,we=ie.options[Ie],Pe=x||I,Ae=B.find(De=>De.question===ie.question);return d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsx("div",{className:"flex items-start justify-between mb-3",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"font-medium text-gray-900 mb-2",children:[J+1,". ",ie.question]}),d.jsx("div",{className:"space-y-2 mt-3",children:(qe=ie.options)==null?void 0:qe.map((De,Xe)=>{const ze=Oe===Xe,We=Xe===Ie;return d.jsx("button",{onClick:()=>{Pe||g({...v,[Fe]:Xe})},disabled:Pe,className:`w-full text-left p-3 rounded-lg border-2 transition-all ${Pe?We?"bg-green-50 border-green-200":ze&&!We?"bg-red-50 border-red-200":"bg-white border-gray-200":ze?"bg-primary-50 border-primary-300":"bg-white border-gray-200 hover:border-primary-300 hover:bg-gray-50"} ${Pe?"cursor-default":"cursor-pointer"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:De}),Pe&&We&&d.jsx(ps,{className:"w-5 h-5 text-green-600"}),Pe&&ze&&!We&&d.jsx(Ac,{className:"w-5 h-5 text-red-600"}),!Pe&&ze&&d.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-primary-600 bg-primary-100"})]})},Xe)})})]})}),Pe&&((Ae==null?void 0:Ae.explanation)||ie.explanation)&&d.jsxs("div",{className:"mt-3 pt-3 border-t",children:[d.jsx("div",{className:"font-medium text-gray-700 mb-1",children:"EXPLANATION"}),d.jsx("p",{className:"text-sm text-gray-600",children:(Ae==null?void 0:Ae.explanation)||`The correct answer is ${we}. ${ie.explanation||""}`})]})]},J)})}),!x&&!I&&d.jsx("div",{className:"mt-6 pt-4 border-t",children:d.jsx("button",{onClick:async()=>{if(!D.every(J=>v[`post-case-${J.id}`]!==void 0)){n.warning("Please answer all questions before submitting.");return}if(e){const J={...C,postCaseMCQAnswers:v},{error:Fe}=await Le.from("simulation_runs").update({transcript:J}).eq("id",e);if(Fe){n.error("Error saving answers: "+Fe.message);return}try{const{error:Oe}=await Le.functions.invoke("score_simulation",{body:{runId:e}});Oe?console.error("Error re-scoring:",Oe):(await _(),y(!0))}catch(Oe){console.error("Error calling score function:",Oe)}}},disabled:D.some(ie=>v[`post-case-${ie.id}`]===void 0),className:"w-full px-4 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-all",children:"Submit Answers"})}),(x||I)&&d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:["Score: ",D.filter(ie=>v[`post-case-${ie.id}`]===ie.answerIndex).length," / ",D.length]}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[D.length>0?(D.filter(ie=>v[`post-case-${ie.id}`]===ie.answerIndex).length/D.length*100).toFixed(0):0,"%"]})]})})]})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6",children:[d.jsxs("button",{onClick:()=>r("/results"),className:"flex items-center justify-center gap-2 px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[d.jsx(gp,{className:"w-4 h-4"}),"Back to Results"]}),d.jsxs("button",{onClick:re,className:"flex items-center justify-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(od,{className:"w-4 h-4"}),"Download PDF Report"]})]})]}),d.jsx(Mn,{role:"student"}),d.jsx(gl,{toasts:n.toasts,onClose:n.removeToast})]})}function r1e({user:t}){const e=Yi(),[r,n]=X.useState([]),[i,a]=X.useState(!0);X.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:c,error:u}=await Le.from("simulation_runs").select("*").eq("student_id",t.id).not("submitted_at","is",null).order("submitted_at",{ascending:!1});if(u)throw u;const f=await Promise.all((c||[]).map(async p=>{const{data:h}=await Le.from("assignments").select("*").eq("id",p.assignment_id).single();let v=null;if(h){const{data:g}=await Le.from("case_snapshots").select("*").eq("id",h.snapshot_id).single();v=g}return{...p,assignment:h,snapshot:v}}));n(f)}catch(c){console.error("Error loading results:",c)}finally{a(!1)}},o=c=>c>=80?"bg-green-100 text-green-800":c>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",l=(c,u)=>{const f=new Date(c),p=new Date(u);return`${Math.floor((p.getTime()-f.getTime())/6e4)} minutes`};return i?d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Results & History"}),d.jsx("p",{className:"text-gray-600",children:"View your past simulation attempts and performance"})]}),r.length>0&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.length>0?Math.round(r.reduce((c,u)=>{var p;const f=((p=u.score)==null?void 0:p.overall)||0;return c+f},0)/r.length):0,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:[r.length>0?Math.max(...r.map(c=>{var f;return((f=c.score)==null?void 0:f.overall)||0})):0,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]})]}),r.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsx(lm,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 text-lg",children:"No completed simulations yet"}),d.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Complete a simulation to see your results here"})]}):d.jsx("div",{className:"space-y-4",children:r.map(c=>{var v,g,x,y,w,_,A;const u=((v=c.score)==null?void 0:v.overall)||0,f=((g=c.score)==null?void 0:g.sloResults)||[],p=((y=(x=c.snapshot)==null?void 0:x.clinical_case)==null?void 0:y.title)||"Untitled Station",h=((A=(_=(w=c.snapshot)==null?void 0:w.clinical_case)==null?void 0:_.patientProfile)==null?void 0:A.name)||"Patient";return d.jsx("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p}),d.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Patient: ",h]})]}),d.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${o(u)}`,children:[u.toFixed(0),"%"]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-gray-600",children:[c.started_at&&c.submitted_at&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Kc,{className:"w-4 h-4"}),d.jsx("span",{children:l(c.started_at,c.submitted_at)})]}),c.submitted_at&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(cf,{className:"w-4 h-4"}),d.jsx("span",{children:new Date(c.submitted_at).toLocaleDateString()})]}),f.length>0&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Wa,{className:"w-4 h-4"}),d.jsxs("span",{children:[f.filter(S=>S.status==="Achieved").length," /"," ",f.length," SLOs Achieved"]})]})]}),f.length>0&&d.jsxs("div",{className:"mt-4 space-y-2",children:[f.slice(0,3).map((S,k)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${S.percent>=70?"bg-green-600":"bg-yellow-600"}`,style:{width:`${S.percent}%`}})}),d.jsxs("span",{className:"text-xs text-gray-600 w-12 text-right",children:[S.percent,"%"]})]},k)),f.length>3&&d.jsxs("p",{className:"text-xs text-gray-500",children:["+",f.length-3," more SLOs"]})]})]}),d.jsx("div",{className:"flex gap-2",children:d.jsxs("button",{onClick:()=>e(`/debrief/${c.id}`),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[d.jsx(z_,{className:"w-4 h-4"}),"View Details"]})})]})},c.id)})})]}),d.jsx(Mn,{role:"student"})]})}function n1e({user:t}){const e=vo(),r=Yi(),[n,i]=X.useState({totalAttempts:0,averageScore:0,bestScore:0,completedAssignments:0}),[a,s]=X.useState([]),[o,l]=X.useState([]),[c,u]=X.useState(!0),[f,p]=X.useState(!1),[h,v]=X.useState(!1),[g,x]=X.useState({totalTimeSpent:0,averageTimePerAttempt:0,improvementRate:0,slosAchieved:0,totalSlos:0,streak:0,lastActivity:null});X.useEffect(()=>{y(),w()},[]);const y=async()=>{try{const{data:k}=await Le.from("simulation_runs").select("score, submitted_at, started_at, created_at").eq("student_id",t.id).not("submitted_at","is",null),P=k||[],C=P.map(ue=>{var me;return((me=ue.score)==null?void 0:me.overall)||0}).filter(ue=>ue>0),L=P.length,D=C.length>0?C.reduce((ue,me)=>ue+me,0)/C.length:0,O=C.length>0?Math.max(...C):0,{data:I}=await Le.from("cohort_members").select("cohort_id").eq("student_id",t.id);let B=0;if(I&&I.length>0){const ue=I.map(oe=>oe.cohort_id),{data:me}=await Le.from("assignments").select("id").in("cohort_id",ue);if(me){const oe=me.map(xe=>xe.id),{data:pe}=await Le.from("simulation_runs").select("assignment_id").eq("student_id",t.id).not("submitted_at","is",null).in("assignment_id",oe);B=new Set(pe==null?void 0:pe.map(xe=>xe.assignment_id)).size}}const{data:F}=await Le.from("simulation_runs").select("started_at, submitted_at, score, created_at").eq("student_id",t.id).not("submitted_at","is",null),U=(F||[]).reduce((ue,me)=>{if(me.started_at&&me.submitted_at){const oe=new Date(me.started_at),pe=new Date(me.submitted_at);return ue+Math.floor((pe.getTime()-oe.getTime())/6e4)}return ue},0),K=P.length>0?Math.round(U/P.length):0;let V=0,M=0;P.forEach(ue=>{var oe;(((oe=ue.score)==null?void 0:oe.sloResults)||[]).forEach(pe=>{M++,pe.status==="Achieved"&&V++})});const Z=C.slice(0,5),ne=C.slice(5,10),ae=Z.length>0?Z.reduce((ue,me)=>ue+me,0)/Z.length:0,E=ne.length>0?ne.reduce((ue,me)=>ue+me,0)/ne.length:0,z=E>0?(ae-E)/E*100:0,H=P[0],re=(H==null?void 0:H.submitted_at)||null;let se=0;if(P.length>0){const ue=new Date;ue.setHours(0,0,0,0);let me=new Date(ue);for(let oe=0;oe<P.length;oe++){const pe=P[oe],xe=new Date(pe.submitted_at||pe.created_at||pe.started_at);if(xe.setHours(0,0,0,0),xe.getTime()===me.getTime())se++,me.setDate(me.getDate()-1);else if(xe.getTime()<me.getTime())break}}i({totalAttempts:L,averageScore:Math.round(D),bestScore:Math.round(O),completedAssignments:B}),x({totalTimeSpent:U,averageTimePerAttempt:K,improvementRate:Math.round(z*10)/10,slosAchieved:V,totalSlos:M,streak:se,lastActivity:re})}catch(k){console.error("Error loading stats:",k)}finally{u(!1)}},w=async()=>{try{const{data:k}=await Le.from("cohort_members").select("cohort_id, cohorts(id, name, description)").eq("student_id",t.id),P=(k||[]).map(O=>O.cohort_id),C=(k||[]).map(O=>O.cohorts).filter(Boolean);s(C);const{data:L}=await Le.from("cohorts").select("id, name, description").order("name"),D=(L||[]).filter(O=>!P.includes(O.id));l(D)}catch(k){console.error("Error loading cohorts:",k)}},_=async k=>{p(!0);try{const{error:P}=await Le.from("cohort_members").insert({cohort_id:k,student_id:t.id});if(P)throw P;await w()}catch(P){e.error("Error joining cohort: "+P.message)}finally{p(!1)}},A=async k=>{if(confirm("Are you sure you want to leave this cohort? You will lose access to its assignments.")){p(!0);try{const{error:P}=await Le.from("cohort_members").delete().eq("cohort_id",k).eq("student_id",t.id);if(P)throw P;await w()}catch(P){e.error("Error leaving cohort: "+P.message)}finally{p(!1)}}},S=async()=>{await Le.auth.signOut(),r("/")};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Profile"}),d.jsx("p",{className:"text-gray-600",children:"View your account information and performance statistics"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx(ms,{className:"w-10 h-10 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(KC,{className:"w-4 h-4"}),d.jsx("span",{children:t.email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(cf,{className:"w-4 h-4"}),d.jsxs("span",{children:["Member since ",new Date(t.created_at).toLocaleDateString()]})]})]})]}),d.jsx("div",{className:"border-t pt-4",children:d.jsx("div",{className:"flex items-center gap-2 text-sm",children:d.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full font-medium",children:"Student"})})})]}),!c&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Ay,{className:"w-5 h-5 text-primary-600"}),d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.totalAttempts})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Wa,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[n.averageScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(lm,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[n.bestScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Dh,{className:"w-5 h-5 text-primary-600"}),d.jsx("div",{className:"text-2xl font-bold text-primary-600",children:n.completedAssignments})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(co,{className:"w-5 h-5 text-primary-600"}),"Performance Metrics"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Time Spent"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[g.totalTimeSpent," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Avg Time per Attempt"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[g.averageTimePerAttempt," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Improvement Rate"}),d.jsxs("span",{className:`font-semibold ${g.improvementRate>0?"text-green-600":g.improvementRate<0?"text-red-600":"text-gray-900"}`,children:[g.improvementRate>0?"+":"",g.improvementRate,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Current Streak"}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[g.streak," days"]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(Dh,{className:"w-5 h-5 text-primary-600"}),"Learning Outcomes"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"SLOs Achieved"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[g.slosAchieved," / ",g.totalSlos]})]}),g.totalSlos>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all",style:{width:`${g.slosAchieved/g.totalSlos*100}%`}})}),d.jsxs("div",{className:"text-sm text-gray-500",children:[(g.slosAchieved/g.totalSlos*100).toFixed(1),"% achievement rate"]})]}),g.lastActivity&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-4 pt-4 border-t",children:[d.jsx(Kc,{className:"w-4 h-4"}),d.jsxs("span",{children:["Last activity: ",new Date(g.lastActivity).toLocaleDateString()]})]})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ic,{className:"w-5 h-5 text-primary-600"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Cohorts"})]}),d.jsxs("button",{onClick:()=>v(!h),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[d.jsx(YC,{className:"w-4 h-4"}),"Manage"]})]}),a.length===0?d.jsx("p",{className:"text-gray-500 text-sm",children:"You are not in any cohorts yet."}):d.jsx("div",{className:"space-y-2",children:a.map(k=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:k.name}),k.description&&d.jsx("div",{className:"text-sm text-gray-500",children:k.description})]}),h&&d.jsx("button",{onClick:()=>A(k.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Leave cohort",children:d.jsx(uf,{className:"w-4 h-4"})})]},k.id))}),h&&o.length>0&&d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Cohorts"}),d.jsx("div",{className:"space-y-2",children:o.map(k=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-md",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:k.name}),k.description&&d.jsx("div",{className:"text-sm text-gray-500",children:k.description})]}),d.jsxs("button",{onClick:()=>_(k.id),disabled:f,className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 transition-colors",children:[d.jsx(cm,{className:"w-4 h-4"}),"Join"]})]},k.id))})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Actions"}),d.jsx("div",{className:"space-y-2",children:d.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors font-medium",children:[d.jsx(GC,{className:"w-5 h-5"}),"Sign Out"]})})]})]}),d.jsx(Mn,{role:"student"})]})}function i1e({data:t}){return d.jsx(Yy,{width:"100%",height:300,children:d.jsxs(F$,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(b1,{strokeDasharray:"3 3"}),d.jsx(tu,{dataKey:"date"}),d.jsx(ru,{domain:[0,100]}),d.jsx(Ri,{}),d.jsx(ro,{}),d.jsx(zc,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2,name:"Score (%)",dot:{fill:"#3b82f6",r:4}})]})})}function a1e({user:t}){const[e,r]=X.useState(null),[n,i]=X.useState(!0),[a,s]=X.useState([]);X.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:c}=await Le.from("cohort_members").select("cohort_id").eq("student_id",t.id),u=(c==null?void 0:c.map(E=>E.cohort_id))||[];let f=[];if(u.length>0){const{data:E}=await Le.from("assignments").select("*").in("cohort_id",u);f=E||[]}const{data:p}=await Le.from("simulation_runs").select("*, assignments!inner(snapshot_id, case_snapshots!inner(clinical_case))").eq("student_id",t.id).order("submitted_at",{ascending:!1}),h=(p||[]).filter(E=>E.submitted_at),v=(p||[]).filter(E=>!E.submitted_at),g=h.map(E=>{var z;return((z=E.score)==null?void 0:z.overall)||0}).filter(E=>E>0),x=g.length>0?g.reduce((E,z)=>E+z,0)/g.length:0,y=g.length>0?Math.max(...g):0,w=g.slice(0,3),_=g.slice(3,6),A=w.length>0?w.reduce((E,z)=>E+z,0)/w.length:0,S=_.length>0?_.reduce((E,z)=>E+z,0)/_.length:0,k=S>0?(A-S)/S*100:0,P=h.slice(0,10).map(E=>{var re;const z=((re=E.score)==null?void 0:re.overall)||0,H=E.submitted_at||E.created_at;return{date:new Date(H).toLocaleDateString("en-US",{month:"short",day:"numeric"}),score:Math.round(z)}}).reverse();s(P);const C=new Map;h.forEach(E=>{var H;(((H=E.score)==null?void 0:H.sloResults)||[]).forEach(re=>{const se=re.sloId||"unknown";C.has(se)||C.set(se,{achieved:0,total:0,text:re.sloText});const ue=C.get(se);ue.total++,re.status==="Achieved"&&ue.achieved++})});const L=Array.from(C.entries()).map(([E,z])=>({sloId:E,sloText:z.text,achieved:z.achieved,total:z.total,percentage:z.total>0?z.achieved/z.total*100:0})).sort((E,z)=>z.percentage-E.percentage),D=h.reduce((E,z)=>{if(z.started_at&&z.submitted_at){const H=new Date(z.started_at),re=new Date(z.submitted_at);return E+Math.floor((re.getTime()-H.getTime())/6e4)}return E},0),O=h.slice(0,5).map(E=>{var z;return{date:E.submitted_at||E.created_at,action:"Completed simulation",score:((z=E.score)==null?void 0:z.overall)||0}}),I=new Set(h.map(E=>E.assignment_id)),B=new Set(v.map(E=>E.assignment_id)),F=f.filter(E=>I.has(E.id)).length,U=f.filter(E=>B.has(E.id)&&!I.has(E.id)).length,K=f.length-F-U,{data:V}=await Le.from("competencies").select("id, domain, level, description"),{data:M}=await Le.from("slo").select("id, competency_id, text"),Z=new Map;M==null||M.forEach(E=>{E.competency_id&&Z.set(E.id,E.competency_id)});const ne=new Map;V==null||V.forEach(E=>{ne.set(E.id,{competency:E.id,domain:E.domain,level:E.level||null,description:E.description,totalAttempts:0,achievedAttempts:0,assignments:[]})}),h.forEach(E=>{var pe,xe;if(!f.find(he=>he.id===E.assignment_id))return;const H=(pe=E.assignments)==null?void 0:pe.case_snapshots;if(!(H!=null&&H.clinical_case))return;const re=H.clinical_case,se=re.sloMappings||[],ue=re.title||"Untitled Assignment",me=((xe=E.score)==null?void 0:xe.sloResults)||[],oe=new Set(me.filter(he=>he.status==="Achieved").map(he=>he.sloId));se.forEach(he=>{const Ce=Z.get(he);if(!Ce)return;const ie=ne.get(Ce);ie&&(ie.totalAttempts++,oe.has(he)&&ie.achievedAttempts++,ie.assignments.includes(ue)||ie.assignments.push(ue))})});const ae=Array.from(ne.values()).filter(E=>E.totalAttempts>0).map(E=>({competency:E.competency,domain:E.domain,level:E.level,description:E.description,progress:E.totalAttempts>0?Math.round(E.achievedAttempts/E.totalAttempts*100):0,totalAttempts:E.totalAttempts,achievedAttempts:E.achievedAttempts,assignments:E.assignments})).sort((E,z)=>z.progress-E.progress);r({totalAssignments:f.length,completedAssignments:F,pendingAssignments:K,inProgressAssignments:U,totalAttempts:(p==null?void 0:p.length)||0,averageScore:Math.round(x),bestScore:Math.round(y),improvementTrend:Math.round(k*10)/10,sloProgress:L,recentActivity:O,timeSpent:D,competencyProgress:ae})}catch(c){console.error("Error loading analytics:",c)}finally{i(!1)}};if(n)return d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(!e)return d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 p-4",children:d.jsx("p",{children:"Unable to load analytics data."})});const l=e.totalAssignments>0?e.completedAssignments/e.totalAssignments*100:0;return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Analytics"}),d.jsx("p",{className:"text-gray-600",children:"Track your progress and performance"})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Dh,{className:"w-5 h-5 text-primary-600"}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[l.toFixed(0),"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completion Rate"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Wa,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[e.averageScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(lm,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[e.bestScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Kc,{className:"w-5 h-5 text-blue-600"}),d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.timeSpent})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Minutes Practiced"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(co,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Progress Overview"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),d.jsxs("span",{className:"text-sm font-semibold",children:[e.completedAssignments,"/",e.totalAssignments]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-green-600 h-3 rounded-full transition-all",style:{width:`${l}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"In Progress"}),d.jsx("span",{className:"text-sm font-semibold",children:e.inProgressAssignments})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-yellow-600 h-3 rounded-full transition-all",style:{width:`${e.totalAssignments>0?e.inProgressAssignments/e.totalAssignments*100:0}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Pending"}),d.jsx("span",{className:"text-sm font-semibold",children:e.pendingAssignments})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gray-400 h-3 rounded-full transition-all",style:{width:`${e.totalAssignments>0?e.pendingAssignments/e.totalAssignments*100:0}%`}})})]})]})]}),a.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Wa,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Score Trend (Last 10 Attempts)"})]}),d.jsx(i1e,{data:a})]}),e.improvementTrend!==0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Wa,{className:`w-5 h-5 ${e.improvementTrend>0?"text-green-600":"text-red-600"}`}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Performance Trend"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:`text-3xl font-bold ${e.improvementTrend>0?"text-green-600":"text-red-600"}`,children:[e.improvementTrend>0?"+":"",e.improvementTrend.toFixed(1),"%"]}),d.jsxs("div",{className:"text-gray-600",children:[e.improvementTrend>0?"Improving":"Declining"," compared to previous attempts"]})]})]}),e.sloProgress.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Dh,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"SLO Achievement"})]}),d.jsx("div",{className:"space-y-4",children:e.sloProgress.slice(0,5).map((c,u)=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.sloId}),c.sloText&&d.jsx("div",{className:"text-sm text-gray-600",children:c.sloText})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[c.percentage>=70?d.jsx(ps,{className:"w-5 h-5 text-green-600"}):d.jsx(Ac,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("span",{className:"font-semibold",children:[c.percentage.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${c.percentage>=70?"bg-green-600":"bg-yellow-600"}`,style:{width:`${c.percentage}%`}})}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Achieved ",c.achieved," out of ",c.total," attempts"]})]},u))})]}),e.recentActivity.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(bU,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"})]}),d.jsx("div",{className:"space-y-3",children:e.recentActivity.map((c,u)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(cf,{className:"w-4 h-4 text-gray-400"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.action}),d.jsx("div",{className:"text-sm text-gray-500",children:new Date(c.date).toLocaleDateString()})]})]}),c.score!==void 0&&d.jsxs("div",{className:"font-semibold text-primary-600",children:[c.score.toFixed(0),"%"]})]},u))})]}),e.competencyProgress.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Dh,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Competency Progress"})]}),d.jsx("div",{className:"space-y-4",children:e.competencyProgress.slice(0,8).map((c,u)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.competency}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:c.description}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:c.domain}),c.level&&d.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded",children:c.level})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[c.progress>=70?d.jsx(ps,{className:"w-5 h-5 text-green-600"}):c.progress>=50?d.jsx(Ac,{className:"w-5 h-5 text-yellow-600"}):d.jsx(Ac,{className:"w-5 h-5 text-red-600"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[c.progress,"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${c.progress>=70?"bg-green-600":c.progress>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${c.progress}%`}})}),d.jsxs("div",{className:"text-xs text-gray-500",children:["Achieved ",c.achievedAttempts," out of ",c.totalAttempts," attempts",c.assignments.length>0&&d.jsxs("span",{className:"ml-2",children:[" ",c.assignments.length," assignment",c.assignments.length!==1?"s":""]})]})]},u))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Assignment Status"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Assignments"}),d.jsx("span",{className:"font-semibold",children:e.totalAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Completed"}),d.jsx("span",{className:"font-semibold text-green-600",children:e.completedAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"In Progress"}),d.jsx("span",{className:"font-semibold text-yellow-600",children:e.inProgressAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Pending"}),d.jsx("span",{className:"font-semibold text-gray-600",children:e.pendingAssignments})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Stats"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Attempts"}),d.jsx("span",{className:"font-semibold",children:e.totalAttempts})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Average Score"}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[e.averageScore,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Best Score"}),d.jsxs("span",{className:"font-semibold text-yellow-600",children:[e.bestScore,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Time Practiced"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:[e.timeSpent," min"]})]})]})]})]})]}),d.jsx(Mn,{role:"student"})]})}function s1e({user:t}){const e=vo(),[r,n]=X.useState({totalFaculty:0,totalStudents:0,activeStations:0,coverage:0}),[i,a]=X.useState(!0);X.useEffect(()=>{o()},[]);const s=async()=>{try{const{data:l}=await Le.from("users").select("id, name, email, role, created_at"),{data:c}=await Le.from("stations").select("id, title, created_at"),{data:u}=await Le.from("case_snapshots").select("id, approved_at"),{data:f}=await Le.from("assignments").select("id, created_at"),{data:p}=await Le.from("simulation_runs").select("id, score, submitted_at").not("submitted_at","is",null),{data:h}=await Le.from("competencies").select("id, domain, level"),v=(l==null?void 0:l.filter(P=>P.role==="faculty").length)||0,g=(l==null?void 0:l.filter(P=>P.role==="student").length)||0,x=(p==null?void 0:p.filter(P=>P.submitted_at))||[],y=x.map(P=>{var C;return((C=P.score)==null?void 0:C.overall)||0}).filter(P=>P>0),w=y.length>0?y.reduce((P,C)=>P+C,0)/y.length:0,_={generatedAt:new Date().toISOString(),summary:{totalUsers:(l==null?void 0:l.length)||0,totalFaculty:v,totalStudents:g,totalStations:(c==null?void 0:c.length)||0,totalSnapshots:(u==null?void 0:u.length)||0,totalAssignments:(f==null?void 0:f.length)||0,totalCompletions:x.length,averageScore:Math.round(w),totalCompetencies:(h==null?void 0:h.length)||0},userBreakdown:{faculty:l==null?void 0:l.filter(P=>P.role==="faculty").map(P=>({name:P.name,email:P.email,joined:P.created_at})),students:l==null?void 0:l.filter(P=>P.role==="student").map(P=>({name:P.name,email:P.email,joined:P.created_at}))},performance:{totalAttempts:x.length,averageScore:Math.round(w),completionRate:f&&f.length>0?Math.round(x.length/f.length*100):0}},A=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),S=URL.createObjectURL(A),k=document.createElement("a");k.href=S,k.download=`system-report-${new Date().toISOString().split("T")[0]}.json`,k.click(),e.success("Report exported successfully!")}catch(l){e.error("Error exporting report: "+(l.message||"Unknown error")),console.error("Error exporting report:",l)}},o=async()=>{try{const{data:l}=await Le.from("users").select("role"),c=(l==null?void 0:l.filter(A=>A.role==="faculty").length)||0,u=(l==null?void 0:l.filter(A=>A.role==="student").length)||0,{data:f}=await Le.from("stations").select("id"),{data:p}=await Le.from("competencies").select("id"),{data:h}=await Le.from("slo").select("id, competency_id"),v=new Map;h==null||h.forEach(A=>{A.competency_id&&v.set(A.id,A.competency_id)});const{data:g}=await Le.from("case_snapshots").select("clinical_case"),x=new Set;g==null||g.forEach(A=>{var k;(((k=A.clinical_case)==null?void 0:k.sloMappings)||[]).forEach(P=>{const C=v.get(P);C&&x.add(C)})});const y=(p==null?void 0:p.length)||0,w=x.size,_=y>0?Math.round(w/y*100):0;n({totalFaculty:c,totalStudents:u,activeStations:(f==null?void 0:f.length)||0,coverage:_})}catch(l){console.error("Error loading stats:",l)}finally{a(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Admin Dashboard"}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Faculty"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.totalFaculty})]}),d.jsx(Ic,{className:"w-8 h-8 text-blue-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.totalStudents})]}),d.jsx(Ic,{className:"w-8 h-8 text-green-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Active Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.activeStations})]}),d.jsx(va,{className:"w-8 h-8 text-purple-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"CBDC Coverage"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[r.coverage,"%"]})]}),d.jsx(co,{className:"w-8 h-8 text-orange-600"})]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),d.jsx("div",{className:"flex gap-4",children:d.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(od,{className:"w-4 h-4"}),"Export System Report"]})})]})]})]})})]})}function o1e({isOpen:t,onClose:e,onSave:r}){const[n,i]=X.useState({id:"",domain:"",level:"",description:""}),[a,s]=X.useState(!1),[o,l]=X.useState(null);if(!t)return null;const c=async u=>{if(u.preventDefault(),l(null),!n.id.trim()||!n.domain.trim()||!n.description.trim()){l("ID, Domain, and Description are required");return}s(!0);try{await r({id:n.id.trim(),domain:n.domain.trim(),level:n.level.trim()||null,description:n.description.trim()}),i({id:"",domain:"",level:"",description:""}),e()}catch(f){l(f.message||"Failed to save competency")}finally{s(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Competency"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(uf,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[o&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:o}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:n.id,onChange:u=>i({...n,id:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Domain ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:n.domain,onChange:u=>i({...n,domain:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),d.jsx("input",{type:"text",value:n.level,onChange:u=>i({...n,level:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:n.description,onChange:u=>i({...n,description:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Saving...":"Save"})]})]})]})})}function l1e({isOpen:t,onClose:e,competency:r,onSave:n}){const[i,a]=X.useState({id:"",domain:"",level:"",description:""}),[s,o]=X.useState(!1),[l,c]=X.useState(null);if(X.useEffect(()=>{r&&a({id:r.id,domain:r.domain,level:r.level||"",description:r.description})},[r]),!t||!r)return null;const u=async f=>{if(f.preventDefault(),c(null),!i.domain.trim()||!i.description.trim()){c("Domain and Description are required");return}o(!0);try{await n({id:i.id,domain:i.domain.trim(),level:i.level.trim()||null,description:i.description.trim()}),e()}catch(p){c(p.message||"Failed to update competency")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Competency"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(uf,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),d.jsx("input",{type:"text",value:i.id,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ID cannot be changed"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Domain ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i.domain,onChange:f=>a({...i,domain:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),d.jsx("input",{type:"text",value:i.level,onChange:f=>a({...i,level:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:i.description,onChange:f=>a({...i,description:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Update"})]})]})]})})}function c1e({user:t}){const e=vo(),[r,n]=X.useState([]),[i,a]=X.useState(!0),[s,o]=X.useState(!1),[l,c]=X.useState(null);X.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:g,error:x}=await Le.from("competencies").select("*").order("id");if(x)throw x;n(g||[])}catch(g){console.error("Error loading competencies:",g)}finally{a(!1)}},f=()=>{const g=[["ID","Domain","Level","Description"],...r.map(_=>[_.id,_.domain,_.level||"",_.description])].map(_=>_.map(A=>`"${A}"`).join(",")).join(`
`),x=new Blob([g],{type:"text/csv"}),y=URL.createObjectURL(x),w=document.createElement("a");w.href=y,w.download="cbdc-competencies.csv",w.click()},p=async g=>{const{error:x}=await Le.from("competencies").insert([g]);if(x)throw x;await u()},h=async g=>{const{error:x}=await Le.from("competencies").update({domain:g.domain,level:g.level,description:g.description}).eq("id",g.id);if(x)throw x;await u()},v=async g=>{if(!confirm(`Are you sure you want to delete competency "${g}"? This action cannot be undone.`))return;const{error:x}=await Le.from("competencies").delete().eq("id",g);if(x){e.error("Error deleting competency: "+x.message);return}await u()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CBDC Manager"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[d.jsx(od,{className:"w-4 h-4"}),"Export CSV"]}),d.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(cm,{className:"w-4 h-4"}),"Add Competency"]})]})]}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Domain"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(g=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.id}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.domain}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.level||"-"}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:g.description}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d.jsx("button",{onClick:()=>c(g),className:"text-primary-600 hover:text-primary-900 mr-4",title:"Edit competency",children:d.jsx(q_,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>v(g.id),className:"text-red-600 hover:text-red-900",title:"Delete competency",children:d.jsx(CU,{className:"w-4 h-4"})})]})]},g.id))})]})})]})}),d.jsx(o1e,{isOpen:s,onClose:()=>o(!1),onSave:p}),d.jsx(l1e,{isOpen:l!==null,onClose:()=>c(null),competency:l,onSave:h})]})}function u1e({isOpen:t,onClose:e,user:r,onSave:n}){const[i,a]=X.useState({name:"",email:"",role:"student"}),[s,o]=X.useState(!1),[l,c]=X.useState(null);if(X.useEffect(()=>{r&&a({name:r.name,email:r.email,role:r.role})},[r]),!t||!r)return null;const u=async f=>{if(f.preventDefault(),c(null),!i.name.trim()||!i.email.trim()){c("Name and Email are required");return}o(!0);try{await n({id:r.id,name:i.name.trim(),email:i.email.trim(),role:i.role}),e()}catch(p){c(p.message||"Failed to update user")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit User"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(uf,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i.name,onChange:f=>a({...i,name:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"email",value:i.email,onChange:f=>a({...i,email:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{value:i.role,onChange:f=>a({...i,role:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Update"})]})]})]})})}function d1e({user:t}){const[e,r]=X.useState([]),[n,i]=X.useState(!0),[a,s]=X.useState(""),[o,l]=X.useState(null);X.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:h,error:v}=await Le.from("users").select("*").order("created_at",{ascending:!1});if(v)throw v;r(h||[])}catch(h){console.error("Error loading users:",h)}finally{i(!1)}},u=e.filter(h=>h.name.toLowerCase().includes(a.toLowerCase())||h.email.toLowerCase().includes(a.toLowerCase())),f=h=>{switch(h){case"admin":return"bg-red-100 text-red-800";case"faculty":return"bg-blue-100 text-blue-800";case"student":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},p=async h=>{const{error:v}=await Le.from("users").update({name:h.name,email:h.email,role:h.role}).eq("id",h.id);if(v)throw v;await c()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"User Management"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(W_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:h=>s(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),n?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(h=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(ms,{className:"w-5 h-5 text-gray-400 mr-2"}),d.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.email}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${f(h.role)}`,children:h.role})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(h.created_at).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>l(h),className:"text-primary-600 hover:text-primary-900",title:"Edit user",children:d.jsx(q_,{className:"w-4 h-4"})})})]},h.id))})]})})]})}),d.jsx(u1e,{isOpen:o!==null,onClose:()=>l(null),user:o,onSave:p})]})}function f1e({user:t}){const e=vo(),[r,n]=X.useState([]),[i,a]=X.useState(null);X.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:c,error:u}=await Le.from("reports").select("*").order("created_at",{ascending:!1}).limit(10);if(u)throw u;n(c||[])}catch(c){console.error("Error loading reports:",c)}},o=async c=>{a(c);try{const u=new Date;let f,p=new Date(u);if(c==="quarterly"){const U=Math.floor(u.getMonth()/3);f=new Date(u.getFullYear(),U*3,1)}else f=new Date(u.getFullYear(),0,1);const{data:h}=await Le.from("competencies").select("*"),{data:v}=await Le.from("stations").select("id, title, blueprint"),{data:g}=await Le.from("case_snapshots").select("id, clinical_case, approved_at").gte("approved_at",f.toISOString()).lte("approved_at",p.toISOString()),{data:x}=await Le.from("assignments").select("id, snapshot_id, created_at").gte("created_at",f.toISOString()).lte("created_at",p.toISOString()),y=(x==null?void 0:x.map(U=>U.id))||[],{data:w}=await Le.from("simulation_runs").select("id, score, submitted_at").in("assignment_id",y).not("submitted_at","is",null),_=new Set;g==null||g.forEach(U=>{var V;(((V=U.clinical_case)==null?void 0:V.sloMappings)||[]).forEach(M=>{_.add(M)})});const A=(h==null?void 0:h.length)||0,S=_.size,k=A>0?Math.round(S/A*100):0,P=(w==null?void 0:w.filter(U=>U.submitted_at))||[],C=P.map(U=>{var K;return((K=U.score)==null?void 0:K.overall)||0}).filter(U=>U>0),L=C.length>0?C.reduce((U,K)=>U+K,0)/C.length:0,D={summary:{period:c==="quarterly"?"Quarterly":"Annual",periodStart:f.toISOString().split("T")[0],periodEnd:p.toISOString().split("T")[0],generatedAt:new Date().toISOString()},metrics:{totalCompetencies:A,coveredCompetencies:S,coverage:k,totalStations:(v==null?void 0:v.length)||0,totalSnapshots:(g==null?void 0:g.length)||0,totalAssignments:(x==null?void 0:x.length)||0,totalCompletions:P.length,averageScore:Math.round(L)},stationDistribution:{total:(v==null?void 0:v.length)||0,bySubject:{}},studentPerformance:{totalAttempts:P.length,averageScore:Math.round(L),completionRate:x&&x.length>0?Math.round(P.length/x.length*100):0},sloAchievement:{total:0,achieved:0,percentage:0}},{error:O}=await Le.from("reports").insert([{type:c,period_start:f.toISOString().split("T")[0],period_end:p.toISOString().split("T")[0],report_data:D,generated_by:t.id}]);if(O)throw O;const I=new Blob([JSON.stringify(D,null,2)],{type:"application/json"}),B=URL.createObjectURL(I),F=document.createElement("a");F.href=B,F.download=`${c}-report-${f.toISOString().split("T")[0]}.json`,F.click(),await s(),e.success("Report generated successfully!")}catch(u){e.error("Error generating report: "+(u.message||"Unknown error")),console.error("Error generating report:",u)}finally{a(null)}},l=c=>{try{const u=c.report_data;let f=`Compliance Report
`;f+=`Type,${c.type}
`,f+=`Period,${c.period_start} to ${c.period_end}
`,f+=`Generated,${new Date(c.created_at).toLocaleString()}

`,f+=`Metrics
`,f+=`Metric,Value
`,u.metrics&&(f+=`CBDC Coverage,${u.metrics.coverage}%
`,f+=`Total Stations,${u.metrics.totalStations}
`,f+=`Total Snapshots,${u.metrics.totalSnapshots}
`,f+=`Total Assignments,${u.metrics.totalAssignments}
`,f+=`Total Completions,${u.metrics.totalCompletions}
`,f+=`Average Score,${u.metrics.averageScore}%
`),f+=`
Student Performance
`,f+=`Metric,Value
`,u.studentPerformance&&(f+=`Total Attempts,${u.studentPerformance.totalAttempts}
`,f+=`Average Score,${u.studentPerformance.averageScore}%
`,f+=`Completion Rate,${u.studentPerformance.completionRate}%
`);const p=new Blob([f],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(p),v=document.createElement("a");v.href=h,v.download=`${c.type}-report-${c.period_start}.csv`,v.click(),URL.revokeObjectURL(h),e.success("CSV exported successfully!")}catch(u){e.error("Error exporting CSV: "+(u.message||"Unknown error"))}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Compliance Reports"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Quarterly Report"}),d.jsx(va,{className:"w-8 h-8 text-blue-600"})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Generate a comprehensive quarterly compliance report covering all competencies and stations."}),d.jsx("button",{onClick:()=>o("quarterly"),disabled:i!==null,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i==="quarterly"?d.jsxs(d.Fragment,{children:[d.jsx(Sd,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(od,{className:"w-4 h-4"}),"Generate Quarterly Report"]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Annual Report"}),d.jsx(Wa,{className:"w-8 h-8 text-green-600"})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Generate an annual compliance report with year-over-year trends and analytics."}),d.jsx("button",{onClick:()=>o("annual"),disabled:i!==null,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i==="annual"?d.jsxs(d.Fragment,{children:[d.jsx(Sd,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(od,{className:"w-4 h-4"}),"Generate Annual Report"]})})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Report History"}),r.length===0?d.jsx("p",{className:"text-gray-600",children:"No reports generated yet."}):d.jsx("div",{className:"space-y-3",children:r.map(c=>{var u;return d.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded ${c.type==="quarterly"?"bg-blue-100":"bg-green-100"}`,children:c.type==="quarterly"?d.jsx(va,{className:"w-5 h-5 text-blue-600"}):d.jsx(Wa,{className:"w-5 h-5 text-green-600"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium text-gray-900 capitalize",children:[c.type," Report"]}),d.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[d.jsx(cf,{className:"w-4 h-4"}),new Date(c.period_start).toLocaleDateString()," - ",new Date(c.period_end).toLocaleDateString()]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"text-sm text-gray-500",children:new Date(c.created_at).toLocaleDateString()}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>{const f=new Blob([JSON.stringify(c.report_data,null,2)],{type:"application/json"}),p=URL.createObjectURL(f),h=document.createElement("a");h.href=p,h.download=`${c.type}-report-${c.period_start}.json`,h.click()},className:"p-2 text-primary-600 hover:bg-primary-50 rounded transition-colors",title:"Download JSON",children:d.jsx(od,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>l(c),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Export to CSV",children:d.jsx(wU,{className:"w-4 h-4"})})]})]})]}),((u=c.report_data)==null?void 0:u.metrics)&&d.jsxs("div",{className:"mt-3 pt-3 border-t grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Coverage"}),d.jsxs("div",{className:"font-semibold text-gray-900",children:[c.report_data.metrics.coverage,"%"]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Stations"}),d.jsx("div",{className:"font-semibold text-gray-900",children:c.report_data.metrics.totalStations})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Completions"}),d.jsx("div",{className:"font-semibold text-gray-900",children:c.report_data.metrics.totalCompletions})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Avg Score"}),d.jsxs("div",{className:"font-semibold text-gray-900",children:[c.report_data.metrics.averageScore,"%"]})]})]})]},c.id)})})]})]})}),d.jsx(gl,{toasts:e.toasts,onClose:e.removeToast})]})}function h1e(){return d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})})}class p1e extends X.Component{constructor(){super(...arguments);Jt(this,"state",{hasError:!1,error:null});Jt(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),window.location.href="/"})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}render(){var r;return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[d.jsx(jy,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-gray-600 mb-4",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred"}),d.jsxs("button",{onClick:this.handleReset,className:"flex items-center justify-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors mx-auto",children:[d.jsx(kU,{className:"w-4 h-4"}),"Return to Home"]})]})}):this.props.children}}const mE={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmN1c2ZzcHBqeWFsYmdxdHh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NjI2NjYsImV4cCI6MjA3ODQzODY2Nn0.DMugE2X3gBvcRBXt-NqWceWQB2Vmi9kbavEE6MEjAmI",VITE_SUPABASE_URL:"https://kivcusfsppjyalbgqtxy.supabase.co"};function m1e(){const[t,e]=X.useState(null),[r,n]=X.useState(!0);X.useEffect(()=>{Le.auth.getSession().then(({data:{session:l}})=>{l?i():n(!1)});const{data:{subscription:o}}=Le.auth.onAuthStateChange((l,c)=>{c?i():(e(null),n(!1))});return()=>o.unsubscribe()},[]);const i=async()=>{var o,l,c;try{const{data:{user:u}}=await Le.auth.getUser();if(!u){n(!1);return}const{data:f,error:p}=await Le.from("users").select("*").eq("id",u.id).single();if(p&&p.code==="PGRST116"){const{data:h}=await Le.from("users").insert({id:u.id,name:((o=u.user_metadata)==null?void 0:o.name)||((l=u.email)==null?void 0:l.split("@")[0])||"User",email:u.email,role:((c=u.user_metadata)==null?void 0:c.role)||"student"}).select().single();e(h)}else f&&e(f)}catch(u){console.error("Error loading user:",u)}finally{n(!1)}};if(r)return d.jsx(h1e,{});if(!t)return d.jsx(gU,{onAuthSuccess:i});const s=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"].filter(o=>!mE[o]||mE[o].trim()==="");return s.length>0?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Configuration Error"}),d.jsx("p",{className:"text-gray-700 mb-4",children:"The following required environment variables are missing:"}),d.jsx("ul",{className:"list-disc list-inside text-gray-600 mb-4 space-y-1",children:s.map(o=>d.jsx("li",{children:o},o))}),d.jsx("p",{className:"text-sm text-gray-500",children:"Please set these variables in your .env file and restart the application."})]})}):d.jsx(p1e,{children:d.jsxs(H9,{children:[d.jsxs(D9,{children:[t.role==="faculty"&&d.jsxs(d.Fragment,{children:[d.jsx(tn,{path:"/dashboard",element:d.jsx(LU,{user:t})}),d.jsx(tn,{path:"/create",element:d.jsx($U,{user:t})}),d.jsx(tn,{path:"/review/:stationId",element:d.jsx(cz,{user:t})}),d.jsx(tn,{path:"/assign/:snapshotId",element:d.jsx(uz,{user:t})}),d.jsx(tn,{path:"/library",element:d.jsx(dz,{user:t})}),d.jsx(tn,{path:"/analytics",element:d.jsx(Kge,{user:t})}),d.jsx(tn,{path:"/profile",element:d.jsx(Yge,{user:t})})]}),t.role==="student"&&d.jsxs(d.Fragment,{children:[d.jsx(tn,{path:"/home",element:d.jsx(ZO,{user:t})}),d.jsx(tn,{path:"/assigned",element:d.jsx(ZO,{user:t})}),d.jsx(tn,{path:"/analytics",element:d.jsx(a1e,{user:t})}),d.jsx(tn,{path:"/simulation/:assignmentId",element:d.jsx(n0e,{user:t})}),d.jsx(tn,{path:"/debrief/:runId",element:d.jsx(t1e,{user:t})}),d.jsx(tn,{path:"/results",element:d.jsx(r1e,{user:t})}),d.jsx(tn,{path:"/profile",element:d.jsx(n1e,{user:t})})]}),t.role==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx(tn,{path:"/admin/dashboard",element:d.jsx(s1e,{user:t})}),d.jsx(tn,{path:"/admin/reports",element:d.jsx(f1e,{user:t})}),d.jsx(tn,{path:"/admin/cbdc",element:d.jsx(c1e,{user:t})}),d.jsx(tn,{path:"/admin/users",element:d.jsx(d1e,{user:t})})]}),d.jsx(tn,{path:"/",element:d.jsx(R9,{to:t.role==="faculty"?"/dashboard":t.role==="admin"?"/admin/dashboard":"/home",replace:!0})})]}),t&&(t.role==="student"||t.role==="faculty")&&d.jsx(Mn,{role:t.role})]})})}$x.createRoot(document.getElementById("root")).render(d.jsx(le.StrictMode,{children:d.jsx(m1e,{})}));export{nr as _,rg as c,ar as g};
