var N9=Object.defineProperty;var A9=(e,t,r)=>t in e?N9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var sr=(e,t,r)=>A9(e,typeof t!="symbol"?t+"":t,r);function UC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var _l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function k9(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var zC={exports:{}},Jv={},qC={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm=Symbol.for("react.element"),E9=Symbol.for("react.portal"),O9=Symbol.for("react.fragment"),P9=Symbol.for("react.strict_mode"),C9=Symbol.for("react.profiler"),T9=Symbol.for("react.provider"),I9=Symbol.for("react.context"),L9=Symbol.for("react.forward_ref"),R9=Symbol.for("react.suspense"),$9=Symbol.for("react.memo"),M9=Symbol.for("react.lazy"),xA=Symbol.iterator;function D9(e){return e===null||typeof e!="object"?null:(e=xA&&e[xA]||e["@@iterator"],typeof e=="function"?e:null)}var HC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WC=Object.assign,VC={};function Of(e,t,r){this.props=e,this.context=t,this.refs=VC,this.updater=r||HC}Of.prototype.isReactComponent={};Of.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Of.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function GC(){}GC.prototype=Of.prototype;function Z_(e,t,r){this.props=e,this.context=t,this.refs=VC,this.updater=r||HC}var Q_=Z_.prototype=new GC;Q_.constructor=Z_;WC(Q_,Of.prototype);Q_.isPureReactComponent=!0;var wA=Array.isArray,KC=Object.prototype.hasOwnProperty,eS={current:null},YC={key:!0,ref:!0,__self:!0,__source:!0};function XC(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)KC.call(t,n)&&!YC.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Bm,type:e,key:a,ref:s,props:i,_owner:eS.current}}function B9(e,t){return{$$typeof:Bm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bm}function F9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _A=/\/+/g;function Yb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?F9(""+e.key):t.toString(36)}function F0(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Bm:case E9:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Yb(s,0):n,wA(i)?(r="",e!=null&&(r=e.replace(_A,"$&/")+"/"),F0(i,t,r,"",function(c){return c})):i!=null&&(tS(i)&&(i=B9(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(_A,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",wA(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+Yb(a,o);s+=F0(a,t,r,l,i)}else if(l=D9(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+Yb(a,o++),s+=F0(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function zg(e,t,r){if(e==null)return e;var n=[],i=0;return F0(e,n,"","",function(a){return t.call(r,a,i++)}),n}function U9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ai={current:null},U0={transition:null},z9={ReactCurrentDispatcher:Ai,ReactCurrentBatchConfig:U0,ReactCurrentOwner:eS};function JC(){throw Error("act(...) is not supported in production builds of React.")}Vt.Children={map:zg,forEach:function(e,t,r){zg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zg(e,function(){t++}),t},toArray:function(e){return zg(e,function(t){return t})||[]},only:function(e){if(!tS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vt.Component=Of;Vt.Fragment=O9;Vt.Profiler=C9;Vt.PureComponent=Z_;Vt.StrictMode=P9;Vt.Suspense=R9;Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z9;Vt.act=JC;Vt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=WC({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=eS.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)KC.call(t,l)&&!YC.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Bm,type:e.type,key:i,ref:a,props:n,_owner:s}};Vt.createContext=function(e){return e={$$typeof:I9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:T9,_context:e},e.Consumer=e};Vt.createElement=XC;Vt.createFactory=function(e){var t=XC.bind(null,e);return t.type=e,t};Vt.createRef=function(){return{current:null}};Vt.forwardRef=function(e){return{$$typeof:L9,render:e}};Vt.isValidElement=tS;Vt.lazy=function(e){return{$$typeof:M9,_payload:{_status:-1,_result:e},_init:U9}};Vt.memo=function(e,t){return{$$typeof:$9,type:e,compare:t===void 0?null:t}};Vt.startTransition=function(e){var t=U0.transition;U0.transition={};try{e()}finally{U0.transition=t}};Vt.unstable_act=JC;Vt.useCallback=function(e,t){return Ai.current.useCallback(e,t)};Vt.useContext=function(e){return Ai.current.useContext(e)};Vt.useDebugValue=function(){};Vt.useDeferredValue=function(e){return Ai.current.useDeferredValue(e)};Vt.useEffect=function(e,t){return Ai.current.useEffect(e,t)};Vt.useId=function(){return Ai.current.useId()};Vt.useImperativeHandle=function(e,t,r){return Ai.current.useImperativeHandle(e,t,r)};Vt.useInsertionEffect=function(e,t){return Ai.current.useInsertionEffect(e,t)};Vt.useLayoutEffect=function(e,t){return Ai.current.useLayoutEffect(e,t)};Vt.useMemo=function(e,t){return Ai.current.useMemo(e,t)};Vt.useReducer=function(e,t,r){return Ai.current.useReducer(e,t,r)};Vt.useRef=function(e){return Ai.current.useRef(e)};Vt.useState=function(e){return Ai.current.useState(e)};Vt.useSyncExternalStore=function(e,t,r){return Ai.current.useSyncExternalStore(e,t,r)};Vt.useTransition=function(){return Ai.current.useTransition()};Vt.version="18.3.1";qC.exports=Vt;var X=qC.exports;const le=lr(X),q9=UC({__proto__:null,default:le},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H9=X,W9=Symbol.for("react.element"),V9=Symbol.for("react.fragment"),G9=Object.prototype.hasOwnProperty,K9=H9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y9={key:!0,ref:!0,__self:!0,__source:!0};function ZC(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)G9.call(t,n)&&!Y9.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:W9,type:e,key:a,ref:s,props:i,_owner:K9.current}}Jv.Fragment=V9;Jv.jsx=ZC;Jv.jsxs=ZC;zC.exports=Jv;var d=zC.exports,z2={},QC={exports:{}},ma={},eT={exports:{}},tT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,J){var $=B.length;B.push(J);e:for(;0<$;){var ae=$-1>>>1,T=B[ae];if(0<i(T,J))B[ae]=J,B[$]=T,$=ae;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var J=B[0],$=B.pop();if($!==J){B[0]=$;e:for(var ae=0,T=B.length,C=T>>>1;ae<C;){var K=2*(ae+1)-1,Q=B[K],ie=K+1,ue=B[ie];if(0>i(Q,$))ie<T&&0>i(ue,Q)?(B[ae]=ue,B[ie]=$,ae=ie):(B[ae]=Q,B[K]=$,ae=K);else if(ie<T&&0>i(ue,$))B[ae]=ue,B[ie]=$,ae=ie;else break e}}return J}function i(B,J){var $=B.sortIndex-J.sortIndex;return $!==0?$:B.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,p=3,h=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var J=r(c);J!==null;){if(J.callback===null)n(c);else if(J.startTime<=B)n(c),J.sortIndex=J.expirationTime,t(l,J);else break;J=r(c)}}function N(B){if(g=!1,_(B),!y)if(r(l)!==null)y=!0,V(S);else{var J=r(c);J!==null&&W(N,J.startTime-B)}}function S(B,J){y=!1,g&&(g=!1,v(I),I=-1),h=!0;var $=p;try{for(_(J),f=r(l);f!==null&&(!(f.expirationTime>J)||B&&!k());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,p=f.priorityLevel;var T=ae(f.expirationTime<=J);J=e.unstable_now(),typeof T=="function"?f.callback=T:f===r(l)&&n(l),_(J)}else n(l);f=r(l)}if(f!==null)var C=!0;else{var K=r(c);K!==null&&W(N,K.startTime-J),C=!1}return C}finally{f=null,p=$,h=!1}}var j=!1,O=null,I=-1,L=5,F=-1;function k(){return!(e.unstable_now()-F<L)}function P(){if(O!==null){var B=e.unstable_now();F=B;var J=!0;try{J=O(!0,B)}finally{J?D():(j=!1,O=null)}}else j=!1}var D;if(typeof w=="function")D=function(){w(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,U=M.port2;M.port1.onmessage=P,D=function(){U.postMessage(null)}}else D=function(){b(P,0)};function V(B){O=B,j||(j=!0,D())}function W(B,J){I=b(function(){B(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){y||h||(y=!0,V(S))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(B){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var $=p;p=J;try{return B()}finally{p=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=p;p=B;try{return J()}finally{p=$}},e.unstable_scheduleCallback=function(B,J,$){var ae=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ae+$:ae):$=ae,B){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=$+T,B={id:u++,callback:J,priorityLevel:B,startTime:$,expirationTime:T,sortIndex:-1},$>ae?(B.sortIndex=$,t(c,B),r(l)===null&&B===r(c)&&(g?(v(I),I=-1):g=!0,W(N,$-ae))):(B.sortIndex=T,t(l,B),y||h||(y=!0,V(S))),B},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(B){var J=p;return function(){var $=p;p=J;try{return B.apply(this,arguments)}finally{p=$}}}})(tT);eT.exports=tT;var X9=eT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J9=X,pa=X9;function Ke(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rT=new Set,Pp={};function yu(e,t){qd(e,t),qd(e+"Capture",t)}function qd(e,t){for(Pp[e]=t,e=0;e<t.length;e++)rT.add(t[e])}var Co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),q2=Object.prototype.hasOwnProperty,Z9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SA={},jA={};function Q9(e){return q2.call(jA,e)?!0:q2.call(SA,e)?!1:Z9.test(e)?jA[e]=!0:(SA[e]=!0,!1)}function eB(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tB(e,t,r,n){if(t===null||typeof t>"u"||eB(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ki(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qn[e]=new ki(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qn[t]=new ki(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qn[e]=new ki(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qn[e]=new ki(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qn[e]=new ki(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qn[e]=new ki(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qn[e]=new ki(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qn[e]=new ki(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qn[e]=new ki(e,5,!1,e.toLowerCase(),null,!1,!1)});var rS=/[\-:]([a-z])/g;function nS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rS,nS);Qn[t]=new ki(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rS,nS);Qn[t]=new ki(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rS,nS);Qn[t]=new ki(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qn[e]=new ki(e,1,!1,e.toLowerCase(),null,!1,!1)});Qn.xlinkHref=new ki("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qn[e]=new ki(e,1,!1,e.toLowerCase(),null,!0,!0)});function iS(e,t,r,n){var i=Qn.hasOwnProperty(t)?Qn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tB(t,r,i,n)&&(r=null),n||i===null?Q9(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Bo=J9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qg=Symbol.for("react.element"),ld=Symbol.for("react.portal"),cd=Symbol.for("react.fragment"),aS=Symbol.for("react.strict_mode"),H2=Symbol.for("react.profiler"),nT=Symbol.for("react.provider"),iT=Symbol.for("react.context"),sS=Symbol.for("react.forward_ref"),W2=Symbol.for("react.suspense"),V2=Symbol.for("react.suspense_list"),oS=Symbol.for("react.memo"),pl=Symbol.for("react.lazy"),aT=Symbol.for("react.offscreen"),NA=Symbol.iterator;function Ph(e){return e===null||typeof e!="object"?null:(e=NA&&e[NA]||e["@@iterator"],typeof e=="function"?e:null)}var Vr=Object.assign,Xb;function Qh(e){if(Xb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Xb=t&&t[1]||""}return`
`+Xb+e}var Jb=!1;function Zb(e,t){if(!e||Jb)return"";Jb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Jb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qh(e):""}function rB(e){switch(e.tag){case 5:return Qh(e.type);case 16:return Qh("Lazy");case 13:return Qh("Suspense");case 19:return Qh("SuspenseList");case 0:case 2:case 15:return e=Zb(e.type,!1),e;case 11:return e=Zb(e.type.render,!1),e;case 1:return e=Zb(e.type,!0),e;default:return""}}function G2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cd:return"Fragment";case ld:return"Portal";case H2:return"Profiler";case aS:return"StrictMode";case W2:return"Suspense";case V2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iT:return(e.displayName||"Context")+".Consumer";case nT:return(e._context.displayName||"Context")+".Provider";case sS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oS:return t=e.displayName||null,t!==null?t:G2(e.type)||"Memo";case pl:t=e._payload,e=e._init;try{return G2(e(t))}catch{}}return null}function nB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G2(t);case 8:return t===aS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iB(e){var t=sT(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hg(e){e._valueTracker||(e._valueTracker=iB(e))}function oT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sT(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function oy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function K2(e,t){var r=t.checked;return Vr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function AA(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lT(e,t){t=t.checked,t!=null&&iS(e,"checked",t,!1)}function Y2(e,t){lT(e,t);var r=Bl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?X2(e,t.type,r):t.hasOwnProperty("defaultValue")&&X2(e,t.type,Bl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function X2(e,t,r){(t!=="number"||oy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ep=Array.isArray;function Ad(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bl(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function J2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return Vr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function EA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ke(92));if(ep(r)){if(1<r.length)throw Error(Ke(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bl(r)}}function cT(e,t){var r=Bl(t.value),n=Bl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function OA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wg,dT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wg=Wg||document.createElement("div"),Wg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var sp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aB=["Webkit","ms","Moz","O"];Object.keys(sp).forEach(function(e){aB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sp[t]=sp[e]})});function fT(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||sp.hasOwnProperty(e)&&sp[e]?(""+t).trim():t+"px"}function hT(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=fT(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var sB=Vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Q2(e,t){if(t){if(sB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ke(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ke(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ke(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ke(62))}}function ew(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tw=null;function lS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rw=null,kd=null,Ed=null;function PA(e){if(e=zm(e)){if(typeof rw!="function")throw Error(Ke(280));var t=e.stateNode;t&&(t=r1(t),rw(e.stateNode,e.type,t))}}function pT(e){kd?Ed?Ed.push(e):Ed=[e]:kd=e}function mT(){if(kd){var e=kd,t=Ed;if(Ed=kd=null,PA(e),t)for(e=0;e<t.length;e++)PA(t[e])}}function gT(e,t){return e(t)}function yT(){}var Qb=!1;function vT(e,t,r){if(Qb)return e(t,r);Qb=!0;try{return gT(e,t,r)}finally{Qb=!1,(kd!==null||Ed!==null)&&(yT(),mT())}}function Tp(e,t){var r=e.stateNode;if(r===null)return null;var n=r1(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ke(231,t,typeof r));return r}var nw=!1;if(Co)try{var Ch={};Object.defineProperty(Ch,"passive",{get:function(){nw=!0}}),window.addEventListener("test",Ch,Ch),window.removeEventListener("test",Ch,Ch)}catch{nw=!1}function oB(e,t,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var op=!1,ly=null,cy=!1,iw=null,lB={onError:function(e){op=!0,ly=e}};function cB(e,t,r,n,i,a,s,o,l){op=!1,ly=null,oB.apply(lB,arguments)}function uB(e,t,r,n,i,a,s,o,l){if(cB.apply(this,arguments),op){if(op){var c=ly;op=!1,ly=null}else throw Error(Ke(198));cy||(cy=!0,iw=c)}}function vu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function CA(e){if(vu(e)!==e)throw Error(Ke(188))}function dB(e){var t=e.alternate;if(!t){if(t=vu(e),t===null)throw Error(Ke(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return CA(i),e;if(a===n)return CA(i),t;a=a.sibling}throw Error(Ke(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(Ke(189))}}if(r.alternate!==n)throw Error(Ke(190))}if(r.tag!==3)throw Error(Ke(188));return r.stateNode.current===r?e:t}function xT(e){return e=dB(e),e!==null?wT(e):null}function wT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wT(e);if(t!==null)return t;e=e.sibling}return null}var _T=pa.unstable_scheduleCallback,TA=pa.unstable_cancelCallback,fB=pa.unstable_shouldYield,hB=pa.unstable_requestPaint,sn=pa.unstable_now,pB=pa.unstable_getCurrentPriorityLevel,cS=pa.unstable_ImmediatePriority,ST=pa.unstable_UserBlockingPriority,uy=pa.unstable_NormalPriority,mB=pa.unstable_LowPriority,jT=pa.unstable_IdlePriority,Zv=null,Ms=null;function gB(e){if(Ms&&typeof Ms.onCommitFiberRoot=="function")try{Ms.onCommitFiberRoot(Zv,e,void 0,(e.current.flags&128)===128)}catch{}}var us=Math.clz32?Math.clz32:bB,yB=Math.log,vB=Math.LN2;function bB(e){return e>>>=0,e===0?32:31-(yB(e)/vB|0)|0}var Vg=64,Gg=4194304;function tp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=tp(o):(a&=s,a!==0&&(n=tp(a)))}else s=r&~i,s!==0?n=tp(s):a!==0&&(n=tp(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-us(t),i=1<<r,n|=e[r],t&=~i;return n}function xB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wB(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-us(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=xB(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function aw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function NT(){var e=Vg;return Vg<<=1,!(Vg&4194240)&&(Vg=64),e}function ex(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Fm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-us(t),e[t]=r}function _B(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-us(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function uS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-us(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var gr=0;function AT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kT,dS,ET,OT,PT,sw=!1,Kg=[],El=null,Ol=null,Pl=null,Ip=new Map,Lp=new Map,vl=[],SB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IA(e,t){switch(e){case"focusin":case"focusout":El=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":Pl=null;break;case"pointerover":case"pointerout":Ip.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lp.delete(t.pointerId)}}function Th(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=zm(t),t!==null&&dS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jB(e,t,r,n,i){switch(t){case"focusin":return El=Th(El,e,t,r,n,i),!0;case"dragenter":return Ol=Th(Ol,e,t,r,n,i),!0;case"mouseover":return Pl=Th(Pl,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ip.set(a,Th(Ip.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Lp.set(a,Th(Lp.get(a)||null,e,t,r,n,i)),!0}return!1}function CT(e){var t=Hc(e.target);if(t!==null){var r=vu(t);if(r!==null){if(t=r.tag,t===13){if(t=bT(r),t!==null){e.blockedOn=t,PT(e.priority,function(){ET(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function z0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ow(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);tw=n,r.target.dispatchEvent(n),tw=null}else return t=zm(r),t!==null&&dS(t),e.blockedOn=r,!1;t.shift()}return!0}function LA(e,t,r){z0(e)&&r.delete(t)}function NB(){sw=!1,El!==null&&z0(El)&&(El=null),Ol!==null&&z0(Ol)&&(Ol=null),Pl!==null&&z0(Pl)&&(Pl=null),Ip.forEach(LA),Lp.forEach(LA)}function Ih(e,t){e.blockedOn===t&&(e.blockedOn=null,sw||(sw=!0,pa.unstable_scheduleCallback(pa.unstable_NormalPriority,NB)))}function Rp(e){function t(i){return Ih(i,e)}if(0<Kg.length){Ih(Kg[0],e);for(var r=1;r<Kg.length;r++){var n=Kg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(El!==null&&Ih(El,e),Ol!==null&&Ih(Ol,e),Pl!==null&&Ih(Pl,e),Ip.forEach(t),Lp.forEach(t),r=0;r<vl.length;r++)n=vl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vl.length&&(r=vl[0],r.blockedOn===null);)CT(r),r.blockedOn===null&&vl.shift()}var Od=Bo.ReactCurrentBatchConfig,fy=!0;function AB(e,t,r,n){var i=gr,a=Od.transition;Od.transition=null;try{gr=1,fS(e,t,r,n)}finally{gr=i,Od.transition=a}}function kB(e,t,r,n){var i=gr,a=Od.transition;Od.transition=null;try{gr=4,fS(e,t,r,n)}finally{gr=i,Od.transition=a}}function fS(e,t,r,n){if(fy){var i=ow(e,t,r,n);if(i===null)ux(e,t,n,hy,r),IA(e,n);else if(jB(i,e,t,r,n))n.stopPropagation();else if(IA(e,n),t&4&&-1<SB.indexOf(e)){for(;i!==null;){var a=zm(i);if(a!==null&&kT(a),a=ow(e,t,r,n),a===null&&ux(e,t,n,hy,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else ux(e,t,n,null,r)}}var hy=null;function ow(e,t,r,n){if(hy=null,e=lS(n),e=Hc(e),e!==null)if(t=vu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bT(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hy=e,null}function TT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pB()){case cS:return 1;case ST:return 4;case uy:case mB:return 16;case jT:return 536870912;default:return 16}default:return 16}}var Sl=null,hS=null,q0=null;function IT(){if(q0)return q0;var e,t=hS,r=t.length,n,i="value"in Sl?Sl.value:Sl.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return q0=i.slice(e,1<n?1-n:void 0)}function H0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yg(){return!0}function RA(){return!1}function ga(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yg:RA,this.isPropagationStopped=RA,this}return Vr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yg)},persist:function(){},isPersistent:Yg}),t}var Pf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pS=ga(Pf),Um=Vr({},Pf,{view:0,detail:0}),EB=ga(Um),tx,rx,Lh,Qv=Vr({},Um,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lh&&(Lh&&e.type==="mousemove"?(tx=e.screenX-Lh.screenX,rx=e.screenY-Lh.screenY):rx=tx=0,Lh=e),tx)},movementY:function(e){return"movementY"in e?e.movementY:rx}}),$A=ga(Qv),OB=Vr({},Qv,{dataTransfer:0}),PB=ga(OB),CB=Vr({},Um,{relatedTarget:0}),nx=ga(CB),TB=Vr({},Pf,{animationName:0,elapsedTime:0,pseudoElement:0}),IB=ga(TB),LB=Vr({},Pf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),RB=ga(LB),$B=Vr({},Pf,{data:0}),MA=ga($B),MB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BB[e])?!!t[e]:!1}function mS(){return FB}var UB=Vr({},Um,{key:function(e){if(e.key){var t=MB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=H0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mS,charCode:function(e){return e.type==="keypress"?H0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?H0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zB=ga(UB),qB=Vr({},Qv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DA=ga(qB),HB=Vr({},Um,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mS}),WB=ga(HB),VB=Vr({},Pf,{propertyName:0,elapsedTime:0,pseudoElement:0}),GB=ga(VB),KB=Vr({},Qv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YB=ga(KB),XB=[9,13,27,32],gS=Co&&"CompositionEvent"in window,lp=null;Co&&"documentMode"in document&&(lp=document.documentMode);var JB=Co&&"TextEvent"in window&&!lp,LT=Co&&(!gS||lp&&8<lp&&11>=lp),BA=" ",FA=!1;function RT(e,t){switch(e){case"keyup":return XB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $T(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ud=!1;function ZB(e,t){switch(e){case"compositionend":return $T(t);case"keypress":return t.which!==32?null:(FA=!0,BA);case"textInput":return e=t.data,e===BA&&FA?null:e;default:return null}}function QB(e,t){if(ud)return e==="compositionend"||!gS&&RT(e,t)?(e=IT(),q0=hS=Sl=null,ud=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return LT&&t.locale!=="ko"?null:t.data;default:return null}}var eF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eF[e.type]:t==="textarea"}function MT(e,t,r,n){pT(n),t=py(t,"onChange"),0<t.length&&(r=new pS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var cp=null,$p=null;function tF(e){KT(e,0)}function e1(e){var t=hd(e);if(oT(t))return e}function rF(e,t){if(e==="change")return t}var DT=!1;if(Co){var ix;if(Co){var ax="oninput"in document;if(!ax){var zA=document.createElement("div");zA.setAttribute("oninput","return;"),ax=typeof zA.oninput=="function"}ix=ax}else ix=!1;DT=ix&&(!document.documentMode||9<document.documentMode)}function qA(){cp&&(cp.detachEvent("onpropertychange",BT),$p=cp=null)}function BT(e){if(e.propertyName==="value"&&e1($p)){var t=[];MT(t,$p,e,lS(e)),vT(tF,t)}}function nF(e,t,r){e==="focusin"?(qA(),cp=t,$p=r,cp.attachEvent("onpropertychange",BT)):e==="focusout"&&qA()}function iF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return e1($p)}function aF(e,t){if(e==="click")return e1(t)}function sF(e,t){if(e==="input"||e==="change")return e1(t)}function oF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ps=typeof Object.is=="function"?Object.is:oF;function Mp(e,t){if(ps(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!q2.call(t,i)||!ps(e[i],t[i]))return!1}return!0}function HA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function WA(e,t){var r=HA(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=HA(r)}}function FT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?FT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function UT(){for(var e=window,t=oy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=oy(e.document)}return t}function yS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lF(e){var t=UT(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&FT(r.ownerDocument.documentElement,r)){if(n!==null&&yS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=WA(r,a);var s=WA(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cF=Co&&"documentMode"in document&&11>=document.documentMode,dd=null,lw=null,up=null,cw=!1;function VA(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cw||dd==null||dd!==oy(n)||(n=dd,"selectionStart"in n&&yS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),up&&Mp(up,n)||(up=n,n=py(lw,"onSelect"),0<n.length&&(t=new pS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=dd)))}function Xg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fd={animationend:Xg("Animation","AnimationEnd"),animationiteration:Xg("Animation","AnimationIteration"),animationstart:Xg("Animation","AnimationStart"),transitionend:Xg("Transition","TransitionEnd")},sx={},zT={};Co&&(zT=document.createElement("div").style,"AnimationEvent"in window||(delete fd.animationend.animation,delete fd.animationiteration.animation,delete fd.animationstart.animation),"TransitionEvent"in window||delete fd.transitionend.transition);function t1(e){if(sx[e])return sx[e];if(!fd[e])return e;var t=fd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zT)return sx[e]=t[r];return e}var qT=t1("animationend"),HT=t1("animationiteration"),WT=t1("animationstart"),VT=t1("transitionend"),GT=new Map,GA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wl(e,t){GT.set(e,t),yu(t,[e])}for(var ox=0;ox<GA.length;ox++){var lx=GA[ox],uF=lx.toLowerCase(),dF=lx[0].toUpperCase()+lx.slice(1);Wl(uF,"on"+dF)}Wl(qT,"onAnimationEnd");Wl(HT,"onAnimationIteration");Wl(WT,"onAnimationStart");Wl("dblclick","onDoubleClick");Wl("focusin","onFocus");Wl("focusout","onBlur");Wl(VT,"onTransitionEnd");qd("onMouseEnter",["mouseout","mouseover"]);qd("onMouseLeave",["mouseout","mouseover"]);qd("onPointerEnter",["pointerout","pointerover"]);qd("onPointerLeave",["pointerout","pointerover"]);yu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yu("onBeforeInput",["compositionend","keypress","textInput","paste"]);yu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fF=new Set("cancel close invalid load scroll toggle".split(" ").concat(rp));function KA(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,uB(n,t,void 0,e),e.currentTarget=null}function KT(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;KA(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;KA(i,o,c),a=l}}}if(cy)throw e=iw,cy=!1,iw=null,e}function Lr(e,t){var r=t[pw];r===void 0&&(r=t[pw]=new Set);var n=e+"__bubble";r.has(n)||(YT(t,e,2,!1),r.add(n))}function cx(e,t,r){var n=0;t&&(n|=4),YT(r,e,n,t)}var Jg="_reactListening"+Math.random().toString(36).slice(2);function Dp(e){if(!e[Jg]){e[Jg]=!0,rT.forEach(function(r){r!=="selectionchange"&&(fF.has(r)||cx(r,!1,e),cx(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jg]||(t[Jg]=!0,cx("selectionchange",!1,t))}}function YT(e,t,r,n){switch(TT(t)){case 1:var i=AB;break;case 4:i=kB;break;default:i=fS}r=i.bind(null,t,r,e),i=void 0,!nw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ux(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Hc(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}vT(function(){var c=a,u=lS(r),f=[];e:{var p=GT.get(e);if(p!==void 0){var h=pS,y=e;switch(e){case"keypress":if(H0(r)===0)break e;case"keydown":case"keyup":h=zB;break;case"focusin":y="focus",h=nx;break;case"focusout":y="blur",h=nx;break;case"beforeblur":case"afterblur":h=nx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=$A;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=PB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=WB;break;case qT:case HT:case WT:h=IB;break;case VT:h=GB;break;case"scroll":h=EB;break;case"wheel":h=YB;break;case"copy":case"cut":case"paste":h=RB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=DA}var g=(t&4)!==0,b=!g&&e==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var w=c,_;w!==null;){_=w;var N=_.stateNode;if(_.tag===5&&N!==null&&(_=N,v!==null&&(N=Tp(w,v),N!=null&&g.push(Bp(w,N,_)))),b)break;w=w.return}0<g.length&&(p=new h(p,y,null,r,u),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&r!==tw&&(y=r.relatedTarget||r.fromElement)&&(Hc(y)||y[To]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(y=r.relatedTarget||r.toElement,h=c,y=y?Hc(y):null,y!==null&&(b=vu(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=c),h!==y)){if(g=$A,N="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=DA,N="onPointerLeave",v="onPointerEnter",w="pointer"),b=h==null?p:hd(h),_=y==null?p:hd(y),p=new g(N,w+"leave",h,r,u),p.target=b,p.relatedTarget=_,N=null,Hc(u)===c&&(g=new g(v,w+"enter",y,r,u),g.target=_,g.relatedTarget=b,N=g),b=N,h&&y)t:{for(g=h,v=y,w=0,_=g;_;_=qu(_))w++;for(_=0,N=v;N;N=qu(N))_++;for(;0<w-_;)g=qu(g),w--;for(;0<_-w;)v=qu(v),_--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=qu(g),v=qu(v)}g=null}else g=null;h!==null&&YA(f,p,h,g,!1),y!==null&&b!==null&&YA(f,b,y,g,!0)}}e:{if(p=c?hd(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var S=rF;else if(UA(p))if(DT)S=sF;else{S=iF;var j=nF}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=aF);if(S&&(S=S(e,c))){MT(f,S,r,u);break e}j&&j(e,p,c),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&X2(p,"number",p.value)}switch(j=c?hd(c):window,e){case"focusin":(UA(j)||j.contentEditable==="true")&&(dd=j,lw=c,up=null);break;case"focusout":up=lw=dd=null;break;case"mousedown":cw=!0;break;case"contextmenu":case"mouseup":case"dragend":cw=!1,VA(f,r,u);break;case"selectionchange":if(cF)break;case"keydown":case"keyup":VA(f,r,u)}var O;if(gS)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ud?RT(e,r)&&(I="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(LT&&r.locale!=="ko"&&(ud||I!=="onCompositionStart"?I==="onCompositionEnd"&&ud&&(O=IT()):(Sl=u,hS="value"in Sl?Sl.value:Sl.textContent,ud=!0)),j=py(c,I),0<j.length&&(I=new MA(I,e,null,r,u),f.push({event:I,listeners:j}),O?I.data=O:(O=$T(r),O!==null&&(I.data=O)))),(O=JB?ZB(e,r):QB(e,r))&&(c=py(c,"onBeforeInput"),0<c.length&&(u=new MA("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=O))}KT(f,t)})}function Bp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function py(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Tp(e,r),a!=null&&n.unshift(Bp(e,a,i)),a=Tp(e,t),a!=null&&n.push(Bp(e,a,i))),e=e.return}return n}function qu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function YA(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Tp(r,a),l!=null&&s.unshift(Bp(r,l,o))):i||(l=Tp(r,a),l!=null&&s.push(Bp(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var hF=/\r\n?/g,pF=/\u0000|\uFFFD/g;function XA(e){return(typeof e=="string"?e:""+e).replace(hF,`
`).replace(pF,"")}function Zg(e,t,r){if(t=XA(t),XA(e)!==t&&r)throw Error(Ke(425))}function my(){}var uw=null,dw=null;function fw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hw=typeof setTimeout=="function"?setTimeout:void 0,mF=typeof clearTimeout=="function"?clearTimeout:void 0,JA=typeof Promise=="function"?Promise:void 0,gF=typeof queueMicrotask=="function"?queueMicrotask:typeof JA<"u"?function(e){return JA.resolve(null).then(e).catch(yF)}:hw;function yF(e){setTimeout(function(){throw e})}function dx(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Rp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Rp(t)}function Cl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ZA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Cf=Math.random().toString(36).slice(2),Is="__reactFiber$"+Cf,Fp="__reactProps$"+Cf,To="__reactContainer$"+Cf,pw="__reactEvents$"+Cf,vF="__reactListeners$"+Cf,bF="__reactHandles$"+Cf;function Hc(e){var t=e[Is];if(t)return t;for(var r=e.parentNode;r;){if(t=r[To]||r[Is]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ZA(e);e!==null;){if(r=e[Is])return r;e=ZA(e)}return t}e=r,r=e.parentNode}return null}function zm(e){return e=e[Is]||e[To],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ke(33))}function r1(e){return e[Fp]||null}var mw=[],pd=-1;function Vl(e){return{current:e}}function Dr(e){0>pd||(e.current=mw[pd],mw[pd]=null,pd--)}function Pr(e,t){pd++,mw[pd]=e.current,e.current=t}var Fl={},hi=Vl(Fl),$i=Vl(!1),nu=Fl;function Hd(e,t){var r=e.type.contextTypes;if(!r)return Fl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mi(e){return e=e.childContextTypes,e!=null}function gy(){Dr($i),Dr(hi)}function QA(e,t,r){if(hi.current!==Fl)throw Error(Ke(168));Pr(hi,t),Pr($i,r)}function XT(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Ke(108,nB(e)||"Unknown",i));return Vr({},r,n)}function yy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fl,nu=hi.current,Pr(hi,e),Pr($i,$i.current),!0}function ek(e,t,r){var n=e.stateNode;if(!n)throw Error(Ke(169));r?(e=XT(e,t,nu),n.__reactInternalMemoizedMergedChildContext=e,Dr($i),Dr(hi),Pr(hi,e)):Dr($i),Pr($i,r)}var go=null,n1=!1,fx=!1;function JT(e){go===null?go=[e]:go.push(e)}function xF(e){n1=!0,JT(e)}function Gl(){if(!fx&&go!==null){fx=!0;var e=0,t=gr;try{var r=go;for(gr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}go=null,n1=!1}catch(i){throw go!==null&&(go=go.slice(e+1)),_T(cS,Gl),i}finally{gr=t,fx=!1}}return null}var md=[],gd=0,vy=null,by=0,Ea=[],Oa=0,iu=null,bo=1,xo="";function Cc(e,t){md[gd++]=by,md[gd++]=vy,vy=e,by=t}function ZT(e,t,r){Ea[Oa++]=bo,Ea[Oa++]=xo,Ea[Oa++]=iu,iu=e;var n=bo;e=xo;var i=32-us(n)-1;n&=~(1<<i),r+=1;var a=32-us(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,bo=1<<32-us(t)+i|r<<i|n,xo=a+e}else bo=1<<a|r<<i|n,xo=e}function vS(e){e.return!==null&&(Cc(e,1),ZT(e,1,0))}function bS(e){for(;e===vy;)vy=md[--gd],md[gd]=null,by=md[--gd],md[gd]=null;for(;e===iu;)iu=Ea[--Oa],Ea[Oa]=null,xo=Ea[--Oa],Ea[Oa]=null,bo=Ea[--Oa],Ea[Oa]=null}var da=null,la=null,Fr=!1,ls=null;function QT(e,t){var r=Ia(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function tk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,da=e,la=Cl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,da=e,la=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=iu!==null?{id:bo,overflow:xo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ia(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,da=e,la=null,!0):!1;default:return!1}}function gw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yw(e){if(Fr){var t=la;if(t){var r=t;if(!tk(e,t)){if(gw(e))throw Error(Ke(418));t=Cl(r.nextSibling);var n=da;t&&tk(e,t)?QT(n,r):(e.flags=e.flags&-4097|2,Fr=!1,da=e)}}else{if(gw(e))throw Error(Ke(418));e.flags=e.flags&-4097|2,Fr=!1,da=e}}}function rk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;da=e}function Qg(e){if(e!==da)return!1;if(!Fr)return rk(e),Fr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fw(e.type,e.memoizedProps)),t&&(t=la)){if(gw(e))throw eI(),Error(Ke(418));for(;t;)QT(e,t),t=Cl(t.nextSibling)}if(rk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ke(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){la=Cl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}la=null}}else la=da?Cl(e.stateNode.nextSibling):null;return!0}function eI(){for(var e=la;e;)e=Cl(e.nextSibling)}function Wd(){la=da=null,Fr=!1}function xS(e){ls===null?ls=[e]:ls.push(e)}var wF=Bo.ReactCurrentBatchConfig;function Rh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ke(309));var n=r.stateNode}if(!n)throw Error(Ke(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ke(284));if(!r._owner)throw Error(Ke(290,e))}return e}function e0(e,t){throw e=Object.prototype.toString.call(t),Error(Ke(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nk(e){var t=e._init;return t(e._payload)}function tI(e){function t(v,w){if(e){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function r(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function n(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Rl(v,w),v.index=0,v.sibling=null,v}function a(v,w,_){return v.index=_,e?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,w,_,N){return w===null||w.tag!==6?(w=bx(_,v.mode,N),w.return=v,w):(w=i(w,_),w.return=v,w)}function l(v,w,_,N){var S=_.type;return S===cd?u(v,w,_.props.children,N,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===pl&&nk(S)===w.type)?(N=i(w,_.props),N.ref=Rh(v,w,_),N.return=v,N):(N=J0(_.type,_.key,_.props,null,v.mode,N),N.ref=Rh(v,w,_),N.return=v,N)}function c(v,w,_,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=xx(_,v.mode,N),w.return=v,w):(w=i(w,_.children||[]),w.return=v,w)}function u(v,w,_,N,S){return w===null||w.tag!==7?(w=Qc(_,v.mode,N,S),w.return=v,w):(w=i(w,_),w.return=v,w)}function f(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=bx(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qg:return _=J0(w.type,w.key,w.props,null,v.mode,_),_.ref=Rh(v,null,w),_.return=v,_;case ld:return w=xx(w,v.mode,_),w.return=v,w;case pl:var N=w._init;return f(v,N(w._payload),_)}if(ep(w)||Ph(w))return w=Qc(w,v.mode,_,null),w.return=v,w;e0(v,w)}return null}function p(v,w,_,N){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:o(v,w,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case qg:return _.key===S?l(v,w,_,N):null;case ld:return _.key===S?c(v,w,_,N):null;case pl:return S=_._init,p(v,w,S(_._payload),N)}if(ep(_)||Ph(_))return S!==null?null:u(v,w,_,N,null);e0(v,_)}return null}function h(v,w,_,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(_)||null,o(w,v,""+N,S);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case qg:return v=v.get(N.key===null?_:N.key)||null,l(w,v,N,S);case ld:return v=v.get(N.key===null?_:N.key)||null,c(w,v,N,S);case pl:var j=N._init;return h(v,w,_,j(N._payload),S)}if(ep(N)||Ph(N))return v=v.get(_)||null,u(w,v,N,S,null);e0(w,N)}return null}function y(v,w,_,N){for(var S=null,j=null,O=w,I=w=0,L=null;O!==null&&I<_.length;I++){O.index>I?(L=O,O=null):L=O.sibling;var F=p(v,O,_[I],N);if(F===null){O===null&&(O=L);break}e&&O&&F.alternate===null&&t(v,O),w=a(F,w,I),j===null?S=F:j.sibling=F,j=F,O=L}if(I===_.length)return r(v,O),Fr&&Cc(v,I),S;if(O===null){for(;I<_.length;I++)O=f(v,_[I],N),O!==null&&(w=a(O,w,I),j===null?S=O:j.sibling=O,j=O);return Fr&&Cc(v,I),S}for(O=n(v,O);I<_.length;I++)L=h(O,v,I,_[I],N),L!==null&&(e&&L.alternate!==null&&O.delete(L.key===null?I:L.key),w=a(L,w,I),j===null?S=L:j.sibling=L,j=L);return e&&O.forEach(function(k){return t(v,k)}),Fr&&Cc(v,I),S}function g(v,w,_,N){var S=Ph(_);if(typeof S!="function")throw Error(Ke(150));if(_=S.call(_),_==null)throw Error(Ke(151));for(var j=S=null,O=w,I=w=0,L=null,F=_.next();O!==null&&!F.done;I++,F=_.next()){O.index>I?(L=O,O=null):L=O.sibling;var k=p(v,O,F.value,N);if(k===null){O===null&&(O=L);break}e&&O&&k.alternate===null&&t(v,O),w=a(k,w,I),j===null?S=k:j.sibling=k,j=k,O=L}if(F.done)return r(v,O),Fr&&Cc(v,I),S;if(O===null){for(;!F.done;I++,F=_.next())F=f(v,F.value,N),F!==null&&(w=a(F,w,I),j===null?S=F:j.sibling=F,j=F);return Fr&&Cc(v,I),S}for(O=n(v,O);!F.done;I++,F=_.next())F=h(O,v,I,F.value,N),F!==null&&(e&&F.alternate!==null&&O.delete(F.key===null?I:F.key),w=a(F,w,I),j===null?S=F:j.sibling=F,j=F);return e&&O.forEach(function(P){return t(v,P)}),Fr&&Cc(v,I),S}function b(v,w,_,N){if(typeof _=="object"&&_!==null&&_.type===cd&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case qg:e:{for(var S=_.key,j=w;j!==null;){if(j.key===S){if(S=_.type,S===cd){if(j.tag===7){r(v,j.sibling),w=i(j,_.props.children),w.return=v,v=w;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===pl&&nk(S)===j.type){r(v,j.sibling),w=i(j,_.props),w.ref=Rh(v,j,_),w.return=v,v=w;break e}r(v,j);break}else t(v,j);j=j.sibling}_.type===cd?(w=Qc(_.props.children,v.mode,N,_.key),w.return=v,v=w):(N=J0(_.type,_.key,_.props,null,v.mode,N),N.ref=Rh(v,w,_),N.return=v,v=N)}return s(v);case ld:e:{for(j=_.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(v,w.sibling),w=i(w,_.children||[]),w.return=v,v=w;break e}else{r(v,w);break}else t(v,w);w=w.sibling}w=xx(_,v.mode,N),w.return=v,v=w}return s(v);case pl:return j=_._init,b(v,w,j(_._payload),N)}if(ep(_))return y(v,w,_,N);if(Ph(_))return g(v,w,_,N);e0(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(v,w.sibling),w=i(w,_),w.return=v,v=w):(r(v,w),w=bx(_,v.mode,N),w.return=v,v=w),s(v)):r(v,w)}return b}var Vd=tI(!0),rI=tI(!1),xy=Vl(null),wy=null,yd=null,wS=null;function _S(){wS=yd=wy=null}function SS(e){var t=xy.current;Dr(xy),e._currentValue=t}function vw(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Pd(e,t){wy=e,wS=yd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Li=!0),e.firstContext=null)}function Ma(e){var t=e._currentValue;if(wS!==e)if(e={context:e,memoizedValue:t,next:null},yd===null){if(wy===null)throw Error(Ke(308));yd=e,wy.dependencies={lanes:0,firstContext:e}}else yd=yd.next=e;return t}var Wc=null;function jS(e){Wc===null?Wc=[e]:Wc.push(e)}function nI(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,jS(t)):(r.next=i.next,i.next=r),t.interleaved=r,Io(e,n)}function Io(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ml=!1;function NS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function No(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,er&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Io(e,r)}return i=n.interleaved,i===null?(t.next=t,jS(n)):(t.next=i.next,i.next=t),n.interleaved=t,Io(e,r)}function W0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uS(e,r)}}function ik(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _y(e,t,r,n){var i=e.updateQueue;ml=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var p=o.lane,h=o.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,g=o;switch(p=t,h=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(h,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(h,f,p):y,p==null)break e;f=Vr({},f,p);break e;case 2:ml=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);su|=s,e.lanes=s,e.memoizedState=f}}function ak(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ke(191,i));i.call(n)}}}var qm={},Ds=Vl(qm),Up=Vl(qm),zp=Vl(qm);function Vc(e){if(e===qm)throw Error(Ke(174));return e}function AS(e,t){switch(Pr(zp,t),Pr(Up,e),Pr(Ds,qm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Z2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Z2(t,e)}Dr(Ds),Pr(Ds,t)}function Gd(){Dr(Ds),Dr(Up),Dr(zp)}function aI(e){Vc(zp.current);var t=Vc(Ds.current),r=Z2(t,e.type);t!==r&&(Pr(Up,e),Pr(Ds,r))}function kS(e){Up.current===e&&(Dr(Ds),Dr(Up))}var Hr=Vl(0);function Sy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hx=[];function ES(){for(var e=0;e<hx.length;e++)hx[e]._workInProgressVersionPrimary=null;hx.length=0}var V0=Bo.ReactCurrentDispatcher,px=Bo.ReactCurrentBatchConfig,au=0,Wr=null,Cn=null,Bn=null,jy=!1,dp=!1,qp=0,_F=0;function ni(){throw Error(Ke(321))}function OS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ps(e[r],t[r]))return!1;return!0}function PS(e,t,r,n,i,a){if(au=a,Wr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V0.current=e===null||e.memoizedState===null?AF:kF,e=r(n,i),dp){a=0;do{if(dp=!1,qp=0,25<=a)throw Error(Ke(301));a+=1,Bn=Cn=null,t.updateQueue=null,V0.current=EF,e=r(n,i)}while(dp)}if(V0.current=Ny,t=Cn!==null&&Cn.next!==null,au=0,Bn=Cn=Wr=null,jy=!1,t)throw Error(Ke(300));return e}function CS(){var e=qp!==0;return qp=0,e}function Ps(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?Wr.memoizedState=Bn=e:Bn=Bn.next=e,Bn}function Da(){if(Cn===null){var e=Wr.alternate;e=e!==null?e.memoizedState:null}else e=Cn.next;var t=Bn===null?Wr.memoizedState:Bn.next;if(t!==null)Bn=t,Cn=e;else{if(e===null)throw Error(Ke(310));Cn=e,e={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},Bn===null?Wr.memoizedState=Bn=e:Bn=Bn.next=e}return Bn}function Hp(e,t){return typeof t=="function"?t(e):t}function mx(e){var t=Da(),r=t.queue;if(r===null)throw Error(Ke(311));r.lastRenderedReducer=e;var n=Cn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((au&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Wr.lanes|=u,su|=u}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,ps(n,t.memoizedState)||(Li=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Wr.lanes|=a,su|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function gx(e){var t=Da(),r=t.queue;if(r===null)throw Error(Ke(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);ps(a,t.memoizedState)||(Li=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function sI(){}function oI(e,t){var r=Wr,n=Da(),i=t(),a=!ps(n.memoizedState,i);if(a&&(n.memoizedState=i,Li=!0),n=n.queue,TS(uI.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Bn!==null&&Bn.memoizedState.tag&1){if(r.flags|=2048,Wp(9,cI.bind(null,r,n,i,t),void 0,null),zn===null)throw Error(Ke(349));au&30||lI(r,t,i)}return i}function lI(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Wr.updateQueue,t===null?(t={lastEffect:null,stores:null},Wr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cI(e,t,r,n){t.value=r,t.getSnapshot=n,dI(t)&&fI(e)}function uI(e,t,r){return r(function(){dI(t)&&fI(e)})}function dI(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ps(e,r)}catch{return!0}}function fI(e){var t=Io(e,1);t!==null&&ds(t,e,1,-1)}function sk(e){var t=Ps();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hp,lastRenderedState:e},t.queue=e,e=e.dispatch=NF.bind(null,Wr,e),[t.memoizedState,e]}function Wp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Wr.updateQueue,t===null?(t={lastEffect:null,stores:null},Wr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hI(){return Da().memoizedState}function G0(e,t,r,n){var i=Ps();Wr.flags|=e,i.memoizedState=Wp(1|t,r,void 0,n===void 0?null:n)}function i1(e,t,r,n){var i=Da();n=n===void 0?null:n;var a=void 0;if(Cn!==null){var s=Cn.memoizedState;if(a=s.destroy,n!==null&&OS(n,s.deps)){i.memoizedState=Wp(t,r,a,n);return}}Wr.flags|=e,i.memoizedState=Wp(1|t,r,a,n)}function ok(e,t){return G0(8390656,8,e,t)}function TS(e,t){return i1(2048,8,e,t)}function pI(e,t){return i1(4,2,e,t)}function mI(e,t){return i1(4,4,e,t)}function gI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yI(e,t,r){return r=r!=null?r.concat([e]):null,i1(4,4,gI.bind(null,t,e),r)}function IS(){}function vI(e,t){var r=Da();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&OS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bI(e,t){var r=Da();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&OS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function xI(e,t,r){return au&21?(ps(r,t)||(r=NT(),Wr.lanes|=r,su|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Li=!0),e.memoizedState=r)}function SF(e,t){var r=gr;gr=r!==0&&4>r?r:4,e(!0);var n=px.transition;px.transition={};try{e(!1),t()}finally{gr=r,px.transition=n}}function wI(){return Da().memoizedState}function jF(e,t,r){var n=Ll(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},_I(e))SI(t,r);else if(r=nI(e,t,r,n),r!==null){var i=ji();ds(r,e,n,i),jI(r,t,n)}}function NF(e,t,r){var n=Ll(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(_I(e))SI(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,ps(o,s)){var l=t.interleaved;l===null?(i.next=i,jS(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=nI(e,t,i,n),r!==null&&(i=ji(),ds(r,e,n,i),jI(r,t,n))}}function _I(e){var t=e.alternate;return e===Wr||t!==null&&t===Wr}function SI(e,t){dp=jy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uS(e,r)}}var Ny={readContext:Ma,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useInsertionEffect:ni,useLayoutEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useMutableSource:ni,useSyncExternalStore:ni,useId:ni,unstable_isNewReconciler:!1},AF={readContext:Ma,useCallback:function(e,t){return Ps().memoizedState=[e,t===void 0?null:t],e},useContext:Ma,useEffect:ok,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,G0(4194308,4,gI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return G0(4194308,4,e,t)},useInsertionEffect:function(e,t){return G0(4,2,e,t)},useMemo:function(e,t){var r=Ps();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ps();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=jF.bind(null,Wr,e),[n.memoizedState,e]},useRef:function(e){var t=Ps();return e={current:e},t.memoizedState=e},useState:sk,useDebugValue:IS,useDeferredValue:function(e){return Ps().memoizedState=e},useTransition:function(){var e=sk(!1),t=e[0];return e=SF.bind(null,e[1]),Ps().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Wr,i=Ps();if(Fr){if(r===void 0)throw Error(Ke(407));r=r()}else{if(r=t(),zn===null)throw Error(Ke(349));au&30||lI(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,ok(uI.bind(null,n,a,e),[e]),n.flags|=2048,Wp(9,cI.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ps(),t=zn.identifierPrefix;if(Fr){var r=xo,n=bo;r=(n&~(1<<32-us(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=qp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=_F++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kF={readContext:Ma,useCallback:vI,useContext:Ma,useEffect:TS,useImperativeHandle:yI,useInsertionEffect:pI,useLayoutEffect:mI,useMemo:bI,useReducer:mx,useRef:hI,useState:function(){return mx(Hp)},useDebugValue:IS,useDeferredValue:function(e){var t=Da();return xI(t,Cn.memoizedState,e)},useTransition:function(){var e=mx(Hp)[0],t=Da().memoizedState;return[e,t]},useMutableSource:sI,useSyncExternalStore:oI,useId:wI,unstable_isNewReconciler:!1},EF={readContext:Ma,useCallback:vI,useContext:Ma,useEffect:TS,useImperativeHandle:yI,useInsertionEffect:pI,useLayoutEffect:mI,useMemo:bI,useReducer:gx,useRef:hI,useState:function(){return gx(Hp)},useDebugValue:IS,useDeferredValue:function(e){var t=Da();return Cn===null?t.memoizedState=e:xI(t,Cn.memoizedState,e)},useTransition:function(){var e=gx(Hp)[0],t=Da().memoizedState;return[e,t]},useMutableSource:sI,useSyncExternalStore:oI,useId:wI,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){t=Vr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function bw(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Vr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var a1={isMounted:function(e){return(e=e._reactInternals)?vu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ji(),i=Ll(e),a=No(n,i);a.payload=t,r!=null&&(a.callback=r),t=Tl(e,a,i),t!==null&&(ds(t,e,i,n),W0(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ji(),i=Ll(e),a=No(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Tl(e,a,i),t!==null&&(ds(t,e,i,n),W0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ji(),n=Ll(e),i=No(r,n);i.tag=2,t!=null&&(i.callback=t),t=Tl(e,i,n),t!==null&&(ds(t,e,n,r),W0(t,e,n))}};function lk(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!Mp(r,n)||!Mp(i,a):!0}function NI(e,t,r){var n=!1,i=Fl,a=t.contextType;return typeof a=="object"&&a!==null?a=Ma(a):(i=Mi(t)?nu:hi.current,n=t.contextTypes,a=(n=n!=null)?Hd(e,i):Fl),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=a1,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ck(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&a1.enqueueReplaceState(t,t.state,null)}function xw(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},NS(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ma(a):(a=Mi(t)?nu:hi.current,i.context=Hd(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(bw(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&a1.enqueueReplaceState(i,i.state,null),_y(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Kd(e,t){try{var r="",n=t;do r+=rB(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function yx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ww(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var OF=typeof WeakMap=="function"?WeakMap:Map;function AI(e,t,r){r=No(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ky||(ky=!0,Cw=n),ww(e,t)},r}function kI(e,t,r){r=No(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ww(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ww(e,t),typeof n!="function"&&(Il===null?Il=new Set([this]):Il.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function uk(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new OF;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=qF.bind(null,e,t,r),t.then(e,e))}function dk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fk(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=No(-1,1),t.tag=2,Tl(r,t,1))),r.lanes|=1),e)}var PF=Bo.ReactCurrentOwner,Li=!1;function vi(e,t,r,n){t.child=e===null?rI(t,null,r,n):Vd(t,e.child,r,n)}function hk(e,t,r,n,i){r=r.render;var a=t.ref;return Pd(t,i),n=PS(e,t,r,n,a,i),r=CS(),e!==null&&!Li?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Lo(e,t,i)):(Fr&&r&&vS(t),t.flags|=1,vi(e,t,n,i),t.child)}function pk(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!US(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,EI(e,t,a,n,i)):(e=J0(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Mp,r(s,n)&&e.ref===t.ref)return Lo(e,t,i)}return t.flags|=1,e=Rl(a,n),e.ref=t.ref,e.return=t,t.child=e}function EI(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Mp(a,n)&&e.ref===t.ref)if(Li=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Li=!0);else return t.lanes=e.lanes,Lo(e,t,i)}return _w(e,t,r,n,i)}function OI(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pr(bd,ra),ra|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pr(bd,ra),ra|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Pr(bd,ra),ra|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Pr(bd,ra),ra|=n;return vi(e,t,i,r),t.child}function PI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _w(e,t,r,n,i){var a=Mi(r)?nu:hi.current;return a=Hd(t,a),Pd(t,i),r=PS(e,t,r,n,a,i),n=CS(),e!==null&&!Li?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Lo(e,t,i)):(Fr&&n&&vS(t),t.flags|=1,vi(e,t,r,i),t.child)}function mk(e,t,r,n,i){if(Mi(r)){var a=!0;yy(t)}else a=!1;if(Pd(t,i),t.stateNode===null)K0(e,t),NI(t,r,n),xw(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ma(c):(c=Mi(r)?nu:hi.current,c=Hd(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&ck(t,s,n,c),ml=!1;var p=t.memoizedState;s.state=p,_y(t,n,s,i),l=t.memoizedState,o!==n||p!==l||$i.current||ml?(typeof u=="function"&&(bw(t,r,u,n),l=t.memoizedState),(o=ml||lk(t,r,o,n,p,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,iI(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ns(t.type,o),s.props=c,f=t.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ma(l):(l=Mi(r)?nu:hi.current,l=Hd(t,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||p!==l)&&ck(t,s,n,l),ml=!1,p=t.memoizedState,s.state=p,_y(t,n,s,i);var y=t.memoizedState;o!==f||p!==y||$i.current||ml?(typeof h=="function"&&(bw(t,r,h,n),y=t.memoizedState),(c=ml||lk(t,r,c,n,p,y,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),s.props=n,s.state=y,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Sw(e,t,r,n,a,i)}function Sw(e,t,r,n,i,a){PI(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&ek(t,r,!1),Lo(e,t,a);n=t.stateNode,PF.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Vd(t,e.child,null,a),t.child=Vd(t,null,o,a)):vi(e,t,o,a),t.memoizedState=n.state,i&&ek(t,r,!0),t.child}function CI(e){var t=e.stateNode;t.pendingContext?QA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&QA(e,t.context,!1),AS(e,t.containerInfo)}function gk(e,t,r,n,i){return Wd(),xS(i),t.flags|=256,vi(e,t,r,n),t.child}var jw={dehydrated:null,treeContext:null,retryLane:0};function Nw(e){return{baseLanes:e,cachePool:null,transitions:null}}function TI(e,t,r){var n=t.pendingProps,i=Hr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Pr(Hr,i&1),e===null)return yw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=l1(s,n,0,null),e=Qc(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Nw(r),t.memoizedState=jw,e):LS(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return CF(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Rl(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Rl(o,a):(a=Qc(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?Nw(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=jw,n}return a=e.child,e=a.sibling,n=Rl(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function LS(e,t){return t=l1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function t0(e,t,r,n){return n!==null&&xS(n),Vd(t,e.child,null,r),e=LS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function CF(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=yx(Error(Ke(422))),t0(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=l1({mode:"visible",children:n.children},i,0,null),a=Qc(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Vd(t,e.child,null,s),t.child.memoizedState=Nw(s),t.memoizedState=jw,a);if(!(t.mode&1))return t0(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Ke(419)),n=yx(a,n,void 0),t0(e,t,s,n)}if(o=(s&e.childLanes)!==0,Li||o){if(n=zn,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Io(e,i),ds(n,e,i,-1))}return FS(),n=yx(Error(Ke(421))),t0(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=HF.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,la=Cl(i.nextSibling),da=t,Fr=!0,ls=null,e!==null&&(Ea[Oa++]=bo,Ea[Oa++]=xo,Ea[Oa++]=iu,bo=e.id,xo=e.overflow,iu=t),t=LS(t,n.children),t.flags|=4096,t)}function yk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),vw(e.return,t,r)}function vx(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function II(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(vi(e,t,n.children,r),n=Hr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yk(e,r,t);else if(e.tag===19)yk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Pr(Hr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Sy(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),vx(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sy(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}vx(t,!0,r,null,a);break;case"together":vx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function K0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),su|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ke(153));if(t.child!==null){for(e=t.child,r=Rl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Rl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function TF(e,t,r){switch(t.tag){case 3:CI(t),Wd();break;case 5:aI(t);break;case 1:Mi(t.type)&&yy(t);break;case 4:AS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Pr(xy,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Pr(Hr,Hr.current&1),t.flags|=128,null):r&t.child.childLanes?TI(e,t,r):(Pr(Hr,Hr.current&1),e=Lo(e,t,r),e!==null?e.sibling:null);Pr(Hr,Hr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return II(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pr(Hr,Hr.current),n)break;return null;case 22:case 23:return t.lanes=0,OI(e,t,r)}return Lo(e,t,r)}var LI,Aw,RI,$I;LI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Aw=function(){};RI=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Vc(Ds.current);var a=null;switch(r){case"input":i=K2(e,i),n=K2(e,n),a=[];break;case"select":i=Vr({},i,{value:void 0}),n=Vr({},n,{value:void 0}),a=[];break;case"textarea":i=J2(e,i),n=J2(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=my)}Q2(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pp.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Lr("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};$I=function(e,t,r,n){r!==n&&(t.flags|=4)};function $h(e,t){if(!Fr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ii(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function IF(e,t,r){var n=t.pendingProps;switch(bS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ii(t),null;case 1:return Mi(t.type)&&gy(),ii(t),null;case 3:return n=t.stateNode,Gd(),Dr($i),Dr(hi),ES(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ls!==null&&(Lw(ls),ls=null))),Aw(e,t),ii(t),null;case 5:kS(t);var i=Vc(zp.current);if(r=t.type,e!==null&&t.stateNode!=null)RI(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ke(166));return ii(t),null}if(e=Vc(Ds.current),Qg(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Is]=t,n[Fp]=a,e=(t.mode&1)!==0,r){case"dialog":Lr("cancel",n),Lr("close",n);break;case"iframe":case"object":case"embed":Lr("load",n);break;case"video":case"audio":for(i=0;i<rp.length;i++)Lr(rp[i],n);break;case"source":Lr("error",n);break;case"img":case"image":case"link":Lr("error",n),Lr("load",n);break;case"details":Lr("toggle",n);break;case"input":AA(n,a),Lr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Lr("invalid",n);break;case"textarea":EA(n,a),Lr("invalid",n)}Q2(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Zg(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Zg(n.textContent,o,e),i=["children",""+o]):Pp.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Lr("scroll",n)}switch(r){case"input":Hg(n),kA(n,a,!0);break;case"textarea":Hg(n),OA(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=my)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uT(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Is]=t,e[Fp]=n,LI(e,t,!1,!1),t.stateNode=e;e:{switch(s=ew(r,n),r){case"dialog":Lr("cancel",e),Lr("close",e),i=n;break;case"iframe":case"object":case"embed":Lr("load",e),i=n;break;case"video":case"audio":for(i=0;i<rp.length;i++)Lr(rp[i],e);i=n;break;case"source":Lr("error",e),i=n;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),i=n;break;case"details":Lr("toggle",e),i=n;break;case"input":AA(e,n),i=K2(e,n),Lr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Vr({},n,{value:void 0}),Lr("invalid",e);break;case"textarea":EA(e,n),i=J2(e,n),Lr("invalid",e);break;default:i=n}Q2(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?hT(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dT(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Cp(e,l):typeof l=="number"&&Cp(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Pp.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Lr("scroll",e):l!=null&&iS(e,a,l,s))}switch(r){case"input":Hg(e),kA(e,n,!1);break;case"textarea":Hg(e),OA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bl(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ad(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ad(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=my)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ii(t),null;case 6:if(e&&t.stateNode!=null)$I(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ke(166));if(r=Vc(zp.current),Vc(Ds.current),Qg(t)){if(n=t.stateNode,r=t.memoizedProps,n[Is]=t,(a=n.nodeValue!==r)&&(e=da,e!==null))switch(e.tag){case 3:Zg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zg(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Is]=t,t.stateNode=n}return ii(t),null;case 13:if(Dr(Hr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fr&&la!==null&&t.mode&1&&!(t.flags&128))eI(),Wd(),t.flags|=98560,a=!1;else if(a=Qg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Ke(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ke(317));a[Is]=t}else Wd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ii(t),a=!1}else ls!==null&&(Lw(ls),ls=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Hr.current&1?In===0&&(In=3):FS())),t.updateQueue!==null&&(t.flags|=4),ii(t),null);case 4:return Gd(),Aw(e,t),e===null&&Dp(t.stateNode.containerInfo),ii(t),null;case 10:return SS(t.type._context),ii(t),null;case 17:return Mi(t.type)&&gy(),ii(t),null;case 19:if(Dr(Hr),a=t.memoizedState,a===null)return ii(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)$h(a,!1);else{if(In!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Sy(e),s!==null){for(t.flags|=128,$h(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pr(Hr,Hr.current&1|2),t.child}e=e.sibling}a.tail!==null&&sn()>Yd&&(t.flags|=128,n=!0,$h(a,!1),t.lanes=4194304)}else{if(!n)if(e=Sy(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),$h(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Fr)return ii(t),null}else 2*sn()-a.renderingStartTime>Yd&&r!==1073741824&&(t.flags|=128,n=!0,$h(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=sn(),t.sibling=null,r=Hr.current,Pr(Hr,n?r&1|2:r&1),t):(ii(t),null);case 22:case 23:return BS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ra&1073741824&&(ii(t),t.subtreeFlags&6&&(t.flags|=8192)):ii(t),null;case 24:return null;case 25:return null}throw Error(Ke(156,t.tag))}function LF(e,t){switch(bS(t),t.tag){case 1:return Mi(t.type)&&gy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gd(),Dr($i),Dr(hi),ES(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kS(t),null;case 13:if(Dr(Hr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ke(340));Wd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Dr(Hr),null;case 4:return Gd(),null;case 10:return SS(t.type._context),null;case 22:case 23:return BS(),null;case 24:return null;default:return null}}var r0=!1,di=!1,RF=typeof WeakSet=="function"?WeakSet:Set,st=null;function vd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Zr(e,t,n)}else r.current=null}function kw(e,t,r){try{r()}catch(n){Zr(e,t,n)}}var vk=!1;function $F(e,t){if(uw=fy,e=UT(),yS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,p=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===r&&++c===i&&(o=s),p===a&&++u===n&&(l=s),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(dw={focusedElem:e,selectionRange:r},fy=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){t=st;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,b=y.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),b);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(N){Zr(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}return y=vk,vk=!1,y}function fp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&kw(t,r,a)}i=i.next}while(i!==n)}}function s1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ew(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function MI(e){var t=e.alternate;t!==null&&(e.alternate=null,MI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Is],delete t[Fp],delete t[pw],delete t[vF],delete t[bF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function DI(e){return e.tag===5||e.tag===3||e.tag===4}function bk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||DI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ow(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=my));else if(n!==4&&(e=e.child,e!==null))for(Ow(e,t,r),e=e.sibling;e!==null;)Ow(e,t,r),e=e.sibling}function Pw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Pw(e,t,r),e=e.sibling;e!==null;)Pw(e,t,r),e=e.sibling}var Xn=null,as=!1;function cl(e,t,r){for(r=r.child;r!==null;)BI(e,t,r),r=r.sibling}function BI(e,t,r){if(Ms&&typeof Ms.onCommitFiberUnmount=="function")try{Ms.onCommitFiberUnmount(Zv,r)}catch{}switch(r.tag){case 5:di||vd(r,t);case 6:var n=Xn,i=as;Xn=null,cl(e,t,r),Xn=n,as=i,Xn!==null&&(as?(e=Xn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Xn.removeChild(r.stateNode));break;case 18:Xn!==null&&(as?(e=Xn,r=r.stateNode,e.nodeType===8?dx(e.parentNode,r):e.nodeType===1&&dx(e,r),Rp(e)):dx(Xn,r.stateNode));break;case 4:n=Xn,i=as,Xn=r.stateNode.containerInfo,as=!0,cl(e,t,r),Xn=n,as=i;break;case 0:case 11:case 14:case 15:if(!di&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&kw(r,t,s),i=i.next}while(i!==n)}cl(e,t,r);break;case 1:if(!di&&(vd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Zr(r,t,o)}cl(e,t,r);break;case 21:cl(e,t,r);break;case 22:r.mode&1?(di=(n=di)||r.memoizedState!==null,cl(e,t,r),di=n):cl(e,t,r);break;default:cl(e,t,r)}}function xk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new RF),t.forEach(function(n){var i=WF.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ja(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Xn=o.stateNode,as=!1;break e;case 3:Xn=o.stateNode.containerInfo,as=!0;break e;case 4:Xn=o.stateNode.containerInfo,as=!0;break e}o=o.return}if(Xn===null)throw Error(Ke(160));BI(a,s,i),Xn=null,as=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Zr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)FI(t,e),t=t.sibling}function FI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ja(t,e),As(e),n&4){try{fp(3,e,e.return),s1(3,e)}catch(g){Zr(e,e.return,g)}try{fp(5,e,e.return)}catch(g){Zr(e,e.return,g)}}break;case 1:Ja(t,e),As(e),n&512&&r!==null&&vd(r,r.return);break;case 5:if(Ja(t,e),As(e),n&512&&r!==null&&vd(r,r.return),e.flags&32){var i=e.stateNode;try{Cp(i,"")}catch(g){Zr(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&lT(i,a),ew(o,s);var c=ew(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?hT(i,f):u==="dangerouslySetInnerHTML"?dT(i,f):u==="children"?Cp(i,f):iS(i,u,f,c)}switch(o){case"input":Y2(i,a);break;case"textarea":cT(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Ad(i,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?Ad(i,!!a.multiple,a.defaultValue,!0):Ad(i,!!a.multiple,a.multiple?[]:"",!1))}i[Fp]=a}catch(g){Zr(e,e.return,g)}}break;case 6:if(Ja(t,e),As(e),n&4){if(e.stateNode===null)throw Error(Ke(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Zr(e,e.return,g)}}break;case 3:if(Ja(t,e),As(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rp(t.containerInfo)}catch(g){Zr(e,e.return,g)}break;case 4:Ja(t,e),As(e);break;case 13:Ja(t,e),As(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(MS=sn())),n&4&&xk(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(di=(c=di)||u,Ja(t,e),di=c):Ja(t,e),As(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(st=e,u=e.child;u!==null;){for(f=st=u;st!==null;){switch(p=st,h=p.child,p.tag){case 0:case 11:case 14:case 15:fp(4,p,p.return);break;case 1:vd(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){Zr(n,r,g)}}break;case 5:vd(p,p.return);break;case 22:if(p.memoizedState!==null){_k(f);continue}}h!==null?(h.return=p,st=h):_k(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=fT("display",s))}catch(g){Zr(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Zr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ja(t,e),As(e),n&4&&xk(e);break;case 21:break;default:Ja(t,e),As(e)}}function As(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(DI(r)){var n=r;break e}r=r.return}throw Error(Ke(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Cp(i,""),n.flags&=-33);var a=bk(e);Pw(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=bk(e);Ow(e,o,s);break;default:throw Error(Ke(161))}}catch(l){Zr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MF(e,t,r){st=e,UI(e)}function UI(e,t,r){for(var n=(e.mode&1)!==0;st!==null;){var i=st,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||r0;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||di;o=r0;var c=di;if(r0=s,(di=l)&&!c)for(st=i;st!==null;)s=st,l=s.child,s.tag===22&&s.memoizedState!==null?Sk(i):l!==null?(l.return=s,st=l):Sk(i);for(;a!==null;)st=a,UI(a),a=a.sibling;st=i,r0=o,di=c}wk(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,st=a):wk(e)}}function wk(e){for(;st!==null;){var t=st;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:di||s1(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!di)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ns(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ak(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ak(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Rp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}di||t.flags&512&&Ew(t)}catch(p){Zr(t,t.return,p)}}if(t===e){st=null;break}if(r=t.sibling,r!==null){r.return=t.return,st=r;break}st=t.return}}function _k(e){for(;st!==null;){var t=st;if(t===e){st=null;break}var r=t.sibling;if(r!==null){r.return=t.return,st=r;break}st=t.return}}function Sk(e){for(;st!==null;){var t=st;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{s1(4,t)}catch(l){Zr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Zr(t,i,l)}}var a=t.return;try{Ew(t)}catch(l){Zr(t,a,l)}break;case 5:var s=t.return;try{Ew(t)}catch(l){Zr(t,s,l)}}}catch(l){Zr(t,t.return,l)}if(t===e){st=null;break}var o=t.sibling;if(o!==null){o.return=t.return,st=o;break}st=t.return}}var DF=Math.ceil,Ay=Bo.ReactCurrentDispatcher,RS=Bo.ReactCurrentOwner,Ra=Bo.ReactCurrentBatchConfig,er=0,zn=null,bn=null,Jn=0,ra=0,bd=Vl(0),In=0,Vp=null,su=0,o1=0,$S=0,hp=null,Ii=null,MS=0,Yd=1/0,ho=null,ky=!1,Cw=null,Il=null,n0=!1,jl=null,Ey=0,pp=0,Tw=null,Y0=-1,X0=0;function ji(){return er&6?sn():Y0!==-1?Y0:Y0=sn()}function Ll(e){return e.mode&1?er&2&&Jn!==0?Jn&-Jn:wF.transition!==null?(X0===0&&(X0=NT()),X0):(e=gr,e!==0||(e=window.event,e=e===void 0?16:TT(e.type)),e):1}function ds(e,t,r,n){if(50<pp)throw pp=0,Tw=null,Error(Ke(185));Fm(e,r,n),(!(er&2)||e!==zn)&&(e===zn&&(!(er&2)&&(o1|=r),In===4&&bl(e,Jn)),Di(e,n),r===1&&er===0&&!(t.mode&1)&&(Yd=sn()+500,n1&&Gl()))}function Di(e,t){var r=e.callbackNode;wB(e,t);var n=dy(e,e===zn?Jn:0);if(n===0)r!==null&&TA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&TA(r),t===1)e.tag===0?xF(jk.bind(null,e)):JT(jk.bind(null,e)),gF(function(){!(er&6)&&Gl()}),r=null;else{switch(AT(n)){case 1:r=cS;break;case 4:r=ST;break;case 16:r=uy;break;case 536870912:r=jT;break;default:r=uy}r=YI(r,zI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zI(e,t){if(Y0=-1,X0=0,er&6)throw Error(Ke(327));var r=e.callbackNode;if(Cd()&&e.callbackNode!==r)return null;var n=dy(e,e===zn?Jn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Oy(e,n);else{t=n;var i=er;er|=2;var a=HI();(zn!==e||Jn!==t)&&(ho=null,Yd=sn()+500,Zc(e,t));do try{UF();break}catch(o){qI(e,o)}while(!0);_S(),Ay.current=a,er=i,bn!==null?t=0:(zn=null,Jn=0,t=In)}if(t!==0){if(t===2&&(i=aw(e),i!==0&&(n=i,t=Iw(e,i))),t===1)throw r=Vp,Zc(e,0),bl(e,n),Di(e,sn()),r;if(t===6)bl(e,n);else{if(i=e.current.alternate,!(n&30)&&!BF(i)&&(t=Oy(e,n),t===2&&(a=aw(e),a!==0&&(n=a,t=Iw(e,a))),t===1))throw r=Vp,Zc(e,0),bl(e,n),Di(e,sn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Ke(345));case 2:Tc(e,Ii,ho);break;case 3:if(bl(e,n),(n&130023424)===n&&(t=MS+500-sn(),10<t)){if(dy(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ji(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=hw(Tc.bind(null,e,Ii,ho),t);break}Tc(e,Ii,ho);break;case 4:if(bl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-us(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=sn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*DF(n/1960))-n,10<n){e.timeoutHandle=hw(Tc.bind(null,e,Ii,ho),n);break}Tc(e,Ii,ho);break;case 5:Tc(e,Ii,ho);break;default:throw Error(Ke(329))}}}return Di(e,sn()),e.callbackNode===r?zI.bind(null,e):null}function Iw(e,t){var r=hp;return e.current.memoizedState.isDehydrated&&(Zc(e,t).flags|=256),e=Oy(e,t),e!==2&&(t=Ii,Ii=r,t!==null&&Lw(t)),e}function Lw(e){Ii===null?Ii=e:Ii.push.apply(Ii,e)}function BF(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!ps(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bl(e,t){for(t&=~$S,t&=~o1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-us(t),n=1<<r;e[r]=-1,t&=~n}}function jk(e){if(er&6)throw Error(Ke(327));Cd();var t=dy(e,0);if(!(t&1))return Di(e,sn()),null;var r=Oy(e,t);if(e.tag!==0&&r===2){var n=aw(e);n!==0&&(t=n,r=Iw(e,n))}if(r===1)throw r=Vp,Zc(e,0),bl(e,t),Di(e,sn()),r;if(r===6)throw Error(Ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e,Ii,ho),Di(e,sn()),null}function DS(e,t){var r=er;er|=1;try{return e(t)}finally{er=r,er===0&&(Yd=sn()+500,n1&&Gl())}}function ou(e){jl!==null&&jl.tag===0&&!(er&6)&&Cd();var t=er;er|=1;var r=Ra.transition,n=gr;try{if(Ra.transition=null,gr=1,e)return e()}finally{gr=n,Ra.transition=r,er=t,!(er&6)&&Gl()}}function BS(){ra=bd.current,Dr(bd)}function Zc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mF(r)),bn!==null)for(r=bn.return;r!==null;){var n=r;switch(bS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gy();break;case 3:Gd(),Dr($i),Dr(hi),ES();break;case 5:kS(n);break;case 4:Gd();break;case 13:Dr(Hr);break;case 19:Dr(Hr);break;case 10:SS(n.type._context);break;case 22:case 23:BS()}r=r.return}if(zn=e,bn=e=Rl(e.current,null),Jn=ra=t,In=0,Vp=null,$S=o1=su=0,Ii=hp=null,Wc!==null){for(t=0;t<Wc.length;t++)if(r=Wc[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Wc=null}return e}function qI(e,t){do{var r=bn;try{if(_S(),V0.current=Ny,jy){for(var n=Wr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}jy=!1}if(au=0,Bn=Cn=Wr=null,dp=!1,qp=0,RS.current=null,r===null||r.return===null){In=1,Vp=t,bn=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=Jn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=dk(s);if(h!==null){h.flags&=-257,fk(h,s,o,a,t),h.mode&1&&uk(a,c,t),t=h,l=c;var y=t.updateQueue;if(y===null){var g=new Set;g.add(l),t.updateQueue=g}else y.add(l);break e}else{if(!(t&1)){uk(a,c,t),FS();break e}l=Error(Ke(426))}}else if(Fr&&o.mode&1){var b=dk(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),fk(b,s,o,a,t),xS(Kd(l,o));break e}}a=l=Kd(l,o),In!==4&&(In=2),hp===null?hp=[a]:hp.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=AI(a,l,t);ik(a,v);break e;case 1:o=l;var w=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Il===null||!Il.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=kI(a,o,t);ik(a,N);break e}}a=a.return}while(a!==null)}VI(r)}catch(S){t=S,bn===r&&r!==null&&(bn=r=r.return);continue}break}while(!0)}function HI(){var e=Ay.current;return Ay.current=Ny,e===null?Ny:e}function FS(){(In===0||In===3||In===2)&&(In=4),zn===null||!(su&268435455)&&!(o1&268435455)||bl(zn,Jn)}function Oy(e,t){var r=er;er|=2;var n=HI();(zn!==e||Jn!==t)&&(ho=null,Zc(e,t));do try{FF();break}catch(i){qI(e,i)}while(!0);if(_S(),er=r,Ay.current=n,bn!==null)throw Error(Ke(261));return zn=null,Jn=0,In}function FF(){for(;bn!==null;)WI(bn)}function UF(){for(;bn!==null&&!fB();)WI(bn)}function WI(e){var t=KI(e.alternate,e,ra);e.memoizedProps=e.pendingProps,t===null?VI(e):bn=t,RS.current=null}function VI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=LF(r,t),r!==null){r.flags&=32767,bn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{In=6,bn=null;return}}else if(r=IF(r,t,ra),r!==null){bn=r;return}if(t=t.sibling,t!==null){bn=t;return}bn=t=e}while(t!==null);In===0&&(In=5)}function Tc(e,t,r){var n=gr,i=Ra.transition;try{Ra.transition=null,gr=1,zF(e,t,r,n)}finally{Ra.transition=i,gr=n}return null}function zF(e,t,r,n){do Cd();while(jl!==null);if(er&6)throw Error(Ke(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ke(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(_B(e,a),e===zn&&(bn=zn=null,Jn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||n0||(n0=!0,YI(uy,function(){return Cd(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ra.transition,Ra.transition=null;var s=gr;gr=1;var o=er;er|=4,RS.current=null,$F(e,r),FI(r,e),lF(dw),fy=!!uw,dw=uw=null,e.current=r,MF(r),hB(),er=o,gr=s,Ra.transition=a}else e.current=r;if(n0&&(n0=!1,jl=e,Ey=i),a=e.pendingLanes,a===0&&(Il=null),gB(r.stateNode),Di(e,sn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ky)throw ky=!1,e=Cw,Cw=null,e;return Ey&1&&e.tag!==0&&Cd(),a=e.pendingLanes,a&1?e===Tw?pp++:(pp=0,Tw=e):pp=0,Gl(),null}function Cd(){if(jl!==null){var e=AT(Ey),t=Ra.transition,r=gr;try{if(Ra.transition=null,gr=16>e?16:e,jl===null)var n=!1;else{if(e=jl,jl=null,Ey=0,er&6)throw Error(Ke(331));var i=er;for(er|=4,st=e.current;st!==null;){var a=st,s=a.child;if(st.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(st=c;st!==null;){var u=st;switch(u.tag){case 0:case 11:case 15:fp(8,u,a)}var f=u.child;if(f!==null)f.return=u,st=f;else for(;st!==null;){u=st;var p=u.sibling,h=u.return;if(MI(u),u===c){st=null;break}if(p!==null){p.return=h,st=p;break}st=h}}}var y=a.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}st=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,st=s;else e:for(;st!==null;){if(a=st,a.flags&2048)switch(a.tag){case 0:case 11:case 15:fp(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,st=v;break e}st=a.return}}var w=e.current;for(st=w;st!==null;){s=st;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,st=_;else e:for(s=w;st!==null;){if(o=st,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:s1(9,o)}}catch(S){Zr(o,o.return,S)}if(o===s){st=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,st=N;break e}st=o.return}}if(er=i,Gl(),Ms&&typeof Ms.onPostCommitFiberRoot=="function")try{Ms.onPostCommitFiberRoot(Zv,e)}catch{}n=!0}return n}finally{gr=r,Ra.transition=t}}return!1}function Nk(e,t,r){t=Kd(r,t),t=AI(e,t,1),e=Tl(e,t,1),t=ji(),e!==null&&(Fm(e,1,t),Di(e,t))}function Zr(e,t,r){if(e.tag===3)Nk(e,e,r);else for(;t!==null;){if(t.tag===3){Nk(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Il===null||!Il.has(n))){e=Kd(r,e),e=kI(t,e,1),t=Tl(t,e,1),e=ji(),t!==null&&(Fm(t,1,e),Di(t,e));break}}t=t.return}}function qF(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ji(),e.pingedLanes|=e.suspendedLanes&r,zn===e&&(Jn&r)===r&&(In===4||In===3&&(Jn&130023424)===Jn&&500>sn()-MS?Zc(e,0):$S|=r),Di(e,t)}function GI(e,t){t===0&&(e.mode&1?(t=Gg,Gg<<=1,!(Gg&130023424)&&(Gg=4194304)):t=1);var r=ji();e=Io(e,t),e!==null&&(Fm(e,t,r),Di(e,r))}function HF(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),GI(e,r)}function WF(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ke(314))}n!==null&&n.delete(t),GI(e,r)}var KI;KI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$i.current)Li=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Li=!1,TF(e,t,r);Li=!!(e.flags&131072)}else Li=!1,Fr&&t.flags&1048576&&ZT(t,by,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;K0(e,t),e=t.pendingProps;var i=Hd(t,hi.current);Pd(t,r),i=PS(null,t,n,e,i,r);var a=CS();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mi(n)?(a=!0,yy(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,NS(t),i.updater=a1,t.stateNode=i,i._reactInternals=t,xw(t,n,e,r),t=Sw(null,t,n,!0,a,r)):(t.tag=0,Fr&&a&&vS(t),vi(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(K0(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=GF(n),e=ns(n,e),i){case 0:t=_w(null,t,n,e,r);break e;case 1:t=mk(null,t,n,e,r);break e;case 11:t=hk(null,t,n,e,r);break e;case 14:t=pk(null,t,n,ns(n.type,e),r);break e}throw Error(Ke(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ns(n,i),_w(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ns(n,i),mk(e,t,n,i,r);case 3:e:{if(CI(t),e===null)throw Error(Ke(387));n=t.pendingProps,a=t.memoizedState,i=a.element,iI(e,t),_y(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Kd(Error(Ke(423)),t),t=gk(e,t,n,r,i);break e}else if(n!==i){i=Kd(Error(Ke(424)),t),t=gk(e,t,n,r,i);break e}else for(la=Cl(t.stateNode.containerInfo.firstChild),da=t,Fr=!0,ls=null,r=rI(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wd(),n===i){t=Lo(e,t,r);break e}vi(e,t,n,r)}t=t.child}return t;case 5:return aI(t),e===null&&yw(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,fw(n,i)?s=null:a!==null&&fw(n,a)&&(t.flags|=32),PI(e,t),vi(e,t,s,r),t.child;case 6:return e===null&&yw(t),null;case 13:return TI(e,t,r);case 4:return AS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Vd(t,null,n,r):vi(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ns(n,i),hk(e,t,n,i,r);case 7:return vi(e,t,t.pendingProps,r),t.child;case 8:return vi(e,t,t.pendingProps.children,r),t.child;case 12:return vi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Pr(xy,n._currentValue),n._currentValue=s,a!==null)if(ps(a.value,s)){if(a.children===i.children&&!$i.current){t=Lo(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=No(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),vw(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ke(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),vw(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}vi(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Pd(t,r),i=Ma(i),n=n(i),t.flags|=1,vi(e,t,n,r),t.child;case 14:return n=t.type,i=ns(n,t.pendingProps),i=ns(n.type,i),pk(e,t,n,i,r);case 15:return EI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ns(n,i),K0(e,t),t.tag=1,Mi(n)?(e=!0,yy(t)):e=!1,Pd(t,r),NI(t,n,i),xw(t,n,i,r),Sw(null,t,n,!0,e,r);case 19:return II(e,t,r);case 22:return OI(e,t,r)}throw Error(Ke(156,t.tag))};function YI(e,t){return _T(e,t)}function VF(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(e,t,r,n){return new VF(e,t,r,n)}function US(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GF(e){if(typeof e=="function")return US(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sS)return 11;if(e===oS)return 14}return 2}function Rl(e,t){var r=e.alternate;return r===null?(r=Ia(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function J0(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")US(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case cd:return Qc(r.children,i,a,t);case aS:s=8,i|=8;break;case H2:return e=Ia(12,r,t,i|2),e.elementType=H2,e.lanes=a,e;case W2:return e=Ia(13,r,t,i),e.elementType=W2,e.lanes=a,e;case V2:return e=Ia(19,r,t,i),e.elementType=V2,e.lanes=a,e;case aT:return l1(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nT:s=10;break e;case iT:s=9;break e;case sS:s=11;break e;case oS:s=14;break e;case pl:s=16,n=null;break e}throw Error(Ke(130,e==null?e:typeof e,""))}return t=Ia(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Qc(e,t,r,n){return e=Ia(7,e,n,t),e.lanes=r,e}function l1(e,t,r,n){return e=Ia(22,e,n,t),e.elementType=aT,e.lanes=r,e.stateNode={isHidden:!1},e}function bx(e,t,r){return e=Ia(6,e,null,t),e.lanes=r,e}function xx(e,t,r){return t=Ia(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KF(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ex(0),this.expirationTimes=ex(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ex(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zS(e,t,r,n,i,a,s,o,l){return e=new KF(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ia(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},NS(a),e}function YF(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ld,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function XI(e){if(!e)return Fl;e=e._reactInternals;e:{if(vu(e)!==e||e.tag!==1)throw Error(Ke(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ke(171))}if(e.tag===1){var r=e.type;if(Mi(r))return XT(e,r,t)}return t}function JI(e,t,r,n,i,a,s,o,l){return e=zS(r,n,!0,e,i,a,s,o,l),e.context=XI(null),r=e.current,n=ji(),i=Ll(r),a=No(n,i),a.callback=t??null,Tl(r,a,i),e.current.lanes=i,Fm(e,i,n),Di(e,n),e}function c1(e,t,r,n){var i=t.current,a=ji(),s=Ll(i);return r=XI(r),t.context===null?t.context=r:t.pendingContext=r,t=No(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Tl(i,t,s),e!==null&&(ds(e,i,s,a),W0(e,i,s)),s}function Py(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ak(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qS(e,t){Ak(e,t),(e=e.alternate)&&Ak(e,t)}function XF(){return null}var ZI=typeof reportError=="function"?reportError:function(e){console.error(e)};function HS(e){this._internalRoot=e}u1.prototype.render=HS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ke(409));c1(e,t,null,null)};u1.prototype.unmount=HS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ou(function(){c1(null,e,null,null)}),t[To]=null}};function u1(e){this._internalRoot=e}u1.prototype.unstable_scheduleHydration=function(e){if(e){var t=OT();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vl.length&&t!==0&&t<vl[r].priority;r++);vl.splice(r,0,e),r===0&&CT(e)}};function WS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kk(){}function JF(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=Py(s);a.call(c)}}var s=JI(t,n,e,0,null,!1,!1,"",kk);return e._reactRootContainer=s,e[To]=s.current,Dp(e.nodeType===8?e.parentNode:e),ou(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=Py(l);o.call(c)}}var l=zS(e,0,!1,null,null,!1,!1,"",kk);return e._reactRootContainer=l,e[To]=l.current,Dp(e.nodeType===8?e.parentNode:e),ou(function(){c1(t,l,r,n)}),l}function f1(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Py(s);o.call(l)}}c1(t,s,e,i)}else s=JF(r,t,e,i,n);return Py(s)}kT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=tp(t.pendingLanes);r!==0&&(uS(t,r|1),Di(t,sn()),!(er&6)&&(Yd=sn()+500,Gl()))}break;case 13:ou(function(){var n=Io(e,1);if(n!==null){var i=ji();ds(n,e,1,i)}}),qS(e,1)}};dS=function(e){if(e.tag===13){var t=Io(e,134217728);if(t!==null){var r=ji();ds(t,e,134217728,r)}qS(e,134217728)}};ET=function(e){if(e.tag===13){var t=Ll(e),r=Io(e,t);if(r!==null){var n=ji();ds(r,e,t,n)}qS(e,t)}};OT=function(){return gr};PT=function(e,t){var r=gr;try{return gr=e,t()}finally{gr=r}};rw=function(e,t,r){switch(t){case"input":if(Y2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=r1(n);if(!i)throw Error(Ke(90));oT(n),Y2(n,i)}}}break;case"textarea":cT(e,r);break;case"select":t=r.value,t!=null&&Ad(e,!!r.multiple,t,!1)}};gT=DS;yT=ou;var ZF={usingClientEntryPoint:!1,Events:[zm,hd,r1,pT,mT,DS]},Mh={findFiberByHostInstance:Hc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QF={bundleType:Mh.bundleType,version:Mh.version,rendererPackageName:Mh.rendererPackageName,rendererConfig:Mh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xT(e),e===null?null:e.stateNode},findFiberByHostInstance:Mh.findFiberByHostInstance||XF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var i0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!i0.isDisabled&&i0.supportsFiber)try{Zv=i0.inject(QF),Ms=i0}catch{}}ma.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZF;ma.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!WS(t))throw Error(Ke(200));return YF(e,t,null,r)};ma.createRoot=function(e,t){if(!WS(e))throw Error(Ke(299));var r=!1,n="",i=ZI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=zS(e,1,!1,null,null,r,!1,n,i),e[To]=t.current,Dp(e.nodeType===8?e.parentNode:e),new HS(t)};ma.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ke(188)):(e=Object.keys(e).join(","),Error(Ke(268,e)));return e=xT(t),e=e===null?null:e.stateNode,e};ma.flushSync=function(e){return ou(e)};ma.hydrate=function(e,t,r){if(!d1(t))throw Error(Ke(200));return f1(null,e,t,!0,r)};ma.hydrateRoot=function(e,t,r){if(!WS(e))throw Error(Ke(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=ZI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=JI(t,null,e,1,r??null,i,!1,a,s),e[To]=t.current,Dp(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new u1(t)};ma.render=function(e,t,r){if(!d1(t))throw Error(Ke(200));return f1(null,e,t,!1,r)};ma.unmountComponentAtNode=function(e){if(!d1(e))throw Error(Ke(40));return e._reactRootContainer?(ou(function(){f1(null,null,e,!1,function(){e._reactRootContainer=null,e[To]=null})}),!0):!1};ma.unstable_batchedUpdates=DS;ma.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!d1(r))throw Error(Ke(200));if(e==null||e._reactInternals===void 0)throw Error(Ke(38));return f1(e,t,r,!1,n)};ma.version="18.3.1-next-f1338f8080-20240426";function QI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QI)}catch(e){console.error(e)}}QI(),QC.exports=ma;var eU=QC.exports,Ek=eU;z2.createRoot=Ek.createRoot,z2.hydrateRoot=Ek.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gp.apply(this,arguments)}var Nl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Nl||(Nl={}));const Ok="popstate";function tU(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return Rw("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Cy(i)}return nU(t,r,null,e)}function un(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eL(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rU(){return Math.random().toString(36).substr(2,8)}function Pk(e,t){return{usr:e.state,key:e.key,idx:t}}function Rw(e,t,r,n){return r===void 0&&(r=null),Gp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tf(t):t,{state:r,key:t&&t.key||n||rU()})}function Cy(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Tf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function nU(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=Nl.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Gp({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=Nl.Pop;let b=u(),v=b==null?null:b-c;c=b,l&&l({action:o,location:g.location,delta:v})}function p(b,v){o=Nl.Push;let w=Rw(g.location,b,v);c=u()+1;let _=Pk(w,c),N=g.createHref(w);try{s.pushState(_,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(N)}a&&l&&l({action:o,location:g.location,delta:1})}function h(b,v){o=Nl.Replace;let w=Rw(g.location,b,v);c=u();let _=Pk(w,c),N=g.createHref(w);s.replaceState(_,"",N),a&&l&&l({action:o,location:g.location,delta:0})}function y(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:Cy(b);return w=w.replace(/ $/,"%20"),un(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return o},get location(){return e(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ok,f),l=b,()=>{i.removeEventListener(Ok,f),l=null}},createHref(b){return t(i,b)},createURL:y,encodeLocation(b){let v=y(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:h,go(b){return s.go(b)}};return g}var Ck;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ck||(Ck={}));function iU(e,t,r){return r===void 0&&(r="/"),aU(e,t,r)}function aU(e,t,r,n){let i=typeof t=="string"?Tf(t):t,a=VS(i.pathname||"/",r);if(a==null)return null;let s=tL(e);sU(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=vU(a);o=mU(s[l],c)}return o}function tL(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(un(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=$l([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(un(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),tL(a.children,t,u,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:hU(c,a.index),routesMeta:u})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of rL(a.path))i(a,s,l)}),t}function rL(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=rL(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function sU(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:pU(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const oU=/^:[\w-]+$/,lU=3,cU=2,uU=1,dU=10,fU=-2,Tk=e=>e==="*";function hU(e,t){let r=e.split("/"),n=r.length;return r.some(Tk)&&(n+=fU),t&&(n+=cU),r.filter(i=>!Tk(i)).reduce((i,a)=>i+(oU.test(a)?lU:a===""?uU:dU),n)}function pU(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function mU(e,t,r){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",f=gU({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:$l([a,f.pathname]),pathnameBase:_U($l([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=$l([a,f.pathnameBase]))}return s}function gU(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=yU(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:p,isOptional:h}=u;if(p==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const y=o[f];return h&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:e}}function yU(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),eL(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function vU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return eL(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function VS(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function bU(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Tf(e):e;return{pathname:r?r.startsWith("/")?r:xU(r,t):t,search:SU(n),hash:jU(i)}}function xU(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function wx(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wU(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function GS(e,t){let r=wU(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function KS(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Tf(e):(i=Gp({},e),un(!i.pathname||!i.pathname.includes("?"),wx("?","pathname","search",i)),un(!i.pathname||!i.pathname.includes("#"),wx("#","pathname","hash",i)),un(!i.search||!i.search.includes("#"),wx("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?t[f]:"/"}let l=bU(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const $l=e=>e.join("/").replace(/\/\/+/g,"/"),_U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function NU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nL=["post","put","patch","delete"];new Set(nL);const AU=["get",...nL];new Set(AU);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kp(){return Kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kp.apply(this,arguments)}const YS=X.createContext(null),kU=X.createContext(null),Kl=X.createContext(null),h1=X.createContext(null),Fo=X.createContext({outlet:null,matches:[],isDataRoute:!1}),iL=X.createContext(null);function EU(e,t){let{relative:r}=t===void 0?{}:t;If()||un(!1);let{basename:n,navigator:i}=X.useContext(Kl),{hash:a,pathname:s,search:o}=sL(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:$l([n,s])),i.createHref({pathname:l,search:o,hash:a})}function If(){return X.useContext(h1)!=null}function bu(){return If()||un(!1),X.useContext(h1).location}function aL(e){X.useContext(Kl).static||X.useLayoutEffect(e)}function gs(){let{isDataRoute:e}=X.useContext(Fo);return e?UU():OU()}function OU(){If()||un(!1);let e=X.useContext(YS),{basename:t,future:r,navigator:n}=X.useContext(Kl),{matches:i}=X.useContext(Fo),{pathname:a}=bu(),s=JSON.stringify(GS(i,r.v7_relativeSplatPath)),o=X.useRef(!1);return aL(()=>{o.current=!0}),X.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=KS(c,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:$l([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,s,a,e])}function p1(){let{matches:e}=X.useContext(Fo),t=e[e.length-1];return t?t.params:{}}function sL(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=X.useContext(Kl),{matches:i}=X.useContext(Fo),{pathname:a}=bu(),s=JSON.stringify(GS(i,n.v7_relativeSplatPath));return X.useMemo(()=>KS(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function PU(e,t){return CU(e,t)}function CU(e,t,r,n){If()||un(!1);let{navigator:i}=X.useContext(Kl),{matches:a}=X.useContext(Fo),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=bu(),u;if(t){var f;let b=typeof t=="string"?Tf(t):t;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||un(!1),u=b}else u=c;let p=u.pathname||"/",h=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=iU(e,{pathname:h}),g=$U(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:$l([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:$l([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return t&&g?X.createElement(h1.Provider,{value:{location:Kp({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Nl.Pop}},g):g}function TU(){let e=FU(),t=NU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},t),r?X.createElement("pre",{style:i},r):null,null)}const IU=X.createElement(TU,null);class LU extends X.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?X.createElement(Fo.Provider,{value:this.props.routeContext},X.createElement(iL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RU(e){let{routeContext:t,match:r,children:n}=e,i=X.useContext(YS);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),X.createElement(Fo.Provider,{value:t},n)}function $U(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||un(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:h}=r,y=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,p)=>{let h,y=!1,g=null,b=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||IU,l&&(c<0&&p===0?(zU("route-fallback"),y=!0,b=null):c===p&&(y=!0,b=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,p+1)),w=()=>{let _;return h?_=g:y?_=b:f.route.Component?_=X.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,X.createElement(RU,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?X.createElement(LU,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var oL=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oL||{}),lL=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lL||{});function MU(e){let t=X.useContext(YS);return t||un(!1),t}function DU(e){let t=X.useContext(kU);return t||un(!1),t}function BU(e){let t=X.useContext(Fo);return t||un(!1),t}function cL(e){let t=BU(),r=t.matches[t.matches.length-1];return r.route.id||un(!1),r.route.id}function FU(){var e;let t=X.useContext(iL),r=DU(),n=cL();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function UU(){let{router:e}=MU(oL.UseNavigateStable),t=cL(lL.UseNavigateStable),r=X.useRef(!1);return aL(()=>{r.current=!0}),X.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Kp({fromRouteId:t},a)))},[e,t])}const Ik={};function zU(e,t,r){Ik[e]||(Ik[e]=!0)}function qU(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function HU(e){let{to:t,replace:r,state:n,relative:i}=e;If()||un(!1);let{future:a,static:s}=X.useContext(Kl),{matches:o}=X.useContext(Fo),{pathname:l}=bu(),c=gs(),u=KS(t,GS(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return X.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:i}),[c,f,i,r,n]),null}function pn(e){un(!1)}function WU(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Nl.Pop,navigator:a,static:s=!1,future:o}=e;If()&&un(!1);let l=t.replace(/^\/*/,"/"),c=X.useMemo(()=>({basename:l,navigator:a,static:s,future:Kp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=Tf(n));let{pathname:u="/",search:f="",hash:p="",state:h=null,key:y="default"}=n,g=X.useMemo(()=>{let b=VS(u,l);return b==null?null:{location:{pathname:b,search:f,hash:p,state:h,key:y},navigationType:i}},[l,u,f,p,h,y,i]);return g==null?null:X.createElement(Kl.Provider,{value:c},X.createElement(h1.Provider,{children:r,value:g}))}function VU(e){let{children:t,location:r}=e;return PU($w(t),r)}new Promise(()=>{});function $w(e,t){t===void 0&&(t=[]);let r=[];return X.Children.forEach(e,(n,i)=>{if(!X.isValidElement(n))return;let a=[...t,i];if(n.type===X.Fragment){r.push.apply(r,$w(n.props.children,a));return}n.type!==pn&&un(!1),!n.props.index||!n.props.children||un(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=$w(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mw.apply(this,arguments)}function GU(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function KU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YU(e,t){return e.button===0&&(!t||t==="_self")&&!KU(e)}const XU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JU="6";try{window.__reactRouterVersion=JU}catch{}const ZU="startTransition",Lk=q9[ZU];function QU(e){let{basename:t,children:r,future:n,window:i}=e,a=X.useRef();a.current==null&&(a.current=tU({window:i,v5Compat:!0}));let s=a.current,[o,l]=X.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=X.useCallback(f=>{c&&Lk?Lk(()=>l(f)):l(f)},[l,c]);return X.useLayoutEffect(()=>s.listen(u),[s,u]),X.useEffect(()=>qU(n),[n]),X.createElement(WU,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const ez=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uL=X.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,p=GU(t,XU),{basename:h}=X.useContext(Kl),y,g=!1;if(typeof c=="string"&&tz.test(c)&&(y=c,ez))try{let _=new URL(window.location.href),N=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=VS(N.pathname,h);N.origin===_.origin&&S!=null?c=S+N.search+N.hash:g=!0}catch{}let b=EU(c,{relative:i}),v=rz(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function w(_){n&&n(_),_.defaultPrevented||v(_)}return X.createElement("a",Mw({},p,{href:y||b,onClick:g||a?n:w,ref:r,target:l}))});var Rk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rk||(Rk={}));var $k;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($k||($k={}));function rz(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=t===void 0?{}:t,l=gs(),c=bu(),u=sL(e,{relative:s});return X.useCallback(f=>{if(YU(f,r)){f.preventDefault();let p=n!==void 0?n:Cy(c)===Cy(u);l(e,{replace:p,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,n,i,r,e,a,s,o])}var Dw=function(e,t){return Dw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Dw(e,t)};function dL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Dw(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ty=function(){return Ty=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ty.apply(this,arguments)};function Lf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function fL(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,r,a):s(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function hL(e,t){return function(r,n){t(r,n,e)}}function pL(e,t,r,n,i,a){function s(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,p=!1,h=r.length-1;h>=0;h--){var y={};for(var g in n)y[g]=g==="access"?{}:n[g];for(var g in n.access)y.access[g]=n.access[g];y.addInitializer=function(v){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(v||null))};var b=(0,r[h])(o==="accessor"?{get:u.get,set:u.set}:u[l],y);if(o==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=s(b.get))&&(u.get=f),(f=s(b.set))&&(u.set=f),(f=s(b.init))&&i.unshift(f)}else(f=s(b))&&(o==="field"?i.unshift(f):u[l]=f)}c&&Object.defineProperty(c,n.name,u),p=!0}function mL(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function gL(e){return typeof e=="symbol"?e:"".concat(e)}function yL(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function vL(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function vt(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})}function bL(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var m1=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function xL(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&m1(t,e,r)}function Iy(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function XS(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function wL(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(XS(arguments[t]));return e}function _L(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function SL(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Xd(e){return this instanceof Xd?(this.v=e,this):new Xd(e)}function jL(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(y){return Promise.resolve(y).then(h,f)}}function o(h,y){n[h]&&(i[h]=function(g){return new Promise(function(b,v){a.push([h,g,b,v])>1||l(h,g)})},y&&(i[h]=y(i[h])))}function l(h,y){try{c(n[h](y))}catch(g){p(a[0][3],g)}}function c(h){h.value instanceof Xd?Promise.resolve(h.value.v).then(u,f):p(a[0][2],h)}function u(h){l("next",h)}function f(h){l("throw",h)}function p(h,y){h(y),a.shift(),a.length&&l(a[0][0],a[0][1])}}function NL(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(s){return(r=!r)?{value:Xd(e[i](s)),done:!1}:a?a(s):s}:a}}function AL(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Iy=="function"?Iy(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(s){return new Promise(function(o,l){s=e[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}}function kL(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var nz=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Bw=function(e){return Bw=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Bw(e)};function EL(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Bw(e),n=0;n<r.length;n++)r[n]!=="default"&&m1(t,e,r[n]);return nz(t,e),t}function OL(e){return e&&e.__esModule?e:{default:e}}function PL(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function CL(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function TL(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function IL(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var iz=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function LL(e){function t(a){e.error=e.hasError?new iz(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(s){return t(s),i()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function RL(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,s){return n?t?".jsx":".js":i&&(!a||!s)?r:i+a+"."+s.toLowerCase()+"js"}):e}const az={__extends:dL,__assign:Ty,__rest:Lf,__decorate:fL,__param:hL,__esDecorate:pL,__runInitializers:mL,__propKey:gL,__setFunctionName:yL,__metadata:vL,__awaiter:vt,__generator:bL,__createBinding:m1,__exportStar:xL,__values:Iy,__read:XS,__spread:wL,__spreadArrays:_L,__spreadArray:SL,__await:Xd,__asyncGenerator:jL,__asyncDelegator:NL,__asyncValues:AL,__makeTemplateObject:kL,__importStar:EL,__importDefault:OL,__classPrivateFieldGet:PL,__classPrivateFieldSet:CL,__classPrivateFieldIn:TL,__addDisposableResource:IL,__disposeResources:LL,__rewriteRelativeImportExtension:RL},sz=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:IL,get __assign(){return Ty},__asyncDelegator:NL,__asyncGenerator:jL,__asyncValues:AL,__await:Xd,__awaiter:vt,__classPrivateFieldGet:PL,__classPrivateFieldIn:TL,__classPrivateFieldSet:CL,__createBinding:m1,__decorate:fL,__disposeResources:LL,__esDecorate:pL,__exportStar:xL,__extends:dL,__generator:bL,__importDefault:OL,__importStar:EL,__makeTemplateObject:kL,__metadata:vL,__param:hL,__propKey:gL,__read:XS,__rest:Lf,__rewriteRelativeImportExtension:RL,__runInitializers:mL,__setFunctionName:yL,__spread:wL,__spreadArray:SL,__spreadArrays:_L,__values:Iy,default:az},Symbol.toStringTag,{value:"Module"})),oz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class JS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class lz extends JS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Mk extends JS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Dk extends JS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Fw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Fw||(Fw={}));class cz{constructor(t,{headers:r={},customFetch:n,region:i=Fw.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=oz(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return vt(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:o,method:l,body:c,signal:u,timeout:f}=n;let p={},{region:h}=n;h||(h=this.region);const y=new URL(`${this.url}/${r}`);h&&h!=="any"&&(p["x-region"]=h,y.searchParams.set("forceFunctionRegion",h));let g;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(p["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(p["Content-Type"]="application/json",g=JSON.stringify(c)):g=c;let b=u;f&&(s=new AbortController,a=setTimeout(()=>s.abort(),f),u?(b=s.signal,u.addEventListener("abort",()=>s.abort())):b=s.signal);const v=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:g,signal:b}).catch(S=>{throw new lz(S)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new Mk(v);if(!v.ok)throw new Dk(v);let _=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),N;return _==="application/json"?N=yield v.json():_==="application/octet-stream"||_==="application/pdf"?N=yield v.blob():_==="text/event-stream"?N=v:_==="multipart/form-data"?N=yield v.formData():N=yield v.text(),{data:N,error:null,response:v}}catch(o){return{data:null,error:o,response:o instanceof Dk||o instanceof Mk?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var bi={};const Rf=k9(sz);var a0={},s0={},o0={},l0={},c0={},u0={},Bk;function $L(){if(Bk)return u0;Bk=1,Object.defineProperty(u0,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return u0.default=e,u0}var Fk;function ML(){if(Fk)return c0;Fk=1,Object.defineProperty(c0,"__esModule",{value:!0});const t=Rf.__importDefault($L());class r{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,f,p;let h=null,y=null,g=null,b=l.status,v=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=S:y=JSON.parse(S))}const _=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),N=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&N&&N.length>1&&(g=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(h={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,b=406,v="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await l.text();try{h=JSON.parse(_),Array.isArray(h)&&l.status===404&&(y=[],h=null,b=200,v="OK")}catch{l.status===404&&_===""?(b=204,v="No Content"):h={message:_}}if(h&&this.isMaybeSingle&&(!((p=h==null?void 0:h.details)===null||p===void 0)&&p.includes("0 rows"))&&(h=null,b=200,v="OK"),h&&this.shouldThrowOnError)throw new t.default(h)}return{error:h,data:y,count:g,status:b,statusText:v}});return this.shouldThrowOnError||(o=o.catch(l=>{var c,u,f;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(f=l==null?void 0:l.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),o.then(i,a)}returns(){return this}overrideTypes(){return this}}return c0.default=r,c0}var Uk;function DL(){if(Uk)return l0;Uk=1,Object.defineProperty(l0,"__esModule",{value:!0});const t=Rf.__importDefault(ML());class r extends t.default{select(i){let a=!1;const s=(i??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var u;const f=[i?"analyze":null,a?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return l0.default=r,l0}var zk;function ZS(){if(zk)return o0;zk=1,Object.defineProperty(o0,"__esModule",{value:!0});const t=Rf.__importDefault(DL()),r=new RegExp("[,()]");class n extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}}return o0.default=n,o0}var qk;function BL(){if(qk)return s0;qk=1,Object.defineProperty(s0,"__esModule",{value:!0});const t=Rf.__importDefault(ZS());class r{constructor(i,{headers:a={},schema:s,fetch:o}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=o}select(i,a){const{head:s=!1,count:o}=a??{},l=s?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var s;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return s0.default=r,s0}var Hk;function uz(){if(Hk)return a0;Hk=1,Object.defineProperty(a0,"__esModule",{value:!0});const e=Rf,t=e.__importDefault(BL()),r=e.__importDefault(ZS());class n{constructor(a,{headers:s={},schema:o,fetch:l}={}){this.url=a,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(a){const s=new URL(`${this.url}/${a}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:o=!1,get:l=!1,count:c}={}){var u;let f;const p=new URL(`${this.url}/rpc/${a}`);let h;o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([g,b])=>b!==void 0).map(([g,b])=>[g,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([g,b])=>{p.searchParams.append(g,b)})):(f="POST",h=s);const y=new Headers(this.headers);return c&&y.set("Prefer",`count=${c}`),new r.default({method:f,url:p,headers:y,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return a0.default=n,a0}Object.defineProperty(bi,"__esModule",{value:!0});var FL=bi.PostgrestError=XL=bi.PostgrestBuilder=KL=bi.PostgrestTransformBuilder=VL=bi.PostgrestFilterBuilder=HL=bi.PostgrestQueryBuilder=zL=bi.PostgrestClient=void 0;const $f=Rf,UL=$f.__importDefault(uz());var zL=bi.PostgrestClient=UL.default;const qL=$f.__importDefault(BL());var HL=bi.PostgrestQueryBuilder=qL.default;const WL=$f.__importDefault(ZS());var VL=bi.PostgrestFilterBuilder=WL.default;const GL=$f.__importDefault(DL());var KL=bi.PostgrestTransformBuilder=GL.default;const YL=$f.__importDefault(ML());var XL=bi.PostgrestBuilder=YL.default;const JL=$f.__importDefault($L());FL=bi.PostgrestError=JL.default;var ZL=bi.default={PostgrestClient:UL.default,PostgrestQueryBuilder:qL.default,PostgrestFilterBuilder:WL.default,PostgrestTransformBuilder:GL.default,PostgrestBuilder:YL.default,PostgrestError:JL.default};const dz=UC({__proto__:null,get PostgrestBuilder(){return XL},get PostgrestClient(){return zL},get PostgrestError(){return FL},get PostgrestFilterBuilder(){return VL},get PostgrestQueryBuilder(){return HL},get PostgrestTransformBuilder(){return KL},default:ZL},[bi]),{PostgrestClient:fz,PostgrestQueryBuilder:pje,PostgrestFilterBuilder:mje,PostgrestTransformBuilder:gje,PostgrestBuilder:yje,PostgrestError:vje}=ZL||dz;class hz{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const pz="2.81.0",mz=`realtime-js/${pz}`,QL="1.0.0",gz="2.0.0",Wk=QL,Uw=1e4,yz=1e3,vz=100;var Dc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dc||(Dc={}));var Pn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pn||(Pn={}));var ka;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ka||(ka={}));var zw;(function(e){e.websocket="websocket"})(zw||(zw={}));var Bc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Bc||(Bc={}));class bz{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){const{join_ref:r,ref:n,event:i,topic:a,payload:s}=t,o=this.META_LENGTH+r.length+n.length+a.length+i.length,l=new ArrayBuffer(this.HEADER_LENGTH+o);let c=new DataView(l),u=0;c.setUint8(u++,this.KINDS.push),c.setUint8(u++,r.length),c.setUint8(u++,n.length),c.setUint8(u++,a.length),c.setUint8(u++,i.length),Array.from(r,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(n,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(a,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(i,p=>c.setUint8(u++,p.charCodeAt(0)));var f=new Uint8Array(l.byteLength+s.byteLength);return f.set(new Uint8Array(l),0),f.set(new Uint8Array(s),l.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const{join_ref:i,ref:a,topic:s}=t,o=t.payload.event,l=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+s.length+o.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let f=new DataView(u),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,i.length),f.setUint8(p++,a.length),f.setUint8(p++,s.length),f.setUint8(p++,o.length),f.setUint8(p++,this.BINARY_ENCODING),Array.from(i,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(a,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(s,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(o,y=>f.setUint8(p++,y.charCodeAt(0)));var h=new Uint8Array(u.byteLength+l.byteLength);return h.set(new Uint8Array(u),0),h.set(new Uint8Array(l),u.byteLength),h.buffer}_encodeJsonUserBroadcastPush(t){var r,n;const{join_ref:i,ref:a,topic:s}=t,o=t.payload.event,l=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+s.length+o.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let h=new DataView(p),y=0;h.setUint8(y++,this.KINDS.userBroadcastPush),h.setUint8(y++,i.length),h.setUint8(y++,a.length),h.setUint8(y++,s.length),h.setUint8(y++,o.length),h.setUint8(y++,this.JSON_ENCODING),Array.from(i,b=>h.setUint8(y++,b.charCodeAt(0))),Array.from(a,b=>h.setUint8(y++,b.charCodeAt(0))),Array.from(s,b=>h.setUint8(y++,b.charCodeAt(0))),Array.from(o,b=>h.setUint8(y++,b.charCodeAt(0)));var g=new Uint8Array(p.byteLength+u.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(u),p.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,s,o,l]=n;return r({join_ref:i,ref:a,topic:s,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,i);case this.KINDS.reply:return this._decodeReply(t,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodePush(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3);let o=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(t.slice(o,o+i));o=o+i;const c=n.decode(t.slice(o,o+a));o=o+a;const u=n.decode(t.slice(o,o+s));o=o+s;const f=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{join_ref:l,ref:null,topic:c,event:u,payload:f}}_decodeReply(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=n.decode(t.slice(l,l+i));l=l+i;const u=n.decode(t.slice(l,l+a));l=l+a;const f=n.decode(t.slice(l,l+s));l=l+s;const p=n.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(n.decode(t.slice(l,t.byteLength))),y={status:p,response:h};return{join_ref:c,ref:u,topic:f,event:ka.reply,payload:y}}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const l=n.decode(t.slice(s,s+a));s=s+a;const c=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{join_ref:null,ref:null,topic:o,event:l,payload:c}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+i));l=l+i;const u=n.decode(t.slice(l,l+a));l=l+a;const f=n.decode(t.slice(l,l+s));l=l+s;const p=t.slice(l,t.byteLength),h=o===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,y={type:this.BROADCAST,event:u,payload:h};return s>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class e8{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ar;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ar||(Ar={}));const Vk=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=xz(s,e,t,i),a),{}):{}},xz=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?t8(a,s):qw(s)},t8=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return jz(t,r)}switch(e){case Ar.bool:return wz(t);case Ar.float4:case Ar.float8:case Ar.int2:case Ar.int4:case Ar.int8:case Ar.numeric:case Ar.oid:return _z(t);case Ar.json:case Ar.jsonb:return Sz(t);case Ar.timestamp:return Nz(t);case Ar.abstime:case Ar.date:case Ar.daterange:case Ar.int4range:case Ar.int8range:case Ar.money:case Ar.reltime:case Ar.text:case Ar.time:case Ar.timestamptz:case Ar.timetz:case Ar.tsrange:case Ar.tstzrange:return qw(t);default:return qw(t)}},qw=e=>e,wz=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},_z=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Sz=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},jz=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>t8(t,o))}return e},Nz=e=>typeof e=="string"?e.replace(" ","T"):e,r8=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class _x{constructor(t,r,n={},i=Uw){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Gk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Gk||(Gk={}));class mp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mp.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=mp.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=mp.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(a,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const f=a[c];if(f){const p=u.map(b=>b.presence_ref),h=f.map(b=>b.presence_ref),y=u.filter(b=>h.indexOf(b.presence_ref)<0),g=f.filter(b=>p.indexOf(b.presence_ref)<0);y.length>0&&(o[c]=y),g.length>0&&(l[c]=g)}else o[c]=u}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const u=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),u.length>0){const f=t[o].map(h=>h.presence_ref),p=u.filter(h=>f.indexOf(h.presence_ref)<0);t[o].unshift(...p)}n(o,u,l)}),this.map(s,(o,l)=>{let c=t[o];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[o]=c,i(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Kk||(Kk={}));var gp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(gp||(gp={}));var po;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(po||(po={}));class QS{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new _x(this,ka.join,this.params,this.timeout),this.rejoinTimer=new e8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ka.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new mp(this),this.broadcastEndpointURL=r8(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Pn.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[gp.PRESENCE]&&this.bindings[gp.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(po.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(po.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var y;if(this.socket.setAuth(),h===void 0){t==null||t(po.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(y=g==null?void 0:g.length)!==null&&y!==void 0?y:0,v=[];for(let w=0;w<b;w++){const _=g[w],{filter:{event:N,schema:S,table:j,filter:O}}=_,I=h&&h[w];if(I&&I.event===N&&I.schema===S&&I.table===j&&I.filter===O)v.push(Object.assign(Object.assign({},_),{id:I.id}));else{this.unsubscribe(),this.state=Pn.errored,t==null||t(po.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(po.SUBSCRIBED);return}}).receive("error",h=>{this.state=Pn.errored,t==null||t(po.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(po.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Pn.joined&&t===gp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ka.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new _x(this,ka.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new _x(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>vz){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=ka;if(n&&[o,l,c,u].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var y,g,b;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(g=h.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(h=>h.callback(p,n)):(a=this.bindings[s])===null||a===void 0||a.filter(h=>{var y,g,b,v,w,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const N=h.id,S=(y=h.filter)===null||y===void 0?void 0:y.event;return N&&((g=r.ids)===null||g===void 0?void 0:g.includes(N))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const N=(w=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return N==="*"||N===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:g,table:b,commit_timestamp:v,type:w,errors:_}=y;p=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:v,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(y))}h.callback(p,n)})}_isClosed(){return this.state===Pn.closed}_isJoined(){return this.state===Pn.joined}_isJoining(){return this.state===Pn.joining}_isLeaving(){return this.state===Pn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&QS.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ka.close,{},t)}_onError(t){this._on(ka.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Vk(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Vk(t.columns,t.old_record)),r}}const Sx=()=>{},d0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Az=[1e3,2e3,5e3,1e4],kz=1e4,Ez=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Oz{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uw,this.transport=null,this.heartbeatIntervalMs=d0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sx,this.ref=0,this.reconnectTimer=null,this.vsn=Wk,this.logger=Sx,this.conn=null,this.sendBuffer=[],this.serializer=new bz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${zw.websocket}`,this.httpEndpoint=r8(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hz.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Dc.connecting:return Bc.Connecting;case Dc.open:return Bc.Open;case Dc.closing:return Bc.Closing;default:return Bc.Closed}}isConnected(){return this.connectionState()===Bc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new QS(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(yz,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},d0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Dc.open||this.conn.readyState===Dc.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ka.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Ez],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:mz};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ka.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new e8(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},d0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,l,c,u,f,p,h;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Uw,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:d0.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Sx,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Wk,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:y=>Az[y-1]||kz,this.vsn){case QL:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(y,g)=>g(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,g)=>g(JSON.parse(y));break;case gz:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ej extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function qr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Pz extends ej{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hw extends ej{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const tj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Cz=()=>Response,Ww=e=>{if(Array.isArray(e))return e.map(r=>Ww(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Ww(n)}),t},Tz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},jx=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Iz=(e,t,r)=>vt(void 0,void 0,void 0,function*(){const n=yield Cz();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new Pz(jx(i),a,s))}).catch(i=>{t(new Hw(jx(i),i))}):t(new Hw(jx(e),e))}),Lz=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(Tz(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Hm(e,t,r,n,i,a){return vt(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,Lz(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>Iz(l,o,n))})})}function Yp(e,t,r,n){return vt(this,void 0,void 0,function*(){return Hm(e,"GET",t,r,n)})}function is(e,t,r,n,i){return vt(this,void 0,void 0,function*(){return Hm(e,"POST",t,n,i,r)})}function Vw(e,t,r,n,i){return vt(this,void 0,void 0,function*(){return Hm(e,"PUT",t,n,i,r)})}function Rz(e,t,r,n){return vt(this,void 0,void 0,function*(){return Hm(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function rj(e,t,r,n,i){return vt(this,void 0,void 0,function*(){return Hm(e,"DELETE",t,n,i,r)})}class $z{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return vt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qr(t))return{data:null,error:t};throw t}})}}var n8;class Mz{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[n8]="BlobDownloadBuilder",this.promise=null}asStream(){return new $z(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return vt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qr(t))return{data:null,error:t};throw t}})}}n8=Symbol.toStringTag;const Dz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Bz{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=tj(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return vt(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Yk),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),f=yield(t=="PUT"?Vw:is)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qr(a))return{data:null,error:a};throw a}})}upload(t,r,n){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return vt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Yk.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield Vw(this.fetch,o.toString(),l,{headers:u});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(qr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return vt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield is(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new ej("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qr(n))return{data:null,error:n};throw n}})}update(t,r,n){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return vt(this,void 0,void 0,function*(){try{return{data:yield is(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return vt(this,void 0,void 0,function*(){try{return{data:{path:(yield is(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return vt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield is(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return vt(this,void 0,void 0,function*(){try{const i=yield is(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qr(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(t),l=()=>Yp(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new Mz(l,this.shouldThrowOnError)}info(t){return vt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Yp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ww(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qr(n))return{data:null,error:n};throw n}})}exists(t){return vt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Rz(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qr(n)&&n instanceof Hw){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return vt(this,void 0,void 0,function*(){try{return{data:yield rj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}list(t,r,n){return vt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Dz),r),{prefix:t||""});return{data:yield is(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qr(i))return{data:null,error:i};throw i}})}listV2(t,r){return vt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield is(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const i8="2.81.0",a8={"X-Client-Info":`storage-js/${i8}`};class Fz{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},a8),r),this.fetch=tj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return vt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Yp(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}getBucket(t){return vt(this,void 0,void 0,function*(){try{return{data:yield Yp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}createBucket(t){return vt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield is(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qr(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return vt(this,void 0,void 0,function*(){try{return{data:yield Vw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return vt(this,void 0,void 0,function*(){try{return{data:yield is(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return vt(this,void 0,void 0,function*(){try{return{data:yield rj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Uz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},a8),r),this.fetch=tj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return vt(this,void 0,void 0,function*(){try{return{data:yield is(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}listBuckets(t){return vt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Yp(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return vt(this,void 0,void 0,function*(){try{return{data:yield rj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}}const nj={"X-Client-Info":`storage-js/${i8}`,"Content-Type":"application/json"};class s8 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function aa(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Nx extends s8{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zz extends s8{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Xk;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Xk||(Xk={}));const ij=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Jk=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Hz=(e,t,r)=>vt(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";t(new Nx(Jk(s),i,o))}).catch(()=>{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new Nx(o,i,s))});else{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new Nx(o,i,s))}}else t(new zz(Jk(e),e))}),Wz=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(qz(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function Vz(e,t,r,n,i,a){return vt(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,Wz(t,n,i,a)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>Hz(l,o,n))})})}function sa(e,t,r,n,i){return vt(this,void 0,void 0,function*(){return Vz(e,"POST",t,n,i,r)})}class Gz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nj),r),this.fetch=ij(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return vt(this,void 0,void 0,function*(){try{return{data:(yield sa(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(aa(r))return{data:null,error:r};throw r}})}getIndex(t,r){return vt(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(aa(n))return{data:null,error:n};throw n}})}listIndexes(t){return vt(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(aa(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return vt(this,void 0,void 0,function*(){try{return{data:(yield sa(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(aa(n))return{data:null,error:n};throw n}})}}class Kz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nj),r),this.fetch=ij(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return vt(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield sa(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(aa(r))return{data:null,error:r};throw r}})}getVectors(t){return vt(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(aa(r))return{data:null,error:r};throw r}})}listVectors(t){return vt(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield sa(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(aa(r))return{data:null,error:r};throw r}})}queryVectors(t){return vt(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(aa(r))return{data:null,error:r};throw r}})}deleteVectors(t){return vt(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield sa(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(aa(r))return{data:null,error:r};throw r}})}}class Yz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nj),r),this.fetch=ij(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return vt(this,void 0,void 0,function*(){try{return{data:(yield sa(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(aa(r))return{data:null,error:r};throw r}})}getBucket(t){return vt(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(aa(r))return{data:null,error:r};throw r}})}listBuckets(){return vt(this,arguments,void 0,function*(t={}){try{return{data:yield sa(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(aa(r))return{data:null,error:r};throw r}})}deleteBucket(t){return vt(this,void 0,void 0,function*(){try{return{data:(yield sa(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(aa(r))return{data:null,error:r};throw r}})}}class Xz extends Yz{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Jz(this.url,this.headers,t,this.fetch)}}class Jz extends Gz{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return vt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return vt(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return vt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return vt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Zz(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Zz extends Kz{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return vt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return vt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return vt(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return vt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return vt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Qz extends Fz{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new Bz(this.url,this.headers,t,this.fetch)}get vectors(){return new Xz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Uz(this.url+"/iceberg",this.headers,this.fetch)}}const eq="2.81.0";let np="";typeof Deno<"u"?np="deno":typeof document<"u"?np="web":typeof navigator<"u"&&navigator.product==="ReactNative"?np="react-native":np="node";const tq={"X-Client-Info":`supabase-js-${np}/${eq}`},rq={headers:tq},nq={schema:"public"},iq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aq={},sq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oq=()=>Headers,lq=(e,t,r)=>{const n=sq(r),i=oq();return async(a,s)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:c}))}};function cq(e){return e.endsWith("/")?e:e+"/"}function uq(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:c,realtime:u,global:f}=t,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function dq(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cq(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const o8="2.81.0",nd=30*1e3,Gw=3,Ax=Gw*nd,fq="http://localhost:9999",hq="supabase.auth.token",pq={"X-Client-Info":`gotrue-js/${o8}`},Kw="X-Supabase-Api-Version",l8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gq=10*60*1e3;class Xp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function _t(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yq extends Xp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function vq(e){return _t(e)&&e.name==="AuthApiError"}class Fc extends Xp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Yl extends Xp{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class ts extends Yl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bq(e){return _t(e)&&e.name==="AuthSessionMissingError"}class Hu extends Yl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class f0 extends Yl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class h0 extends Yl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xq(e){return _t(e)&&e.name==="AuthImplicitGrantRedirectError"}class Zk extends Yl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yw extends Yl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function kx(e){return _t(e)&&e.name==="AuthRetryableFetchError"}class Qk extends Yl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Xw extends Yl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ly="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),e4=` 	
\r=`.split(""),wq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<e4.length;t+=1)e[e4[t].charCodeAt(0)]=-2;for(let t=0;t<Ly.length;t+=1)e[Ly[t].charCodeAt(0)]=t;return e})();function t4(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ly[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ly[n]),t.queuedBits-=6}}function c8(e,t,r){const n=wq[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function r4(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{jq(s,n,r)};for(let s=0;s<e.length;s+=1)c8(e.charCodeAt(s),i,a);return t.join("")}function _q(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Sq(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}_q(n,t)}}function jq(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Td(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)c8(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Nq(e){const t=[];return Sq(e,r=>t.push(r)),new Uint8Array(t)}function Gc(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>t4(i,r,n)),t4(null,r,n),t.join("")}function Aq(e){return Math.round(Date.now()/1e3)+e}function kq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ci=()=>typeof window<"u"&&typeof document<"u",Ac={tested:!1,writable:!1},u8=()=>{if(!ci())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ac.tested)return Ac.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ac.tested=!0,Ac.writable=!0}catch{Ac.tested=!0,Ac.writable=!1}return Ac.writable};function Eq(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const d8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Oq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",id=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},kc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ul=async(e,t)=>{await e.removeItem(t)};class g1{constructor(){this.promise=new g1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}g1.promiseConstructor=Promise;function Ex(e){const t=e.split(".");if(t.length!==3)throw new Xw("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!mq.test(t[n]))throw new Xw("JWT not in base64url format");return{header:JSON.parse(r4(t[0])),payload:JSON.parse(r4(t[1])),signature:Td(t[2]),raw:{header:t[0],payload:t[1]}}}async function Pq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Cq(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function Tq(e){return("0"+e.toString(16)).substr(-2)}function Iq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Tq).join("")}async function Lq(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Rq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Lq(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wu(e,t,r=!1){const n=Iq();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await id(e,`${t}-code-verifier`,i);const a=await Rq(n);return[a,n===a?"plain":"s256"]}const $q=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mq(e){const t=e.headers.get(Kw);if(!t||!t.match($q))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Dq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Bq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vu(e){if(!Fq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ox(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Uq(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function n4(e){return JSON.parse(JSON.stringify(e))}const Ic=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zq=[502,503,504];async function i4(e){var t;if(!Oq(e))throw new Yw(Ic(e),0);if(zq.includes(e.status))throw new Yw(Ic(e),e.status);let r;try{r=await e.json()}catch(a){throw new Fc(Ic(a),a)}let n;const i=Mq(e);if(i&&i.getTime()>=l8["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Qk(Ic(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ts}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new Qk(Ic(r),e.status,r.weak_password.reasons);throw new yq(Ic(r),e.status||500,n)}const qq=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function At(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Kw]||(a[Kw]=l8["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await Hq(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Hq(e,t,r,n,i,a){const s=qq(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new Yw(Ic(l),0)}if(o.ok||await i4(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await i4(l)}}function rs(e){var t;let r=null;Gq(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Aq(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function a4(e){const t=rs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Wq(e){return{data:e,error:null}}function Vq(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=Lf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function s4(e){return e}function Gq(e){return e.access_token&&e.refresh_token&&e.expires_in}const Px=["global","local","others"];class Kq{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=d8(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Px[0]){if(Px.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Px.join(", ")}`);try{return await At(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await At(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:xl})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Lf(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await At(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Vq,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(_t(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await At(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xl})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await At(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:s4});if(u.error)throw u.error;const f=await u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(_t(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Vu(t);try{return await At(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xl})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Vu(t);try{return await At(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:xl})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Vu(t);try{return await At(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:xl})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Vu(t.userId);try{const{data:r,error:n}=await At(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Vu(t.userId),Vu(t.id);try{return{data:await At(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await At(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:s4});if(u.error)throw u.error;const f=await u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(_t(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await At(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await At(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await At(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await At(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await At(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}}function o4(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Gu={debug:!!(globalThis&&u8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class f8 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Yq extends f8{}async function Xq(e,t,r){Gu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Gu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Gu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Gu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Gu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Yq(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Jq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function h8(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Zq(e){return parseInt(e,16)}function Qq(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function eH(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:c,scheme:u,uri:f,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=h8(e.address),y=u?`${u}://${n}`:n,g=e.statement?`${e.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${h}

${g}`;let v=`URI: ${f}
Version: ${p}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),o&&(v+=`
Not Before: ${o.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}v+=w}return`${b}
${v}`}class yn extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Ry extends yn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function tH({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new yn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new yn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new yn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new yn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new yn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new yn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new yn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new yn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(p8(s)){if(a.rp.id!==s)return new yn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new yn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new yn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new yn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new yn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function rH({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new yn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new yn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(p8(n)){if(r.rpId!==n)return new yn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new yn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new yn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new yn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class nH{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const iH=new nH;function aH(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Lf(e,["challenge","user","excludeCredentials"]),a=Td(t).buffer,s=Object.assign(Object.assign({},r),{id:Td(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Td(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function sH(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Lf(e,["challenge","allowCredentials"]),i=Td(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:Td(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function oH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Gc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Gc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function lH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Gc(new Uint8Array(i.authenticatorData)),clientDataJSON:Gc(new Uint8Array(i.clientDataJSON)),signature:Gc(new Uint8Array(i.signature)),userHandle:i.userHandle?Gc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function p8(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function l4(){var e,t;return!!(ci()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function cH(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ry("Browser returned unexpected credential type",t)}:{data:null,error:new Ry("Empty credential response",t)}}catch(t){return{data:null,error:tH({error:t,options:e})}}}async function uH(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ry("Browser returned unexpected credential type",t)}:{data:null,error:new Ry("Empty credential response",t)}}catch(t){return{data:null,error:rH({error:t,options:e})}}}const dH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},fH={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $y(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(t(s)){const o=n[a];t(o)?n[a]=$y(o,s):n[a]=$y(s)}else n[a]=s}return n}function hH(e,t){return $y(dH,e,t||{})}function pH(e,t){return $y(fH,e,t||{})}class mH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const l=i??iH.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=hH(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:f}=await cH({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const c=pH(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:f}=await uH(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(s){return _t(s)?{data:null,error:s}:{data:null,error:new Fc("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Xp("rpId is required for WebAuthn authentication")};try{if(!l4())return{data:null,error:new Fc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return _t(s)?{data:null,error:s}:{data:null,error:new Fc("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Xp("rpId is required for WebAuthn registration")};try{if(!l4())return{data:null,error:new Fc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(s){return _t(s)?{data:null,error:s}:{data:null,error:new Fc("Unexpected error in register",s)}}}}Jq();const gH={url:fq,storageKey:hq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function c4(e,t,r){return await r()}const Ku={};class Jp{get jwks(){var t,r;return(r=(t=Ku[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ku[this.storageKey]=Object.assign(Object.assign({},Ku[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ku[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ku[this.storageKey]=Object.assign(Object.assign({},Ku[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},gH),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Jp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Jp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&ci()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Kq({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=d8(a.fetch),this.lock=a.lock||c4,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:ci()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Xq:this.lock=c4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:u8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=o4(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=o4(this.memoryStorage)),ci()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${o8}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(ci()&&(r=Eq(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ci()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),xq(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _t(r)?this._returnResult({error:r}):this._returnResult({error:new Fc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await At(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:rs}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(_t(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:u,password:f,options:p}=t;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await Wu(this.storage,this.storageKey)),a=await At(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:y},xform:rs})}else if("phone"in t){const{phone:u,password:f,options:p}=t;a=await At(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:rs})}else throw new f0("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(_t(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await At(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:a4})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await At(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:a4})}else throw new f0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new Hu;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,s,o,l,c,u,f,p;let h,y;if("message"in t)h=t.message,y=t.signature;else{const{chain:g,wallet:b,statement:v,options:w}=t;let _;if(ci())if(typeof b=="object")_=b;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")_=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const N=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=h8(S[0]);let O=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!O){const L=await _.request({method:"eth_chainId"});O=Zq(L)}const I={domain:N.host,address:j,statement:v,uri:N.href,version:"1",chainId:O,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=eH(I),y=await _.request({method:"personal_sign",params:[Qq(h),j]})}try{const{data:g,error:b}=await At(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:rs});if(b)throw b;if(!g||!g.session||!g.user){const v=new Hu;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(_t(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,i,a,s,o,l,c,u,f,p,h;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:b,wallet:v,statement:w,options:_}=t;let N;if(ci())if(typeof v=="object")N=v;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))N=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=v}const S=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const j=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let O;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")O=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)O=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)y=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),g=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(u=_==null?void 0:_.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const j=await N.signMessage(new TextEncoder().encode(y),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=j}}try{const{data:b,error:v}=await At(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Gc(g)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:rs});if(v)throw v;if(!b||!b.session||!b.user){const w=new Hu;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(_t(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await kc(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await At(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:rs});if(await ul(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const o=new Hu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(_t(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await At(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:rs}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Hu;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Wu(this.storage,this.storageKey));const{error:f}=await At(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:u}=await At(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new f0("You must provide either an email or phone number.")}catch(o){if(_t(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await At(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:rs});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(_t(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;this.flowType==="pkce"&&([a,s]=await Wu(this.storage,this.storageKey));const o=await At(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:Wq});return this._returnResult(o)}catch(a){if(_t(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ts;const{error:i}=await At(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(_t(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await At(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await At(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new f0("You must provide either an email or phone number and a type")}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await kc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ax:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await kc(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Ox()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=Uq(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await At(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xl}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ts}:await At(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:xl})})}catch(r){if(_t(r))return bq(r)&&(await this._removeSession(),await ul(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new ts;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Wu(this.storage,this.storageKey));const{data:c,error:u}=await At(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:xl});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(_t(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ts;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Ex(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(_t(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ts;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ci())throw new h0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new h0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Zk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new h0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Zk("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=t;if(!a||!o||!s||!c)throw new h0("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let p=u+f;l&&(p=parseInt(l));const h=p-u;h*1e3<=nd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const y=p-f;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,u);const{data:g,error:b}=await this._getUser(a);if(b)throw b;const v={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:p,refresh_token:s,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(_t(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await kc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(vq(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await ul(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=kq(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Wu(this.storage,this.storageKey,!0));try{return await At(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(_t(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,c,u;const{data:f,error:p}=a;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await At(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ci()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(_t(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:l,access_token:c,nonce:u}=t,f=await At(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:rs}),{data:p,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Hu}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:h}))}catch(i){if(_t(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await At(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Cq(async i=>(i>0&&await Pq(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await At(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rs})),(i,a)=>{const s=200*Math.pow(2,i);return a&&kx(a)&&Date.now()+s-n<nd})}catch(n){if(this._debug(r,"error",n),_t(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ci()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await kc(this.storage,this.storageKey);if(i&&this.userStorage){let s=await kc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await id(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Ox()}else if(i&&!i.user&&!i.user){const s=await kc(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await ul(this.storage,this.storageKey+"-user"),await id(this.storage,this.storageKey,i)):i.user=Ox()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ax;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Ax}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),kx(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ts;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new g1;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new ts;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),_t(a)){const s={data:null,error:a};return kx(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await id(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=n4(i);await id(this.storage,this.storageKey,a)}else{const i=n4(r);await id(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ul(this.storage,this.storageKey),await ul(this.storage,this.storageKey+"-code-verifier"),await ul(this.storage,this.storageKey+"-user"),this.userStorage&&await ul(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ci()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),nd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/nd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${nd}ms, refresh threshold is ${Gw} ticks`),i<=Gw&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof f8)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ci()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Wu(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await At(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await At(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?oH(t.webauthn.credential_response):lH(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await At(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await At(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:aH(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:sH(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ex(n.access_token);let s=null;a.aal&&(s=a.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=a.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await At(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ts})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ts});const s=await At(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&ci()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ts});const s=await At(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&ci()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+gq>i)return n;const{data:a,error:s}=await At(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:y}=await this.getSession();if(y||!h.session)return this._returnResult({data:null,error:y});n=h.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=Ex(n);r!=null&&r.allowExpired||Dq(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:s},error:null}}const u=Bq(i.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,Nq(`${o}.${l}`)))throw new Xw("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}}Jp.nextInstanceID={};const yH=Jp;class vH extends yH{constructor(t){super(t)}}class bH{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const o=dq(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:nq,realtime:aq,auth:Object.assign(Object.assign({},iq),{storageKey:l}),global:rq},u=uq(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=lq(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new fz(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Qz(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new cz(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:c,throwOnError:u},f,p){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vH({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),f),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Oz(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xH=(e,t,r)=>new bH(e,t,r);function wH(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}wH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _H="https://kivcusfsppjyalbgqtxy.supabase.co",SH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmN1c2ZzcHBqeWFsYmdxdHh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NjI2NjYsImV4cCI6MjA3ODQzODY2Nn0.DMugE2X3gBvcRBXt-NqWceWQB2Vmi9kbavEE6MEjAmI",Le=xH(_H,SH);async function aj(){try{const{error:e}=await Le.auth.signOut();e&&console.error("Sign out error:",e)}catch(e){console.error("Sign out exception:",e)}window.location.href="/"}async function jH(){const{data:e,error:t}=await Le.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(t)throw t;return e}function NH({onAuthSuccess:e}){const[t,r]=X.useState(!1),[n,i]=X.useState(""),[a,s]=X.useState(""),[o,l]=X.useState(""),[c,u]=X.useState("student"),[f,p]=X.useState([]),[h,y]=X.useState([]),[g,b]=X.useState(!1),[v,w]=X.useState(!1),[_,N]=X.useState(!1),[S,j]=X.useState(null),[O,I]=X.useState(null);X.useEffect(()=>{t&&c==="student"&&L()},[t,c]);const L=async()=>{b(!0);try{const{data:P,error:D}=await Le.from("cohorts").select("id, name, description").order("name");if(D)throw D;y(P||[])}catch(P){console.error("Error loading cohorts:",P)}finally{b(!1)}},F=async()=>{N(!0),j(null),I(null);try{await jH()}catch(P){j(P.message||"Failed to sign in with Google. Please try again."),N(!1)}},k=async P=>{P.preventDefault(),w(!0),j(null),I(null);try{if(t){const{data:D,error:M}=await Le.auth.signUp({email:n,password:a,options:{data:{name:o,role:c},emailRedirectTo:window.location.origin}});if(M)throw M;if(D.user&&!D.session){const U=c==="student"&&f.length>0?" After confirming your email, please join your selected cohorts from your profile page.":"";I(`Confirmation email sent to ${n}! Please check your inbox and click the confirmation link to activate your account.${U}`),w(!1),i(""),s(""),l(""),u("student"),p([]);return}if(D.user){let U=!1,V=0;const W=5;for(;!U&&V<W;){await new Promise($=>setTimeout($,500));const{data:B,error:J}=await Le.from("users").select("id").eq("id",D.user.id).single();if(B&&!J)U=!0;else if(J&&J.code==="PGRST116"){const{error:$}=await Le.from("users").insert({id:D.user.id,name:o,email:n,role:c});$||(U=!0)}V++}U||console.error("User record was not created after signup")}if(D.session&&D.user){if(c==="student"&&f.length>0){await new Promise(V=>setTimeout(V,1e3));const{error:U}=await Le.from("users").select("id").eq("id",D.user.id).single();if(U)console.error("Cannot add cohorts: User record not found",U),j("Account created but failed to join cohorts. Please join them from your profile.");else{const V=f.map(J=>({cohort_id:J,student_id:D.user.id})),{data:W,error:B}=await Le.from("cohort_members").insert(V).select();B?(console.error("Error adding student to cohorts:",B),j(`Account created but failed to join some cohorts: ${B.message}. Please join them from your profile.`)):W&&console.log("Successfully added student to cohorts:",W)}}e()}}else{const{error:D}=await Le.auth.signInWithPassword({email:n,password:a});if(D)throw D;e()}}catch(D){j(D.message||"An error occurred"),w(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-primary-50 to-gray-100 px-4 py-8",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 md:p-10 w-full max-w-md border-2 border-gray-200",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-16 md:h-20 w-auto object-contain"})}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Kaya CBDC V-OSCE"}),d.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base",children:"Yashwant Ayurvedic College"})]}),d.jsx("button",{type:"button",onClick:F,disabled:_||v,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 text-gray-700 py-3 px-6 rounded-xl hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:opacity-50 font-medium text-base md:text-lg shadow-md transition-all transform hover:scale-[1.02] mb-4",children:_?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{children:"Connecting..."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d.jsx("span",{children:"Sign in with Google"})]})}),d.jsxs("div",{className:"relative my-6",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),d.jsxs("form",{onSubmit:k,className:"space-y-4",children:[t&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),d.jsx("input",{type:"text",value:o,onChange:P=>l(P.target.value),required:t,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),d.jsxs("select",{value:c,onChange:P=>{u(P.target.value),p([])},required:t,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 bg-white",children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),c==="student"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Cohorts (Optional)"}),g?d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 p-3 bg-gray-50 rounded-md",children:[d.jsxs("svg",{className:"animate-spin h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{children:"Loading cohorts..."})]}):h.length===0?d.jsx("div",{className:"text-sm text-gray-600 p-3 bg-gray-50 border border-gray-200 rounded-md",children:"No cohorts available. You can join cohorts later from your profile settings."}):d.jsx("div",{className:"border border-gray-300 rounded-md max-h-40 overflow-y-auto p-2",children:h.map(P=>d.jsxs("label",{className:"flex items-start gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:f.includes(P.id),onChange:D=>{D.target.checked?p([...f,P.id]):p(f.filter(M=>M!==P.id))},className:"mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),P.description&&d.jsx("div",{className:"text-xs text-gray-500",children:P.description})]})]},P.id))}),f.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.length," cohort",f.length!==1?"s":""," selected"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:n,onChange:P=>i(P.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsx("input",{type:"password",value:a,onChange:P=>s(P.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),S&&d.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-700 px-4 py-3 rounded-r-lg",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),d.jsx("p",{className:"text-sm leading-relaxed",children:S})]})}),O&&d.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 text-green-700 px-4 py-3 rounded-r-lg",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium",children:"Email Sent!"}),d.jsx("p",{className:"text-sm mt-1 leading-relaxed",children:O})]})]})}),d.jsx("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-6 rounded-xl hover:from-primary-700 hover:to-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 font-bold text-base md:text-lg shadow-lg transition-all transform hover:scale-[1.02]",children:v?"Loading...":t?"Sign Up":"Sign In"})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("button",{onClick:()=>{r(!t),j(null),I(null)},className:"text-primary-600 hover:text-primary-700 text-sm",children:t?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),kt=(e,t)=>{const r=X.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>X.createElement("svg",{ref:u,...AH,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${kH(e)}`,o].join(" "),...c},[...t.map(([f,p])=>X.createElement(f,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=kt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=kt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=kt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=kt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=kt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=kt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=kt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=kt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=kt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=kt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=kt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=kt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=kt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=kt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=kt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=kt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=kt("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=kt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=kt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=kt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=kt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=kt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=kt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=kt("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=kt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=kt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=kt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=kt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=kt("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=kt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=kt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=kt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=kt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=kt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=kt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=kt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=kt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=kt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=kt("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=kt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=kt("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=kt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=kt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=kt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=kt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=kt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=kt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Bi({role:e}){const t=bu(),r=async()=>{await aj()},a=e==="faculty"?[{path:"/dashboard",icon:My,label:"Dashboard"},{path:"/create",icon:Wm,label:"Create Station"},{path:"/library",icon:g8,label:"Library"},{path:"/analytics",icon:$a,label:"Analytics"}]:[{path:"/admin/dashboard",icon:My,label:"Dashboard"},{path:"/admin/cbdc",icon:xi,label:"CBDC Manager"},{path:"/admin/reports",icon:$a,label:"Reports"},{path:"/admin/users",icon:ko,label:"Users"}];return d.jsx("div",{className:"hidden md:flex md:flex-col md:w-64 md:fixed md:inset-y-0 bg-white border-r border-gray-200",children:d.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center flex-shrink-0 px-4 mb-8 gap-3",children:[d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-10 w-auto object-contain"}),d.jsx("h1",{className:"text-xl font-bold text-primary-900",children:"Kaya V-OSCE"})]}),d.jsx("nav",{className:"flex-1 px-2 space-y-1",children:a.map(s=>{const o=s.icon,l=t.pathname===s.path||t.pathname.startsWith(s.path+"/");return d.jsxs(uL,{to:s.path,className:`flex items-center px-4 py-2 text-sm font-medium rounded-md ${l?"bg-primary-100 text-primary-900":"text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(o,{className:"mr-3 h-5 w-5"}),s.label]},s.path)})}),d.jsx("div",{className:"px-4 pb-4",children:d.jsxs("button",{onClick:r,className:"flex items-center w-full px-4 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-50",children:[d.jsx(x8,{className:"mr-3 h-5 w-5"}),"Sign Out"]})})]})})}function Zn({role:e}){const t=bu(),a=e==="admin"?[{path:"/admin/dashboard",icon:My,label:"Dashboard"},{path:"/admin/cbdc",icon:xi,label:"CBDC"},{path:"/admin/reports",icon:$a,label:"Reports"},{path:"/admin/users",icon:ko,label:"Users"}]:e==="faculty"?[{path:"/dashboard",icon:My,label:"Dashboard"},{path:"/create",icon:Wm,label:"Create"},{path:"/library",icon:g8,label:"Library"},{path:"/analytics",icon:$a,label:"Analytics"},{path:"/profile",icon:Bs,label:"Profile"}]:[{path:"/home",icon:IH,label:"Home"},{path:"/assigned",icon:y1,label:"Assignments"},{path:"/analytics",icon:$a,label:"Analytics"},{path:"/profile",icon:Bs,label:"Profile"}];return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-300 shadow-lg z-50 md:hidden safe-area-bottom",children:d.jsx("div",{className:"flex justify-around items-center h-16 px-2",children:a.map(s=>{const o=s.icon,l=t.pathname===s.path||s.path!=="/dashboard"&&s.path!=="/admin/dashboard"&&t.pathname.startsWith(s.path);return d.jsxs(uL,{to:s.path,className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${l?"text-primary-600 bg-primary-50 rounded-t-lg":"text-gray-600 hover:text-primary-500"}`,children:[d.jsx(o,{className:`w-5 h-5 ${l?"scale-110":""} transition-transform`}),d.jsx("span",{className:`text-xs mt-0.5 font-medium ${l?"text-primary-700":"text-gray-600"}`,children:s.label})]},s.path)})})})}function HH({user:e}){const t=gs(),[r,n]=X.useState({approved:0,pending:0,total:0}),[i,a]=X.useState(!0);X.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:o,error:l}=await Le.from("stations").select("id").eq("created_by",e.id);if(l)throw l;const c=(o==null?void 0:o.map(p=>p.id))||[],{data:u,error:f}=await Le.from("case_snapshots").select("id",{count:"exact"}).in("station_id",c);if(f)throw f;n({approved:(u==null?void 0:u.length)||0,pending:c.length-((u==null?void 0:u.length)||0),total:c.length})}catch(o){console.error("Error loading stats:",o)}finally{a(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Bi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Faculty Dashboard"}),d.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",e.name]})]}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved Cases"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.approved})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(xi,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Review"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.pending})]}),d.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:d.jsx(xu,{className:"w-6 h-6 text-yellow-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.total})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(ko,{className:"w-6 h-6 text-blue-600"})})]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),d.jsxs("button",{onClick:()=>t("/create"),className:"w-full md:w-auto flex items-center justify-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors font-medium shadow-sm hover:shadow-md",children:[d.jsx(Wm,{className:"w-5 h-5"}),"Create New Station"]})]})]})]})}),d.jsx(Zn,{role:"faculty"})]})}function WH({toast:e,onClose:t}){X.useEffect(()=>{if(e.duration!==0){const s=setTimeout(()=>{t(e.id)},e.duration||5e3);return()=>clearTimeout(s)}},[e.id,e.duration,t]);const r={success:Mn,error:Ts,warning:OH,info:LH},n={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},i={success:"text-green-600",error:"text-red-600",warning:"text-yellow-600",info:"text-blue-600"},a=r[e.type];return d.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg border-2 shadow-lg min-w-[300px] max-w-md ${n[e.type]} animate-in slide-in-from-top-5 fade-in`,children:[d.jsx(a,{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${i[e.type]}`}),d.jsx("div",{className:"flex-1 text-sm font-medium",children:e.message}),d.jsx("button",{onClick:()=>t(e.id),className:`flex-shrink-0 ${i[e.type]} hover:opacity-70 transition-opacity`,"aria-label":"Close",children:d.jsx(Bf,{className:"w-4 h-4"})})]})}function Ul({toasts:e,onClose:t}){return e.length===0?null:d.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:e.map(r=>d.jsx("div",{className:"pointer-events-auto",children:d.jsx(WH,{toast:r,onClose:t})},r.id))})}function Uo(){const[e,t]=X.useState([]),r=(l,c="info",u)=>{const f=Math.random().toString(36).substring(2,9),p={id:f,message:l,type:c,duration:u};return t(h=>[...h,p]),f};return{toasts:e,showToast:r,removeToast:l=>{t(c=>c.filter(u=>u.id!==l))},success:(l,c)=>r(l,"success",c),error:(l,c)=>r(l,"error",c),warning:(l,c)=>r(l,"warning",c),info:(l,c)=>r(l,"info",c)}}const Dh="AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",h4="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";function VH({user:e}){var S,j,O,I,L,F;const t=gs(),r=Uo(),[n,i]=X.useState(1),[a,s]=X.useState(!1),[o,l]=X.useState(!1),[c,u]=X.useState([]),[f,p]=X.useState([]),[h,y]=X.useState({subject:"",competencyId:"",slo:"",millerLevel:"ShowsHow",bloomDomain:"Cognitive",duration:15,difficulty:"Intermediate",prakriti:"Sama",doshaSliders:{vata:33,pitta:33,kapha:34},includeAshtasthana:!1});X.useEffect(()=>{g(),b()},[]);const g=async()=>{const{data:k}=await Le.from("subjects").select("*");k&&u(k)},b=async()=>{const{data:k}=await Le.from("competencies").select("*");k&&p(k)},v=k=>{var P,D,M,U,V,W;return`You are an expert Ayurvedic physician creating a virtual OSCE (Objective Structured Clinical Examination) case for medical students.

Generate a complete clinical case in JSON format matching this specification:

Subject: ${k.subject}
Miller's Level: ${k.millerLevel||"ShowsHow"}
Bloom's Domain: ${k.bloomDomain||"Cognitive"}
Difficulty: ${k.difficulty}
Duration: ${k.duration} minutes
Prakriti: ${k.prakriti||"Sama"}
Dosha Distribution: Vata ${((P=k.doshaSliders)==null?void 0:P.vata)||33}%, Pitta ${((D=k.doshaSliders)==null?void 0:D.pitta)||33}%, Kapha ${((M=k.doshaSliders)==null?void 0:M.kapha)||34}%
${k.includeAshtasthana?"Include Ashtasthana Pariksha findings":""}
${k.slo?`SLO: ${k.slo}`:""}

Return a JSON object with this exact structure:
{
  "id": "generate-uuid-here",
  "title": "Case title",
  "subject": "${k.subject}",
  "durationMinutes": ${k.duration},
  "difficulty": "${k.difficulty}",
  "patientProfile": {
    "name": "Patient name",
    "age": 35,
    "gender": "male",
    "prakriti": "${k.prakriti||"Sama"}",
    "occupation": "Relevant occupation"
  },
  "chiefComplaint": "Primary complaint in patient's own words (e.g., 'Fever and cough for 3 days')",
  "historyOfPresentIllness": "Detailed HPI in Ayurvedic context",
  ${k.includeAshtasthana?`"ashtasthanaPariksha": {
    "Nadi": "Pulse findings",
    "Mala": "Stool findings",
    "Mutra": "Urine findings",
    "Jihva": "Tongue findings",
    "Shabda": "Voice findings",
    "Sparsha": "Touch findings",
    "Druk": "Eye findings",
    "Akriti": "General appearance"
  },`:""}
  "doshaAnalysis": {
    "vata": ${((U=k.doshaSliders)==null?void 0:U.vata)||33},
    "pitta": ${((V=k.doshaSliders)==null?void 0:V.pitta)||33},
    "kapha": ${((W=k.doshaSliders)==null?void 0:W.kapha)||34}
  },
  "potentialDiagnoses": [
    {"dx": "Primary diagnosis", "confidence": 0.9},
    {"dx": "Differential diagnosis", "confidence": 0.6}
  ],
  "diagnosisMCQ": {
    "question": "What is the most likely diagnosis for this patient?",
    "options": ["Primary diagnosis", "Differential diagnosis 1", "Differential diagnosis 2", "Differential diagnosis 3"],
    "answerIndex": 0,
    "explanation": "Brief explanation of why the correct diagnosis is the most appropriate based on the case findings"
  },
  "suggestedChikitsa": "Detailed treatment plan",
  "mcqs": [
    {
      "id": "mcq-1",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${k.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    },
    {
      "id": "mcq-2",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${k.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    },
    {
      "id": "mcq-3",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${k.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    }
  ],
  "rubrics": [
    {
      "id": "rubric-1",
      "description": "Rubric description",
      "maxPoints": 10,
      "sloId": "${k.slo||"default-slo"}"
    }
  ],
  "finalExplanation": "Comprehensive explanation",
  "sloMappings": ["${k.slo||"default-slo"}"],
  "physicalExam": {
    "vitals": {
      "bp": "Actual blood pressure relevant to the case (e.g., '90/60 mmHg' for hypotension, '150/95 mmHg' for hypertension)",
      "hr": "Actual heart rate relevant to the case (e.g., '110 bpm' for tachycardia, '55 bpm' for bradycardia)",
      "rr": "Actual respiratory rate relevant to the case (e.g., '28 breaths/min' for tachypnea, '12 breaths/min' for normal)",
      "temp": "Actual temperature relevant to the case (e.g., '102.8F (oral)' for fever, '98.6F (oral)' for normal)",
      "spo2": "Actual oxygen saturation relevant to the case (e.g., '88% on room air' for hypoxemia, '98% on room air' for normal)"
    },
    "generalExam": "Detailed general examination findings that are consistent with the diagnosis and clinical presentation. Include appearance, consciousness level, pallor, icterus, edema, etc.",
    "systemicExam": "Detailed systemic examination findings organized by system (CNS, CVS, RS, GIT, etc.) that are consistent with the diagnosis. Be specific and realistic."
  },
  "availableLabTests": [
    {"category": "BEDSIDE TESTS", "tests": ["ECG", "Blood Glucose", "Urine Dipstick"]},
    {"category": "BASIC LABS", "tests": ["CBC", "CMP", "ESR", "CRP", "TSH", "Lipid Profile", "LFT", "RFT", "ABG"]},
    {"category": "ADVANCED LABS", "tests": ["Troponin", "BNP", "D-dimer", "Coagulation Profile", "Blood Culture", "HbA1c"]},
    {"category": "IMAGING", "tests": ["Chest X-Ray", "CT Head", "CT Chest", "CT Abdomen", "Abdominal Ultrasound", "Echocardiogram"]}
  ],
  "labResults": {
    "CBC": "Complete blood count results relevant to the case (e.g., 'WBC: 15,000/L (elevated), Hb: 12 g/dL, Platelets: 250,000/L' for infection)",
    "CMP": "Comprehensive metabolic panel results relevant to the case (e.g., 'Na: 138 mEq/L, K: 4.2 mEq/L, Creatinine: 1.2 mg/dL, BUN: 45 mg/dL (elevated)' for renal issues)",
    "Chest X-Ray": "Chest X-ray findings relevant to the case (e.g., 'Consolidation in right lower lobe, consistent with pneumonia' or 'Normal chest X-ray')",
    "ECG": "ECG findings relevant to the case (e.g., 'Normal sinus rhythm' or 'ST elevation in leads II, III, aVF')",
    "CRP": "C-reactive protein result relevant to the case (e.g., '150 mg/L (markedly elevated)' for inflammation)",
    "Urine Dipstick": "Urine dipstick results relevant to the case (e.g., 'Negative for nitrites, leukocyte esterase, protein, blood' or 'Positive for protein and blood')"
  },
  "learningPearls": [
    "Key learning point 1 relevant to this case",
    "Key learning point 2 relevant to this case",
    "Key learning point 3 relevant to this case"
  ],
  "furtherReading": [
    {
      "title": "Relevant Textbook Chapter",
      "reference": "Textbook Name, Edition. Chapter X: Topic"
    },
    {
      "title": "Clinical Guidelines",
      "reference": "Guideline Name and Year"
    }
  ]
}

CRITICAL REQUIREMENTS - YOU MUST FOLLOW THESE:

1. MCQs (REQUIRED - MUST GENERATE AT LEAST 3):
   - Generate at least 3 multiple-choice questions related to the case
   - Each MCQ must have 4 options (A, B, C, D)
   - Include an explanation for each correct answer
   - The last 3 MCQs will be used as post-case questions (shown after submission)
   - Additional MCQs (if any) can be used as pre-case questions

2. Physical Exam (REQUIRED - MUST BE GENERATED):
   - Vitals: Generate ALL 5 vital signs (BP, HR, RR, Temp, SpO2) with realistic values that match the diagnosis
   - General Exam: Write 2-3 sentences describing patient appearance, consciousness, pallor, icterus, edema, etc. relevant to the condition
   - Systemic Exam: Write detailed findings by system (CNS, CVS, RS, GIT, etc.) - at least 4-5 sentences with specific findings
   - Example for pneumonia: BP 90/60 (hypotension), HR 110 (tachycardia), RR 28 (tachypnea), Temp 102.8F (fever), SpO2 88% (hypoxemia)
   - Example for hypertension: BP 150/95 (elevated), HR 85, RR 16, Temp 98.6F, SpO2 98%

2. Lab Results (REQUIRED - MUST BE GENERATED):
   - Generate results for at least 4-6 common tests (CBC, CMP, Chest X-Ray, ECG, CRP, etc.)
   - Results MUST support the diagnosis and be realistic
   - Include abnormal values with explanations (e.g., "WBC: 15,000/L (elevated)")

3. Learning Pearls (REQUIRED - MUST BE 3-5 ITEMS):
   - Each pearl should be a complete sentence
   - Focus on key teaching points specific to this case
   - Be actionable and educational

4. Further Reading (REQUIRED - MUST BE 2-3 ITEMS):
   - Include specific textbook names, editions, and chapter numbers
   - Include relevant clinical guidelines with years
   - Make them specific to the diagnosis

5. Data Consistency:
   - If patient has fever  Temp must be elevated (e.g., 102F+)
   - If patient has respiratory distress  RR elevated, SpO2 decreased
   - If patient has infection  WBC elevated, CRP elevated
   - All findings must support the primary diagnosis

Return ONLY valid JSON, no markdown formatting, no code blocks. The JSON must be parseable directly.`},w=(k,P)=>{var M;let D=k.match(/```json\s*([\s\S]*?)\s*```/);if(D||(D=k.match(/```\s*([\s\S]*?)\s*```/)),D||(D=k.match(/\{[\s\S]*\}/)),!D)throw new Error("No JSON found in Gemini response. The AI may not have returned valid JSON.");try{const U=D[1]||D[0],V=JSON.parse(U);if(V.id=crypto.randomUUID(),V.subject=P.subject,V.durationMinutes=P.duration,V.difficulty=P.difficulty,V.patientProfile||(V.patientProfile={name:"Patient",age:35,gender:"male",prakriti:P.prakriti||"Sama",occupation:"Not specified"}),V.mcqs||(V.mcqs=[]),V.rubrics||(V.rubrics=[]),V.potentialDiagnoses||(V.potentialDiagnoses=[]),V.sloMappings||(V.sloMappings=[]),!V.diagnosisMCQ&&V.potentialDiagnoses&&V.potentialDiagnoses.length>0){const W=((M=V.potentialDiagnoses[0])==null?void 0:M.dx)||"Primary diagnosis",B=V.potentialDiagnoses.slice(0,4).map(J=>J.dx);for(;B.length<4;)B.push(`Differential diagnosis ${B.length}`);V.diagnosisMCQ={question:"What is the most likely diagnosis for this patient?",options:B,answerIndex:0,explanation:`The correct diagnosis is ${W}, which is supported by the clinical findings, physical examination, and laboratory results presented in this case.`}}return V.physicalExam||(V.physicalExam={vitals:{},generalExam:"",systemicExam:""}),V.physicalExam.vitals||(V.physicalExam.vitals={}),(!V.availableLabTests||V.availableLabTests.length===0)&&(V.availableLabTests=[]),V}catch(U){throw new Error(`Failed to parse JSON from Gemini response: ${U.message}`)}},_=async()=>{var k,P,D,M,U;if(!h.subject||!h.competencyId){r.warning("Please select a subject and competency first");return}if(Dh.trim()===""){r.error("Gemini API key is not configured. Please set VITE_GEMINI_API_KEY in your environment variables.");return}l(!0);try{const V=f.find(C=>C.id===h.competencyId),W=V?`${V.id}: ${V.description}`:h.competencyId,B=`You are an expert in medical education creating Specific Learning Outcomes (SLOs) for Ayurvedic medicine.

Subject: ${h.subject}
CBDC Competency: ${W}
Miller's Level: ${h.millerLevel}
Bloom's Domain: ${h.bloomDomain}

Generate a specific, measurable, and actionable learning outcome statement that:
1. Is aligned with the subject and competency
2. Matches the Miller's Level (${h.millerLevel})
3. Matches the Bloom's Domain (${h.bloomDomain})
4. Is specific to Ayurvedic medicine context
5. Is clear and concise (one sentence, max 20 words)

Return ONLY the SLO statement text, nothing else. No explanations, no quotes, just the statement.`,J=await fetch(h4,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":Dh},body:JSON.stringify({contents:[{parts:[{text:B}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:100}})});if(!J.ok){if(J.status===429||J.status>=500)throw new Error("Could not generate due to server overload. Please wait a moment and try again.");const C=await J.text();let K="Could not generate due to server overload. Please try again later.";try{const Q=JSON.parse(C);(k=Q.error)!=null&&k.message&&J.status!==429&&J.status<500&&(K=Q.error.message)}catch{}throw new Error(K)}const $=await J.json();if(!$.candidates||$.candidates.length===0)throw new Error("Could not generate due to server overload. Please try again later.");const ae=((U=(M=(D=(P=$.candidates[0])==null?void 0:P.content)==null?void 0:D.parts[0])==null?void 0:M.text)==null?void 0:U.trim())||"";if(!ae)throw new Error("Could not generate due to server overload. Please try again later.");const T=ae.replace(/^["']|["']$/g,"").replace(/^```[\w]*\n?|\n?```$/g,"").trim();y({...h,slo:T}),r.success("SLO suggested successfully!")}catch(V){const W=V.message||"Could not generate due to server overload. Please try again later.";r.error(W)}finally{l(!1)}},N=async()=>{var k,P,D,M,U,V;s(!0);try{if(!h.subject)throw new Error("Please select a subject");if(!h.competencyId)throw new Error("Please select a CBDC competency");if(!Dh||Dh.trim()==="")throw new Error("Gemini API key is not configured. Please set VITE_GEMINI_API_KEY in your environment variables.");const W=v(h),B=await fetch(h4,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":Dh},body:JSON.stringify({contents:[{parts:[{text:W}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:8192}})});if(!B.ok){if(B.status===429||B.status>=500)throw new Error("Could not generate due to server overload. Please wait a moment and try again.");const Q=await B.text();let ie="Could not generate due to server overload. Please try again later.";try{const ue=JSON.parse(Q);(k=ue.error)!=null&&k.message&&B.status!==429&&B.status<500&&(ie=ue.error.message)}catch{}throw new Error(ie)}const J=await B.json();if(!J.candidates||J.candidates.length===0)throw new Error("Could not generate due to server overload. Please try again later.");const $=((M=(D=(P=J.candidates[0])==null?void 0:P.content)==null?void 0:D.parts[0])==null?void 0:M.text)||"";if(!$)throw new Error("Could not generate due to server overload. Please try again later.");const ae=w($,h),T=[];if(!ae.physicalExam||!ae.physicalExam.vitals)T.push("Physical examination vitals are missing");else{const Q=ae.physicalExam.vitals;(!Q.bp||!Q.hr||!Q.rr||!Q.temp||!Q.spo2)&&T.push("Some vital signs are missing (BP, HR, RR, Temp, SpO2)")}if((!((U=ae.physicalExam)!=null&&U.generalExam)||ae.physicalExam.generalExam.trim()==="")&&T.push("General examination findings are missing"),(!((V=ae.physicalExam)!=null&&V.systemicExam)||ae.physicalExam.systemicExam.trim()==="")&&T.push("Systemic examination findings are missing"),(!ae.labResults||Object.keys(ae.labResults).length<4)&&T.push("Lab results are missing or insufficient (need at least 4 test results)"),!ae.learningPearls||ae.learningPearls.length<3?T.push("Learning pearls are missing or insufficient (need at least 3)"):ae.learningPearls.some(ie=>ie.toLowerCase().includes("key learning point")||ie.toLowerCase().includes("relevant to this case")||ie.trim().length<20)&&T.push("Learning pearls contain generic placeholder text"),!ae.furtherReading||ae.furtherReading.length<2?T.push("Further reading references are missing or insufficient (need at least 2)"):ae.furtherReading.some(ie=>ie.title.toLowerCase().includes("relevant textbook")||ie.title.toLowerCase().includes("textbook name")||ie.reference.toLowerCase().includes("chapter x")||ie.reference.toLowerCase().includes("textbook name"))&&T.push("Further reading contains generic placeholder text"),T.length>0)throw new Error(`AI generation incomplete:
${T.join(`
`)}

Please regenerate the case.`);const{data:C,error:K}=await Le.from("stations").insert({title:ae.title||"New Station",blueprint:{...h,generatedCase:ae},created_by:e.id}).select().single();if(K)throw K;t(`/review/${C.id}`),r.success("Case generated successfully!")}catch(W){const B=W.message||"Could not generate due to server overload. Please try again later.";r.error(B)}finally{s(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Bi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(Zp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Create New Station"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[n>=1&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 1: Subject & Competency"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),d.jsxs("select",{value:h.subject,onChange:k=>y({...h,subject:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Select Subject"}),c.map(k=>d.jsx("option",{value:k.name,children:k.name},k.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CBDC Competency"}),d.jsxs("select",{value:h.competencyId||"",onChange:k=>y({...h,competencyId:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Select Competency"}),f.map(k=>d.jsxs("option",{value:k.id,children:[k.id,": ",k.description]},k.id))]})]})]}),n>=2&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 2: Learning Outcomes"}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"SLO (Specific Learning Outcome)"}),d.jsx("button",{type:"button",onClick:_,disabled:o||!h.subject||!h.competencyId,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-primary-600 bg-primary-50 border border-primary-200 rounded-md hover:bg-primary-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?d.jsxs(d.Fragment,{children:[d.jsx(Ao,{className:"w-3 h-3 animate-spin"}),"Suggesting..."]}):d.jsxs(d.Fragment,{children:[d.jsx(BH,{className:"w-3 h-3"}),"AI Suggest"]})})]}),d.jsx("textarea",{value:h.slo||"",onChange:k=>y({...h,slo:k.target.value}),placeholder:"e.g., Demonstrate interpretation of Nadi in Pitta Jwara",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Miller's Level"}),d.jsxs("select",{value:h.millerLevel,onChange:k=>y({...h,millerLevel:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Knows",children:"Knows"}),d.jsx("option",{value:"KnowsHow",children:"Knows How"}),d.jsx("option",{value:"ShowsHow",children:"Shows How"}),d.jsx("option",{value:"Does",children:"Does"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bloom's Domain"}),d.jsxs("select",{value:h.bloomDomain,onChange:k=>y({...h,bloomDomain:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Cognitive",children:"Cognitive"}),d.jsx("option",{value:"Psychomotor",children:"Psychomotor"}),d.jsx("option",{value:"Affective",children:"Affective"})]})]})]})]}),n>=3&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 3: Case Parameters"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),d.jsx("input",{type:"number",min:"5",max:"60",value:h.duration,onChange:k=>y({...h,duration:parseInt(k.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),d.jsxs("select",{value:h.difficulty,onChange:k=>y({...h,difficulty:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Beginner",children:"Beginner"}),d.jsx("option",{value:"Intermediate",children:"Intermediate"}),d.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]})]}),n>=4&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 4: Ayurvedic Parameters"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prakriti"}),d.jsxs("select",{value:h.prakriti,onChange:k=>y({...h,prakriti:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Vata",children:"Vata"}),d.jsx("option",{value:"Pitta",children:"Pitta"}),d.jsx("option",{value:"Kapha",children:"Kapha"}),d.jsx("option",{value:"Sama",children:"Sama"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dosha Distribution (must sum to 100)"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Vata: ",(S=h.doshaSliders)==null?void 0:S.vata,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((j=h.doshaSliders)==null?void 0:j.vata)||0,onChange:k=>{var V;const P=parseInt(k.target.value),D=100-P,M=Math.min(D,((V=h.doshaSliders)==null?void 0:V.pitta)||0),U=100-P-M;y({...h,doshaSliders:{vata:P,pitta:M,kapha:U}})},className:"w-full"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Pitta: ",(O=h.doshaSliders)==null?void 0:O.pitta,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((I=h.doshaSliders)==null?void 0:I.pitta)||0,onChange:k=>{var V;const P=parseInt(k.target.value),D=100-P,M=Math.min(D,((V=h.doshaSliders)==null?void 0:V.vata)||0),U=100-M-P;y({...h,doshaSliders:{vata:M,pitta:P,kapha:U}})},className:"w-full"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Kapha: ",(L=h.doshaSliders)==null?void 0:L.kapha,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((F=h.doshaSliders)==null?void 0:F.kapha)||0,onChange:k=>{var V;const P=parseInt(k.target.value),D=100-P,M=Math.min(D,((V=h.doshaSliders)==null?void 0:V.vata)||0),U=100-M-P;y({...h,doshaSliders:{vata:M,pitta:U,kapha:P}})},className:"w-full"})]})]})]}),d.jsx("div",{children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:h.includeAshtasthana||!1,onChange:k=>y({...h,includeAshtasthana:k.target.checked})}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Include Ashtasthana Pariksha"})]})})]}),d.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[d.jsx("button",{onClick:()=>i(Math.max(1,n-1)),disabled:n===1,className:"px-4 py-2 border border-gray-300 rounded-md disabled:opacity-50",children:"Previous"}),n<4?d.jsx("button",{onClick:()=>i(n+1),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Next"}):d.jsxs("button",{onClick:N,disabled:a||!h.subject,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 flex items-center gap-2",children:[a&&d.jsx(Ao,{className:"w-4 h-4 animate-spin"}),"Generate Case"]})]})]})]})}),d.jsx(Zn,{role:"faculty"}),d.jsx(Ul,{toasts:r.toasts,onClose:r.removeToast}),a&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full mx-4",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(Ao,{className:"w-12 h-12 text-primary-600 animate-spin mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Generating your case..."}),d.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:"This may take 30-60 seconds. Please don't close this page."}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-primary-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})})]})})})]})}function GH(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const KH=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,YH=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,XH={};function p4(e,t){return(XH.jsx?YH:KH).test(e)}const JH=/[ \t\n\f\r]/g;function ZH(e){return typeof e=="object"?e.type==="text"?m4(e.value):!1:m4(e)}function m4(e){return e.replace(JH,"")===""}class Vm{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Vm.prototype.normal={};Vm.prototype.property={};Vm.prototype.space=void 0;function w8(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Vm(r,n,t)}function Jw(e){return e.toLowerCase()}class Ui{constructor(t,r){this.attribute=r,this.property=t}}Ui.prototype.attribute="";Ui.prototype.booleanish=!1;Ui.prototype.boolean=!1;Ui.prototype.commaOrSpaceSeparated=!1;Ui.prototype.commaSeparated=!1;Ui.prototype.defined=!1;Ui.prototype.mustUseProperty=!1;Ui.prototype.number=!1;Ui.prototype.overloadedBoolean=!1;Ui.prototype.property="";Ui.prototype.spaceSeparated=!1;Ui.prototype.space=void 0;let QH=0;const qt=wu(),mn=wu(),Zw=wu(),Ye=wu(),kr=wu(),Ld=wu(),Qi=wu();function wu(){return 2**++QH}const Qw=Object.freeze(Object.defineProperty({__proto__:null,boolean:qt,booleanish:mn,commaOrSpaceSeparated:Qi,commaSeparated:Ld,number:Ye,overloadedBoolean:Zw,spaceSeparated:kr},Symbol.toStringTag,{value:"Module"})),Cx=Object.keys(Qw);class lj extends Ui{constructor(t,r,n,i){let a=-1;if(super(t,r),g4(this,"space",i),typeof n=="number")for(;++a<Cx.length;){const s=Cx[a];g4(this,Cx[a],(n&Qw[s])===Qw[s])}}}lj.prototype.defined=!0;function g4(e,t,r){r&&(e[t]=r)}function Ff(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const a=new lj(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),t[n]=a,r[Jw(n)]=n,r[Jw(a.attribute)]=n}return new Vm(t,r,e.space)}const _8=Ff({properties:{ariaActiveDescendant:null,ariaAtomic:mn,ariaAutoComplete:null,ariaBusy:mn,ariaChecked:mn,ariaColCount:Ye,ariaColIndex:Ye,ariaColSpan:Ye,ariaControls:kr,ariaCurrent:null,ariaDescribedBy:kr,ariaDetails:null,ariaDisabled:mn,ariaDropEffect:kr,ariaErrorMessage:null,ariaExpanded:mn,ariaFlowTo:kr,ariaGrabbed:mn,ariaHasPopup:null,ariaHidden:mn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:kr,ariaLevel:Ye,ariaLive:null,ariaModal:mn,ariaMultiLine:mn,ariaMultiSelectable:mn,ariaOrientation:null,ariaOwns:kr,ariaPlaceholder:null,ariaPosInSet:Ye,ariaPressed:mn,ariaReadOnly:mn,ariaRelevant:null,ariaRequired:mn,ariaRoleDescription:kr,ariaRowCount:Ye,ariaRowIndex:Ye,ariaRowSpan:Ye,ariaSelected:mn,ariaSetSize:Ye,ariaSort:null,ariaValueMax:Ye,ariaValueMin:Ye,ariaValueNow:Ye,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function S8(e,t){return t in e?e[t]:t}function j8(e,t){return S8(e,t.toLowerCase())}const eW=Ff({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ld,acceptCharset:kr,accessKey:kr,action:null,allow:null,allowFullScreen:qt,allowPaymentRequest:qt,allowUserMedia:qt,alt:null,as:null,async:qt,autoCapitalize:null,autoComplete:kr,autoFocus:qt,autoPlay:qt,blocking:kr,capture:null,charSet:null,checked:qt,cite:null,className:kr,cols:Ye,colSpan:null,content:null,contentEditable:mn,controls:qt,controlsList:kr,coords:Ye|Ld,crossOrigin:null,data:null,dateTime:null,decoding:null,default:qt,defer:qt,dir:null,dirName:null,disabled:qt,download:Zw,draggable:mn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:qt,formTarget:null,headers:kr,height:Ye,hidden:Zw,high:Ye,href:null,hrefLang:null,htmlFor:kr,httpEquiv:kr,id:null,imageSizes:null,imageSrcSet:null,inert:qt,inputMode:null,integrity:null,is:null,isMap:qt,itemId:null,itemProp:kr,itemRef:kr,itemScope:qt,itemType:kr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:qt,low:Ye,manifest:null,max:null,maxLength:Ye,media:null,method:null,min:null,minLength:Ye,multiple:qt,muted:qt,name:null,nonce:null,noModule:qt,noValidate:qt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:qt,optimum:Ye,pattern:null,ping:kr,placeholder:null,playsInline:qt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:qt,referrerPolicy:null,rel:kr,required:qt,reversed:qt,rows:Ye,rowSpan:Ye,sandbox:kr,scope:null,scoped:qt,seamless:qt,selected:qt,shadowRootClonable:qt,shadowRootDelegatesFocus:qt,shadowRootMode:null,shape:null,size:Ye,sizes:null,slot:null,span:Ye,spellCheck:mn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ye,step:null,style:null,tabIndex:Ye,target:null,title:null,translate:null,type:null,typeMustMatch:qt,useMap:null,value:mn,width:Ye,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:kr,axis:null,background:null,bgColor:null,border:Ye,borderColor:null,bottomMargin:Ye,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:qt,declare:qt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ye,leftMargin:Ye,link:null,longDesc:null,lowSrc:null,marginHeight:Ye,marginWidth:Ye,noResize:qt,noHref:qt,noShade:qt,noWrap:qt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ye,rules:null,scheme:null,scrolling:mn,standby:null,summary:null,text:null,topMargin:Ye,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ye,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:qt,disableRemotePlayback:qt,prefix:null,property:null,results:Ye,security:null,unselectable:null},space:"html",transform:j8}),tW=Ff({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Qi,accentHeight:Ye,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ye,amplitude:Ye,arabicForm:null,ascent:Ye,attributeName:null,attributeType:null,azimuth:Ye,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ye,by:null,calcMode:null,capHeight:Ye,className:kr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ye,diffuseConstant:Ye,direction:null,display:null,dur:null,divisor:Ye,dominantBaseline:null,download:qt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ye,enableBackground:null,end:null,event:null,exponent:Ye,externalResourcesRequired:null,fill:null,fillOpacity:Ye,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ld,g2:Ld,glyphName:Ld,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ye,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ye,horizOriginX:Ye,horizOriginY:Ye,id:null,ideographic:Ye,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ye,k:Ye,k1:Ye,k2:Ye,k3:Ye,k4:Ye,kernelMatrix:Qi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ye,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ye,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ye,overlineThickness:Ye,paintOrder:null,panose1:null,path:null,pathLength:Ye,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:kr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ye,pointsAtY:Ye,pointsAtZ:Ye,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Qi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Qi,rev:Qi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Qi,requiredFeatures:Qi,requiredFonts:Qi,requiredFormats:Qi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ye,specularExponent:Ye,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ye,strikethroughThickness:Ye,string:null,stroke:null,strokeDashArray:Qi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ye,strokeOpacity:Ye,strokeWidth:null,style:null,surfaceScale:Ye,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Qi,tabIndex:Ye,tableValues:null,target:null,targetX:Ye,targetY:Ye,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Qi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ye,underlineThickness:Ye,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ye,values:null,vAlphabetic:Ye,vMathematical:Ye,vectorEffect:null,vHanging:Ye,vIdeographic:Ye,version:null,vertAdvY:Ye,vertOriginX:Ye,vertOriginY:Ye,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ye,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:S8}),N8=Ff({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),A8=Ff({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:j8}),k8=Ff({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),rW={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},nW=/[A-Z]/g,y4=/-[a-z]/g,iW=/^data[-\w.:]+$/i;function aW(e,t){const r=Jw(t);let n=t,i=Ui;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&iW.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(y4,oW);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!y4.test(a)){let s=a.replace(nW,sW);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=lj}return new i(n,t)}function sW(e){return"-"+e.toLowerCase()}function oW(e){return e.charAt(1).toUpperCase()}const lW=w8([_8,eW,N8,A8,k8],"html"),cj=w8([_8,tW,N8,A8,k8],"svg");function cW(e){return e.join(" ").trim()}var uj={},v4=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,uW=/\n/g,dW=/^\s*/,fW=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,hW=/^:\s*/,pW=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,mW=/^[;\s]*/,gW=/^\s+|\s+$/g,yW=`
`,b4="/",x4="*",Uc="",vW="comment",bW="declaration";function xW(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function i(y){var g=y.match(uW);g&&(r+=g.length);var b=y.lastIndexOf(yW);n=~b?y.length-b:n+y.length}function a(){var y={line:r,column:n};return function(g){return g.position=new s(y),c(),g}}function s(y){this.start=y,this.end={line:r,column:n},this.source=t.source}s.prototype.content=e;function o(y){var g=new Error(t.source+":"+r+":"+n+": "+y);if(g.reason=y,g.filename=t.source,g.line=r,g.column=n,g.source=e,!t.silent)throw g}function l(y){var g=y.exec(e);if(g){var b=g[0];return i(b),e=e.slice(b.length),g}}function c(){l(dW)}function u(y){var g;for(y=y||[];g=f();)g!==!1&&y.push(g);return y}function f(){var y=a();if(!(b4!=e.charAt(0)||x4!=e.charAt(1))){for(var g=2;Uc!=e.charAt(g)&&(x4!=e.charAt(g)||b4!=e.charAt(g+1));)++g;if(g+=2,Uc===e.charAt(g-1))return o("End of comment missing");var b=e.slice(2,g-2);return n+=2,i(b),e=e.slice(g),n+=2,y({type:vW,comment:b})}}function p(){var y=a(),g=l(fW);if(g){if(f(),!l(hW))return o("property missing ':'");var b=l(pW),v=y({type:bW,property:w4(g[0].replace(v4,Uc)),value:b?w4(b[0].replace(v4,Uc)):Uc});return l(mW),v}}function h(){var y=[];u(y);for(var g;g=p();)g!==!1&&(y.push(g),u(y));return y}return c(),h()}function w4(e){return e?e.replace(gW,Uc):Uc}var wW=xW,_W=_l&&_l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uj,"__esModule",{value:!0});uj.default=jW;const SW=_W(wW);function jW(e,t){let r=null;if(!e||typeof e!="string")return r;const n=(0,SW.default)(e),i=typeof t=="function";return n.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(r=r||{},r[s]=o)}),r}var b1={};Object.defineProperty(b1,"__esModule",{value:!0});b1.camelCase=void 0;var NW=/^--[a-zA-Z0-9_-]+$/,AW=/-([a-z])/g,kW=/^[^-]+$/,EW=/^-(webkit|moz|ms|o|khtml)-/,OW=/^-(ms)-/,PW=function(e){return!e||kW.test(e)||NW.test(e)},CW=function(e,t){return t.toUpperCase()},_4=function(e,t){return"".concat(t,"-")},TW=function(e,t){return t===void 0&&(t={}),PW(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(OW,_4):e=e.replace(EW,_4),e.replace(AW,CW))};b1.camelCase=TW;var IW=_l&&_l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},LW=IW(uj),RW=b1;function e5(e,t){var r={};return!e||typeof e!="string"||(0,LW.default)(e,function(n,i){n&&i&&(r[(0,RW.camelCase)(n,t)]=i)}),r}e5.default=e5;var $W=e5;const MW=lr($W),E8=O8("end"),dj=O8("start");function O8(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function DW(e){const t=dj(e),r=E8(e);if(t&&r)return{start:t,end:r}}function vp(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?S4(e.position):"start"in e||"end"in e?S4(e):"line"in e||"column"in e?t5(e):""}function t5(e){return j4(e&&e.line)+":"+j4(e&&e.column)}function S4(e){return t5(e&&e.start)+"-"+t5(e&&e.end)}function j4(e){return e&&typeof e=="number"?e:1}class pi extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",a={},s=!1;if(r&&("line"in r&&"column"in r?a={place:r}:"start"in r&&"end"in r?a={place:r}:"type"in r?a={ancestors:[r],place:r.position}:a={...r}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?a.ruleId=n:(a.source=n.slice(0,l),a.ruleId=n.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=vp(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}pi.prototype.file="";pi.prototype.name="";pi.prototype.reason="";pi.prototype.message="";pi.prototype.stack="";pi.prototype.column=void 0;pi.prototype.line=void 0;pi.prototype.ancestors=void 0;pi.prototype.cause=void 0;pi.prototype.fatal=void 0;pi.prototype.place=void 0;pi.prototype.ruleId=void 0;pi.prototype.source=void 0;const fj={}.hasOwnProperty,BW=new Map,FW=/[A-Z]/g,UW=new Set(["table","tbody","thead","tfoot","tr"]),zW=new Set(["td","th"]),P8="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function qW(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=JW(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=XW(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?cj:lW,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=C8(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function C8(e,t,r){if(t.type==="element")return HW(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return WW(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return GW(e,t,r);if(t.type==="mdxjsEsm")return VW(e,t);if(t.type==="root")return KW(e,t,r);if(t.type==="text")return YW(e,t)}function HW(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=cj,e.schema=i),e.ancestors.push(t);const a=I8(e,t.tagName,!1),s=ZW(e,t);let o=pj(e,t);return UW.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!ZH(l):!0})),T8(e,s,a,t),hj(s,o),e.ancestors.pop(),e.schema=n,e.create(t,a,s,r)}function WW(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Qp(e,t.position)}function VW(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Qp(e,t.position)}function GW(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=cj,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:I8(e,t.name,!0),s=QW(e,t),o=pj(e,t);return T8(e,s,a,t),hj(s,o),e.ancestors.pop(),e.schema=n,e.create(t,a,s,r)}function KW(e,t,r){const n={};return hj(n,pj(e,t)),e.create(t,e.Fragment,n,r)}function YW(e,t){return t.value}function T8(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function hj(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function XW(e,t,r){return n;function n(i,a,s,o){const c=Array.isArray(s.children)?r:t;return o?c(a,s,o):c(a,s)}}function JW(e,t){return r;function r(n,i,a,s){const o=Array.isArray(a.children),l=dj(n);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function ZW(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&fj.call(t.properties,i)){const a=eV(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&zW.has(t.tagName)?n=o:r[s]=o}}if(n){const a=r.style||(r.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function QW(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const a=n.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else Qp(e,t.position);else{const i=n.name;let a;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else Qp(e,t.position);else a=n.value===null?!0:n.value;r[i]=a}return r}function pj(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:BW;for(;++n<t.children.length;){const a=t.children[n];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=C8(e,a,s);o!==void 0&&r.push(o)}return r}function eV(e,t,r){const n=aW(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?GH(r):cW(r)),n.property==="style"){let i=typeof r=="object"?r:tV(e,String(r));return e.stylePropertyNameCase==="css"&&(i=rV(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?rW[n.property]||n.property:n.attribute,r]}}function tV(e,t){try{return MW(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new pi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=P8+"#cannot-parse-style-attribute",i}}function I8(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=p4(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}n=s}else n=p4(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return fj.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);Qp(e)}function Qp(e,t){const r=new pi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=P8+"#cannot-handle-mdx-estrees-without-createevaluater",r}function rV(e){const t={};let r;for(r in e)fj.call(e,r)&&(t[nV(r)]=e[r]);return t}function nV(e){let t=e.replace(FW,iV);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function iV(e){return"-"+e.toLowerCase()}const Tx={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},aV={};function sV(e,t){const r=aV,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return L8(e,n,i)}function L8(e,t,r){if(oV(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return N4(e.children,t,r)}return Array.isArray(e)?N4(e,t,r):""}function N4(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=L8(e[i],t,r);return n.join("")}function oV(e){return!!(e&&typeof e=="object")}const A4=document.createElement("i");function mj(e){const t="&"+e+";";A4.innerHTML=t;const r=A4.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Hs(e,t,r,n){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)s=Array.from(n),s.unshift(t,r),e.splice(...s);else for(r&&e.splice(t,r);a<n.length;)s=n.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Pa(e,t){return e.length>0?(Hs(e,e.length,0,t),e):t}const k4={}.hasOwnProperty;function lV(e){const t={};let r=-1;for(;++r<e.length;)cV(t,e[r]);return t}function cV(e,t){let r;for(r in t){const i=(k4.call(e,r)?e[r]:void 0)||(e[r]={}),a=t[r];let s;if(a)for(s in a){k4.call(i,s)||(i[s]=[]);const o=a[s];uV(i[s],Array.isArray(o)?o:o?[o]:[])}}}function uV(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Hs(e,0,0,n)}function R8(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Rd(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ls=Xl(/[A-Za-z]/),ca=Xl(/[\dA-Za-z]/),dV=Xl(/[#-'*+\--9=?A-Z^-~]/);function r5(e){return e!==null&&(e<32||e===127)}const n5=Xl(/\d/),fV=Xl(/[\dA-Fa-f]/),hV=Xl(/[!-/:-@[-`{-~]/);function Pt(e){return e!==null&&e<-2}function Fi(e){return e!==null&&(e<0||e===32)}function or(e){return e===-2||e===-1||e===32}const pV=Xl(new RegExp("\\p{P}|\\p{S}","u")),mV=Xl(/\s/);function Xl(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Uf(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const a=e.charCodeAt(r);let s="";if(a===37&&ca(e.charCodeAt(r+1))&&ca(e.charCodeAt(r+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(r+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(n,r),encodeURIComponent(s)),n=r+i+1,s=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function Cr(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return or(l)?(e.enter(r),o(l)):t(l)}function o(l){return or(l)&&a++<i?(e.consume(l),o):(e.exit(r),t(l))}}const gV={tokenize:yV};function yV(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Cr(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Pt(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const vV={tokenize:bV},E4={tokenize:xV};function bV(e){const t=this,r=[];let n=0,i,a,s;return o;function o(_){if(n<r.length){const N=r[n];return t.containerState=N[1],e.attempt(N[0].continuation,l,c)(_)}return c(_)}function l(_){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const N=t.events.length;let S=N,j;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){j=t.events[S][1].end;break}v(n);let O=N;for(;O<t.events.length;)t.events[O][1].end={...j},O++;return Hs(t.events,S+1,0,t.events.slice(N)),t.events.length=O,c(_)}return o(_)}function c(_){if(n===r.length){if(!i)return p(_);if(i.currentConstruct&&i.currentConstruct.concrete)return y(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(E4,u,f)(_)}function u(_){return i&&w(),v(n),p(_)}function f(_){return t.parser.lazy[t.now().line]=n!==r.length,s=t.now().offset,y(_)}function p(_){return t.containerState={},e.attempt(E4,h,y)(_)}function h(_){return n++,r.push([t.currentConstruct,t.containerState]),p(_)}function y(_){if(_===null){i&&w(),v(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(_)}function g(_){if(_===null){b(e.exit("chunkFlow"),!0),v(0),e.consume(_);return}return Pt(_)?(e.consume(_),b(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(_),g)}function b(_,N){const S=t.sliceStream(_);if(N&&S.push(null),_.previous=a,a&&(a.next=_),a=_,i.defineSkip(_.start),i.write(S),t.parser.lazy[_.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<s&&(!i.events[j][1].end||i.events[j][1].end.offset>s))return;const O=t.events.length;let I=O,L,F;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(L){F=t.events[I][1].end;break}L=!0}for(v(n),j=O;j<t.events.length;)t.events[j][1].end={...F},j++;Hs(t.events,I+1,0,t.events.slice(O)),t.events.length=j}}function v(_){let N=r.length;for(;N-- >_;){const S=r[N];t.containerState=S[1],S[0].exit.call(t,e)}r.length=_}function w(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function xV(e,t,r){return Cr(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function O4(e){if(e===null||Fi(e)||mV(e))return 1;if(pV(e))return 2}function gj(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!n.includes(a)&&(t=a(t,r),n.push(a))}return t}const i5={name:"attention",resolveAll:wV,tokenize:_V};function wV(e,t){let r=-1,n,i,a,s,o,l,c,u;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const f={...e[n][1].end},p={...e[r][1].start};P4(f,-l),P4(p,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[n][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:p},a={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[n][1].end={...s.start},e[r][1].start={...o.end},c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=Pa(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=Pa(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),c=Pa(c,gj(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),c=Pa(c,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(u=2,c=Pa(c,[["enter",e[r][1],t],["exit",e[r][1],t]])):u=0,Hs(e,n-1,r-n+3,c),r=n+c.length-u-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function _V(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=O4(n);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const c=e.exit("attentionSequence"),u=O4(l),f=!u||u===2&&i||r.includes(l),p=!i||i===2&&u||r.includes(n);return c._open=!!(a===42?f:f&&(i||!p)),c._close=!!(a===42?p:p&&(u||!f)),t(l)}}function P4(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const SV={name:"autolink",tokenize:jV};function jV(e,t,r){let n=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(h){return Ls(h)?(e.consume(h),s):h===64?r(h):c(h)}function s(h){return h===43||h===45||h===46||ca(h)?(n=1,o(h)):c(h)}function o(h){return h===58?(e.consume(h),n=0,l):(h===43||h===45||h===46||ca(h))&&n++<32?(e.consume(h),o):(n=0,c(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||r5(h)?r(h):(e.consume(h),l)}function c(h){return h===64?(e.consume(h),u):dV(h)?(e.consume(h),c):r(h)}function u(h){return ca(h)?f(h):r(h)}function f(h){return h===46?(e.consume(h),n=0,u):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):p(h)}function p(h){if((h===45||ca(h))&&n++<63){const y=h===45?p:f;return e.consume(h),y}return r(h)}}const x1={partial:!0,tokenize:NV};function NV(e,t,r){return n;function n(a){return or(a)?Cr(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Pt(a)?t(a):r(a)}}const $8={continuation:{tokenize:kV},exit:EV,name:"blockQuote",tokenize:AV};function AV(e,t,r){const n=this;return i;function i(s){if(s===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return r(s)}function a(s){return or(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function kV(e,t,r){const n=this;return i;function i(s){return or(s)?Cr(e,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt($8,t,r)(s)}}function EV(e){e.exit("blockQuote")}const M8={name:"characterEscape",tokenize:OV};function OV(e,t,r){return n;function n(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return hV(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(a)}}const D8={name:"characterReference",tokenize:PV};function PV(e,t,r){const n=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,s=ca,u(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=fV,u):(e.enter("characterReferenceValue"),a=7,s=n5,u(f))}function u(f){if(f===59&&i){const p=e.exit("characterReferenceValue");return s===ca&&!mj(n.sliceSerialize(p))?r(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),u):r(f)}}const C4={partial:!0,tokenize:TV},T4={concrete:!0,name:"codeFenced",tokenize:CV};function CV(e,t,r){const n=this,i={partial:!0,tokenize:S};let a=0,s=0,o;return l;function l(j){return c(j)}function c(j){const O=n.events[n.events.length-1];return a=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,o=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(j)}function u(j){return j===o?(s++,e.consume(j),u):s<3?r(j):(e.exit("codeFencedFenceSequence"),or(j)?Cr(e,f,"whitespace")(j):f(j))}function f(j){return j===null||Pt(j)?(e.exit("codeFencedFence"),n.interrupt?t(j):e.check(C4,g,N)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(j))}function p(j){return j===null||Pt(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(j)):or(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Cr(e,h,"whitespace")(j)):j===96&&j===o?r(j):(e.consume(j),p)}function h(j){return j===null||Pt(j)?f(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(j))}function y(j){return j===null||Pt(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(j)):j===96&&j===o?r(j):(e.consume(j),y)}function g(j){return e.attempt(i,N,b)(j)}function b(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),v}function v(j){return a>0&&or(j)?Cr(e,w,"linePrefix",a+1)(j):w(j)}function w(j){return j===null||Pt(j)?e.check(C4,g,N)(j):(e.enter("codeFlowValue"),_(j))}function _(j){return j===null||Pt(j)?(e.exit("codeFlowValue"),w(j)):(e.consume(j),_)}function N(j){return e.exit("codeFenced"),t(j)}function S(j,O,I){let L=0;return F;function F(U){return j.enter("lineEnding"),j.consume(U),j.exit("lineEnding"),k}function k(U){return j.enter("codeFencedFence"),or(U)?Cr(j,P,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):P(U)}function P(U){return U===o?(j.enter("codeFencedFenceSequence"),D(U)):I(U)}function D(U){return U===o?(L++,j.consume(U),D):L>=s?(j.exit("codeFencedFenceSequence"),or(U)?Cr(j,M,"whitespace")(U):M(U)):I(U)}function M(U){return U===null||Pt(U)?(j.exit("codeFencedFence"),O(U)):I(U)}}}function TV(e,t,r){const n=this;return i;function i(s){return s===null?r(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}const Ix={name:"codeIndented",tokenize:LV},IV={partial:!0,tokenize:RV};function LV(e,t,r){const n=this;return i;function i(c){return e.enter("codeIndented"),Cr(e,a,"linePrefix",5)(c)}function a(c){const u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?s(c):r(c)}function s(c){return c===null?l(c):Pt(c)?e.attempt(IV,s,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||Pt(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function RV(e,t,r){const n=this;return i;function i(s){return n.parser.lazy[n.now().line]?r(s):Pt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Cr(e,a,"linePrefix",5)(s)}function a(s){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Pt(s)?i(s):r(s)}}const $V={name:"codeText",previous:DV,resolve:MV,tokenize:BV};function MV(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function DV(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function BV(e,t,r){let n=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),n++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?r(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,u(f)):Pt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Pt(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function u(f){return f===96?(e.consume(f),i++,u):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class FV{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Bh(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Bh(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Bh(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Bh(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Bh(this.left,r.reverse())}}}function Bh(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function B8(e){const t={};let r=-1,n,i,a,s,o,l,c;const u=new FV(e);for(;++r<u.length;){for(;r in t;)r=t[r];if(n=u.get(r),r&&n[1].type==="chunkFlow"&&u.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,UV(u,r)),r=t[r],c=!0);else if(n[1]._container){for(a=r,i=void 0;a--;)if(s=u.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(n[1].end={...u.get(i)[1].start},o=u.slice(i,r),o.unshift(n),u.splice(i,r-i+1,o))}}return Hs(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function UV(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const a=[];let s=r._tokenizer;s||(s=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let u,f,p=-1,h=r,y=0,g=0;const b=[g];for(;h;){for(;e.get(++i)[1]!==h;);a.push(i),h._tokenizer||(u=n.sliceStream(h),h.next||u.push(null),f&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=r;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(g=p+1,b.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):b.pop(),p=b.length;p--;){const v=o.slice(b[p],b[p+1]),w=a.pop();l.push([w,w+v.length-1]),e.splice(w,2,v)}for(l.reverse(),p=-1;++p<l.length;)c[y+l[p][0]]=y+l[p][1],y+=l[p][1]-l[p][0]-1;return c}const zV={resolve:HV,tokenize:WV},qV={partial:!0,tokenize:VV};function HV(e){return B8(e),e}function WV(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Pt(o)?e.check(qV,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function VV(e,t,r){const n=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Cr(e,a,"linePrefix")}function a(s){if(s===null||Pt(s))return r(s);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(n.parser.constructs.flow,r,t)(s)}}function F8(e,t,r,n,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return f;function f(v){return v===60?(e.enter(n),e.enter(i),e.enter(a),e.consume(v),e.exit(a),p):v===null||v===32||v===41||r5(v)?r(v):(e.enter(n),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(v))}function p(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===62?(e.exit("chunkString"),e.exit(o),p(v)):v===null||v===60||Pt(v)?r(v):(e.consume(v),v===92?y:h)}function y(v){return v===60||v===62||v===92?(e.consume(v),h):h(v)}function g(v){return!u&&(v===null||v===41||Fi(v))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(n),t(v)):u<c&&v===40?(e.consume(v),u++,g):v===41?(e.consume(v),u--,g):v===null||v===32||v===40||r5(v)?r(v):(e.consume(v),v===92?b:g)}function b(v){return v===40||v===41||v===92?(e.consume(v),g):g(v)}}function U8(e,t,r,n,i,a){const s=this;let o=0,l;return c;function c(h){return e.enter(n),e.enter(i),e.consume(h),e.exit(i),e.enter(a),u}function u(h){return o>999||h===null||h===91||h===93&&!l||h===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?r(h):h===93?(e.exit(a),e.enter(i),e.consume(h),e.exit(i),e.exit(n),t):Pt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||Pt(h)||o++>999?(e.exit("chunkString"),u(h)):(e.consume(h),l||(l=!or(h)),h===92?p:f)}function p(h){return h===91||h===92||h===93?(e.consume(h),o++,f):f(h)}}function z8(e,t,r,n,i,a){let s;return o;function o(p){return p===34||p===39||p===40?(e.enter(n),e.enter(i),e.consume(p),e.exit(i),s=p===40?41:p,l):r(p)}function l(p){return p===s?(e.enter(i),e.consume(p),e.exit(i),e.exit(n),t):(e.enter(a),c(p))}function c(p){return p===s?(e.exit(a),l(s)):p===null?r(p):Pt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Cr(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===s||p===null||Pt(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?f:u)}function f(p){return p===s||p===92?(e.consume(p),u):u(p)}}function bp(e,t){let r;return n;function n(i){return Pt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):or(i)?Cr(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const GV={name:"definition",tokenize:YV},KV={partial:!0,tokenize:XV};function YV(e,t,r){const n=this;let i;return a;function a(h){return e.enter("definition"),s(h)}function s(h){return U8.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function o(h){return i=Rd(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):r(h)}function l(h){return Fi(h)?bp(e,c)(h):c(h)}function c(h){return F8(e,u,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function u(h){return e.attempt(KV,f,f)(h)}function f(h){return or(h)?Cr(e,p,"whitespace")(h):p(h)}function p(h){return h===null||Pt(h)?(e.exit("definition"),n.parser.defined.push(i),t(h)):r(h)}}function XV(e,t,r){return n;function n(o){return Fi(o)?bp(e,i)(o):r(o)}function i(o){return z8(e,a,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return or(o)?Cr(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Pt(o)?t(o):r(o)}}const JV={name:"hardBreakEscape",tokenize:ZV};function ZV(e,t,r){return n;function n(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Pt(a)?(e.exit("hardBreakEscape"),t(a)):r(a)}}const QV={name:"headingAtx",resolve:eG,tokenize:tG};function eG(e,t){let r=e.length-2,n=3,i,a;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},a={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Hs(e,n,r-n+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function tG(e,t,r){let n=0;return i;function i(u){return e.enter("atxHeading"),a(u)}function a(u){return e.enter("atxHeadingSequence"),s(u)}function s(u){return u===35&&n++<6?(e.consume(u),s):u===null||Fi(u)?(e.exit("atxHeadingSequence"),o(u)):r(u)}function o(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||Pt(u)?(e.exit("atxHeading"),t(u)):or(u)?Cr(e,o,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),o(u))}function c(u){return u===null||u===35||Fi(u)?(e.exit("atxHeadingText"),o(u)):(e.consume(u),c)}}const rG=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],I4=["pre","script","style","textarea"],nG={concrete:!0,name:"htmlFlow",resolveTo:sG,tokenize:oG},iG={partial:!0,tokenize:cG},aG={partial:!0,tokenize:lG};function sG(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function oG(e,t,r){const n=this;let i,a,s,o,l;return c;function c(C){return u(C)}function u(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),f}function f(C){return C===33?(e.consume(C),p):C===47?(e.consume(C),a=!0,g):C===63?(e.consume(C),i=3,n.interrupt?t:$):Ls(C)?(e.consume(C),s=String.fromCharCode(C),b):r(C)}function p(C){return C===45?(e.consume(C),i=2,h):C===91?(e.consume(C),i=5,o=0,y):Ls(C)?(e.consume(C),i=4,n.interrupt?t:$):r(C)}function h(C){return C===45?(e.consume(C),n.interrupt?t:$):r(C)}function y(C){const K="CDATA[";return C===K.charCodeAt(o++)?(e.consume(C),o===K.length?n.interrupt?t:P:y):r(C)}function g(C){return Ls(C)?(e.consume(C),s=String.fromCharCode(C),b):r(C)}function b(C){if(C===null||C===47||C===62||Fi(C)){const K=C===47,Q=s.toLowerCase();return!K&&!a&&I4.includes(Q)?(i=1,n.interrupt?t(C):P(C)):rG.includes(s.toLowerCase())?(i=6,K?(e.consume(C),v):n.interrupt?t(C):P(C)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(C):a?w(C):_(C))}return C===45||ca(C)?(e.consume(C),s+=String.fromCharCode(C),b):r(C)}function v(C){return C===62?(e.consume(C),n.interrupt?t:P):r(C)}function w(C){return or(C)?(e.consume(C),w):F(C)}function _(C){return C===47?(e.consume(C),F):C===58||C===95||Ls(C)?(e.consume(C),N):or(C)?(e.consume(C),_):F(C)}function N(C){return C===45||C===46||C===58||C===95||ca(C)?(e.consume(C),N):S(C)}function S(C){return C===61?(e.consume(C),j):or(C)?(e.consume(C),S):_(C)}function j(C){return C===null||C===60||C===61||C===62||C===96?r(C):C===34||C===39?(e.consume(C),l=C,O):or(C)?(e.consume(C),j):I(C)}function O(C){return C===l?(e.consume(C),l=null,L):C===null||Pt(C)?r(C):(e.consume(C),O)}function I(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||Fi(C)?S(C):(e.consume(C),I)}function L(C){return C===47||C===62||or(C)?_(C):r(C)}function F(C){return C===62?(e.consume(C),k):r(C)}function k(C){return C===null||Pt(C)?P(C):or(C)?(e.consume(C),k):r(C)}function P(C){return C===45&&i===2?(e.consume(C),V):C===60&&i===1?(e.consume(C),W):C===62&&i===4?(e.consume(C),ae):C===63&&i===3?(e.consume(C),$):C===93&&i===5?(e.consume(C),J):Pt(C)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(iG,T,D)(C)):C===null||Pt(C)?(e.exit("htmlFlowData"),D(C)):(e.consume(C),P)}function D(C){return e.check(aG,M,T)(C)}function M(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),U}function U(C){return C===null||Pt(C)?D(C):(e.enter("htmlFlowData"),P(C))}function V(C){return C===45?(e.consume(C),$):P(C)}function W(C){return C===47?(e.consume(C),s="",B):P(C)}function B(C){if(C===62){const K=s.toLowerCase();return I4.includes(K)?(e.consume(C),ae):P(C)}return Ls(C)&&s.length<8?(e.consume(C),s+=String.fromCharCode(C),B):P(C)}function J(C){return C===93?(e.consume(C),$):P(C)}function $(C){return C===62?(e.consume(C),ae):C===45&&i===2?(e.consume(C),$):P(C)}function ae(C){return C===null||Pt(C)?(e.exit("htmlFlowData"),T(C)):(e.consume(C),ae)}function T(C){return e.exit("htmlFlow"),t(C)}}function lG(e,t,r){const n=this;return i;function i(s){return Pt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):r(s)}function a(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}function cG(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(x1,t,r)}}const uG={name:"htmlText",tokenize:dG};function dG(e,t,r){const n=this;let i,a,s;return o;function o($){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume($),l}function l($){return $===33?(e.consume($),c):$===47?(e.consume($),S):$===63?(e.consume($),_):Ls($)?(e.consume($),I):r($)}function c($){return $===45?(e.consume($),u):$===91?(e.consume($),a=0,y):Ls($)?(e.consume($),w):r($)}function u($){return $===45?(e.consume($),h):r($)}function f($){return $===null?r($):$===45?(e.consume($),p):Pt($)?(s=f,W($)):(e.consume($),f)}function p($){return $===45?(e.consume($),h):f($)}function h($){return $===62?V($):$===45?p($):f($)}function y($){const ae="CDATA[";return $===ae.charCodeAt(a++)?(e.consume($),a===ae.length?g:y):r($)}function g($){return $===null?r($):$===93?(e.consume($),b):Pt($)?(s=g,W($)):(e.consume($),g)}function b($){return $===93?(e.consume($),v):g($)}function v($){return $===62?V($):$===93?(e.consume($),v):g($)}function w($){return $===null||$===62?V($):Pt($)?(s=w,W($)):(e.consume($),w)}function _($){return $===null?r($):$===63?(e.consume($),N):Pt($)?(s=_,W($)):(e.consume($),_)}function N($){return $===62?V($):_($)}function S($){return Ls($)?(e.consume($),j):r($)}function j($){return $===45||ca($)?(e.consume($),j):O($)}function O($){return Pt($)?(s=O,W($)):or($)?(e.consume($),O):V($)}function I($){return $===45||ca($)?(e.consume($),I):$===47||$===62||Fi($)?L($):r($)}function L($){return $===47?(e.consume($),V):$===58||$===95||Ls($)?(e.consume($),F):Pt($)?(s=L,W($)):or($)?(e.consume($),L):V($)}function F($){return $===45||$===46||$===58||$===95||ca($)?(e.consume($),F):k($)}function k($){return $===61?(e.consume($),P):Pt($)?(s=k,W($)):or($)?(e.consume($),k):L($)}function P($){return $===null||$===60||$===61||$===62||$===96?r($):$===34||$===39?(e.consume($),i=$,D):Pt($)?(s=P,W($)):or($)?(e.consume($),P):(e.consume($),M)}function D($){return $===i?(e.consume($),i=void 0,U):$===null?r($):Pt($)?(s=D,W($)):(e.consume($),D)}function M($){return $===null||$===34||$===39||$===60||$===61||$===96?r($):$===47||$===62||Fi($)?L($):(e.consume($),M)}function U($){return $===47||$===62||Fi($)?L($):r($)}function V($){return $===62?(e.consume($),e.exit("htmlTextData"),e.exit("htmlText"),t):r($)}function W($){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),B}function B($){return or($)?Cr(e,J,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):J($)}function J($){return e.enter("htmlTextData"),s($)}}const yj={name:"labelEnd",resolveAll:mG,resolveTo:gG,tokenize:yG},fG={tokenize:vG},hG={tokenize:bG},pG={tokenize:xG};function mG(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&Hs(e,0,e.length,r),e}function gG(e,t){let r=e.length,n=0,i,a,s,o;for(;r--;)if(i=e[r][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(s=r);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},u={type:"labelText",start:{...e[a+n+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=Pa(o,e.slice(a+1,a+n+3)),o=Pa(o,[["enter",u,t]]),o=Pa(o,gj(t.parser.constructs.insideSpan.null,e.slice(a+n+4,s-3),t)),o=Pa(o,[["exit",u,t],e[s-2],e[s-1],["exit",c,t]]),o=Pa(o,e.slice(s+1)),o=Pa(o,[["exit",l,t]]),Hs(e,a,e.length,o),e}function yG(e,t,r){const n=this;let i=n.events.length,a,s;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){a=n.events[i][1];break}return o;function o(p){return a?a._inactive?f(p):(s=n.parser.defined.includes(Rd(n.sliceSerialize({start:a.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):r(p)}function l(p){return p===40?e.attempt(fG,u,s?u:f)(p):p===91?e.attempt(hG,u,s?c:f)(p):s?u(p):f(p)}function c(p){return e.attempt(pG,u,f)(p)}function u(p){return t(p)}function f(p){return a._balanced=!0,r(p)}}function vG(e,t,r){return n;function n(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Fi(f)?bp(e,a)(f):a(f)}function a(f){return f===41?u(f):F8(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Fi(f)?bp(e,l)(f):u(f)}function o(f){return r(f)}function l(f){return f===34||f===39||f===40?z8(e,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):u(f)}function c(f){return Fi(f)?bp(e,u)(f):u(f)}function u(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):r(f)}}function bG(e,t,r){const n=this;return i;function i(o){return U8.call(n,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return n.parser.defined.includes(Rd(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function s(o){return r(o)}}function xG(e,t,r){return n;function n(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):r(a)}}const wG={name:"labelStartImage",resolveAll:yj.resolveAll,tokenize:_G};function _G(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):r(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const SG={name:"labelStartLink",resolveAll:yj.resolveAll,tokenize:jG};function jG(e,t,r){const n=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}const Lx={name:"lineEnding",tokenize:NG};function NG(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Cr(e,t,"linePrefix")}}const Z0={name:"thematicBreak",tokenize:AG};function AG(e,t,r){let n=0,i;return a;function a(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):n>=3&&(c===null||Pt(c))?(e.exit("thematicBreak"),t(c)):r(c)}function l(c){return c===i?(e.consume(c),n++,l):(e.exit("thematicBreakSequence"),or(c)?Cr(e,o,"whitespace")(c):o(c))}}const Ci={continuation:{tokenize:PG},exit:TG,name:"list",tokenize:OG},kG={partial:!0,tokenize:IG},EG={partial:!0,tokenize:CG};function OG(e,t,r){const n=this,i=n.events[n.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(h){const y=n.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!n.containerState.marker||h===n.containerState.marker:n5(h)){if(n.containerState.type||(n.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Z0,r,c)(h):c(h);if(!n.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return r(h)}function l(h){return n5(h)&&++s<10?(e.consume(h),l):(!n.interrupt||s<2)&&(n.containerState.marker?h===n.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),c(h)):r(h)}function c(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||h,e.check(x1,n.interrupt?r:u,e.attempt(kG,p,f))}function u(h){return n.containerState.initialBlankLine=!0,a++,p(h)}function f(h){return or(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),p):r(h)}function p(h){return n.containerState.size=a+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function PG(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(x1,i,a);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Cr(e,t,"listItemIndent",n.containerState.size+1)(o)}function a(o){return n.containerState.furtherBlankLines||!or(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,s(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(EG,t,s)(o))}function s(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,Cr(e,e.attempt(Ci,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function CG(e,t,r){const n=this;return Cr(e,i,"listItemIndent",n.containerState.size+1);function i(a){const s=n.events[n.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===n.containerState.size?t(a):r(a)}}function TG(e){e.exit(this.containerState.type)}function IG(e,t,r){const n=this;return Cr(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=n.events[n.events.length-1];return!or(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):r(a)}}const L4={name:"setextUnderline",resolveTo:LG,tokenize:RG};function LG(e,t){let r=e.length,n,i,a;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!a&&e[r][1].type==="definition"&&(a=r);const s={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end={...e[a][1].end}):e[n][1]=s,e.push(["exit",s,t]),e}function RG(e,t,r){const n=this;let i;return a;function a(c){let u=n.events.length,f;for(;u--;)if(n.events[u][1].type!=="lineEnding"&&n.events[u][1].type!=="linePrefix"&&n.events[u][1].type!=="content"){f=n.events[u][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||f)?(e.enter("setextHeadingLine"),i=c,s(c)):r(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),or(c)?Cr(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Pt(c)?(e.exit("setextHeadingLine"),t(c)):r(c)}}const $G={tokenize:MG};function MG(e){const t=this,r=e.attempt(x1,n,e.attempt(this.parser.constructs.flowInitial,i,Cr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(zV,i)),"linePrefix")));return r;function n(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const DG={resolveAll:H8()},BG=q8("string"),FG=q8("text");function q8(e){return{resolveAll:H8(e==="text"?UG:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],a=r.attempt(i,s,o);return s;function s(u){return c(u)?a(u):o(u)}function o(u){if(u===null){r.consume(u);return}return r.enter("data"),r.consume(u),l}function l(u){return c(u)?(r.exit("data"),a(u)):(r.consume(u),l)}function c(u){if(u===null)return!0;const f=i[u];let p=-1;if(f)for(;++p<f.length;){const h=f[p];if(!h.previous||h.previous.call(n,n.previous))return!0}return!1}}}function H8(e){return t;function t(r,n){let i=-1,a;for(;++i<=r.length;)a===void 0?r[i]&&r[i][1].type==="data"&&(a=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==a+2&&(r[a][1].end=r[i-1][1].end,r.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(r,n):r}}function UG(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const c={type:r===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:n.start._bufferIndex+s,_index:n.start._index+a,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(e.splice(r,0,["enter",c,t],["exit",c,t]),r+=2)}r++}return e}const zG={42:Ci,43:Ci,45:Ci,48:Ci,49:Ci,50:Ci,51:Ci,52:Ci,53:Ci,54:Ci,55:Ci,56:Ci,57:Ci,62:$8},qG={91:GV},HG={[-2]:Ix,[-1]:Ix,32:Ix},WG={35:QV,42:Z0,45:[L4,Z0],60:nG,61:L4,95:Z0,96:T4,126:T4},VG={38:D8,92:M8},GG={[-5]:Lx,[-4]:Lx,[-3]:Lx,33:wG,38:D8,42:i5,60:[SV,uG],91:SG,92:[JV,M8],93:yj,95:i5,96:$V},KG={null:[i5,DG]},YG={null:[42,95]},XG={null:[]},JG=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:YG,contentInitial:qG,disable:XG,document:zG,flow:WG,flowInitial:HG,insideSpan:KG,string:VG,text:GG},Symbol.toStringTag,{value:"Module"}));function ZG(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:O(S),check:O(j),consume:w,enter:_,exit:N,interrupt:O(j,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:y,parser:e,previous:null,sliceSerialize:p,sliceStream:h,write:f};let u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f(k){return s=Pa(s,k),b(),s[s.length-1]!==null?[]:(I(t,0),c.events=gj(a,c.events,c),c.events)}function p(k,P){return eK(h(k),P)}function h(k){return QG(s,k)}function y(){const{_bufferIndex:k,_index:P,line:D,column:M,offset:U}=n;return{_bufferIndex:k,_index:P,line:D,column:M,offset:U}}function g(k){i[k.line]=k.column,F()}function b(){let k;for(;n._index<s.length;){const P=s[n._index];if(typeof P=="string")for(k=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===k&&n._bufferIndex<P.length;)v(P.charCodeAt(n._bufferIndex));else v(P)}}function v(k){u=u(k)}function w(k){Pt(k)?(n.line++,n.column=1,n.offset+=k===-3?2:1,F()):k!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===s[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=k}function _(k,P){const D=P||{};return D.type=k,D.start=y(),c.events.push(["enter",D,c]),o.push(D),D}function N(k){const P=o.pop();return P.end=y(),c.events.push(["exit",P,c]),P}function S(k,P){I(k,P.from)}function j(k,P){P.restore()}function O(k,P){return D;function D(M,U,V){let W,B,J,$;return Array.isArray(M)?T(M):"tokenize"in M?T([M]):ae(M);function ae(ie){return ue;function ue(ge){const se=ge!==null&&ie[ge],he=ge!==null&&ie.null,je=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(he)?he:he?[he]:[]];return T(je)(ge)}}function T(ie){return W=ie,B=0,ie.length===0?V:C(ie[B])}function C(ie){return ue;function ue(ge){return $=L(),J=ie,ie.partial||(c.currentConstruct=ie),ie.name&&c.parser.constructs.disable.null.includes(ie.name)?Q():ie.tokenize.call(P?Object.assign(Object.create(c),P):c,l,K,Q)(ge)}}function K(ie){return k(J,$),U}function Q(ie){return $.restore(),++B<W.length?C(W[B]):V}}}function I(k,P){k.resolveAll&&!a.includes(k)&&a.push(k),k.resolve&&Hs(c.events,P,c.events.length-P,k.resolve(c.events.slice(P),c)),k.resolveTo&&(c.events=k.resolveTo(c.events,c))}function L(){const k=y(),P=c.previous,D=c.currentConstruct,M=c.events.length,U=Array.from(o);return{from:M,restore:V};function V(){n=k,c.previous=P,c.currentConstruct=D,c.events.length=M,o=U,F()}}function F(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function QG(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(r===i)s=[e[r].slice(n,a)];else{if(s=e.slice(r,i),n>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(n):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function eK(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const a=e[r];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,n.push(s)}return n.join("")}function tK(e){const n={constructs:lV([JG,...(e||{}).extensions||[]]),content:i(gV),defined:[],document:i(vV),flow:i($G),lazy:{},string:i(BG),text:i(FG)};return n;function i(a){return s;function s(o){return ZG(n,a,o)}}}function rK(e){for(;!B8(e););return e}const R4=/[\0\t\n\r]/g;function nK(){let e=1,t="",r=!0,n;return i;function i(a,s,o){const l=[];let c,u,f,p,h;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",r&&(a.charCodeAt(0)===65279&&f++,r=void 0);f<a.length;){if(R4.lastIndex=f,c=R4.exec(a),p=c&&c.index!==void 0?c.index:a.length,h=a.charCodeAt(p),!c){t=a.slice(f);break}if(h===10&&f===p&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),f<p&&(l.push(a.slice(f,p)),e+=p-f),h){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}f=p+1}return o&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const iK=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function aK(e){return e.replace(iK,sK)}function sK(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),a=i===120||i===88;return R8(r.slice(a?2:1),a?16:10)}return mj(r)||e}const W8={}.hasOwnProperty;function oK(e,t,r){return typeof t!="string"&&(r=t,t=void 0),lK(r)(rK(tK(r).document().write(nK()(e,t,!0))))}function lK(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Re),autolinkProtocol:L,autolinkEmail:L,atxHeading:a(ee),blockQuote:a(he),characterEscape:L,characterReference:L,codeFenced:a(je),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(je,s),codeText:a(me,s),codeTextData:L,data:L,codeFlowValue:L,definition:a(Be),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(ye),hardBreakEscape:a(ut),hardBreakTrailing:a(ut),htmlFlow:a(lt,s),htmlFlowData:L,htmlText:a(lt,s),htmlTextData:L,image:a(at),label:s,link:a(Re),listItem:a(oe),listItemValue:p,listOrdered:a(rt,f),listUnordered:a(rt),paragraph:a($e),reference:C,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(ee),strong:a(ze),thematicBreak:a(He)},exit:{atxHeading:l(),atxHeadingSequence:S,autolink:l(),autolinkEmail:se,autolinkProtocol:ge,blockQuote:l(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:ie,characterReference:ue,codeFenced:l(b),codeFencedFence:g,codeFencedFenceInfo:h,codeFencedFenceMeta:y,codeFlowValue:F,codeIndented:l(v),codeText:l(U),codeTextData:F,data:F,definition:l(),definitionDestinationString:N,definitionLabelString:w,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(P),hardBreakTrailing:l(P),htmlFlow:l(D),htmlFlowData:F,htmlText:l(M),htmlTextData:F,image:l(W),label:J,labelText:B,lineEnding:k,link:l(V),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:K,resourceDestinationString:$,resourceTitleString:ae,resource:T,setextHeading:l(I),setextHeadingLineSequence:O,setextHeadingText:j,strong:l(),thematicBreak:l()}};V8(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(de){let Ne={type:"root",children:[]};const we={stack:[Ne],tokenStack:[],config:t,enter:o,exit:c,buffer:s,resume:u,data:r},_e=[];let Ae=-1;for(;++Ae<de.length;)if(de[Ae][1].type==="listOrdered"||de[Ae][1].type==="listUnordered")if(de[Ae][0]==="enter")_e.push(Ae);else{const Ee=_e.pop();Ae=i(de,Ee,Ae)}for(Ae=-1;++Ae<de.length;){const Ee=t[de[Ae][0]];W8.call(Ee,de[Ae][1].type)&&Ee[de[Ae][1].type].call(Object.assign({sliceSerialize:de[Ae][2].sliceSerialize},we),de[Ae][1])}if(we.tokenStack.length>0){const Ee=we.tokenStack[we.tokenStack.length-1];(Ee[1]||$4).call(we,void 0,Ee[0])}for(Ne.position={start:dl(de.length>0?de[0][1].start:{line:1,column:1,offset:0}),end:dl(de.length>0?de[de.length-2][1].end:{line:1,column:1,offset:0})},Ae=-1;++Ae<t.transforms.length;)Ne=t.transforms[Ae](Ne)||Ne;return Ne}function i(de,Ne,we){let _e=Ne-1,Ae=-1,Ee=!1,Fe,qe,ke,Ge;for(;++_e<=we;){const Ve=de[_e];switch(Ve[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ve[0]==="enter"?Ae++:Ae--,Ge=void 0;break}case"lineEndingBlank":{Ve[0]==="enter"&&(Fe&&!Ge&&!Ae&&!ke&&(ke=_e),Ge=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ge=void 0}if(!Ae&&Ve[0]==="enter"&&Ve[1].type==="listItemPrefix"||Ae===-1&&Ve[0]==="exit"&&(Ve[1].type==="listUnordered"||Ve[1].type==="listOrdered")){if(Fe){let Xe=_e;for(qe=void 0;Xe--;){const it=de[Xe];if(it[1].type==="lineEnding"||it[1].type==="lineEndingBlank"){if(it[0]==="exit")continue;qe&&(de[qe][1].type="lineEndingBlank",Ee=!0),it[1].type="lineEnding",qe=Xe}else if(!(it[1].type==="linePrefix"||it[1].type==="blockQuotePrefix"||it[1].type==="blockQuotePrefixWhitespace"||it[1].type==="blockQuoteMarker"||it[1].type==="listItemIndent"))break}ke&&(!qe||ke<qe)&&(Fe._spread=!0),Fe.end=Object.assign({},qe?de[qe][1].start:Ve[1].end),de.splice(qe||_e,0,["exit",Fe,Ve[2]]),_e++,we++}if(Ve[1].type==="listItemPrefix"){const Xe={type:"listItem",_spread:!1,start:Object.assign({},Ve[1].start),end:void 0};Fe=Xe,de.splice(_e,0,["enter",Xe,Ve[2]]),_e++,we++,ke=void 0,Ge=!0}}}return de[Ne][1]._spread=Ee,we}function a(de,Ne){return we;function we(_e){o.call(this,de(_e),_e),Ne&&Ne.call(this,_e)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(de,Ne,we){this.stack[this.stack.length-1].children.push(de),this.stack.push(de),this.tokenStack.push([Ne,we||void 0]),de.position={start:dl(Ne.start),end:void 0}}function l(de){return Ne;function Ne(we){de&&de.call(this,we),c.call(this,we)}}function c(de,Ne){const we=this.stack.pop(),_e=this.tokenStack.pop();if(_e)_e[0].type!==de.type&&(Ne?Ne.call(this,de,_e[0]):(_e[1]||$4).call(this,de,_e[0]));else throw new Error("Cannot close `"+de.type+"` ("+vp({start:de.start,end:de.end})+"): its not open");we.position.end=dl(de.end)}function u(){return sV(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(de){if(this.data.expectingFirstListItemValue){const Ne=this.stack[this.stack.length-2];Ne.start=Number.parseInt(this.sliceSerialize(de),10),this.data.expectingFirstListItemValue=void 0}}function h(){const de=this.resume(),Ne=this.stack[this.stack.length-1];Ne.lang=de}function y(){const de=this.resume(),Ne=this.stack[this.stack.length-1];Ne.meta=de}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const de=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=de.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const de=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=de.replace(/(\r?\n|\r)$/g,"")}function w(de){const Ne=this.resume(),we=this.stack[this.stack.length-1];we.label=Ne,we.identifier=Rd(this.sliceSerialize(de)).toLowerCase()}function _(){const de=this.resume(),Ne=this.stack[this.stack.length-1];Ne.title=de}function N(){const de=this.resume(),Ne=this.stack[this.stack.length-1];Ne.url=de}function S(de){const Ne=this.stack[this.stack.length-1];if(!Ne.depth){const we=this.sliceSerialize(de).length;Ne.depth=we}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function O(de){const Ne=this.stack[this.stack.length-1];Ne.depth=this.sliceSerialize(de).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function L(de){const we=this.stack[this.stack.length-1].children;let _e=we[we.length-1];(!_e||_e.type!=="text")&&(_e=Ue(),_e.position={start:dl(de.start),end:void 0},we.push(_e)),this.stack.push(_e)}function F(de){const Ne=this.stack.pop();Ne.value+=this.sliceSerialize(de),Ne.position.end=dl(de.end)}function k(de){const Ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const we=Ne.children[Ne.children.length-1];we.position.end=dl(de.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ne.type)&&(L.call(this,de),F.call(this,de))}function P(){this.data.atHardBreak=!0}function D(){const de=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=de}function M(){const de=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=de}function U(){const de=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=de}function V(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const Ne=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=Ne,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function W(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const Ne=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=Ne,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function B(de){const Ne=this.sliceSerialize(de),we=this.stack[this.stack.length-2];we.label=aK(Ne),we.identifier=Rd(Ne).toLowerCase()}function J(){const de=this.stack[this.stack.length-1],Ne=this.resume(),we=this.stack[this.stack.length-1];if(this.data.inReference=!0,we.type==="link"){const _e=de.children;we.children=_e}else we.alt=Ne}function $(){const de=this.resume(),Ne=this.stack[this.stack.length-1];Ne.url=de}function ae(){const de=this.resume(),Ne=this.stack[this.stack.length-1];Ne.title=de}function T(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function K(de){const Ne=this.resume(),we=this.stack[this.stack.length-1];we.label=Ne,we.identifier=Rd(this.sliceSerialize(de)).toLowerCase(),this.data.referenceType="full"}function Q(de){this.data.characterReferenceType=de.type}function ie(de){const Ne=this.sliceSerialize(de),we=this.data.characterReferenceType;let _e;we?(_e=R8(Ne,we==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_e=mj(Ne);const Ae=this.stack[this.stack.length-1];Ae.value+=_e}function ue(de){const Ne=this.stack.pop();Ne.position.end=dl(de.end)}function ge(de){F.call(this,de);const Ne=this.stack[this.stack.length-1];Ne.url=this.sliceSerialize(de)}function se(de){F.call(this,de);const Ne=this.stack[this.stack.length-1];Ne.url="mailto:"+this.sliceSerialize(de)}function he(){return{type:"blockquote",children:[]}}function je(){return{type:"code",lang:null,meta:null,value:""}}function me(){return{type:"inlineCode",value:""}}function Be(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ye(){return{type:"emphasis",children:[]}}function ee(){return{type:"heading",depth:0,children:[]}}function ut(){return{type:"break"}}function lt(){return{type:"html",value:""}}function at(){return{type:"image",title:null,url:"",alt:null}}function Re(){return{type:"link",title:null,url:"",children:[]}}function rt(de){return{type:"list",ordered:de.type==="listOrdered",start:null,spread:de._spread,children:[]}}function oe(de){return{type:"listItem",spread:de._spread,checked:null,children:[]}}function $e(){return{type:"paragraph",children:[]}}function ze(){return{type:"strong",children:[]}}function Ue(){return{type:"text",value:""}}function He(){return{type:"thematicBreak"}}}function dl(e){return{line:e.line,column:e.column,offset:e.offset}}function V8(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?V8(e,n):cK(e,n)}}function cK(e,t){let r;for(r in t)if(W8.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function $4(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+vp({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+vp({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+vp({start:t.start,end:t.end})+") is still open")}function uK(e){const t=this;t.parser=r;function r(n){return oK(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function dK(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function fK(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function hK(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function pK(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function mK(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function gK(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=Uf(n.toLowerCase()),a=e.footnoteOrder.indexOf(n);let s,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(n,o);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function yK(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vK(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function G8(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=n:i.push({type:"text",value:n}),i}function bK(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return G8(e,t);const i={src:Uf(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function xK(e,t){const r={src:Uf(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function wK(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function _K(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return G8(e,t);const i={href:Uf(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function SK(e,t){const r={href:Uf(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jK(e,t,r){const n=e.all(t),i=r?NK(r):K8(t),a={},s=[];if(typeof t.checked=="boolean"){const u=n[0];let f;u&&u.type==="element"&&u.tagName==="p"?f=u:(f={type:"element",tagName:"p",properties:{},children:[]},n.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const u=n[o];(i||o!==0||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?s.push(...u.children):s.push(u)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)}function NK(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=K8(r[n])}return t}function K8(e){const t=e.spread;return t??e.children.length>1}function AK(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const s=n[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,a),e.applyData(t,a)}function kK(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function EK(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function OK(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function PK(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],s),i.push(s)}if(r.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=dj(t.children[1]),l=E8(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function CK(e,t,r){const n=r?r.children:void 0,a=(n?n.indexOf(t):1)===0?"th":"td",s=r&&r.type==="table"?r.align:void 0,o=s?s.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const f=t.children[l],p={},h=s?s[l]:void 0;h&&(p.align=h);let y={type:"element",tagName:a,properties:p,children:[]};f&&(y.children=e.all(f),e.patch(f,y),y=e.applyData(f,y)),c.push(y)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,u),e.applyData(t,u)}function TK(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const M4=9,D4=32;function IK(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const a=[];for(;n;)a.push(B4(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return a.push(B4(t.slice(i),i>0,!1)),a.join("")}function B4(e,t,r){let n=0,i=e.length;if(t){let a=e.codePointAt(n);for(;a===M4||a===D4;)n++,a=e.codePointAt(n)}if(r){let a=e.codePointAt(i-1);for(;a===M4||a===D4;)i--,a=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function LK(e,t){const r={type:"text",value:IK(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function RK(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const $K={blockquote:dK,break:fK,code:hK,delete:pK,emphasis:mK,footnoteReference:gK,heading:yK,html:vK,imageReference:bK,image:xK,inlineCode:wK,linkReference:_K,link:SK,listItem:jK,list:AK,paragraph:kK,root:EK,strong:OK,table:PK,tableCell:TK,tableRow:CK,text:LK,thematicBreak:RK,toml:p0,yaml:p0,definition:p0,footnoteDefinition:p0};function p0(){}const Y8=-1,w1=0,xp=1,Dy=2,vj=3,bj=4,xj=5,wj=6,X8=7,J8=8,F4=typeof self=="object"?self:globalThis,MK=(e,t)=>{const r=(i,a)=>(e.set(a,i),i),n=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case w1:case Y8:return r(s,i);case xp:{const o=r([],i);for(const l of s)o.push(n(l));return o}case Dy:{const o=r({},i);for(const[l,c]of s)o[n(l)]=n(c);return o}case vj:return r(new Date(s),i);case bj:{const{source:o,flags:l}=s;return r(new RegExp(o,l),i)}case xj:{const o=r(new Map,i);for(const[l,c]of s)o.set(n(l),n(c));return o}case wj:{const o=r(new Set,i);for(const l of s)o.add(n(l));return o}case X8:{const{name:o,message:l}=s;return r(new F4[o](l),i)}case J8:return r(BigInt(s),i);case"BigInt":return r(Object(BigInt(s)),i);case"ArrayBuffer":return r(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return r(new DataView(o),s)}}return r(new F4[a](s),i)};return n},U4=e=>MK(new Map,e)(0),Yu="",{toString:DK}={},{keys:BK}=Object,Fh=e=>{const t=typeof e;if(t!=="object"||!e)return[w1,t];const r=DK.call(e).slice(8,-1);switch(r){case"Array":return[xp,Yu];case"Object":return[Dy,Yu];case"Date":return[vj,Yu];case"RegExp":return[bj,Yu];case"Map":return[xj,Yu];case"Set":return[wj,Yu];case"DataView":return[xp,r]}return r.includes("Array")?[xp,r]:r.includes("Error")?[X8,r]:[Dy,r]},m0=([e,t])=>e===w1&&(t==="function"||t==="symbol"),FK=(e,t,r,n)=>{const i=(s,o)=>{const l=n.push(s)-1;return r.set(o,l),l},a=s=>{if(r.has(s))return r.get(s);let[o,l]=Fh(s);switch(o){case w1:{let u=s;switch(l){case"bigint":o=J8,u=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([Y8],s)}return i([o,u],s)}case xp:{if(l){let p=s;return l==="DataView"?p=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(s)),i([l,[...p]],s)}const u=[],f=i([o,u],s);for(const p of s)u.push(a(p));return f}case Dy:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const u=[],f=i([o,u],s);for(const p of BK(s))(e||!m0(Fh(s[p])))&&u.push([a(p),a(s[p])]);return f}case vj:return i([o,s.toISOString()],s);case bj:{const{source:u,flags:f}=s;return i([o,{source:u,flags:f}],s)}case xj:{const u=[],f=i([o,u],s);for(const[p,h]of s)(e||!(m0(Fh(p))||m0(Fh(h))))&&u.push([a(p),a(h)]);return f}case wj:{const u=[],f=i([o,u],s);for(const p of s)(e||!m0(Fh(p)))&&u.push(a(p));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},z4=(e,{json:t,lossy:r}={})=>{const n=[];return FK(!(t||r),!!t,new Map,n)(e),n},By=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?U4(z4(e,t)):structuredClone(e):(e,t)=>U4(z4(e,t));function UK(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function zK(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function qK(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||UK,n=e.options.footnoteBackLabel||zK,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const u=e.all(c),f=String(c.identifier).toUpperCase(),p=Uf(f.toLowerCase());let h=0;const y=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++h<=g;){y.length>0&&y.push({type:"text",value:" "});let w=typeof r=="string"?r:r(l,h);typeof w=="string"&&(w={type:"text",value:w}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,h),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const b=u[u.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const w=b.children[b.children.length-1];w&&w.type==="text"?w.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...y)}else u.push(...y);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(u,!0)};e.patch(c,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...By(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Z8=function(e){if(e==null)return GK;if(typeof e=="function")return _1(e);if(typeof e=="object")return Array.isArray(e)?HK(e):WK(e);if(typeof e=="string")return VK(e);throw new Error("Expected function, string, or object as test")};function HK(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Z8(e[r]);return _1(n);function n(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function WK(e){const t=e;return _1(r);function r(n){const i=n;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function VK(e){return _1(t);function t(r){return r&&r.type===e}}function _1(e){return t;function t(r,n,i){return!!(KK(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function GK(){return!0}function KK(e){return e!==null&&typeof e=="object"&&"type"in e}const Q8=[],YK=!0,q4=!1,XK="skip";function JK(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const a=Z8(i),s=n?-1:1;o(e,void 0,[])();function o(l,c,u){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=Q8,y,g,b;if((!t||a(l,c,u[u.length-1]||void 0))&&(h=ZK(r(l,u)),h[0]===q4))return h;if("children"in l&&l.children){const v=l;if(v.children&&h[0]!==XK)for(g=(n?v.children.length:-1)+s,b=u.concat(v);g>-1&&g<v.children.length;){const w=v.children[g];if(y=o(w,g,b)(),y[0]===q4)return y;g=typeof y[1]=="number"?y[1]:g+s}}return h}}}function ZK(e){return Array.isArray(e)?e:typeof e=="number"?[YK,e]:e==null?Q8:[e]}function eR(e,t,r,n){let i,a,s;typeof t=="function"&&typeof r!="function"?(a=void 0,s=t,i=r):(a=t,s=r,i=n),JK(e,a,o,i);function o(l,c){const u=c[c.length-1],f=u?u.children.indexOf(l):void 0;return s(l,f,u)}}const a5={}.hasOwnProperty,QK={};function eY(e,t){const r=t||QK,n=new Map,i=new Map,a=new Map,s={...$K,...r.handlers},o={all:c,applyData:rY,definitionById:n,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:r,patch:tY,wrap:iY};return eR(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const f=u.type==="definition"?n:i,p=String(u.identifier).toUpperCase();f.has(p)||f.set(p,u)}}),o;function l(u,f){const p=u.type,h=o.handlers[p];if(a5.call(o.handlers,p)&&h)return h(o,u,f);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in u){const{children:g,...b}=u,v=By(b);return v.children=o.all(u),v}return By(u)}return(o.options.unknownHandler||nY)(o,u,f)}function c(u){const f=[];if("children"in u){const p=u.children;let h=-1;for(;++h<p.length;){const y=o.one(p[h],u);if(y){if(h&&p[h-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=H4(y.value)),!Array.isArray(y)&&y.type==="element")){const g=y.children[0];g&&g.type==="text"&&(g.value=H4(g.value))}Array.isArray(y)?f.push(...y):f.push(y)}}}return f}}function tY(e,t){e.position&&(t.position=DW(e))}function rY(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const s="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:s}}r.type==="element"&&a&&Object.assign(r.properties,By(a)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function nY(e,t){const r=t.data||{},n="value"in t&&!(a5.call(r,"hProperties")||a5.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function iY(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function H4(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function W4(e,t){const r=eY(e,t),n=r.one(e,void 0),i=qK(r),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function aY(e,t){return e&&"run"in e?async function(r,n){const i=W4(r,{file:n,...t});await e.run(i,n)}:function(r,n){return W4(r,{file:n,...e||t})}}function V4(e){if(e)throw e}var Q0=Object.prototype.hasOwnProperty,tR=Object.prototype.toString,G4=Object.defineProperty,K4=Object.getOwnPropertyDescriptor,Y4=function(t){return typeof Array.isArray=="function"?Array.isArray(t):tR.call(t)==="[object Array]"},X4=function(t){if(!t||tR.call(t)!=="[object Object]")return!1;var r=Q0.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&Q0.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||Q0.call(t,i)},J4=function(t,r){G4&&r.name==="__proto__"?G4(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},Z4=function(t,r){if(r==="__proto__")if(Q0.call(t,r)){if(K4)return K4(t,r).value}else return;return t[r]},sY=function e(){var t,r,n,i,a,s,o=arguments[0],l=1,c=arguments.length,u=!1;for(typeof o=="boolean"&&(u=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(t=arguments[l],t!=null)for(r in t)n=Z4(o,r),i=Z4(t,r),o!==i&&(u&&i&&(X4(i)||(a=Y4(i)))?(a?(a=!1,s=n&&Y4(n)?n:[]):s=n&&X4(n)?n:{},J4(o,{name:r,newValue:e(u,s,i)})):typeof i<"u"&&J4(o,{name:r,newValue:i}));return o};const Rx=lr(sY);function s5(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function oY(){const e=[],t={run:r,use:n};return t;function r(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const u=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,u?lY(u,o)(...c):s(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function lY(e,t){let r;return n;function n(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(c){const u=c;if(o&&r)throw u;return i(u)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){r||(r=!0,t(s,...o))}function a(s){i(null,s)}}const Cs={basename:cY,dirname:uY,extname:dY,join:fY,sep:"/"};function cY(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Gm(e);let r=0,n=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else n<0&&(a=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=s));return r===n?n=s:n<0&&(n=e.length),e.slice(r,n)}function uY(e){if(Gm(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function dY(e){Gm(e);let t=e.length,r=-1,n=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){n=t+1;break}continue}r<0&&(s=!0,r=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||r<0||a===0||a===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function fY(...e){let t=-1,r;for(;++t<e.length;)Gm(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":hY(r)}function hY(e){Gm(e);const t=e.codePointAt(0)===47;let r=pY(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function pY(e,t){let r="",n=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=s,a=0;continue}}else if(r.length>0){r="",n=0,i=s,a=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,s):r=e.slice(i+1,s),n=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return r}function Gm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const mY={cwd:gY};function gY(){return"/"}function o5(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function yY(e){if(typeof e=="string")e=new URL(e);else if(!o5(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return vY(e)}function vY(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const $x=["history","path","basename","stem","extname","dirname"];class rR{constructor(t){let r;t?o5(t)?r={path:t}:typeof t=="string"||bY(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":mY.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<$x.length;){const a=$x[n];a in r&&r[a]!==void 0&&r[a]!==null&&(this[a]=a==="history"?[...r[a]]:r[a])}let i;for(i in r)$x.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Cs.basename(this.path):void 0}set basename(t){Dx(t,"basename"),Mx(t,"basename"),this.path=Cs.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Cs.dirname(this.path):void 0}set dirname(t){Q4(this.basename,"dirname"),this.path=Cs.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Cs.extname(this.path):void 0}set extname(t){if(Mx(t,"extname"),Q4(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Cs.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){o5(t)&&(t=yY(t)),Dx(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Cs.basename(this.path,this.extname):void 0}set stem(t){Dx(t,"stem"),Mx(t,"stem"),this.path=Cs.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new pi(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Mx(e,t){if(e&&e.includes(Cs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Cs.sep+"`")}function Dx(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Q4(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function bY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xY=function(e){const n=this.constructor.prototype,i=n[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,n),a},wY={}.hasOwnProperty;class _j extends xY{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=oY()}copy(){const t=new _j;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(Rx(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(Ux("data",this.frozen),this.namespace[t]=r,this):wY.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ux("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=g0(t),n=this.parser||this.Parser;return Bx("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),Bx("process",this.parser||this.Parser),Fx("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(a,s){const o=g0(t),l=n.parse(o);n.run(l,o,function(u,f,p){if(u||!f||!p)return c(u);const h=f,y=n.stringify(h,p);jY(y)?p.value=y:p.result=y,c(u,p)});function c(u,f){u||!f?s(u):a?a(f):r(void 0,f)}}}processSync(t){let r=!1,n;return this.freeze(),Bx("processSync",this.parser||this.Parser),Fx("processSync",this.compiler||this.Compiler),this.process(t,i),t3("processSync","process",r),n;function i(a,s){r=!0,V4(a),n=s}}run(t,r,n){e3(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?a(void 0,n):new Promise(a);function a(s,o){const l=g0(r);i.run(t,l,c);function c(u,f,p){const h=f||t;u?o(u):s?s(h):n(void 0,h,p)}}}runSync(t,r){let n=!1,i;return this.run(t,r,a),t3("runSync","run",n),i;function a(s,o){V4(s),i=o,n=!0}}stringify(t,r){this.freeze();const n=g0(r),i=this.compiler||this.Compiler;return Fx("stringify",i),e3(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(Ux("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...f]=c;l(u,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=Rx(!0,i.settings,c.settings))}function o(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const f=c[u];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let f=-1,p=-1;for(;++f<n.length;)if(n[f][0]===c){p=f;break}if(p===-1)n.push([c,...u]);else if(u.length>0){let[h,...y]=u;const g=n[p][1];s5(g)&&s5(h)&&(h=Rx(!0,g,h)),n[p]=[c,h,...y]}}}}const _Y=new _j().freeze();function Bx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Fx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ux(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function e3(e){if(!s5(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function t3(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function g0(e){return SY(e)?e:new rR(e)}function SY(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function jY(e){return typeof e=="string"||NY(e)}function NY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const AY="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",r3=[],n3={allowDangerousHtml:!0},kY=/^(https?|ircs?|mailto|xmpp)$/i,EY=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function OY(e){const t=PY(e),r=CY(e);return TY(t.runSync(t.parse(r),r),e)}function PY(e){const t=e.rehypePlugins||r3,r=e.remarkPlugins||r3,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...n3}:n3;return _Y().use(uK).use(r).use(aY,n).use(t)}function CY(e){const t=e.children||"",r=new rR;return typeof t=="string"&&(r.value=t),r}function TY(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||IY;for(const u of EY)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+AY+u.id,void 0);return eR(e,c),qW(e,{Fragment:d.Fragment,components:i,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function c(u,f,p){if(u.type==="raw"&&p&&typeof f=="number")return s?p.children.splice(f,1):p.children[f]={type:"text",value:u.value},f;if(u.type==="element"){let h;for(h in Tx)if(Object.hasOwn(Tx,h)&&Object.hasOwn(u.properties,h)){const y=u.properties[h],g=Tx[h];(g===null||g.includes(u.tagName))&&(u.properties[h]=l(String(y||""),h,u))}}if(u.type==="element"){let h=r?!r.includes(u.tagName):a?a.includes(u.tagName):!1;if(!h&&n&&typeof f=="number"&&(h=!n(u,f,p)),h&&p&&typeof f=="number")return o&&u.children?p.children.splice(f,1,...u.children):p.children.splice(f,1),f}}}function IY(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||kY.test(e.slice(0,t))?e:""}function Ca({content:e,className:t=""}){return d.jsx("div",{className:`prose prose-sm max-w-none ${t}`,children:d.jsx(OY,{components:{h1:({node:r,...n})=>d.jsx("h1",{className:"text-2xl font-bold mb-2",...n}),h2:({node:r,...n})=>d.jsx("h2",{className:"text-xl font-bold mb-2",...n}),h3:({node:r,...n})=>d.jsx("h3",{className:"text-lg font-semibold mb-1",...n}),strong:({node:r,...n})=>d.jsx("strong",{className:"font-semibold text-gray-900",...n}),em:({node:r,...n})=>d.jsx("em",{className:"italic",...n}),p:({node:r,...n})=>d.jsx("p",{className:"mb-2 leading-relaxed",...n}),ul:({node:r,...n})=>d.jsx("ul",{className:"list-disc list-outside mb-2 space-y-1 pl-5",...n}),ol:({node:r,...n})=>d.jsx("ol",{className:"list-decimal list-outside mb-2 space-y-1 pl-5",...n}),li:({node:r,...n})=>d.jsx("li",{className:"leading-relaxed",...n}),code:({node:r,inline:n,...i})=>n?d.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-sm font-mono",...i}):d.jsx("code",{className:"block bg-gray-100 p-2 rounded text-sm font-mono overflow-x-auto",...i})},children:e})})}var tr;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},e.find=(i,a)=>{for(const s of i)if(a(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(tr||(tr={}));var i3;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(i3||(i3={}));const ft=tr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gl=e=>{switch(typeof e){case"undefined":return ft.undefined;case"string":return ft.string;case"number":return Number.isNaN(e)?ft.nan:ft.number;case"boolean":return ft.boolean;case"function":return ft.function;case"bigint":return ft.bigint;case"symbol":return ft.symbol;case"object":return Array.isArray(e)?ft.array:e===null?ft.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ft.promise:typeof Map<"u"&&e instanceof Map?ft.map:typeof Set<"u"&&e instanceof Set?ft.set:typeof Date<"u"&&e instanceof Date?ft.date:ft.object;default:return ft.unknown}},Je=tr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ro extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),n}static assert(t){if(!(t instanceof Ro))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,tr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ro.create=e=>new Ro(e);const l5=(e,t)=>{let r;switch(e.code){case Je.invalid_type:e.received===ft.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Je.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,tr.jsonStringifyReplacer)}`;break;case Je.unrecognized_keys:r=`Unrecognized key(s) in object: ${tr.joinValues(e.keys,", ")}`;break;case Je.invalid_union:r="Invalid input";break;case Je.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${tr.joinValues(e.options)}`;break;case Je.invalid_enum_value:r=`Invalid enum value. Expected ${tr.joinValues(e.options)}, received '${e.received}'`;break;case Je.invalid_arguments:r="Invalid function arguments";break;case Je.invalid_return_type:r="Invalid function return type";break;case Je.invalid_date:r="Invalid date";break;case Je.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:tr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Je.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Je.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Je.custom:r="Invalid input";break;case Je.invalid_intersection_types:r="Intersection results could not be merged";break;case Je.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Je.not_finite:r="Number must be finite";break;default:r=t.defaultError,tr.assertNever(e)}return{message:r}};let LY=l5;function RY(){return LY}const $Y=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}};function nt(e,t){const r=RY(),n=$Y({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===l5?void 0:l5].filter(i=>!!i)});e.common.issues.push(n)}class Ni{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return Lt;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return Ni.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Lt;a.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:t.value,value:n}}}const Lt=Object.freeze({status:"aborted"}),ip=e=>({status:"dirty",value:e}),Ua=e=>({status:"valid",value:e}),a3=e=>e.status==="aborted",s3=e=>e.status==="dirty",Zd=e=>e.status==="valid",Fy=e=>typeof Promise<"u"&&e instanceof Promise;var yt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(yt||(yt={}));class Ws{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const o3=(e,t)=>{if(Zd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ro(e.common.issues);return this._error=r,this._error}}};function Wt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,o)=>{const{message:l}=e;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:i}}class Yt{get description(){return this._def.description}_getType(t){return gl(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:gl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ni,ctx:{common:t.parent.common,data:t.data,parsedType:gl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Fy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:gl(t)},i=this._parseSync({data:t,path:n.path,parent:n});return o3(n,i)}"~validate"(t){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:gl(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return Zd(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>Zd(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:gl(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(Fy(i)?i:Promise.resolve(i));return o3(n,a)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=t(i),o=()=>a.addIssue({code:Je.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new tf({schema:this,typeName:Tt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ml.create(this,this._def)}nullable(){return rf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fs.create(this)}promise(){return Wy.create(this,this._def)}or(t){return zy.create([this,t],this._def)}and(t){return qy.create(this,t,this._def)}transform(t){return new tf({...Wt(this._def),schema:this,typeName:Tt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new u5({...Wt(this._def),innerType:this,defaultValue:r,typeName:Tt.ZodDefault})}brand(){return new aX({typeName:Tt.ZodBranded,type:this,...Wt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new d5({...Wt(this._def),innerType:this,catchValue:r,typeName:Tt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Sj.create(this,t)}readonly(){return f5.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const MY=/^c[^\s-]{8,}$/i,DY=/^[0-9a-z]+$/,BY=/^[0-9A-HJKMNP-TV-Z]{26}$/i,FY=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,UY=/^[a-z0-9_-]{21}$/i,zY=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,qY=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,HY=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,WY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zx;const VY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,GY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,KY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,YY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,XY=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,JY=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ZY=new RegExp(`^${nR}$`);function iR(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function QY(e){return new RegExp(`^${iR(e)}$`)}function eX(e){let t=`${nR}T${iR(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function tX(e,t){return!!((t==="v4"||!t)&&VY.test(e)||(t==="v6"||!t)&&KY.test(e))}function rX(e,t){if(!zY.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function nX(e,t){return!!((t==="v4"||!t)&&GY.test(e)||(t==="v6"||!t)&&YY.test(e))}class wo extends Yt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ft.string){const a=this._getOrReturnCtx(t);return nt(a,{code:Je.invalid_type,expected:ft.string,received:a.parsedType}),Lt}const n=new Ni;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),nt(i,{code:Je.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),nt(i,{code:Je.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=t.data.length>a.value,o=t.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(t,i),s?nt(i,{code:Je.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&nt(i,{code:Je.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")HY.test(t.data)||(i=this._getOrReturnCtx(t,i),nt(i,{validation:"email",code:Je.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")zx||(zx=new RegExp(WY,"u")),zx.test(t.data)||(i=this._getOrReturnCtx(t,i),nt(i,{validation:"emoji",code:Je.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")FY.test(t.data)||(i=this._getOrReturnCtx(t,i),nt(i,{validation:"uuid",code:Je.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")UY.test(t.data)||(i=this._getOrReturnCtx(t,i),nt(i,{validation:"nanoid",code:Je.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")MY.test(t.data)||(i=this._getOrReturnCtx(t,i),nt(i,{validation:"cuid",code:Je.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")DY.test(t.data)||(i=this._getOrReturnCtx(t,i),nt(i,{validation:"cuid2",code:Je.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")BY.test(t.data)||(i=this._getOrReturnCtx(t,i),nt(i,{validation:"ulid",code:Je.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),nt(i,{validation:"url",code:Je.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),nt(i,{validation:"regex",code:Je.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),nt(i,{code:Je.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),nt(i,{code:Je.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),nt(i,{code:Je.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?eX(a).test(t.data)||(i=this._getOrReturnCtx(t,i),nt(i,{code:Je.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?ZY.test(t.data)||(i=this._getOrReturnCtx(t,i),nt(i,{code:Je.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?QY(a).test(t.data)||(i=this._getOrReturnCtx(t,i),nt(i,{code:Je.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?qY.test(t.data)||(i=this._getOrReturnCtx(t,i),nt(i,{validation:"duration",code:Je.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?tX(t.data,a.version)||(i=this._getOrReturnCtx(t,i),nt(i,{validation:"ip",code:Je.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?rX(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),nt(i,{validation:"jwt",code:Je.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?nX(t.data,a.version)||(i=this._getOrReturnCtx(t,i),nt(i,{validation:"cidr",code:Je.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?XY.test(t.data)||(i=this._getOrReturnCtx(t,i),nt(i,{validation:"base64",code:Je.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?JY.test(t.data)||(i=this._getOrReturnCtx(t,i),nt(i,{validation:"base64url",code:Je.invalid_string,message:a.message}),n.dirty()):tr.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Je.invalid_string,...yt.errToObj(n)})}_addCheck(t){return new wo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...yt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...yt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...yt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...yt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...yt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...yt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...yt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...yt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...yt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...yt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...yt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...yt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...yt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...yt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...yt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...yt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...yt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...yt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...yt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...yt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...yt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...yt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...yt.errToObj(r)})}nonempty(t){return this.min(1,yt.errToObj(t))}trim(){return new wo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new wo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new wo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}wo.create=e=>new wo({checks:[],typeName:Tt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Wt(e)});function iX(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return a%s/10**i}class Qd extends Yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ft.number){const a=this._getOrReturnCtx(t);return nt(a,{code:Je.invalid_type,expected:ft.number,received:a.parsedType}),Lt}let n;const i=new Ni;for(const a of this._def.checks)a.kind==="int"?tr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),nt(n,{code:Je.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:Je.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:Je.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?iX(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),nt(n,{code:Je.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),nt(n,{code:Je.not_finite,message:a.message}),i.dirty()):tr.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,yt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,yt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,yt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,yt.toString(r))}setLimit(t,r,n,i){return new Qd({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:yt.toString(i)}]})}_addCheck(t){return new Qd({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:yt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:yt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:yt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:yt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:yt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:yt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:yt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:yt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:yt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&tr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Qd.create=e=>new Qd({checks:[],typeName:Tt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Wt(e)});class em extends Yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ft.bigint)return this._getInvalidInput(t);let n;const i=new Ni;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:Je.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:Je.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:Je.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):tr.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return nt(r,{code:Je.invalid_type,expected:ft.bigint,received:r.parsedType}),Lt}gte(t,r){return this.setLimit("min",t,!0,yt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,yt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,yt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,yt.toString(r))}setLimit(t,r,n,i){return new em({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:yt.toString(i)}]})}_addCheck(t){return new em({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:yt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:yt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:yt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:yt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:yt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}em.create=e=>new em({checks:[],typeName:Tt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Wt(e)});class l3 extends Yt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ft.boolean){const n=this._getOrReturnCtx(t);return nt(n,{code:Je.invalid_type,expected:ft.boolean,received:n.parsedType}),Lt}return Ua(t.data)}}l3.create=e=>new l3({typeName:Tt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Wt(e)});class Uy extends Yt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ft.date){const a=this._getOrReturnCtx(t);return nt(a,{code:Je.invalid_type,expected:ft.date,received:a.parsedType}),Lt}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return nt(a,{code:Je.invalid_date}),Lt}const n=new Ni;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),nt(i,{code:Je.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),nt(i,{code:Je.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):tr.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Uy({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:yt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:yt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Uy.create=e=>new Uy({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Tt.ZodDate,...Wt(e)});class c3 extends Yt{_parse(t){if(this._getType(t)!==ft.symbol){const n=this._getOrReturnCtx(t);return nt(n,{code:Je.invalid_type,expected:ft.symbol,received:n.parsedType}),Lt}return Ua(t.data)}}c3.create=e=>new c3({typeName:Tt.ZodSymbol,...Wt(e)});class u3 extends Yt{_parse(t){if(this._getType(t)!==ft.undefined){const n=this._getOrReturnCtx(t);return nt(n,{code:Je.invalid_type,expected:ft.undefined,received:n.parsedType}),Lt}return Ua(t.data)}}u3.create=e=>new u3({typeName:Tt.ZodUndefined,...Wt(e)});class d3 extends Yt{_parse(t){if(this._getType(t)!==ft.null){const n=this._getOrReturnCtx(t);return nt(n,{code:Je.invalid_type,expected:ft.null,received:n.parsedType}),Lt}return Ua(t.data)}}d3.create=e=>new d3({typeName:Tt.ZodNull,...Wt(e)});class f3 extends Yt{constructor(){super(...arguments),this._any=!0}_parse(t){return Ua(t.data)}}f3.create=e=>new f3({typeName:Tt.ZodAny,...Wt(e)});class h3 extends Yt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ua(t.data)}}h3.create=e=>new h3({typeName:Tt.ZodUnknown,...Wt(e)});class zl extends Yt{_parse(t){const r=this._getOrReturnCtx(t);return nt(r,{code:Je.invalid_type,expected:ft.never,received:r.parsedType}),Lt}}zl.create=e=>new zl({typeName:Tt.ZodNever,...Wt(e)});class p3 extends Yt{_parse(t){if(this._getType(t)!==ft.undefined){const n=this._getOrReturnCtx(t);return nt(n,{code:Je.invalid_type,expected:ft.void,received:n.parsedType}),Lt}return Ua(t.data)}}p3.create=e=>new p3({typeName:Tt.ZodVoid,...Wt(e)});class Fs extends Yt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==ft.array)return nt(r,{code:Je.invalid_type,expected:ft.array,received:r.parsedType}),Lt;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(nt(r,{code:s?Je.too_big:Je.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(nt(r,{code:Je.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(nt(r,{code:Je.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new Ws(r,s,r.path,o)))).then(s=>Ni.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new Ws(r,s,r.path,o)));return Ni.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new Fs({...this._def,minLength:{value:t,message:yt.toString(r)}})}max(t,r){return new Fs({...this._def,maxLength:{value:t,message:yt.toString(r)}})}length(t,r){return new Fs({...this._def,exactLength:{value:t,message:yt.toString(r)}})}nonempty(t){return this.min(1,t)}}Fs.create=(e,t)=>new Fs({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Tt.ZodArray,...Wt(t)});function ad(e){if(e instanceof vn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ml.create(ad(n))}return new vn({...e._def,shape:()=>t})}else return e instanceof Fs?new Fs({...e._def,type:ad(e.element)}):e instanceof Ml?Ml.create(ad(e.unwrap())):e instanceof rf?rf.create(ad(e.unwrap())):e instanceof lu?lu.create(e.items.map(t=>ad(t))):e}class vn extends Yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=tr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ft.object){const c=this._getOrReturnCtx(t);return nt(c,{code:Je.invalid_type,expected:ft.object,received:c.parsedType}),Lt}const{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof zl&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const u=a[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Ws(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof zl){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(nt(i,{code:Je.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Ws(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,p=await u.value;c.push({key:f,value:p,alwaysSet:u.alwaysSet})}return c}).then(c=>Ni.mergeObjectSync(n,c)):Ni.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return yt.errToObj,new vn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:yt.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new vn({...this._def,unknownKeys:"strip"})}passthrough(){return new vn({...this._def,unknownKeys:"passthrough"})}extend(t){return new vn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new vn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Tt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new vn({...this._def,catchall:t})}pick(t){const r={};for(const n of tr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new vn({...this._def,shape:()=>r})}omit(t){const r={};for(const n of tr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new vn({...this._def,shape:()=>r})}deepPartial(){return ad(this)}partial(t){const r={};for(const n of tr.objectKeys(this.shape)){const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new vn({...this._def,shape:()=>r})}required(t){const r={};for(const n of tr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Ml;)a=a._def.innerType;r[n]=a}return new vn({...this._def,shape:()=>r})}keyof(){return aR(tr.objectKeys(this.shape))}}vn.create=(e,t)=>new vn({shape:()=>e,unknownKeys:"strip",catchall:zl.create(),typeName:Tt.ZodObject,...Wt(t)});vn.strictCreate=(e,t)=>new vn({shape:()=>e,unknownKeys:"strict",catchall:zl.create(),typeName:Tt.ZodObject,...Wt(t)});vn.lazycreate=(e,t)=>new vn({shape:e,unknownKeys:"strip",catchall:zl.create(),typeName:Tt.ZodObject,...Wt(t)});class zy extends Yt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new Ro(o.ctx.common.issues));return nt(r,{code:Je.invalid_union,unionErrors:s}),Lt}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new Ro(l));return nt(r,{code:Je.invalid_union,unionErrors:o}),Lt}}get options(){return this._def.options}}zy.create=(e,t)=>new zy({options:e,typeName:Tt.ZodUnion,...Wt(t)});function c5(e,t){const r=gl(e),n=gl(t);if(e===t)return{valid:!0,data:e};if(r===ft.object&&n===ft.object){const i=tr.objectKeys(t),a=tr.objectKeys(e).filter(o=>i.indexOf(o)!==-1),s={...e,...t};for(const o of a){const l=c5(e[o],t[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(r===ft.array&&n===ft.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const s=e[a],o=t[a],l=c5(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===ft.date&&n===ft.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class qy extends Yt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(a,s)=>{if(a3(a)||a3(s))return Lt;const o=c5(a.value,s.value);return o.valid?((s3(a)||s3(s))&&r.dirty(),{status:r.value,value:o.data}):(nt(n,{code:Je.invalid_intersection_types}),Lt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}qy.create=(e,t,r)=>new qy({left:e,right:t,typeName:Tt.ZodIntersection,...Wt(r)});class lu extends Yt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.array)return nt(n,{code:Je.invalid_type,expected:ft.array,received:n.parsedType}),Lt;if(n.data.length<this._def.items.length)return nt(n,{code:Je.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Lt;!this._def.rest&&n.data.length>this._def.items.length&&(nt(n,{code:Je.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Ws(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>Ni.mergeArray(r,s)):Ni.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new lu({...this._def,rest:t})}}lu.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new lu({items:e,typeName:Tt.ZodTuple,rest:null,...Wt(t)})};class Hy extends Yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.object)return nt(n,{code:Je.invalid_type,expected:ft.object,received:n.parsedType}),Lt;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new Ws(n,o,n.path,o)),value:s._parse(new Ws(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?Ni.mergeObjectAsync(r,i):Ni.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Yt?new Hy({keyType:t,valueType:r,typeName:Tt.ZodRecord,...Wt(n)}):new Hy({keyType:wo.create(),valueType:t,typeName:Tt.ZodRecord,...Wt(r)})}}class m3 extends Yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.map)return nt(n,{code:Je.invalid_type,expected:ft.map,received:n.parsedType}),Lt;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,l],c)=>({key:i._parse(new Ws(n,o,n.path,[c,"key"])),value:a._parse(new Ws(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Lt;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Lt;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}}m3.create=(e,t,r)=>new m3({valueType:t,keyType:e,typeName:Tt.ZodMap,...Wt(r)});class tm extends Yt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.set)return nt(n,{code:Je.invalid_type,expected:ft.set,received:n.parsedType}),Lt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(nt(n,{code:Je.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(nt(n,{code:Je.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Lt;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((l,c)=>a._parse(new Ws(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(t,r){return new tm({...this._def,minSize:{value:t,message:yt.toString(r)}})}max(t,r){return new tm({...this._def,maxSize:{value:t,message:yt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}tm.create=(e,t)=>new tm({valueType:e,minSize:null,maxSize:null,typeName:Tt.ZodSet,...Wt(t)});class g3 extends Yt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}g3.create=(e,t)=>new g3({getter:e,typeName:Tt.ZodLazy,...Wt(t)});class y3 extends Yt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return nt(r,{received:r.data,code:Je.invalid_literal,expected:this._def.value}),Lt}return{status:"valid",value:t.data}}get value(){return this._def.value}}y3.create=(e,t)=>new y3({value:e,typeName:Tt.ZodLiteral,...Wt(t)});function aR(e,t){return new ef({values:e,typeName:Tt.ZodEnum,...Wt(t)})}class ef extends Yt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return nt(r,{expected:tr.joinValues(n),received:r.parsedType,code:Je.invalid_type}),Lt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return nt(r,{received:r.data,code:Je.invalid_enum_value,options:n}),Lt}return Ua(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ef.create(t,{...this._def,...r})}exclude(t,r=this._def){return ef.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ef.create=aR;class v3 extends Yt{_parse(t){const r=tr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ft.string&&n.parsedType!==ft.number){const i=tr.objectValues(r);return nt(n,{expected:tr.joinValues(i),received:n.parsedType,code:Je.invalid_type}),Lt}if(this._cache||(this._cache=new Set(tr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=tr.objectValues(r);return nt(n,{received:n.data,code:Je.invalid_enum_value,options:i}),Lt}return Ua(t.data)}get enum(){return this._def.values}}v3.create=(e,t)=>new v3({values:e,typeName:Tt.ZodNativeEnum,...Wt(t)});class Wy extends Yt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ft.promise&&r.common.async===!1)return nt(r,{code:Je.invalid_type,expected:ft.promise,received:r.parsedType}),Lt;const n=r.parsedType===ft.promise?r.data:Promise.resolve(r.data);return Ua(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Wy.create=(e,t)=>new Wy({type:e,typeName:Tt.ZodPromise,...Wt(t)});class tf extends Yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:s=>{nt(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return Lt;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?Lt:l.status==="dirty"||r.value==="dirty"?ip(l.value):l});{if(r.value==="aborted")return Lt;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?Lt:o.status==="dirty"||r.value==="dirty"?ip(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Lt:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Lt:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Zd(s))return Lt;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Zd(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):Lt);tr.assertNever(i)}}tf.create=(e,t,r)=>new tf({schema:e,typeName:Tt.ZodEffects,effect:t,...Wt(r)});tf.createWithPreprocess=(e,t,r)=>new tf({schema:t,effect:{type:"preprocess",transform:e},typeName:Tt.ZodEffects,...Wt(r)});class Ml extends Yt{_parse(t){return this._getType(t)===ft.undefined?Ua(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ml.create=(e,t)=>new Ml({innerType:e,typeName:Tt.ZodOptional,...Wt(t)});class rf extends Yt{_parse(t){return this._getType(t)===ft.null?Ua(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}rf.create=(e,t)=>new rf({innerType:e,typeName:Tt.ZodNullable,...Wt(t)});class u5 extends Yt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ft.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}u5.create=(e,t)=>new u5({innerType:e,typeName:Tt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Wt(t)});class d5 extends Yt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Fy(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ro(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ro(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}d5.create=(e,t)=>new d5({innerType:e,typeName:Tt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Wt(t)});class b3 extends Yt{_parse(t){if(this._getType(t)!==ft.nan){const n=this._getOrReturnCtx(t);return nt(n,{code:Je.invalid_type,expected:ft.nan,received:n.parsedType}),Lt}return{status:"valid",value:t.data}}}b3.create=e=>new b3({typeName:Tt.ZodNaN,...Wt(e)});class aX extends Yt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Sj extends Yt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Lt:a.status==="dirty"?(r.dirty(),ip(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Lt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new Sj({in:t,out:r,typeName:Tt.ZodPipeline})}}class f5 extends Yt{_parse(t){const r=this._def.innerType._parse(t),n=i=>(Zd(i)&&(i.value=Object.freeze(i.value)),i);return Fy(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}f5.create=(e,t)=>new f5({innerType:e,typeName:Tt.ZodReadonly,...Wt(t)});var Tt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Tt||(Tt={}));const Gt=wo.create,lo=Qd.create;zl.create;const ks=Fs.create,Za=vn.create;zy.create;qy.create;lu.create;const x3=Hy.create,qx=ef.create;Wy.create;Ml.create;rf.create;const sX=Za({id:Gt().uuid(),title:Gt(),subject:Gt(),durationMinutes:lo().min(5).max(60),difficulty:qx(["Beginner","Intermediate","Advanced"]),patientProfile:Za({name:Gt(),age:lo(),gender:qx(["male","female","other"]),prakriti:qx(["Vata","Pitta","Kapha","Sama"]),vikriti:Gt().optional(),occupation:Gt().optional()}),chiefComplaint:Gt().optional(),historyOfPresentIllness:Gt(),ashtasthanaPariksha:x3(Gt()).optional(),doshaAnalysis:Za({vata:lo().min(0).max(100),pitta:lo().min(0).max(100),kapha:lo().min(0).max(100)}),potentialDiagnoses:ks(Za({dx:Gt(),confidence:lo().min(0).max(1)})),diagnosisMCQ:Za({question:Gt(),options:ks(Gt()).length(4),answerIndex:lo().min(0).max(3),explanation:Gt().optional()}).optional(),suggestedChikitsa:Gt(),mcqs:ks(Za({id:Gt(),question:Gt(),options:ks(Gt()),answerIndex:lo(),sloId:Gt()})),rubrics:ks(Za({id:Gt(),description:Gt(),maxPoints:lo(),sloId:Gt()})),finalExplanation:Gt(),sloMappings:ks(Gt()),physicalExam:Za({vitals:Za({bp:Gt().optional(),hr:Gt().optional(),rr:Gt().optional(),temp:Gt().optional(),spo2:Gt().optional()}).optional(),generalExam:Gt().optional(),systemicExam:Gt().optional()}).optional(),availableLabTests:ks(Za({category:Gt(),tests:ks(Gt())})).optional(),labResults:x3(Gt()).optional(),learningPearls:ks(Gt()).optional(),furtherReading:ks(Za({title:Gt(),reference:Gt()})).optional()});function oX({user:e}){const{stationId:t}=p1(),r=gs(),n=Uo(),[i,a]=X.useState(null),[s,o]=X.useState(null),[l,c]=X.useState(!0),[u,f]=X.useState(!1);X.useEffect(()=>{t&&p()},[t]);const p=async()=>{var y;try{const{data:g,error:b}=await Le.from("stations").select("*").eq("id",t).single();if(b)throw b;a(g),(y=g.blueprint)!=null&&y.generatedCase&&o(g.blueprint.generatedCase)}catch(g){console.error("Error loading station:",g)}finally{c(!1)}},h=async()=>{var y,g;if(!(!i||!s)){f(!0);try{const b=[];if(!s.physicalExam||!s.physicalExam.vitals)b.push("Physical examination vitals are missing");else{const N=s.physicalExam.vitals;(!N.bp||!N.hr||!N.rr||!N.temp||!N.spo2)&&b.push("Some vital signs are missing")}if((!((y=s.physicalExam)!=null&&y.generalExam)||s.physicalExam.generalExam.trim()==="")&&b.push("General examination findings are missing"),(!((g=s.physicalExam)!=null&&g.systemicExam)||s.physicalExam.systemicExam.trim()==="")&&b.push("Systemic examination findings are missing"),(!s.labResults||Object.keys(s.labResults).length<4)&&b.push("Lab results are missing or insufficient"),(!s.learningPearls||s.learningPearls.length<3)&&b.push("Learning pearls are missing or insufficient"),(!s.furtherReading||s.furtherReading.length<2)&&b.push("Further reading references are missing or insufficient"),b.length>0)throw new Error(`Cannot approve case with missing data:
${b.join(`
`)}

Please regenerate the case.`);const v=sX.parse(s),{data:w,error:_}=await Le.from("case_snapshots").insert({station_id:i.id,clinical_case:v,approved_by:e.id}).select().single();if(_)throw _;r(`/assign/${w.id}`),n.success("Case approved successfully!")}catch(b){n.error("Error approving case: "+b.message)}finally{f(!1)}}};return l?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Bi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 flex items-center justify-center pb-20 md:pb-0",children:d.jsx(Ao,{className:"w-8 h-8 animate-spin text-primary-600"})}),d.jsx(Zn,{role:"faculty"}),d.jsx(Ul,{toasts:n.toasts,onClose:n.removeToast})]}):!i||!s?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Bi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 p-6 pb-20 md:pb-6",children:d.jsx("p",{children:"Station not found or case not generated yet."})}),d.jsx(Zn,{role:"faculty"}),d.jsx(Ul,{toasts:n.toasts,onClose:n.removeToast})]}):d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Bi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(Zp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Review Generated Case"}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-100 p-6 md:p-8 space-y-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Overview"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),d.jsx("p",{className:"text-lg",children:s.title})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"History of Present Illness"}),d.jsx("div",{className:"text-gray-900 mt-2",children:d.jsx(Ca,{content:s.historyOfPresentIllness})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Patient Profile"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Name:"})," ",s.patientProfile.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Age:"})," ",s.patientProfile.age]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Gender:"})," ",s.patientProfile.gender]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Prakriti:"})," ",s.patientProfile.prakriti]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Suggested Chikitsa"}),d.jsx("div",{className:"text-gray-900 mt-2",children:d.jsx(Ca,{content:s.suggestedChikitsa})})]})]})]}),s.physicalExam&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Physical Examination"}),d.jsxs("div",{className:"space-y-4",children:[s.physicalExam.vitals&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vitals"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"BP:"})," ",s.physicalExam.vitals.bp||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"HR:"})," ",s.physicalExam.vitals.hr||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"RR:"})," ",s.physicalExam.vitals.rr||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Temp:"})," ",s.physicalExam.vitals.temp||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"SpO2:"})," ",s.physicalExam.vitals.spo2||"Not recorded"]})]})]}),s.physicalExam.generalExam&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"General Examination"}),d.jsx("div",{className:"text-gray-900 mt-2",children:d.jsx(Ca,{content:s.physicalExam.generalExam})})]}),s.physicalExam.systemicExam&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Systemic Examination"}),d.jsx("div",{className:"text-gray-900 mt-2",children:d.jsx(Ca,{content:s.physicalExam.systemicExam})})]})]})]}),s.labResults&&Object.keys(s.labResults).length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Lab Results (Available)"}),d.jsxs("div",{className:"space-y-3",children:[Object.entries(s.labResults).slice(0,5).map(([y,g])=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[d.jsxs("strong",{className:"text-gray-900",children:[y,":"]})," ",d.jsx("div",{className:"mt-1",children:d.jsx(Ca,{content:String(g)})})]},y)),Object.keys(s.labResults).length>5&&d.jsxs("p",{className:"text-sm text-gray-500",children:["... and ",Object.keys(s.labResults).length-5," more tests"]})]})]}),s.learningPearls&&s.learningPearls.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Learning Pearls"}),d.jsx("ul",{className:"list-disc list-outside space-y-3 pl-6",children:s.learningPearls.map((y,g)=>d.jsx("li",{className:"text-gray-900 leading-relaxed",children:d.jsx(Ca,{content:y})},g))})]}),s.furtherReading&&s.furtherReading.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Further Reading"}),d.jsx("div",{className:"space-y-3",children:s.furtherReading.map((y,g)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-blue-50",children:[d.jsxs("strong",{className:"text-gray-900",children:[y.title,":"]})," ",d.jsx("span",{className:"text-gray-700",children:y.reference})]},g))})]}),s.mcqs&&s.mcqs.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Multiple Choice Questions"}),d.jsx("div",{className:"space-y-4",children:s.mcqs.map((y,g)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[d.jsx("p",{className:"font-medium mb-3 text-gray-900",children:y.question}),d.jsx("ul",{className:"list-disc list-outside space-y-2 pl-5",children:y.options.map((b,v)=>d.jsxs("li",{className:v===y.answerIndex?"text-green-700 font-semibold":"text-gray-700",children:[b,v===y.answerIndex&&d.jsx("span",{className:"ml-2 text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Correct"})]},v))})]},g))})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200",children:[d.jsxs("button",{onClick:h,disabled:u,className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium shadow-sm hover:shadow-md",children:[u?d.jsx(Ao,{className:"w-4 h-4 animate-spin"}):d.jsx(m8,{className:"w-4 h-4"}),"Approve Case"]}),d.jsxs("button",{onClick:()=>r("/create"),className:"flex items-center justify-center gap-2 px-6 py-3 border-2 border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:[d.jsx(Bf,{className:"w-4 h-4"}),"Regenerate"]})]})]})]})}),d.jsx(Zn,{role:"faculty"})]})}function lX({user:e}){var M;const{snapshotId:t}=p1(),r=gs(),n=Uo(),[i,a]=X.useState(null),[s,o]=X.useState([]),[l,c]=X.useState([]),[u,f]=X.useState([]),[p,h]=X.useState([]),[y,g]=X.useState("cohort"),[b,v]=X.useState(""),[w,_]=X.useState(""),[N,S]=X.useState(1),[j,O]=X.useState(!0),[I,L]=X.useState(!1);X.useEffect(()=>{t&&F()},[t]);const F=async()=>{try{const{data:U,error:V}=await Le.from("case_snapshots").select("*").eq("id",t).single();if(V)throw V;a(U);const{data:W,error:B}=await Le.from("cohorts").select("*").order("name");if(B)throw B;const J=await Promise.all((W||[]).map(async T=>{const{data:C}=await Le.from("cohort_members").select("student_id").eq("cohort_id",T.id),K=(C||[]).map(ie=>ie.student_id);let Q=[];if(K.length>0){const{data:ie}=await Le.from("users").select("id, name, email").in("id",K);Q=(ie||[]).map(ue=>({id:ue.id,name:ue.name,email:ue.email}))}return{...T,students:Q}}));o(J);const{data:$,error:ae}=await Le.from("users").select("id, name, email").eq("role","student").order("name");if(ae)throw ae;c($||[])}catch(U){console.error("Error loading data:",U)}finally{O(!1)}},k=async()=>{if(t){if(y==="cohort"&&u.length===0){n.warning("Please select at least one cohort");return}if(y==="student"&&p.length===0){n.warning("Please select at least one student");return}if(y==="both"&&u.length===0&&p.length===0){n.warning("Please select at least one cohort or student");return}L(!0);try{const U=[];for(const V of u)U.push({snapshot_id:t,cohort_id:V,start_at:b||null,due_at:w||null,max_attempts:N});for(const V of p){const W=l.find(B=>B.id===V);if(W){let B=null;const{data:J}=await Le.from("cohorts").select("id").eq("name",`Personal: ${W.name}`).single();if(J)B=J.id;else{const{data:$,error:ae}=await Le.from("cohorts").insert({name:`Personal: ${W.name}`,description:`Personal assignment cohort for ${W.name}`}).select().single();if(ae)throw ae;B=$.id,await Le.from("cohort_members").insert({cohort_id:B,student_id:V})}B&&U.push({snapshot_id:t,cohort_id:B,start_at:b||null,due_at:w||null,max_attempts:N})}}if(U.length>0){const{error:V}=await Le.from("assignments").insert(U);if(V)throw V}n.success(`Successfully created ${U.length} assignment(s)!`),r("/dashboard")}catch(U){n.error("Error creating assignment: "+U.message)}finally{L(!1)}}},P=U=>{f(V=>V.includes(U)?V.filter(W=>W!==U):[...V,U])},D=U=>{h(V=>V.includes(U)?V.filter(W=>W!==U):[...V,U])};return j?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Bi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 flex items-center justify-center pb-20 md:pb-0",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),d.jsx(Zn,{role:"faculty"}),d.jsx(Ul,{toasts:n.toasts,onClose:n.removeToast})]}):d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Bi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-2xl mx-auto",children:[d.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(Zp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Assign Case"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Case Title"}),d.jsx("p",{className:"text-lg font-semibold",children:((M=i==null?void 0:i.clinical_case)==null?void 0:M.title)||"Untitled Case"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Assignment Mode"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{type:"button",onClick:()=>{g("cohort"),h([])},className:`px-4 py-2 rounded-md ${y==="cohort"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d.jsx(ko,{className:"w-4 h-4 inline mr-2"}),"Cohorts"]}),d.jsxs("button",{type:"button",onClick:()=>{g("student"),f([])},className:`px-4 py-2 rounded-md ${y==="student"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d.jsx(Bs,{className:"w-4 h-4 inline mr-2"}),"Individual Students"]}),d.jsx("button",{type:"button",onClick:()=>g("both"),className:`px-4 py-2 rounded-md ${y==="both"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Both"})]})]}),(y==="cohort"||y==="both")&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Cohorts ",y==="cohort"&&"*"]}),d.jsx("div",{className:"border border-gray-300 rounded-md max-h-60 overflow-y-auto",children:s.length===0?d.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No cohorts available. Create cohorts first."}):s.map(U=>d.jsxs("div",{className:`p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 ${u.includes(U.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>P(U.id),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:U.name}),U.description&&d.jsx("div",{className:"text-sm text-gray-500",children:U.description}),d.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[U.students.length," student",U.students.length!==1?"s":""]})]}),d.jsx("input",{type:"checkbox",checked:u.includes(U.id),onChange:()=>P(U.id),className:"ml-4 w-5 h-5 text-primary-600"})]}),u.includes(U.id)&&U.students.length>0&&d.jsxs("div",{className:"mt-2 ml-4 text-xs text-gray-600",children:["Students: ",U.students.map(V=>V.name).join(", ")]})]},U.id))}),u.length>0&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[u.length," cohort",u.length!==1?"s":""," selected"]})]}),(y==="student"||y==="both")&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Individual Students ",y==="student"&&"*"]}),d.jsx("div",{className:"border border-gray-300 rounded-md max-h-60 overflow-y-auto",children:l.length===0?d.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No students available."}):l.map(U=>d.jsx("div",{className:`p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 ${p.includes(U.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>D(U.id),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:U.name}),d.jsx("div",{className:"text-sm text-gray-500",children:U.email})]}),d.jsx("input",{type:"checkbox",checked:p.includes(U.id),onChange:()=>D(U.id),className:"ml-4 w-5 h-5 text-primary-600"})]})},U.id))}),p.length>0&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[p.length," student",p.length!==1?"s":""," selected"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),d.jsx("input",{type:"datetime-local",value:b,onChange:U=>v(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),d.jsx("input",{type:"datetime-local",value:w,onChange:U=>_(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Attempts"}),d.jsx("input",{type:"number",min:"1",max:"10",value:N,onChange:U=>S(parseInt(U.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("button",{onClick:k,disabled:I||y==="cohort"&&u.length===0||y==="student"&&p.length===0||y==="both"&&u.length===0&&p.length===0,className:"w-full flex items-center justify-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-md hover:bg-primary-700 disabled:opacity-50",children:[d.jsx(m8,{className:"w-5 h-5"}),I?"Assigning...":`Assign to ${u.length+p.length} ${u.length+p.length===1?"Recipient":"Recipients"}`]})]})]})}),d.jsx(Zn,{role:"faculty"}),d.jsx(Ul,{toasts:n.toasts,onClose:n.removeToast})]})}function cX({user:e}){const t=gs(),[r,n]=X.useState([]),[i,a]=X.useState(!0),[s,o]=X.useState("");X.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:u,error:f}=await Le.from("stations").select("*").eq("created_by",e.id).order("created_at",{ascending:!1});if(f)throw f;const p=await Promise.all((u||[]).map(async h=>{const{data:y}=await Le.from("case_snapshots").select("*").eq("station_id",h.id).order("approved_at",{ascending:!1}).limit(1).single();return{...h,snapshot:y}}));n(p)}catch(u){console.error("Error loading stations:",u)}finally{a(!1)}},c=r.filter(u=>{var f,p,h,y;return((f=u.title)==null?void 0:f.toLowerCase().includes(s.toLowerCase()))||((y=(h=(p=u.snapshot)==null?void 0:p.clinical_case)==null?void 0:h.title)==null?void 0:y.toLowerCase().includes(s.toLowerCase()))});return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Bi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Station Library"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(oj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search stations...",value:s,onChange:u=>o(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):c.length===0?d.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:d.jsx("p",{className:"text-gray-600",children:"No stations found"})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(u=>{var f,p,h,y;return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:((p=(f=u.snapshot)==null?void 0:f.clinical_case)==null?void 0:p.title)||u.title||"Untitled Station"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:((y=(h=u.snapshot)==null?void 0:h.clinical_case)==null?void 0:y.subject)||"No subject"}),d.jsx("div",{className:"flex items-center gap-2 mb-4",children:u.snapshot?d.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Approved"}):d.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"Pending"})}),d.jsxs("div",{className:"flex gap-2",children:[u.snapshot&&d.jsxs("button",{onClick:()=>t(`/review/${u.id}`),className:"flex items-center gap-1 px-3 py-1 text-sm bg-primary-100 text-primary-700 rounded hover:bg-primary-200",children:[d.jsx(v1,{className:"w-4 h-4"}),"View"]}),d.jsxs("button",{onClick:()=>t(`/create?edit=${u.id}`),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:[d.jsx(sj,{className:"w-4 h-4"}),"Edit"]})]})]},u.id)})})]})}),d.jsx(Zn,{role:"faculty"})]})}function sR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=sR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ht(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=sR(e))&&(n&&(n+=" "),n+=t);return n}var uX=Array.isArray,zi=uX,dX=typeof _l=="object"&&_l&&_l.Object===Object&&_l,oR=dX,fX=oR,hX=typeof self=="object"&&self&&self.Object===Object&&self,pX=fX||hX||Function("return this")(),Ks=pX,mX=Ks,gX=mX.Symbol,Km=gX,w3=Km,lR=Object.prototype,yX=lR.hasOwnProperty,vX=lR.toString,Uh=w3?w3.toStringTag:void 0;function bX(e){var t=yX.call(e,Uh),r=e[Uh];try{e[Uh]=void 0;var n=!0}catch{}var i=vX.call(e);return n&&(t?e[Uh]=r:delete e[Uh]),i}var xX=bX,wX=Object.prototype,_X=wX.toString;function SX(e){return _X.call(e)}var jX=SX,_3=Km,NX=xX,AX=jX,kX="[object Null]",EX="[object Undefined]",S3=_3?_3.toStringTag:void 0;function OX(e){return e==null?e===void 0?EX:kX:S3&&S3 in Object(e)?NX(e):AX(e)}var zo=OX;function PX(e){return e!=null&&typeof e=="object"}var qo=PX,CX=zo,TX=qo,IX="[object Symbol]";function LX(e){return typeof e=="symbol"||TX(e)&&CX(e)==IX}var zf=LX,RX=zi,$X=zf,MX=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DX=/^\w*$/;function BX(e,t){if(RX(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||$X(e)?!0:DX.test(e)||!MX.test(e)||t!=null&&e in Object(t)}var jj=BX;function FX(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Jl=FX;const qf=lr(Jl);var UX=zo,zX=Jl,qX="[object AsyncFunction]",HX="[object Function]",WX="[object GeneratorFunction]",VX="[object Proxy]";function GX(e){if(!zX(e))return!1;var t=UX(e);return t==HX||t==WX||t==qX||t==VX}var Nj=GX;const Ot=lr(Nj);var KX=Ks,YX=KX["__core-js_shared__"],XX=YX,Hx=XX,j3=function(){var e=/[^.]+$/.exec(Hx&&Hx.keys&&Hx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function JX(e){return!!j3&&j3 in e}var ZX=JX,QX=Function.prototype,eJ=QX.toString;function tJ(e){if(e!=null){try{return eJ.call(e)}catch{}try{return e+""}catch{}}return""}var cR=tJ,rJ=Nj,nJ=ZX,iJ=Jl,aJ=cR,sJ=/[\\^$.*+?()[\]{}|]/g,oJ=/^\[object .+?Constructor\]$/,lJ=Function.prototype,cJ=Object.prototype,uJ=lJ.toString,dJ=cJ.hasOwnProperty,fJ=RegExp("^"+uJ.call(dJ).replace(sJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hJ(e){if(!iJ(e)||nJ(e))return!1;var t=rJ(e)?fJ:oJ;return t.test(aJ(e))}var pJ=hJ;function mJ(e,t){return e==null?void 0:e[t]}var gJ=mJ,yJ=pJ,vJ=gJ;function bJ(e,t){var r=vJ(e,t);return yJ(r)?r:void 0}var _u=bJ,xJ=_u,wJ=xJ(Object,"create"),S1=wJ,N3=S1;function _J(){this.__data__=N3?N3(null):{},this.size=0}var SJ=_J;function jJ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var NJ=jJ,AJ=S1,kJ="__lodash_hash_undefined__",EJ=Object.prototype,OJ=EJ.hasOwnProperty;function PJ(e){var t=this.__data__;if(AJ){var r=t[e];return r===kJ?void 0:r}return OJ.call(t,e)?t[e]:void 0}var CJ=PJ,TJ=S1,IJ=Object.prototype,LJ=IJ.hasOwnProperty;function RJ(e){var t=this.__data__;return TJ?t[e]!==void 0:LJ.call(t,e)}var $J=RJ,MJ=S1,DJ="__lodash_hash_undefined__";function BJ(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=MJ&&t===void 0?DJ:t,this}var FJ=BJ,UJ=SJ,zJ=NJ,qJ=CJ,HJ=$J,WJ=FJ;function Hf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hf.prototype.clear=UJ;Hf.prototype.delete=zJ;Hf.prototype.get=qJ;Hf.prototype.has=HJ;Hf.prototype.set=WJ;var VJ=Hf;function GJ(){this.__data__=[],this.size=0}var KJ=GJ;function YJ(e,t){return e===t||e!==e&&t!==t}var Aj=YJ,XJ=Aj;function JJ(e,t){for(var r=e.length;r--;)if(XJ(e[r][0],t))return r;return-1}var j1=JJ,ZJ=j1,QJ=Array.prototype,eZ=QJ.splice;function tZ(e){var t=this.__data__,r=ZJ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():eZ.call(t,r,1),--this.size,!0}var rZ=tZ,nZ=j1;function iZ(e){var t=this.__data__,r=nZ(t,e);return r<0?void 0:t[r][1]}var aZ=iZ,sZ=j1;function oZ(e){return sZ(this.__data__,e)>-1}var lZ=oZ,cZ=j1;function uZ(e,t){var r=this.__data__,n=cZ(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var dZ=uZ,fZ=KJ,hZ=rZ,pZ=aZ,mZ=lZ,gZ=dZ;function Wf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Wf.prototype.clear=fZ;Wf.prototype.delete=hZ;Wf.prototype.get=pZ;Wf.prototype.has=mZ;Wf.prototype.set=gZ;var N1=Wf,yZ=_u,vZ=Ks,bZ=yZ(vZ,"Map"),kj=bZ,A3=VJ,xZ=N1,wZ=kj;function _Z(){this.size=0,this.__data__={hash:new A3,map:new(wZ||xZ),string:new A3}}var SZ=_Z;function jZ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var NZ=jZ,AZ=NZ;function kZ(e,t){var r=e.__data__;return AZ(t)?r[typeof t=="string"?"string":"hash"]:r.map}var A1=kZ,EZ=A1;function OZ(e){var t=EZ(this,e).delete(e);return this.size-=t?1:0,t}var PZ=OZ,CZ=A1;function TZ(e){return CZ(this,e).get(e)}var IZ=TZ,LZ=A1;function RZ(e){return LZ(this,e).has(e)}var $Z=RZ,MZ=A1;function DZ(e,t){var r=MZ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var BZ=DZ,FZ=SZ,UZ=PZ,zZ=IZ,qZ=$Z,HZ=BZ;function Vf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vf.prototype.clear=FZ;Vf.prototype.delete=UZ;Vf.prototype.get=zZ;Vf.prototype.has=qZ;Vf.prototype.set=HZ;var Ej=Vf,uR=Ej,WZ="Expected a function";function Oj(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(WZ);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(Oj.Cache||uR),r}Oj.Cache=uR;var dR=Oj;const VZ=lr(dR);var GZ=dR,KZ=500;function YZ(e){var t=GZ(e,function(n){return r.size===KZ&&r.clear(),n}),r=t.cache;return t}var XZ=YZ,JZ=XZ,ZZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,QZ=/\\(\\)?/g,eQ=JZ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ZZ,function(r,n,i,a){t.push(i?a.replace(QZ,"$1"):n||r)}),t}),tQ=eQ;function rQ(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Pj=rQ,k3=Km,nQ=Pj,iQ=zi,aQ=zf,E3=k3?k3.prototype:void 0,O3=E3?E3.toString:void 0;function fR(e){if(typeof e=="string")return e;if(iQ(e))return nQ(e,fR)+"";if(aQ(e))return O3?O3.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var sQ=fR,oQ=sQ;function lQ(e){return e==null?"":oQ(e)}var hR=lQ,cQ=zi,uQ=jj,dQ=tQ,fQ=hR;function hQ(e,t){return cQ(e)?e:uQ(e,t)?[e]:dQ(fQ(e))}var pR=hQ,pQ=zf;function mQ(e){if(typeof e=="string"||pQ(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var k1=mQ,gQ=pR,yQ=k1;function vQ(e,t){t=gQ(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[yQ(t[r++])];return r&&r==n?e:void 0}var Cj=vQ,bQ=Cj;function xQ(e,t,r){var n=e==null?void 0:bQ(e,t);return n===void 0?r:n}var mR=xQ;const fa=lr(mR);function wQ(e){return e==null}var _Q=wQ;const Dt=lr(_Q);var SQ=zo,jQ=zi,NQ=qo,AQ="[object String]";function kQ(e){return typeof e=="string"||!jQ(e)&&NQ(e)&&SQ(e)==AQ}var EQ=kQ;const cu=lr(EQ);var gR={exports:{}},yr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tj=Symbol.for("react.element"),Ij=Symbol.for("react.portal"),E1=Symbol.for("react.fragment"),O1=Symbol.for("react.strict_mode"),P1=Symbol.for("react.profiler"),C1=Symbol.for("react.provider"),T1=Symbol.for("react.context"),OQ=Symbol.for("react.server_context"),I1=Symbol.for("react.forward_ref"),L1=Symbol.for("react.suspense"),R1=Symbol.for("react.suspense_list"),$1=Symbol.for("react.memo"),M1=Symbol.for("react.lazy"),PQ=Symbol.for("react.offscreen"),yR;yR=Symbol.for("react.module.reference");function za(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Tj:switch(e=e.type,e){case E1:case P1:case O1:case L1:case R1:return e;default:switch(e=e&&e.$$typeof,e){case OQ:case T1:case I1:case M1:case $1:case C1:return e;default:return t}}case Ij:return t}}}yr.ContextConsumer=T1;yr.ContextProvider=C1;yr.Element=Tj;yr.ForwardRef=I1;yr.Fragment=E1;yr.Lazy=M1;yr.Memo=$1;yr.Portal=Ij;yr.Profiler=P1;yr.StrictMode=O1;yr.Suspense=L1;yr.SuspenseList=R1;yr.isAsyncMode=function(){return!1};yr.isConcurrentMode=function(){return!1};yr.isContextConsumer=function(e){return za(e)===T1};yr.isContextProvider=function(e){return za(e)===C1};yr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tj};yr.isForwardRef=function(e){return za(e)===I1};yr.isFragment=function(e){return za(e)===E1};yr.isLazy=function(e){return za(e)===M1};yr.isMemo=function(e){return za(e)===$1};yr.isPortal=function(e){return za(e)===Ij};yr.isProfiler=function(e){return za(e)===P1};yr.isStrictMode=function(e){return za(e)===O1};yr.isSuspense=function(e){return za(e)===L1};yr.isSuspenseList=function(e){return za(e)===R1};yr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===E1||e===P1||e===O1||e===L1||e===R1||e===PQ||typeof e=="object"&&e!==null&&(e.$$typeof===M1||e.$$typeof===$1||e.$$typeof===C1||e.$$typeof===T1||e.$$typeof===I1||e.$$typeof===yR||e.getModuleId!==void 0)};yr.typeOf=za;gR.exports=yr;var CQ=gR.exports,TQ=zo,IQ=qo,LQ="[object Number]";function RQ(e){return typeof e=="number"||IQ(e)&&TQ(e)==LQ}var vR=RQ;const $Q=lr(vR);var MQ=vR;function DQ(e){return MQ(e)&&e!=+e}var BQ=DQ;const Ym=lr(BQ);var wi=function(t){return t===0?0:t>0?1:-1},Kc=function(t){return cu(t)&&t.indexOf("%")===t.length-1},Ze=function(t){return $Q(t)&&!Ym(t)},FQ=function(t){return Dt(t)},Ln=function(t){return Ze(t)||cu(t)},UQ=0,Gf=function(t){var r=++UQ;return"".concat(t||"").concat(r)},_i=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ze(t)&&!cu(t))return n;var a;if(Kc(t)){var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return Ym(a)&&(a=n),i&&a>r&&(a=r),a},wl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},zQ=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},ia=function(t,r){return Ze(t)&&Ze(r)?function(n){return t+n*(r-t)}:function(){return r}};function Vy(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):fa(n,t))===r})}var qQ=function(t,r){return Ze(t)&&Ze(r)?t-r:cu(t)&&cu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function $d(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function h5(e){"@babel/helpers - typeof";return h5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h5(e)}var HQ=["viewBox","children"],WQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],P3=["points","pathLength"],Wx={svg:HQ,polygon:P3,polyline:P3},Lj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gy=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(X.isValidElement(t)&&(n=t.props),!qf(n))return null;var i={};return Object.keys(n).forEach(function(a){Lj.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},VQ=function(t,r,n){return function(i){return t(r,n,i),null}},uu=function(t,r,n){if(!qf(t)||h5(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];Lj.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=VQ(s,r,n))}),i},GQ=["children"],KQ=["children"];function C3(e,t){if(e==null)return{};var r=YQ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function p5(e){"@babel/helpers - typeof";return p5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p5(e)}var T3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Eo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},I3=null,Vx=null,Rj=function e(t){if(t===I3&&Array.isArray(Vx))return Vx;var r=[];return X.Children.forEach(t,function(n){Dt(n)||(CQ.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Vx=r,I3=t,r};function ha(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Eo(i)}):n=[Eo(t)],Rj(e).forEach(function(i){var a=fa(i,"type.displayName")||fa(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function na(e,t){var r=ha(e,t);return r&&r[0]}var L3=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Ze(n)||n<=0||!Ze(i)||i<=0)},XQ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],JQ=function(t){return t&&t.type&&cu(t.type)&&XQ.indexOf(t.type)>=0},ZQ=function(t){return t&&p5(t)==="object"&&"clipDot"in t},QQ=function(t,r,n,i){var a,s=(a=Wx==null?void 0:Wx[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ot(t)&&(i&&s.includes(r)||WQ.includes(r))||n&&Lj.includes(r)},jt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(X.isValidElement(t)&&(i=t.props),!qf(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;QQ((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},m5=function e(t,r){if(t===r)return!0;var n=X.Children.count(t);if(n!==X.Children.count(r))return!1;if(n===0)return!0;if(n===1)return R3(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!R3(a,s))return!1}return!0},R3=function(t,r){if(Dt(t)&&Dt(r))return!0;if(!Dt(t)&&!Dt(r)){var n=t.props||{},i=n.children,a=C3(n,GQ),s=r.props||{},o=s.children,l=C3(s,KQ);return i&&o?$d(a,l)&&m5(i,o):!i&&!o?$d(a,l):!1}return!1},$3=function(t,r){var n=[],i={};return Rj(t).forEach(function(a,s){if(JQ(a))n.push(a);else if(a){var o=Eo(a.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var f=c(a,o,s);n.push(f),i[o]=!0}}}),n},eee=function(t){var r=t&&t.type;return r&&T3[r]?T3[r]:null},tee=function(t,r){return Rj(r).indexOf(t)},ree=["children","width","height","viewBox","className","style","title","desc"];function g5(){return g5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g5.apply(this,arguments)}function nee(e,t){if(e==null)return{};var r=iee(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function y5(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,s=e.style,o=e.title,l=e.desc,c=nee(e,ree),u=i||{width:r,height:n,x:0,y:0},f=Ht("recharts-surface",a);return le.createElement("svg",g5({},jt(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),le.createElement("title",null,o),le.createElement("desc",null,l),t)}var aee=["children","className"];function v5(){return v5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v5.apply(this,arguments)}function see(e,t){if(e==null)return{};var r=oee(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var rr=le.forwardRef(function(e,t){var r=e.children,n=e.className,i=see(e,aee),a=Ht("recharts-layer",n);return le.createElement("g",v5({className:a},jt(i,!0),{ref:t}),r)}),hs=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function lee(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var cee=lee,uee=cee;function dee(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:uee(e,t,r)}var fee=dee,hee="\\ud800-\\udfff",pee="\\u0300-\\u036f",mee="\\ufe20-\\ufe2f",gee="\\u20d0-\\u20ff",yee=pee+mee+gee,vee="\\ufe0e\\ufe0f",bee="\\u200d",xee=RegExp("["+bee+hee+yee+vee+"]");function wee(e){return xee.test(e)}var bR=wee;function _ee(e){return e.split("")}var See=_ee,xR="\\ud800-\\udfff",jee="\\u0300-\\u036f",Nee="\\ufe20-\\ufe2f",Aee="\\u20d0-\\u20ff",kee=jee+Nee+Aee,Eee="\\ufe0e\\ufe0f",Oee="["+xR+"]",b5="["+kee+"]",x5="\\ud83c[\\udffb-\\udfff]",Pee="(?:"+b5+"|"+x5+")",wR="[^"+xR+"]",_R="(?:\\ud83c[\\udde6-\\uddff]){2}",SR="[\\ud800-\\udbff][\\udc00-\\udfff]",Cee="\\u200d",jR=Pee+"?",NR="["+Eee+"]?",Tee="(?:"+Cee+"(?:"+[wR,_R,SR].join("|")+")"+NR+jR+")*",Iee=NR+jR+Tee,Lee="(?:"+[wR+b5+"?",b5,_R,SR,Oee].join("|")+")",Ree=RegExp(x5+"(?="+x5+")|"+Lee+Iee,"g");function $ee(e){return e.match(Ree)||[]}var Mee=$ee,Dee=See,Bee=bR,Fee=Mee;function Uee(e){return Bee(e)?Fee(e):Dee(e)}var zee=Uee,qee=fee,Hee=bR,Wee=zee,Vee=hR;function Gee(e){return function(t){t=Vee(t);var r=Hee(t)?Wee(t):void 0,n=r?r[0]:t.charAt(0),i=r?qee(r,1).join(""):t.slice(1);return n[e]()+i}}var Kee=Gee,Yee=Kee,Xee=Yee("toUpperCase"),Jee=Xee;const D1=lr(Jee);function Or(e){return function(){return e}}const AR=Math.cos,Ky=Math.sin,ys=Math.sqrt,Yy=Math.PI,B1=2*Yy,w5=Math.PI,_5=2*w5,Lc=1e-6,Zee=_5-Lc;function kR(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Qee(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kR;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class ete{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kR:Qee(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,c=i-r,u=s-t,f=o-r,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Lc)if(!(Math.abs(f*l-c*u)>Lc)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-s,y=i-o,g=l*l+c*c,b=h*h+y*y,v=Math.sqrt(g),w=Math.sqrt(p),_=a*Math.tan((w5-Math.acos((g+p-b)/(2*v*w)))/2),N=_/w,S=_/v;Math.abs(N-1)>Lc&&this._append`L${t+N*u},${r+N*f}`,this._append`A${a},${a},0,0,${+(f*h>u*y)},${this._x1=t+S*l},${this._y1=r+S*c}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=t+o,u=r+l,f=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Lc||Math.abs(this._y1-u)>Lc)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%_5+_5),p>Zee?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:p>Lc&&this._append`A${n},${n},0,${+(p>=w5)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function $j(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new ete(t)}function Mj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ER(e){this._context=e}ER.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function F1(e){return new ER(e)}function OR(e){return e[0]}function PR(e){return e[1]}function CR(e,t){var r=Or(!0),n=null,i=F1,a=null,s=$j(o);e=typeof e=="function"?e:e===void 0?OR:Or(e),t=typeof t=="function"?t:t===void 0?PR:Or(t);function o(l){var c,u=(l=Mj(l)).length,f,p=!1,h;for(n==null&&(a=i(h=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,c,l),+t(f,c,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Or(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Or(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Or(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function y0(e,t,r){var n=null,i=Or(!0),a=null,s=F1,o=null,l=$j(c);e=typeof e=="function"?e:e===void 0?OR:Or(+e),t=typeof t=="function"?t:Or(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?PR:Or(+r);function c(f){var p,h,y,g=(f=Mj(f)).length,b,v=!1,w,_=new Array(g),N=new Array(g);for(a==null&&(o=s(w=l())),p=0;p<=g;++p){if(!(p<g&&i(b=f[p],p,f))===v)if(v=!v)h=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=p-1;y>=h;--y)o.point(_[y],N[y]);o.lineEnd(),o.areaEnd()}v&&(_[p]=+e(b,p,f),N[p]=+t(b,p,f),o.point(n?+n(b,p,f):_[p],r?+r(b,p,f):N[p]))}if(w)return o=null,w+""||null}function u(){return CR().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Or(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Or(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Or(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Or(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Or(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Or(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Or(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class TR{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function tte(e){return new TR(e,!0)}function rte(e){return new TR(e,!1)}const Dj={draw(e,t){const r=ys(t/Yy);e.moveTo(r,0),e.arc(0,0,r,0,B1)}},nte={draw(e,t){const r=ys(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},IR=ys(1/3),ite=IR*2,ate={draw(e,t){const r=ys(t/ite),n=r*IR;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ste={draw(e,t){const r=ys(t),n=-r/2;e.rect(n,n,r,r)}},ote=.8908130915292852,LR=Ky(Yy/10)/Ky(7*Yy/10),lte=Ky(B1/10)*LR,cte=-AR(B1/10)*LR,ute={draw(e,t){const r=ys(t*ote),n=lte*r,i=cte*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=B1*a/5,o=AR(s),l=Ky(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},Gx=ys(3),dte={draw(e,t){const r=-ys(t/(Gx*3));e.moveTo(0,r*2),e.lineTo(-Gx*r,-r),e.lineTo(Gx*r,-r),e.closePath()}},ja=-.5,Na=ys(3)/2,S5=1/ys(12),fte=(S5/2+1)*3,hte={draw(e,t){const r=ys(t/fte),n=r/2,i=r*S5,a=n,s=r*S5+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(ja*n-Na*i,Na*n+ja*i),e.lineTo(ja*a-Na*s,Na*a+ja*s),e.lineTo(ja*o-Na*l,Na*o+ja*l),e.lineTo(ja*n+Na*i,ja*i-Na*n),e.lineTo(ja*a+Na*s,ja*s-Na*a),e.lineTo(ja*o+Na*l,ja*l-Na*o),e.closePath()}};function pte(e,t){let r=null,n=$j(i);e=typeof e=="function"?e:Or(e||Dj),t=typeof t=="function"?t:Or(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Or(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Or(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Xy(){}function Jy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function RR(e){this._context=e}RR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mte(e){return new RR(e)}function $R(e){this._context=e}$R.prototype={areaStart:Xy,areaEnd:Xy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Jy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gte(e){return new $R(e)}function MR(e){this._context=e}MR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Jy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yte(e){return new MR(e)}function DR(e){this._context=e}DR.prototype={areaStart:Xy,areaEnd:Xy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function vte(e){return new DR(e)}function M3(e){return e<0?-1:1}function D3(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(M3(a)+M3(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function B3(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Kx(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Zy(e){this._context=e}Zy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kx(this,this._t0,B3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Kx(this,B3(this,r=D3(this,e,t)),r);break;default:Kx(this,this._t0,r=D3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function BR(e){this._context=new FR(e)}(BR.prototype=Object.create(Zy.prototype)).point=function(e,t){Zy.prototype.point.call(this,t,e)};function FR(e){this._context=e}FR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function bte(e){return new Zy(e)}function xte(e){return new BR(e)}function UR(e){this._context=e}UR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=F3(e),i=F3(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function F3(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function wte(e){return new UR(e)}function U1(e,t){this._context=e,this._t=t}U1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function _te(e){return new U1(e,.5)}function Ste(e){return new U1(e,0)}function jte(e){return new U1(e,1)}function nf(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function j5(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Nte(e,t){return e[t]}function Ate(e){const t=[];return t.key=e,t}function kte(){var e=Or([]),t=j5,r=nf,n=Nte;function i(a){var s=Array.from(e.apply(this,arguments),Ate),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,u=Mj(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Or(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Or(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?j5:typeof a=="function"?a:Or(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??nf,i):r},i}function Ete(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}nf(e,t)}}function Ote(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}nf(e,t)}}function Pte(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,p=u[n-1][1]||0,h=(f-p)/2,y=0;y<o;++y){var g=e[t[y]],b=g[n][1]||0,v=g[n-1][1]||0;h+=b-v}l+=f,c+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,nf(e,t)}}function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}var Cte=["type","size","sizeType"];function N5(){return N5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N5.apply(this,arguments)}function U3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function z3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U3(Object(r),!0).forEach(function(n){Tte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tte(e,t,r){return t=Ite(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ite(e){var t=Lte(e,"string");return rm(t)=="symbol"?t:t+""}function Lte(e,t){if(rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rte(e,t){if(e==null)return{};var r=$te(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $te(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zR={symbolCircle:Dj,symbolCross:nte,symbolDiamond:ate,symbolSquare:ste,symbolStar:ute,symbolTriangle:dte,symbolWye:hte},Mte=Math.PI/180,Dte=function(t){var r="symbol".concat(D1(t));return zR[r]||Dj},Bte=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*Mte;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Fte=function(t,r){zR["symbol".concat(D1(t))]=r},Bj=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,s=t.sizeType,o=s===void 0?"area":s,l=Rte(t,Cte),c=z3(z3({},l),{},{type:n,size:a,sizeType:o}),u=function(){var b=Dte(n),v=pte().type(b).size(Bte(a,o,n));return v()},f=c.className,p=c.cx,h=c.cy,y=jt(c,!0);return p===+p&&h===+h&&a===+a?le.createElement("path",N5({},y,{className:Ht("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:u()})):null};Bj.registerSymbol=Fte;function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function A5(){return A5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A5.apply(this,arguments)}function q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ute(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q3(Object(r),!0).forEach(function(n){nm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HR(n.key),n)}}function Hte(e,t,r){return t&&qte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wte(e,t,r){return t=Qy(t),Vte(e,qR()?Reflect.construct(t,r||[],Qy(e).constructor):t.apply(e,r))}function Vte(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gte(e)}function Gte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qR=function(){return!!e})()}function Qy(e){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qy(e)}function Kte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k5(e,t)}function k5(e,t){return k5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k5(e,t)}function nm(e,t,r){return t=HR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HR(e){var t=Yte(e,"string");return af(t)=="symbol"?t:t+""}function Yte(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Aa=32,Fj=function(e){function t(){return zte(this,t),Wte(this,t,arguments)}return Kte(t,e),Hte(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Aa/2,s=Aa/6,o=Aa/3,l=n.inactive?i:n.color;if(n.type==="plainline")return le.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Aa,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return le.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Aa,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return le.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Aa/8,"h").concat(Aa,"v").concat(Aa*3/4,"h").concat(-Aa,"z"),className:"recharts-legend-icon"});if(le.isValidElement(n.legendIcon)){var c=Ute({},n);return delete c.legendIcon,le.cloneElement(n.legendIcon,c)}return le.createElement(Bj,{fill:l,cx:a,cy:a,size:Aa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Aa,height:Aa},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,y){var g=h.formatter||l,b=Ht(nm(nm({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",h.inactive));if(h.type==="none")return null;var v=Ot(h.value)?null:h.value;hs(!Ot(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?c:h.color;return le.createElement("li",A5({className:b,style:f,key:"legend-item-".concat(y)},uu(n.props,h,y)),le.createElement(y5,{width:s,height:s,viewBox:u,style:p},n.renderIcon(h)),le.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(v,h,y):v))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return le.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(X.PureComponent);nm(Fj,"displayName","Legend");nm(Fj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Xte=N1;function Jte(){this.__data__=new Xte,this.size=0}var Zte=Jte;function Qte(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var ere=Qte;function tre(e){return this.__data__.get(e)}var rre=tre;function nre(e){return this.__data__.has(e)}var ire=nre,are=N1,sre=kj,ore=Ej,lre=200;function cre(e,t){var r=this.__data__;if(r instanceof are){var n=r.__data__;if(!sre||n.length<lre-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ore(n)}return r.set(e,t),this.size=r.size,this}var ure=cre,dre=N1,fre=Zte,hre=ere,pre=rre,mre=ire,gre=ure;function Kf(e){var t=this.__data__=new dre(e);this.size=t.size}Kf.prototype.clear=fre;Kf.prototype.delete=hre;Kf.prototype.get=pre;Kf.prototype.has=mre;Kf.prototype.set=gre;var WR=Kf,yre="__lodash_hash_undefined__";function vre(e){return this.__data__.set(e,yre),this}var bre=vre;function xre(e){return this.__data__.has(e)}var wre=xre,_re=Ej,Sre=bre,jre=wre;function ev(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new _re;++t<r;)this.add(e[t])}ev.prototype.add=ev.prototype.push=Sre;ev.prototype.has=jre;var VR=ev;function Nre(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var GR=Nre;function Are(e,t){return e.has(t)}var KR=Are,kre=VR,Ere=GR,Ore=KR,Pre=1,Cre=2;function Tre(e,t,r,n,i,a){var s=r&Pre,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(e),u=a.get(t);if(c&&u)return c==t&&u==e;var f=-1,p=!0,h=r&Cre?new kre:void 0;for(a.set(e,t),a.set(t,e);++f<o;){var y=e[f],g=t[f];if(n)var b=s?n(g,y,f,t,e,a):n(y,g,f,e,t,a);if(b!==void 0){if(b)continue;p=!1;break}if(h){if(!Ere(t,function(v,w){if(!Ore(h,w)&&(y===v||i(y,v,r,n,a)))return h.push(w)})){p=!1;break}}else if(!(y===g||i(y,g,r,n,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var YR=Tre,Ire=Ks,Lre=Ire.Uint8Array,Rre=Lre;function $re(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var Mre=$re;function Dre(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Uj=Dre,H3=Km,W3=Rre,Bre=Aj,Fre=YR,Ure=Mre,zre=Uj,qre=1,Hre=2,Wre="[object Boolean]",Vre="[object Date]",Gre="[object Error]",Kre="[object Map]",Yre="[object Number]",Xre="[object RegExp]",Jre="[object Set]",Zre="[object String]",Qre="[object Symbol]",ene="[object ArrayBuffer]",tne="[object DataView]",V3=H3?H3.prototype:void 0,Yx=V3?V3.valueOf:void 0;function rne(e,t,r,n,i,a,s){switch(r){case tne:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ene:return!(e.byteLength!=t.byteLength||!a(new W3(e),new W3(t)));case Wre:case Vre:case Yre:return Bre(+e,+t);case Gre:return e.name==t.name&&e.message==t.message;case Xre:case Zre:return e==t+"";case Kre:var o=Ure;case Jre:var l=n&qre;if(o||(o=zre),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=Hre,s.set(e,t);var u=Fre(o(e),o(t),n,i,a,s);return s.delete(e),u;case Qre:if(Yx)return Yx.call(e)==Yx.call(t)}return!1}var nne=rne;function ine(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var XR=ine,ane=XR,sne=zi;function one(e,t,r){var n=t(e);return sne(e)?n:ane(n,r(e))}var lne=one;function cne(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var une=cne;function dne(){return[]}var fne=dne,hne=une,pne=fne,mne=Object.prototype,gne=mne.propertyIsEnumerable,G3=Object.getOwnPropertySymbols,yne=G3?function(e){return e==null?[]:(e=Object(e),hne(G3(e),function(t){return gne.call(e,t)}))}:pne,vne=yne;function bne(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var xne=bne,wne=zo,_ne=qo,Sne="[object Arguments]";function jne(e){return _ne(e)&&wne(e)==Sne}var Nne=jne,K3=Nne,Ane=qo,JR=Object.prototype,kne=JR.hasOwnProperty,Ene=JR.propertyIsEnumerable,One=K3(function(){return arguments}())?K3:function(e){return Ane(e)&&kne.call(e,"callee")&&!Ene.call(e,"callee")},zj=One,tv={exports:{}};function Pne(){return!1}var Cne=Pne;tv.exports;(function(e,t){var r=Ks,n=Cne,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(tv,tv.exports);var ZR=tv.exports,Tne=9007199254740991,Ine=/^(?:0|[1-9]\d*)$/;function Lne(e,t){var r=typeof e;return t=t??Tne,!!t&&(r=="number"||r!="symbol"&&Ine.test(e))&&e>-1&&e%1==0&&e<t}var qj=Lne,Rne=9007199254740991;function $ne(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Rne}var Hj=$ne,Mne=zo,Dne=Hj,Bne=qo,Fne="[object Arguments]",Une="[object Array]",zne="[object Boolean]",qne="[object Date]",Hne="[object Error]",Wne="[object Function]",Vne="[object Map]",Gne="[object Number]",Kne="[object Object]",Yne="[object RegExp]",Xne="[object Set]",Jne="[object String]",Zne="[object WeakMap]",Qne="[object ArrayBuffer]",eie="[object DataView]",tie="[object Float32Array]",rie="[object Float64Array]",nie="[object Int8Array]",iie="[object Int16Array]",aie="[object Int32Array]",sie="[object Uint8Array]",oie="[object Uint8ClampedArray]",lie="[object Uint16Array]",cie="[object Uint32Array]",Rr={};Rr[tie]=Rr[rie]=Rr[nie]=Rr[iie]=Rr[aie]=Rr[sie]=Rr[oie]=Rr[lie]=Rr[cie]=!0;Rr[Fne]=Rr[Une]=Rr[Qne]=Rr[zne]=Rr[eie]=Rr[qne]=Rr[Hne]=Rr[Wne]=Rr[Vne]=Rr[Gne]=Rr[Kne]=Rr[Yne]=Rr[Xne]=Rr[Jne]=Rr[Zne]=!1;function uie(e){return Bne(e)&&Dne(e.length)&&!!Rr[Mne(e)]}var die=uie;function fie(e){return function(t){return e(t)}}var QR=fie,rv={exports:{}};rv.exports;(function(e,t){var r=oR,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(rv,rv.exports);var hie=rv.exports,pie=die,mie=QR,Y3=hie,X3=Y3&&Y3.isTypedArray,gie=X3?mie(X3):pie,e$=gie,yie=xne,vie=zj,bie=zi,xie=ZR,wie=qj,_ie=e$,Sie=Object.prototype,jie=Sie.hasOwnProperty;function Nie(e,t){var r=bie(e),n=!r&&vie(e),i=!r&&!n&&xie(e),a=!r&&!n&&!i&&_ie(e),s=r||n||i||a,o=s?yie(e.length,String):[],l=o.length;for(var c in e)(t||jie.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||wie(c,l)))&&o.push(c);return o}var Aie=Nie,kie=Object.prototype;function Eie(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||kie;return e===r}var Oie=Eie;function Pie(e,t){return function(r){return e(t(r))}}var t$=Pie,Cie=t$,Tie=Cie(Object.keys,Object),Iie=Tie,Lie=Oie,Rie=Iie,$ie=Object.prototype,Mie=$ie.hasOwnProperty;function Die(e){if(!Lie(e))return Rie(e);var t=[];for(var r in Object(e))Mie.call(e,r)&&r!="constructor"&&t.push(r);return t}var Bie=Die,Fie=Nj,Uie=Hj;function zie(e){return e!=null&&Uie(e.length)&&!Fie(e)}var Xm=zie,qie=Aie,Hie=Bie,Wie=Xm;function Vie(e){return Wie(e)?qie(e):Hie(e)}var z1=Vie,Gie=lne,Kie=vne,Yie=z1;function Xie(e){return Gie(e,Yie,Kie)}var Jie=Xie,J3=Jie,Zie=1,Qie=Object.prototype,eae=Qie.hasOwnProperty;function tae(e,t,r,n,i,a){var s=r&Zie,o=J3(e),l=o.length,c=J3(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var p=o[f];if(!(s?p in t:eae.call(t,p)))return!1}var h=a.get(e),y=a.get(t);if(h&&y)return h==t&&y==e;var g=!0;a.set(e,t),a.set(t,e);for(var b=s;++f<l;){p=o[f];var v=e[p],w=t[p];if(n)var _=s?n(w,v,p,t,e,a):n(v,w,p,e,t,a);if(!(_===void 0?v===w||i(v,w,r,n,a):_)){g=!1;break}b||(b=p=="constructor")}if(g&&!b){var N=e.constructor,S=t.constructor;N!=S&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof S=="function"&&S instanceof S)&&(g=!1)}return a.delete(e),a.delete(t),g}var rae=tae,nae=_u,iae=Ks,aae=nae(iae,"DataView"),sae=aae,oae=_u,lae=Ks,cae=oae(lae,"Promise"),uae=cae,dae=_u,fae=Ks,hae=dae(fae,"Set"),r$=hae,pae=_u,mae=Ks,gae=pae(mae,"WeakMap"),yae=gae,E5=sae,O5=kj,P5=uae,C5=r$,T5=yae,n$=zo,Yf=cR,Z3="[object Map]",vae="[object Object]",Q3="[object Promise]",eE="[object Set]",tE="[object WeakMap]",rE="[object DataView]",bae=Yf(E5),xae=Yf(O5),wae=Yf(P5),_ae=Yf(C5),Sae=Yf(T5),Rc=n$;(E5&&Rc(new E5(new ArrayBuffer(1)))!=rE||O5&&Rc(new O5)!=Z3||P5&&Rc(P5.resolve())!=Q3||C5&&Rc(new C5)!=eE||T5&&Rc(new T5)!=tE)&&(Rc=function(e){var t=n$(e),r=t==vae?e.constructor:void 0,n=r?Yf(r):"";if(n)switch(n){case bae:return rE;case xae:return Z3;case wae:return Q3;case _ae:return eE;case Sae:return tE}return t});var jae=Rc,Xx=WR,Nae=YR,Aae=nne,kae=rae,nE=jae,iE=zi,aE=ZR,Eae=e$,Oae=1,sE="[object Arguments]",oE="[object Array]",v0="[object Object]",Pae=Object.prototype,lE=Pae.hasOwnProperty;function Cae(e,t,r,n,i,a){var s=iE(e),o=iE(t),l=s?oE:nE(e),c=o?oE:nE(t);l=l==sE?v0:l,c=c==sE?v0:c;var u=l==v0,f=c==v0,p=l==c;if(p&&aE(e)){if(!aE(t))return!1;s=!0,u=!1}if(p&&!u)return a||(a=new Xx),s||Eae(e)?Nae(e,t,r,n,i,a):Aae(e,t,l,r,n,i,a);if(!(r&Oae)){var h=u&&lE.call(e,"__wrapped__"),y=f&&lE.call(t,"__wrapped__");if(h||y){var g=h?e.value():e,b=y?t.value():t;return a||(a=new Xx),i(g,b,r,n,a)}}return p?(a||(a=new Xx),kae(e,t,r,n,i,a)):!1}var Tae=Cae,Iae=Tae,cE=qo;function i$(e,t,r,n,i){return e===t?!0:e==null||t==null||!cE(e)&&!cE(t)?e!==e&&t!==t:Iae(e,t,r,n,i$,i)}var Wj=i$,Lae=WR,Rae=Wj,$ae=1,Mae=2;function Dae(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null)return!a;for(e=Object(e);i--;){var o=r[i];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){o=r[i];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new Lae;if(n)var p=n(c,u,l,e,t,f);if(!(p===void 0?Rae(u,c,$ae|Mae,n,f):p))return!1}}return!0}var Bae=Dae,Fae=Jl;function Uae(e){return e===e&&!Fae(e)}var a$=Uae,zae=a$,qae=z1;function Hae(e){for(var t=qae(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,zae(i)]}return t}var Wae=Hae;function Vae(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var s$=Vae,Gae=Bae,Kae=Wae,Yae=s$;function Xae(e){var t=Kae(e);return t.length==1&&t[0][2]?Yae(t[0][0],t[0][1]):function(r){return r===e||Gae(r,e,t)}}var Jae=Xae;function Zae(e,t){return e!=null&&t in Object(e)}var Qae=Zae,ese=pR,tse=zj,rse=zi,nse=qj,ise=Hj,ase=k1;function sse(e,t,r){t=ese(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=ase(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&ise(i)&&nse(s,i)&&(rse(e)||tse(e)))}var ose=sse,lse=Qae,cse=ose;function use(e,t){return e!=null&&cse(e,t,lse)}var dse=use,fse=Wj,hse=mR,pse=dse,mse=jj,gse=a$,yse=s$,vse=k1,bse=1,xse=2;function wse(e,t){return mse(e)&&gse(t)?yse(vse(e),t):function(r){var n=hse(r,e);return n===void 0&&n===t?pse(r,e):fse(t,n,bse|xse)}}var _se=wse;function Sse(e){return e}var Xf=Sse;function jse(e){return function(t){return t==null?void 0:t[e]}}var Nse=jse,Ase=Cj;function kse(e){return function(t){return Ase(t,e)}}var Ese=kse,Ose=Nse,Pse=Ese,Cse=jj,Tse=k1;function Ise(e){return Cse(e)?Ose(Tse(e)):Pse(e)}var Lse=Ise,Rse=Jae,$se=_se,Mse=Xf,Dse=zi,Bse=Lse;function Fse(e){return typeof e=="function"?e:e==null?Mse:typeof e=="object"?Dse(e)?$se(e[0],e[1]):Rse(e):Bse(e)}var Ys=Fse;function Use(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var o$=Use;function zse(e){return e!==e}var qse=zse;function Hse(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var Wse=Hse,Vse=o$,Gse=qse,Kse=Wse;function Yse(e,t,r){return t===t?Kse(e,t,r):Vse(e,Gse,r)}var Xse=Yse,Jse=Xse;function Zse(e,t){var r=e==null?0:e.length;return!!r&&Jse(e,t,0)>-1}var Qse=Zse;function eoe(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var toe=eoe;function roe(){}var noe=roe,Jx=r$,ioe=noe,aoe=Uj,soe=1/0,ooe=Jx&&1/aoe(new Jx([,-0]))[1]==soe?function(e){return new Jx(e)}:ioe,loe=ooe,coe=VR,uoe=Qse,doe=toe,foe=KR,hoe=loe,poe=Uj,moe=200;function goe(e,t,r){var n=-1,i=uoe,a=e.length,s=!0,o=[],l=o;if(r)s=!1,i=doe;else if(a>=moe){var c=t?null:hoe(e);if(c)return poe(c);s=!1,i=foe,l=new coe}else l=t?[]:o;e:for(;++n<a;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;t&&l.push(f),o.push(u)}else i(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var yoe=goe,voe=Ys,boe=yoe;function xoe(e,t){return e&&e.length?boe(e,voe(t)):[]}var woe=xoe;const uE=lr(woe);function l$(e,t,r){return t===!0?uE(e,r):Ot(t)?uE(e,t):e}function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}var _oe=["ref"];function dE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(r),!0).forEach(function(n){q1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Soe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u$(n.key),n)}}function joe(e,t,r){return t&&fE(e.prototype,t),r&&fE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Noe(e,t,r){return t=nv(t),Aoe(e,c$()?Reflect.construct(t,r||[],nv(e).constructor):t.apply(e,r))}function Aoe(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return koe(e)}function koe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c$=function(){return!!e})()}function nv(e){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nv(e)}function Eoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I5(e,t)}function I5(e,t){return I5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I5(e,t)}function q1(e,t,r){return t=u$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u$(e){var t=Ooe(e,"string");return sf(t)=="symbol"?t:t+""}function Ooe(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Poe(e,t){if(e==null)return{};var r=Coe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Coe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Toe(e){return e.value}function Ioe(e,t){if(le.isValidElement(e))return le.cloneElement(e,t);if(typeof e=="function")return le.createElement(e,t);t.ref;var r=Poe(t,_oe);return le.createElement(Fj,r)}var hE=1,Us=function(e){function t(){var r;Soe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Noe(this,t,[].concat(i)),q1(r,"lastBoundingBox",{width:-1,height:-1}),r}return Eoe(t,e),joe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>hE||Math.abs(i.height-this.lastBoundingBox.height)>hE)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?co({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((c||0)-h.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var y=this.getBBoxSnapshot();p={top:((u||0)-y.height)/2}}else p=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return co(co({},f),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=co(co({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return le.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},Ioe(a,co(co({},this.props),{},{payload:l$(u,c,Toe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=co(co({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&Ze(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(X.PureComponent);q1(Us,"displayName","Legend");q1(Us,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pE=Km,Loe=zj,Roe=zi,mE=pE?pE.isConcatSpreadable:void 0;function $oe(e){return Roe(e)||Loe(e)||!!(mE&&e&&e[mE])}var Moe=$oe,Doe=XR,Boe=Moe;function d$(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=Boe),i||(i=[]);++a<s;){var o=e[a];t>0&&r(o)?t>1?d$(o,t-1,r,n,i):Doe(i,o):n||(i[i.length]=o)}return i}var f$=d$;function Foe(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++i];if(r(a[l],l,a)===!1)break}return t}}var Uoe=Foe,zoe=Uoe,qoe=zoe(),Hoe=qoe,Woe=Hoe,Voe=z1;function Goe(e,t){return e&&Woe(e,t,Voe)}var h$=Goe,Koe=Xm;function Yoe(e,t){return function(r,n){if(r==null)return r;if(!Koe(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var Xoe=Yoe,Joe=h$,Zoe=Xoe,Qoe=Zoe(Joe),Vj=Qoe,ele=Vj,tle=Xm;function rle(e,t){var r=-1,n=tle(e)?Array(e.length):[];return ele(e,function(i,a,s){n[++r]=t(i,a,s)}),n}var p$=rle;function nle(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var ile=nle,gE=zf;function ale(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=gE(e),s=t!==void 0,o=t===null,l=t===t,c=gE(t);if(!o&&!c&&!a&&e>t||a&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&e<t||c&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var sle=ale,ole=sle;function lle(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,o=r.length;++n<s;){var l=ole(i[n],a[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var cle=lle,Zx=Pj,ule=Cj,dle=Ys,fle=p$,hle=ile,ple=QR,mle=cle,gle=Xf,yle=zi;function vle(e,t,r){t.length?t=Zx(t,function(a){return yle(a)?function(s){return ule(s,a.length===1?a[0]:a)}:a}):t=[gle];var n=-1;t=Zx(t,ple(dle));var i=fle(e,function(a,s,o){var l=Zx(t,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return hle(i,function(a,s){return mle(a,s,r)})}var ble=vle;function xle(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var wle=xle,_le=wle,yE=Math.max;function Sle(e,t,r){return t=yE(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=yE(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(s),_le(e,this,o)}}var jle=Sle;function Nle(e){return function(){return e}}var Ale=Nle,kle=_u,Ele=function(){try{var e=kle(Object,"defineProperty");return e({},"",{}),e}catch{}}(),m$=Ele,Ole=Ale,vE=m$,Ple=Xf,Cle=vE?function(e,t){return vE(e,"toString",{configurable:!0,enumerable:!1,value:Ole(t),writable:!0})}:Ple,Tle=Cle,Ile=800,Lle=16,Rle=Date.now;function $le(e){var t=0,r=0;return function(){var n=Rle(),i=Lle-(n-r);if(r=n,i>0){if(++t>=Ile)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Mle=$le,Dle=Tle,Ble=Mle,Fle=Ble(Dle),Ule=Fle,zle=Xf,qle=jle,Hle=Ule;function Wle(e,t){return Hle(qle(e,t,zle),e+"")}var Vle=Wle,Gle=Aj,Kle=Xm,Yle=qj,Xle=Jl;function Jle(e,t,r){if(!Xle(r))return!1;var n=typeof t;return(n=="number"?Kle(r)&&Yle(t,r.length):n=="string"&&t in r)?Gle(r[t],e):!1}var H1=Jle,Zle=f$,Qle=ble,ece=Vle,bE=H1,tce=ece(function(e,t){if(e==null)return[];var r=t.length;return r>1&&bE(e,t[0],t[1])?t=[]:r>2&&bE(t[0],t[1],t[2])&&(t=[t[0]]),Qle(e,Zle(t,1),[])}),rce=tce;const Gj=lr(rce);function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function L5(){return L5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L5.apply(this,arguments)}function nce(e,t){return oce(e)||sce(e,t)||ace(e,t)||ice()}function ice(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ace(e,t){if(e){if(typeof e=="string")return xE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xE(e,t)}}function xE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function oce(e){if(Array.isArray(e))return e}function wE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(r),!0).forEach(function(n){lce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lce(e,t,r){return t=cce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cce(e){var t=uce(e,"string");return im(t)=="symbol"?t:t+""}function uce(e,t){if(im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dce(e){return Array.isArray(e)&&Ln(e[0])&&Ln(e[1])?e.join(" ~ "):e}var fce=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,p=t.itemSorter,h=t.wrapperClassName,y=t.labelClassName,g=t.label,b=t.labelFormatter,v=t.accessibilityLayer,w=v===void 0?!1:v,_=function(){if(u&&u.length){var P={padding:0,margin:0},D=(p?Gj(u,p):u).map(function(M,U){if(M.type==="none")return null;var V=Qx({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},o),W=M.formatter||f||dce,B=M.value,J=M.name,$=B,ae=J;if(W&&$!=null&&ae!=null){var T=W(B,J,M,U,u);if(Array.isArray(T)){var C=nce(T,2);$=C[0],ae=C[1]}else $=T}return le.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:V},Ln(ae)?le.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,Ln(ae)?le.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,le.createElement("span",{className:"recharts-tooltip-item-value"},$),le.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return le.createElement("ul",{className:"recharts-tooltip-item-list",style:P},D)}return null},N=Qx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=Qx({margin:0},c),j=!Dt(g),O=j?g:"",I=Ht("recharts-default-tooltip",h),L=Ht("recharts-tooltip-label",y);j&&b&&u!==void 0&&u!==null&&(O=b(g,u));var F=w?{role:"status","aria-live":"assertive"}:{};return le.createElement("div",L5({className:I,style:N},F),le.createElement("p",{className:L,style:S},le.isValidElement(O)?O:"".concat(O)),_())};function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function b0(e,t,r){return t=hce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hce(e){var t=pce(e,"string");return am(t)=="symbol"?t:t+""}function pce(e,t){if(am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zh="recharts-tooltip-wrapper",mce={visibility:"hidden"};function gce(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ht(zh,b0(b0(b0(b0({},"".concat(zh,"-right"),Ze(r)&&t&&Ze(t.x)&&r>=t.x),"".concat(zh,"-left"),Ze(r)&&t&&Ze(t.x)&&r<t.x),"".concat(zh,"-bottom"),Ze(n)&&t&&Ze(t.y)&&n>=t.y),"".concat(zh,"-top"),Ze(n)&&t&&Ze(t.y)&&n<t.y))}function _E(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&Ze(a[n]))return a[n];var u=r[n]-o-i,f=r[n]+i;if(t[n])return s[n]?u:f;if(s[n]){var p=u,h=l[n];return p<h?Math.max(f,l[n]):Math.max(u,l[n])}var y=f+o,g=l[n]+c;return y>g?Math.max(u,l[n]):Math.max(f,l[n])}function yce(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function vce(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=_E({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=_E({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=yce({translateX:u,translateY:f,useTranslate3d:o})):c=mce,{cssProperties:c,cssClasses:gce({translateX:u,translateY:f,coordinate:r})}}function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function SE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(r),!0).forEach(function(n){$5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y$(n.key),n)}}function wce(e,t,r){return t&&xce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ce(e,t,r){return t=iv(t),Sce(e,g$()?Reflect.construct(t,r||[],iv(e).constructor):t.apply(e,r))}function Sce(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jce(e)}function jce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g$=function(){return!!e})()}function iv(e){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iv(e)}function Nce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R5(e,t)}function R5(e,t){return R5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R5(e,t)}function $5(e,t,r){return t=y$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y$(e){var t=Ace(e,"string");return of(t)=="symbol"?t:t+""}function Ace(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NE=1,kce=function(e){function t(){var r;bce(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=_ce(this,t,[].concat(i)),$5(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$5(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return Nce(t,e),wce(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>NE||Math.abs(n.height-this.state.lastBoundingBox.height)>NE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,h=i.offset,y=i.position,g=i.reverseDirection,b=i.useTranslate3d,v=i.viewBox,w=i.wrapperStyle,_=vce({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:h,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:v}),N=_.cssClasses,S=_.cssProperties,j=jE(jE({transition:p&&a?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return le.createElement("div",{tabIndex:-1,className:N,style:j,ref:function(I){n.wrapperNode=I}},c)}}])}(X.PureComponent),Ece=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Su={isSsr:Ece()};function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function AE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(r),!0).forEach(function(n){Kj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b$(n.key),n)}}function Cce(e,t,r){return t&&Pce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tce(e,t,r){return t=av(t),Ice(e,v$()?Reflect.construct(t,r||[],av(e).constructor):t.apply(e,r))}function Ice(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lce(e)}function Lce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!e})()}function av(e){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},av(e)}function Rce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M5(e,t)}function M5(e,t){return M5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M5(e,t)}function Kj(e,t,r){return t=b$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b$(e){var t=$ce(e,"string");return lf(t)=="symbol"?t:t+""}function $ce(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Mce(e){return e.dataKey}function Dce(e,t){return le.isValidElement(e)?le.cloneElement(e,t):typeof e=="function"?le.createElement(e,t):le.createElement(fce,t)}var Ti=function(e){function t(){return Oce(this,t),Tce(this,t,arguments)}return Rce(t,e),Cce(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,p=i.isAnimationActive,h=i.offset,y=i.payload,g=i.payloadUniqBy,b=i.position,v=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,N=i.wrapperStyle,S=y??[];f&&S.length&&(S=l$(y.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),g,Mce));var j=S.length>0;return le.createElement(kce,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:p,active:a,coordinate:u,hasPayload:j,offset:h,position:b,reverseDirection:v,useTranslate3d:w,viewBox:_,wrapperStyle:N},Dce(c,kE(kE({},this.props),{},{payload:S})))}}])}(X.PureComponent);Kj(Ti,"displayName","Tooltip");Kj(Ti,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Su.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Bce=Ks,Fce=function(){return Bce.Date.now()},Uce=Fce,zce=/\s/;function qce(e){for(var t=e.length;t--&&zce.test(e.charAt(t)););return t}var Hce=qce,Wce=Hce,Vce=/^\s+/;function Gce(e){return e&&e.slice(0,Wce(e)+1).replace(Vce,"")}var Kce=Gce,Yce=Kce,EE=Jl,Xce=zf,OE=NaN,Jce=/^[-+]0x[0-9a-f]+$/i,Zce=/^0b[01]+$/i,Qce=/^0o[0-7]+$/i,eue=parseInt;function tue(e){if(typeof e=="number")return e;if(Xce(e))return OE;if(EE(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=EE(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Yce(e);var r=Zce.test(e);return r||Qce.test(e)?eue(e.slice(2),r?2:8):Jce.test(e)?OE:+e}var x$=tue,rue=Jl,e2=Uce,PE=x$,nue="Expected a function",iue=Math.max,aue=Math.min;function sue(e,t,r){var n,i,a,s,o,l,c=0,u=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(nue);t=PE(t)||0,rue(r)&&(u=!!r.leading,f="maxWait"in r,a=f?iue(PE(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p);function h(j){var O=n,I=i;return n=i=void 0,c=j,s=e.apply(I,O),s}function y(j){return c=j,o=setTimeout(v,t),u?h(j):s}function g(j){var O=j-l,I=j-c,L=t-O;return f?aue(L,a-I):L}function b(j){var O=j-l,I=j-c;return l===void 0||O>=t||O<0||f&&I>=a}function v(){var j=e2();if(b(j))return w(j);o=setTimeout(v,g(j))}function w(j){return o=void 0,p&&n?h(j):(n=i=void 0,s)}function _(){o!==void 0&&clearTimeout(o),c=0,n=l=i=o=void 0}function N(){return o===void 0?s:w(e2())}function S(){var j=e2(),O=b(j);if(n=arguments,i=this,l=j,O){if(o===void 0)return y(l);if(f)return clearTimeout(o),o=setTimeout(v,t),h(l)}return o===void 0&&(o=setTimeout(v,t)),s}return S.cancel=_,S.flush=N,S}var oue=sue,lue=oue,cue=Jl,uue="Expected a function";function due(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(uue);return cue(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),lue(e,t,{leading:n,maxWait:t,trailing:i})}var fue=due;const w$=lr(fue);function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function CE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(r),!0).forEach(function(n){hue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hue(e,t,r){return t=pue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pue(e){var t=mue(e,"string");return sm(t)=="symbol"?t:t+""}function mue(e,t){if(sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gue(e,t){return xue(e)||bue(e,t)||vue(e,t)||yue()}function yue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vue(e,t){if(e){if(typeof e=="string")return TE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TE(e,t)}}function TE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function xue(e){if(Array.isArray(e))return e}var Jm=X.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,s=a===void 0?"100%":a,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,p=e.maxHeight,h=e.children,y=e.debounce,g=y===void 0?0:y,b=e.id,v=e.className,w=e.onResize,_=e.style,N=_===void 0?{}:_,S=X.useRef(null),j=X.useRef();j.current=w,X.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var O=X.useState({containerWidth:i.width,containerHeight:i.height}),I=gue(O,2),L=I[0],F=I[1],k=X.useCallback(function(D,M){F(function(U){var V=Math.round(D),W=Math.round(M);return U.containerWidth===V&&U.containerHeight===W?U:{containerWidth:V,containerHeight:W}})},[]);X.useEffect(function(){var D=function(J){var $,ae=J[0].contentRect,T=ae.width,C=ae.height;k(T,C),($=j.current)===null||$===void 0||$.call(j,T,C)};g>0&&(D=w$(D,g,{trailing:!0,leading:!1}));var M=new ResizeObserver(D),U=S.current.getBoundingClientRect(),V=U.width,W=U.height;return k(V,W),M.observe(S.current),function(){M.disconnect()}},[k,g]);var P=X.useMemo(function(){var D=L.containerWidth,M=L.containerHeight;if(D<0||M<0)return null;hs(Kc(s)||Kc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),hs(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=Kc(s)?D:s,V=Kc(l)?M:l;r&&r>0&&(U?V=U/r:V&&(U=V*r),p&&V>p&&(V=p)),hs(U>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,V,s,l,u,f,r);var W=!Array.isArray(h)&&Eo(h.type).endsWith("Chart");return le.Children.map(h,function(B){return le.isValidElement(B)?X.cloneElement(B,x0({width:U,height:V},W?{style:x0({height:"100%",width:"100%",maxHeight:V,maxWidth:U},B.props.style)}:{})):B})},[r,h,l,p,f,u,L,s]);return le.createElement("div",{id:b?"".concat(b):void 0,className:Ht("recharts-responsive-container",v),style:x0(x0({},N),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:p}),ref:S},P)}),Zm=function(t){return null};Zm.displayName="Cell";function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function IE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function D5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(r),!0).forEach(function(n){wue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wue(e,t,r){return t=_ue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ue(e){var t=Sue(e,"string");return om(t)=="symbol"?t:t+""}function Sue(e,t){if(om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xu={widthCache:{},cacheCount:0},jue=2e3,Nue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LE="recharts_measurement_span";function Aue(e){var t=D5({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var wp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Su.isSsr)return{width:0,height:0};var n=Aue(r),i=JSON.stringify({text:t,copyStyle:n});if(Xu.widthCache[i])return Xu.widthCache[i];try{var a=document.getElementById(LE);a||(a=document.createElement("span"),a.setAttribute("id",LE),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=D5(D5({},Nue),n);Object.assign(a.style,s),a.textContent="".concat(t);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Xu.widthCache[i]=l,++Xu.cacheCount>jue&&(Xu.cacheCount=0,Xu.widthCache={}),l}catch{return{width:0,height:0}}},kue=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function sv(e,t){return Cue(e)||Pue(e,t)||Oue(e,t)||Eue()}function Eue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oue(e,t){if(e){if(typeof e=="string")return RE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RE(e,t)}}function RE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Cue(e){if(Array.isArray(e))return e}function Tue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lue(n.key),n)}}function Iue(e,t,r){return t&&$E(e.prototype,t),r&&$E(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lue(e){var t=Rue(e,"string");return lm(t)=="symbol"?t:t+""}function Rue(e,t){if(lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ME=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$ue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Due=Object.keys(_$),xd="NaN";function Bue(e,t){return e*_$[t]}var w0=function(){function e(t,r){Tue(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!$ue.test(r)&&(this.num=NaN,this.unit=""),Due.includes(r)&&(this.num=Bue(t,r),this.unit="px")}return Iue(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Mue.exec(r))!==null&&n!==void 0?n:[],a=sv(i,3),s=a[1],o=a[2];return new e(parseFloat(s),o??"")}}])}();function S$(e){if(e.includes(xd))return xd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=ME.exec(t))!==null&&r!==void 0?r:[],i=sv(n,4),a=i[1],s=i[2],o=i[3],l=w0.parse(a??""),c=w0.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return xd;t=t.replace(ME,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=DE.exec(t))!==null&&f!==void 0?f:[],h=sv(p,4),y=h[1],g=h[2],b=h[3],v=w0.parse(y??""),w=w0.parse(b??""),_=g==="+"?v.add(w):v.subtract(w);if(_.isNaN())return xd;t=t.replace(DE,_.toString())}return t}var BE=/\(([^()]*)\)/;function Fue(e){for(var t=e;t.includes("(");){var r=BE.exec(t),n=sv(r,2),i=n[1];t=t.replace(BE,S$(i))}return t}function Uue(e){var t=e.replace(/\s+/g,"");return t=Fue(t),t=S$(t),t}function zue(e){try{return Uue(e)}catch{return xd}}function t2(e){var t=zue(e.slice(5,-1));return t===xd?"":t}var que=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hue=["dx","dy","angle","className","breakAll"];function B5(){return B5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B5.apply(this,arguments)}function FE(e,t){if(e==null)return{};var r=Wue(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UE(e,t){return Yue(e)||Kue(e,t)||Gue(e,t)||Vue()}function Vue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gue(e,t){if(e){if(typeof e=="string")return zE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zE(e,t)}}function zE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Yue(e){if(Array.isArray(e))return e}var j$=/[ \f\n\r\t\v\u2028\u2029]+/,N$=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];Dt(r)||(n?a=r.toString().split(""):a=r.toString().split(j$));var s=a.map(function(l){return{word:l,width:wp(l,i).width}}),o=n?0:wp("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Xue=function(t,r,n,i,a){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=Ze(s),f=o,p=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(V,W){var B=W.word,J=W.width,$=V[V.length-1];if($&&(i==null||a||$.width+J+n<Number(i)))$.words.push(B),$.width+=J+n;else{var ae={words:[B],width:J};V.push(ae)}return V},[])},h=p(r),y=function(U){return U.reduce(function(V,W){return V.width>W.width?V:W})};if(!u)return h;for(var g="",b=function(U){var V=f.slice(0,U),W=N$({breakAll:c,style:l,children:V+g}).wordsWithComputedWidth,B=p(W),J=B.length>s||y(B).width>Number(i);return[J,B]},v=0,w=f.length-1,_=0,N;v<=w&&_<=f.length-1;){var S=Math.floor((v+w)/2),j=S-1,O=b(j),I=UE(O,2),L=I[0],F=I[1],k=b(S),P=UE(k,1),D=P[0];if(!L&&!D&&(v=S+1),L&&D&&(w=S-1),!L&&D){N=F;break}_++}return N||h},qE=function(t){var r=Dt(t)?[]:t.toString().split(j$);return[{words:r}]},Jue=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Su.isSsr){var l,c,u=N$({breakAll:s,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,p=u.spaceWidth;l=f,c=p}else return qE(i);return Xue({breakAll:s,children:i,maxLines:o,style:a},l,c,r,n)}return qE(i)},HE="#808080",du=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,p=t.textAnchor,h=p===void 0?"start":p,y=t.verticalAnchor,g=y===void 0?"end":y,b=t.fill,v=b===void 0?HE:b,w=FE(t,que),_=X.useMemo(function(){return Jue({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),N=w.dx,S=w.dy,j=w.angle,O=w.className,I=w.breakAll,L=FE(w,Hue);if(!Ln(n)||!Ln(a))return null;var F=n+(Ze(N)?N:0),k=a+(Ze(S)?S:0),P;switch(g){case"start":P=t2("calc(".concat(c,")"));break;case"middle":P=t2("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:P=t2("calc(".concat(_.length-1," * -").concat(o,")"));break}var D=[];if(f){var M=_[0].width,U=w.width;D.push("scale(".concat((Ze(U)?U/M:1)/M,")"))}return j&&D.push("rotate(".concat(j,", ").concat(F,", ").concat(k,")")),D.length&&(L.transform=D.join(" ")),le.createElement("text",B5({},jt(L,!0),{x:F,y:k,className:Ht("recharts-text",O),textAnchor:h,fill:v.includes("url")?HE:v}),_.map(function(V,W){var B=V.words.join(I?"":" ");return le.createElement("tspan",{x:F,dy:W===0?P:o,key:"".concat(B,"-").concat(W)},B)}))};function Dl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zue(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yj(e){let t,r,n;e.length!==2?(t=Dl,r=(o,l)=>Dl(e(o),l),n=(o,l)=>e(o)-l):(t=e===Dl||e===Zue?e:Que,r=e,n=e);function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function Que(){return 0}function A$(e){return e===null?NaN:+e}function*ede(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const tde=Yj(Dl),Qm=tde.right;Yj(A$).center;class WE extends Map{constructor(t,r=ide){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(VE(this,t))}has(t){return super.has(VE(this,t))}set(t,r){return super.set(rde(this,t),r)}delete(t){return super.delete(nde(this,t))}}function VE({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function rde({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function nde({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function ide(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ade(e=Dl){if(e===Dl)return k$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function k$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const sde=Math.sqrt(50),ode=Math.sqrt(10),lde=Math.sqrt(2);function ov(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=sde?10:a>=ode?5:a>=lde?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?ov(e,t,r*2):[o,l,c]}function F5(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?ov(t,e,r):ov(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function U5(e,t,r){return t=+t,e=+e,r=+r,ov(e,t,r)[2]}function z5(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?U5(t,e,r):U5(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function GE(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function KE(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function E$(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?k$:ade(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(t-c*f/l+p)),y=Math.min(n,Math.floor(t+(l-c)*f/l+p));E$(e,t,h,y,i)}const a=e[t];let s=r,o=n;for(qh(e,r,t),i(e[n],a)>0&&qh(e,r,n);s<o;){for(qh(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?qh(e,r,o):(++o,qh(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function qh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function cde(e,t,r){if(e=Float64Array.from(ede(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return KE(e);if(t>=1)return GE(e);var n,i=(n-1)*t,a=Math.floor(i),s=GE(E$(e,a).subarray(0,a+1)),o=KE(e.subarray(a+1));return s+(o-s)*(i-a)}}function ude(e,t,r=A$){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function dde(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function qa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ho(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const q5=Symbol("implicit");function Xj(){var e=new WE,t=[],r=[],n=q5;function i(a){let s=e.get(a);if(s===void 0){if(n!==q5)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new WE;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Xj(t,r).unknown(n)},qa.apply(i,arguments),i}function cm(){var e=Xj().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var p=t().length,h=i<n,y=h?i:n,g=h?n:i;a=(g-y)/Math.max(1,p-l+c*2),o&&(a=Math.floor(a)),y+=(g-y-a*(p-l))*u,s=a*(1-l),o&&(y=Math.round(y),s=Math.round(s));var b=dde(p).map(function(v){return y+a*v});return r(h?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(p){return arguments.length?(o=!!p,f()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return cm(t(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},qa.apply(f(),arguments)}function O$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return O$(t())},e}function _p(){return O$(cm.apply(null,arguments).paddingInner(1))}function Jj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function P$(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function eg(){}var um=.7,lv=1/um,Md="\\s*([+-]?\\d+)\\s*",dm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fde=/^#([0-9a-f]{3,8})$/,hde=new RegExp(`^rgb\\(${Md},${Md},${Md}\\)$`),pde=new RegExp(`^rgb\\(${zs},${zs},${zs}\\)$`),mde=new RegExp(`^rgba\\(${Md},${Md},${Md},${dm}\\)$`),gde=new RegExp(`^rgba\\(${zs},${zs},${zs},${dm}\\)$`),yde=new RegExp(`^hsl\\(${dm},${zs},${zs}\\)$`),vde=new RegExp(`^hsla\\(${dm},${zs},${zs},${dm}\\)$`),YE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jj(eg,fm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:XE,formatHex:XE,formatHex8:bde,formatHsl:xde,formatRgb:JE,toString:JE});function XE(){return this.rgb().formatHex()}function bde(){return this.rgb().formatHex8()}function xde(){return C$(this).formatHsl()}function JE(){return this.rgb().formatRgb()}function fm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=fde.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ZE(t):r===3?new Ri(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?_0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?_0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hde.exec(e))?new Ri(t[1],t[2],t[3],1):(t=pde.exec(e))?new Ri(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mde.exec(e))?_0(t[1],t[2],t[3],t[4]):(t=gde.exec(e))?_0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yde.exec(e))?tO(t[1],t[2]/100,t[3]/100,1):(t=vde.exec(e))?tO(t[1],t[2]/100,t[3]/100,t[4]):YE.hasOwnProperty(e)?ZE(YE[e]):e==="transparent"?new Ri(NaN,NaN,NaN,0):null}function ZE(e){return new Ri(e>>16&255,e>>8&255,e&255,1)}function _0(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ri(e,t,r,n)}function wde(e){return e instanceof eg||(e=fm(e)),e?(e=e.rgb(),new Ri(e.r,e.g,e.b,e.opacity)):new Ri}function H5(e,t,r,n){return arguments.length===1?wde(e):new Ri(e,t,r,n??1)}function Ri(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Jj(Ri,H5,P$(eg,{brighter(e){return e=e==null?lv:Math.pow(lv,e),new Ri(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?um:Math.pow(um,e),new Ri(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ri(eu(this.r),eu(this.g),eu(this.b),cv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QE,formatHex:QE,formatHex8:_de,formatRgb:eO,toString:eO}));function QE(){return`#${Yc(this.r)}${Yc(this.g)}${Yc(this.b)}`}function _de(){return`#${Yc(this.r)}${Yc(this.g)}${Yc(this.b)}${Yc((isNaN(this.opacity)?1:this.opacity)*255)}`}function eO(){const e=cv(this.opacity);return`${e===1?"rgb(":"rgba("}${eu(this.r)}, ${eu(this.g)}, ${eu(this.b)}${e===1?")":`, ${e})`}`}function cv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function eu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yc(e){return e=eu(e),(e<16?"0":"")+e.toString(16)}function tO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new cs(e,t,r,n)}function C$(e){if(e instanceof cs)return new cs(e.h,e.s,e.l,e.opacity);if(e instanceof eg||(e=fm(e)),!e)return new cs;if(e instanceof cs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new cs(s,o,l,e.opacity)}function Sde(e,t,r,n){return arguments.length===1?C$(e):new cs(e,t,r,n??1)}function cs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Jj(cs,Sde,P$(eg,{brighter(e){return e=e==null?lv:Math.pow(lv,e),new cs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?um:Math.pow(um,e),new cs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ri(r2(e>=240?e-240:e+120,i,n),r2(e,i,n),r2(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new cs(rO(this.h),S0(this.s),S0(this.l),cv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cv(this.opacity);return`${e===1?"hsl(":"hsla("}${rO(this.h)}, ${S0(this.s)*100}%, ${S0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rO(e){return e=(e||0)%360,e<0?e+360:e}function S0(e){return Math.max(0,Math.min(1,e||0))}function r2(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Zj=e=>()=>e;function jde(e,t){return function(r){return e+r*t}}function Nde(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Ade(e){return(e=+e)==1?T$:function(t,r){return r-t?Nde(t,r,e):Zj(isNaN(t)?r:t)}}function T$(e,t){var r=t-e;return r?jde(e,r):Zj(isNaN(e)?t:e)}const nO=function e(t){var r=Ade(t);function n(i,a){var s=r((i=H5(i)).r,(a=H5(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=T$(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n}(1);function kde(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function Ede(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ode(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Jf(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Pde(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function uv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Cde(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Jf(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var W5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,n2=new RegExp(W5.source,"g");function Tde(e){return function(){return e}}function Ide(e){return function(t){return e(t)+""}}function Lde(e,t){var r=W5.lastIndex=n2.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=W5.exec(e))&&(i=n2.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:uv(n,i)})),r=n2.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Ide(l[0].x):Tde(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Jf(e,t){var r=typeof t,n;return t==null||r==="boolean"?Zj(t):(r==="number"?uv:r==="string"?(n=fm(t))?(t=n,nO):Lde:t instanceof fm?nO:t instanceof Date?Pde:Ede(t)?kde:Array.isArray(t)?Ode:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Cde:uv)(e,t)}function Qj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Rde(e,t){t===void 0&&(t=e,e=Jf);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function $de(e){return function(){return e}}function dv(e){return+e}var iO=[0,1];function Si(e){return e}function V5(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:$de(isNaN(t)?NaN:.5)}function Mde(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Dde(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=V5(i,n),a=r(s,a)):(n=V5(n,i),a=r(a,s)),function(o){return a(n(o))}}function Bde(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=V5(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=Qm(e,o,1,n)-1;return a[l](i[l](o))}}function tg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function W1(){var e=iO,t=iO,r=Jf,n,i,a,s=Si,o,l,c;function u(){var p=Math.min(e.length,t.length);return s!==Si&&(s=Mde(e[0],e[p-1])),o=p>2?Bde:Dde,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=o(e.map(n),t,r)))(n(s(p)))}return f.invert=function(p){return s(i((c||(c=o(t,e.map(n),uv)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,dv),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=Qj,u()},f.clamp=function(p){return arguments.length?(s=p?!0:Si,u()):s!==Si},f.interpolate=function(p){return arguments.length?(r=p,u()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return n=p,i=h,u()}}function eN(){return W1()(Si,Si)}function Fde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function cf(e){return e=fv(Math.abs(e)),e?e[1]:NaN}function Ude(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function zde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var qde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hm(e){if(!(t=qde.exec(e)))throw new Error("invalid format: "+e);var t;return new tN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hm.prototype=tN.prototype;function tN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}tN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hde(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var I$;function Wde(e,t){var r=fv(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(I$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+fv(e,Math.max(0,t+a-1))[0]}function aO(e,t){var r=fv(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const sO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Fde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>aO(e*100,t),r:aO,s:Wde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function oO(e){return e}var lO=Array.prototype.map,cO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Vde(e){var t=e.grouping===void 0||e.thousands===void 0?oO:Ude(lO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?oO:zde(lO.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=hm(f);var p=f.fill,h=f.align,y=f.sign,g=f.symbol,b=f.zero,v=f.width,w=f.comma,_=f.precision,N=f.trim,S=f.type;S==="n"?(w=!0,S="g"):sO[S]||(_===void 0&&(_=12),N=!0,S="g"),(b||p==="0"&&h==="=")&&(b=!0,p="0",h="=");var j=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",O=g==="$"?n:/[%p]/.test(S)?s:"",I=sO[S],L=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function F(k){var P=j,D=O,M,U,V;if(S==="c")D=I(k)+D,k="";else{k=+k;var W=k<0||1/k<0;if(k=isNaN(k)?l:I(Math.abs(k),_),N&&(k=Hde(k)),W&&+k==0&&y!=="+"&&(W=!1),P=(W?y==="("?y:o:y==="-"||y==="("?"":y)+P,D=(S==="s"?cO[8+I$/3]:"")+D+(W&&y==="("?")":""),L){for(M=-1,U=k.length;++M<U;)if(V=k.charCodeAt(M),48>V||V>57){D=(V===46?i+k.slice(M+1):k.slice(M))+D,k=k.slice(0,M);break}}}w&&!b&&(k=t(k,1/0));var B=P.length+k.length+D.length,J=B<v?new Array(v-B+1).join(p):"";switch(w&&b&&(k=t(J+k,J.length?v-D.length:1/0),J=""),h){case"<":k=P+k+D+J;break;case"=":k=P+J+k+D;break;case"^":k=J.slice(0,B=J.length>>1)+P+k+D+J.slice(B);break;default:k=J+P+k+D;break}return a(k)}return F.toString=function(){return f+""},F}function u(f,p){var h=c((f=hm(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(cf(p)/3)))*3,g=Math.pow(10,-y),b=cO[8+y/3];return function(v){return h(g*v)+b}}return{format:c,formatPrefix:u}}var j0,rN,L$;Gde({thousands:",",grouping:[3],currency:["$",""]});function Gde(e){return j0=Vde(e),rN=j0.format,L$=j0.formatPrefix,j0}function Kde(e){return Math.max(0,-cf(Math.abs(e)))}function Yde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cf(t)/3)))*3-cf(Math.abs(e)))}function Xde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cf(t)-cf(e))+1}function R$(e,t,r,n){var i=z5(e,t,r),a;switch(n=hm(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Yde(i,s))&&(n.precision=a),L$(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Xde(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Kde(i))&&(n.precision=a-(n.type==="%")*2);break}}return rN(n)}function Zl(e){var t=e.domain;return e.ticks=function(r){var n=t();return F5(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return R$(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=U5(s,o,r),c===l)return n[i]=s,n[a]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function hv(){var e=eN();return e.copy=function(){return tg(e,hv())},qa.apply(e,arguments),Zl(e)}function $$(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,dv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return $$(e).unknown(t)},e=arguments.length?Array.from(e,dv):[0,1],Zl(r)}function M$(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function uO(e){return Math.log(e)}function dO(e){return Math.exp(e)}function Jde(e){return-Math.log(-e)}function Zde(e){return-Math.exp(-e)}function Qde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function efe(e){return e===10?Qde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tfe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function fO(e){return(t,r)=>-e(-t,r)}function nN(e){const t=e(uO,dO),r=t.domain;let n=10,i,a;function s(){return i=tfe(n),a=efe(n),r()[0]<0?(i=fO(i),a=fO(a),e(Jde,Zde)):e(uO,dO),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let p=i(c),h=i(u),y,g;const b=o==null?10:+o;let v=[];if(!(n%1)&&h-p<b){if(p=Math.floor(p),h=Math.ceil(h),c>0){for(;p<=h;++p)for(y=1;y<n;++y)if(g=p<0?y/a(-p):y*a(p),!(g<c)){if(g>u)break;v.push(g)}}else for(;p<=h;++p)for(y=n-1;y>=1;--y)if(g=p>0?y/a(-p):y*a(p),!(g<c)){if(g>u)break;v.push(g)}v.length*2<b&&(v=F5(c,u,b))}else v=F5(p,h,Math.min(h-p,b)).map(a);return f?v.reverse():v},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=hm(l)).precision==null&&(l.trim=!0),l=rN(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(M$(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function D$(){const e=nN(W1()).domain([1,10]);return e.copy=()=>tg(e,D$()).base(e.base()),qa.apply(e,arguments),e}function hO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function iN(e){var t=1,r=e(hO(t),pO(t));return r.constant=function(n){return arguments.length?e(hO(t=+n),pO(t)):t},Zl(r)}function B$(){var e=iN(W1());return e.copy=function(){return tg(e,B$()).constant(e.constant())},qa.apply(e,arguments)}function mO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function rfe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function nfe(e){return e<0?-e*e:e*e}function aN(e){var t=e(Si,Si),r=1;function n(){return r===1?e(Si,Si):r===.5?e(rfe,nfe):e(mO(r),mO(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Zl(t)}function sN(){var e=aN(W1());return e.copy=function(){return tg(e,sN()).exponent(e.exponent())},qa.apply(e,arguments),e}function ife(){return sN.apply(null,arguments).exponent(.5)}function gO(e){return Math.sign(e)*e*e}function afe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function F$(){var e=eN(),t=[0,1],r=!1,n;function i(a){var s=afe(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(gO(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,dv)).map(gO)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return F$(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},qa.apply(i,arguments),Zl(i)}function U$(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=ude(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Qm(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Dl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return U$().domain(e).range(t).unknown(n)},qa.apply(a,arguments)}function z$(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Qm(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return z$().domain([e,t]).range(i).unknown(a)},qa.apply(Zl(s),arguments)}function q$(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Qm(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return q$().domain(e).range(t).unknown(r)},qa.apply(i,arguments)}const i2=new Date,a2=new Date;function Rn(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>Rn(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(i2.setTime(+a),a2.setTime(+s),e(i2),e(a2),Math.floor(r(i2,a2))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const pv=Rn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);pv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Rn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):pv);pv.range;const _o=1e3,La=_o*60,So=La*60,$o=So*24,oN=$o*7,yO=$o*30,s2=$o*365,Xc=Rn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_o)},(e,t)=>(t-e)/_o,e=>e.getUTCSeconds());Xc.range;const lN=Rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_o)},(e,t)=>{e.setTime(+e+t*La)},(e,t)=>(t-e)/La,e=>e.getMinutes());lN.range;const cN=Rn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*La)},(e,t)=>(t-e)/La,e=>e.getUTCMinutes());cN.range;const uN=Rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_o-e.getMinutes()*La)},(e,t)=>{e.setTime(+e+t*So)},(e,t)=>(t-e)/So,e=>e.getHours());uN.range;const dN=Rn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*So)},(e,t)=>(t-e)/So,e=>e.getUTCHours());dN.range;const rg=Rn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*La)/$o,e=>e.getDate()-1);rg.range;const V1=Rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$o,e=>e.getUTCDate()-1);V1.range;const H$=Rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$o,e=>Math.floor(e/$o));H$.range;function ju(e){return Rn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*La)/oN)}const G1=ju(0),mv=ju(1),sfe=ju(2),ofe=ju(3),uf=ju(4),lfe=ju(5),cfe=ju(6);G1.range;mv.range;sfe.range;ofe.range;uf.range;lfe.range;cfe.range;function Nu(e){return Rn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/oN)}const K1=Nu(0),gv=Nu(1),ufe=Nu(2),dfe=Nu(3),df=Nu(4),ffe=Nu(5),hfe=Nu(6);K1.range;gv.range;ufe.range;dfe.range;df.range;ffe.range;hfe.range;const fN=Rn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());fN.range;const hN=Rn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());hN.range;const Mo=Rn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Mo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Mo.range;const Do=Rn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Do.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Do.range;function W$(e,t,r,n,i,a){const s=[[Xc,1,_o],[Xc,5,5*_o],[Xc,15,15*_o],[Xc,30,30*_o],[a,1,La],[a,5,5*La],[a,15,15*La],[a,30,30*La],[i,1,So],[i,3,3*So],[i,6,6*So],[i,12,12*So],[n,1,$o],[n,2,2*$o],[r,1,oN],[t,1,yO],[t,3,3*yO],[e,1,s2]];function o(c,u,f){const p=u<c;p&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),y=h?h.range(c,+u+1):[];return p?y.reverse():y}function l(c,u,f){const p=Math.abs(u-c)/f,h=Yj(([,,b])=>b).right(s,p);if(h===s.length)return e.every(z5(c/s2,u/s2,f));if(h===0)return pv.every(Math.max(z5(c,u,f),1));const[y,g]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return y.every(g)}return[o,l]}const[pfe,mfe]=W$(Do,hN,K1,H$,dN,cN),[gfe,yfe]=W$(Mo,fN,G1,rg,uN,lN);function o2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function l2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function vfe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Wh(i),u=Vh(i),f=Wh(a),p=Vh(a),h=Wh(s),y=Vh(s),g=Wh(o),b=Vh(o),v=Wh(l),w=Vh(l),_={a:W,A:B,b:J,B:$,c:null,d:SO,e:SO,f:Ufe,g:Jfe,G:Qfe,H:Dfe,I:Bfe,j:Ffe,L:V$,m:zfe,M:qfe,p:ae,q:T,Q:AO,s:kO,S:Hfe,u:Wfe,U:Vfe,V:Gfe,w:Kfe,W:Yfe,x:null,X:null,y:Xfe,Y:Zfe,Z:ehe,"%":NO},N={a:C,A:K,b:Q,B:ie,c:null,d:jO,e:jO,f:ihe,g:phe,G:ghe,H:the,I:rhe,j:nhe,L:K$,m:ahe,M:she,p:ue,q:ge,Q:AO,s:kO,S:ohe,u:lhe,U:che,V:uhe,w:dhe,W:fhe,x:null,X:null,y:hhe,Y:mhe,Z:yhe,"%":NO},S={a:F,A:k,b:P,B:D,c:M,d:wO,e:wO,f:Lfe,g:xO,G:bO,H:_O,I:_O,j:Pfe,L:Ife,m:Ofe,M:Cfe,p:L,q:Efe,Q:$fe,s:Mfe,S:Tfe,u:Sfe,U:jfe,V:Nfe,w:_fe,W:Afe,x:U,X:V,y:xO,Y:bO,Z:kfe,"%":Rfe};_.x=j(r,_),_.X=j(n,_),_.c=j(t,_),N.x=j(r,N),N.X=j(n,N),N.c=j(t,N);function j(se,he){return function(je){var me=[],Be=-1,ye=0,ee=se.length,ut,lt,at;for(je instanceof Date||(je=new Date(+je));++Be<ee;)se.charCodeAt(Be)===37&&(me.push(se.slice(ye,Be)),(lt=vO[ut=se.charAt(++Be)])!=null?ut=se.charAt(++Be):lt=ut==="e"?" ":"0",(at=he[ut])&&(ut=at(je,lt)),me.push(ut),ye=Be+1);return me.push(se.slice(ye,Be)),me.join("")}}function O(se,he){return function(je){var me=Hh(1900,void 0,1),Be=I(me,se,je+="",0),ye,ee;if(Be!=je.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(he&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(ye=l2(Hh(me.y,0,1)),ee=ye.getUTCDay(),ye=ee>4||ee===0?gv.ceil(ye):gv(ye),ye=V1.offset(ye,(me.V-1)*7),me.y=ye.getUTCFullYear(),me.m=ye.getUTCMonth(),me.d=ye.getUTCDate()+(me.w+6)%7):(ye=o2(Hh(me.y,0,1)),ee=ye.getDay(),ye=ee>4||ee===0?mv.ceil(ye):mv(ye),ye=rg.offset(ye,(me.V-1)*7),me.y=ye.getFullYear(),me.m=ye.getMonth(),me.d=ye.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),ee="Z"in me?l2(Hh(me.y,0,1)).getUTCDay():o2(Hh(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(ee+5)%7:me.w+me.U*7-(ee+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,l2(me)):o2(me)}}function I(se,he,je,me){for(var Be=0,ye=he.length,ee=je.length,ut,lt;Be<ye;){if(me>=ee)return-1;if(ut=he.charCodeAt(Be++),ut===37){if(ut=he.charAt(Be++),lt=S[ut in vO?he.charAt(Be++):ut],!lt||(me=lt(se,je,me))<0)return-1}else if(ut!=je.charCodeAt(me++))return-1}return me}function L(se,he,je){var me=c.exec(he.slice(je));return me?(se.p=u.get(me[0].toLowerCase()),je+me[0].length):-1}function F(se,he,je){var me=h.exec(he.slice(je));return me?(se.w=y.get(me[0].toLowerCase()),je+me[0].length):-1}function k(se,he,je){var me=f.exec(he.slice(je));return me?(se.w=p.get(me[0].toLowerCase()),je+me[0].length):-1}function P(se,he,je){var me=v.exec(he.slice(je));return me?(se.m=w.get(me[0].toLowerCase()),je+me[0].length):-1}function D(se,he,je){var me=g.exec(he.slice(je));return me?(se.m=b.get(me[0].toLowerCase()),je+me[0].length):-1}function M(se,he,je){return I(se,t,he,je)}function U(se,he,je){return I(se,r,he,je)}function V(se,he,je){return I(se,n,he,je)}function W(se){return s[se.getDay()]}function B(se){return a[se.getDay()]}function J(se){return l[se.getMonth()]}function $(se){return o[se.getMonth()]}function ae(se){return i[+(se.getHours()>=12)]}function T(se){return 1+~~(se.getMonth()/3)}function C(se){return s[se.getUTCDay()]}function K(se){return a[se.getUTCDay()]}function Q(se){return l[se.getUTCMonth()]}function ie(se){return o[se.getUTCMonth()]}function ue(se){return i[+(se.getUTCHours()>=12)]}function ge(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var he=j(se+="",_);return he.toString=function(){return se},he},parse:function(se){var he=O(se+="",!1);return he.toString=function(){return se},he},utcFormat:function(se){var he=j(se+="",N);return he.toString=function(){return se},he},utcParse:function(se){var he=O(se+="",!0);return he.toString=function(){return se},he}}}var vO={"-":"",_:" ",0:"0"},qn=/^\s*\d+/,bfe=/^%/,xfe=/[\\^$*+?|[\]().{}]/g;function nr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function wfe(e){return e.replace(xfe,"\\$&")}function Wh(e){return new RegExp("^(?:"+e.map(wfe).join("|")+")","i")}function Vh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function _fe(e,t,r){var n=qn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Sfe(e,t,r){var n=qn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function jfe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Nfe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Afe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function bO(e,t,r){var n=qn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function xO(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function kfe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Efe(e,t,r){var n=qn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Ofe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function wO(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Pfe(e,t,r){var n=qn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function _O(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Cfe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Tfe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Ife(e,t,r){var n=qn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Lfe(e,t,r){var n=qn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Rfe(e,t,r){var n=bfe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function $fe(e,t,r){var n=qn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Mfe(e,t,r){var n=qn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function SO(e,t){return nr(e.getDate(),t,2)}function Dfe(e,t){return nr(e.getHours(),t,2)}function Bfe(e,t){return nr(e.getHours()%12||12,t,2)}function Ffe(e,t){return nr(1+rg.count(Mo(e),e),t,3)}function V$(e,t){return nr(e.getMilliseconds(),t,3)}function Ufe(e,t){return V$(e,t)+"000"}function zfe(e,t){return nr(e.getMonth()+1,t,2)}function qfe(e,t){return nr(e.getMinutes(),t,2)}function Hfe(e,t){return nr(e.getSeconds(),t,2)}function Wfe(e){var t=e.getDay();return t===0?7:t}function Vfe(e,t){return nr(G1.count(Mo(e)-1,e),t,2)}function G$(e){var t=e.getDay();return t>=4||t===0?uf(e):uf.ceil(e)}function Gfe(e,t){return e=G$(e),nr(uf.count(Mo(e),e)+(Mo(e).getDay()===4),t,2)}function Kfe(e){return e.getDay()}function Yfe(e,t){return nr(mv.count(Mo(e)-1,e),t,2)}function Xfe(e,t){return nr(e.getFullYear()%100,t,2)}function Jfe(e,t){return e=G$(e),nr(e.getFullYear()%100,t,2)}function Zfe(e,t){return nr(e.getFullYear()%1e4,t,4)}function Qfe(e,t){var r=e.getDay();return e=r>=4||r===0?uf(e):uf.ceil(e),nr(e.getFullYear()%1e4,t,4)}function ehe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+nr(t/60|0,"0",2)+nr(t%60,"0",2)}function jO(e,t){return nr(e.getUTCDate(),t,2)}function the(e,t){return nr(e.getUTCHours(),t,2)}function rhe(e,t){return nr(e.getUTCHours()%12||12,t,2)}function nhe(e,t){return nr(1+V1.count(Do(e),e),t,3)}function K$(e,t){return nr(e.getUTCMilliseconds(),t,3)}function ihe(e,t){return K$(e,t)+"000"}function ahe(e,t){return nr(e.getUTCMonth()+1,t,2)}function she(e,t){return nr(e.getUTCMinutes(),t,2)}function ohe(e,t){return nr(e.getUTCSeconds(),t,2)}function lhe(e){var t=e.getUTCDay();return t===0?7:t}function che(e,t){return nr(K1.count(Do(e)-1,e),t,2)}function Y$(e){var t=e.getUTCDay();return t>=4||t===0?df(e):df.ceil(e)}function uhe(e,t){return e=Y$(e),nr(df.count(Do(e),e)+(Do(e).getUTCDay()===4),t,2)}function dhe(e){return e.getUTCDay()}function fhe(e,t){return nr(gv.count(Do(e)-1,e),t,2)}function hhe(e,t){return nr(e.getUTCFullYear()%100,t,2)}function phe(e,t){return e=Y$(e),nr(e.getUTCFullYear()%100,t,2)}function mhe(e,t){return nr(e.getUTCFullYear()%1e4,t,4)}function ghe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?df(e):df.ceil(e),nr(e.getUTCFullYear()%1e4,t,4)}function yhe(){return"+0000"}function NO(){return"%"}function AO(e){return+e}function kO(e){return Math.floor(+e/1e3)}var Ju,X$,J$;vhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vhe(e){return Ju=vfe(e),X$=Ju.format,Ju.parse,J$=Ju.utcFormat,Ju.utcParse,Ju}function bhe(e){return new Date(e)}function xhe(e){return e instanceof Date?+e:+new Date(+e)}function pN(e,t,r,n,i,a,s,o,l,c){var u=eN(),f=u.invert,p=u.domain,h=c(".%L"),y=c(":%S"),g=c("%I:%M"),b=c("%I %p"),v=c("%a %d"),w=c("%b %d"),_=c("%B"),N=c("%Y");function S(j){return(l(j)<j?h:o(j)<j?y:s(j)<j?g:a(j)<j?b:n(j)<j?i(j)<j?v:w:r(j)<j?_:N)(j)}return u.invert=function(j){return new Date(f(j))},u.domain=function(j){return arguments.length?p(Array.from(j,xhe)):p().map(bhe)},u.ticks=function(j){var O=p();return e(O[0],O[O.length-1],j??10)},u.tickFormat=function(j,O){return O==null?S:c(O)},u.nice=function(j){var O=p();return(!j||typeof j.range!="function")&&(j=t(O[0],O[O.length-1],j??10)),j?p(M$(O,j)):u},u.copy=function(){return tg(u,pN(e,t,r,n,i,a,s,o,l,c))},u}function whe(){return qa.apply(pN(gfe,yfe,Mo,fN,G1,rg,uN,lN,Xc,X$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _he(){return qa.apply(pN(pfe,mfe,Do,hN,K1,V1,dN,cN,Xc,J$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Y1(){var e=0,t=1,r,n,i,a,s=Si,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(p){var h,y;return arguments.length?([h,y]=p,s=f(h,y),c):[s(0),s(1)]}}return c.range=u(Jf),c.rangeRound=u(Qj),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),c}}function Ql(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Z$(){var e=Zl(Y1()(Si));return e.copy=function(){return Ql(e,Z$())},Ho.apply(e,arguments)}function Q$(){var e=nN(Y1()).domain([1,10]);return e.copy=function(){return Ql(e,Q$()).base(e.base())},Ho.apply(e,arguments)}function eM(){var e=iN(Y1());return e.copy=function(){return Ql(e,eM()).constant(e.constant())},Ho.apply(e,arguments)}function mN(){var e=aN(Y1());return e.copy=function(){return Ql(e,mN()).exponent(e.exponent())},Ho.apply(e,arguments)}function She(){return mN.apply(null,arguments).exponent(.5)}function tM(){var e=[],t=Si;function r(n){if(n!=null&&!isNaN(n=+n))return t((Qm(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Dl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>cde(e,a/n))},r.copy=function(){return tM(t).domain(e)},Ho.apply(r,arguments)}function X1(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,c=Si,u,f=!1,p;function h(g){return isNaN(g=+g)?p:(g=.5+((g=+u(g))-a)*(n*g<n*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,i=u(e=+e),a=u(t=+t),s=u(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(c=g,h):c};function y(g){return function(b){var v,w,_;return arguments.length?([v,w,_]=b,c=Rde(g,[v,w,_]),h):[c(0),c(.5),c(1)]}}return h.range=y(Jf),h.rangeRound=y(Qj),h.unknown=function(g){return arguments.length?(p=g,h):p},function(g){return u=g,i=g(e),a=g(t),s=g(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function rM(){var e=Zl(X1()(Si));return e.copy=function(){return Ql(e,rM())},Ho.apply(e,arguments)}function nM(){var e=nN(X1()).domain([.1,1,10]);return e.copy=function(){return Ql(e,nM()).base(e.base())},Ho.apply(e,arguments)}function iM(){var e=iN(X1());return e.copy=function(){return Ql(e,iM()).constant(e.constant())},Ho.apply(e,arguments)}function gN(){var e=aN(X1());return e.copy=function(){return Ql(e,gN()).exponent(e.exponent())},Ho.apply(e,arguments)}function jhe(){return gN.apply(null,arguments).exponent(.5)}const EO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cm,scaleDiverging:rM,scaleDivergingLog:nM,scaleDivergingPow:gN,scaleDivergingSqrt:jhe,scaleDivergingSymlog:iM,scaleIdentity:$$,scaleImplicit:q5,scaleLinear:hv,scaleLog:D$,scaleOrdinal:Xj,scalePoint:_p,scalePow:sN,scaleQuantile:U$,scaleQuantize:z$,scaleRadial:F$,scaleSequential:Z$,scaleSequentialLog:Q$,scaleSequentialPow:mN,scaleSequentialQuantile:tM,scaleSequentialSqrt:She,scaleSequentialSymlog:eM,scaleSqrt:ife,scaleSymlog:B$,scaleThreshold:q$,scaleTime:whe,scaleUtc:_he,tickFormat:R$},Symbol.toStringTag,{value:"Module"}));var Nhe=zf;function Ahe(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(s!=null&&(o===void 0?s===s&&!Nhe(s):r(s,o)))var o=s,l=a}return l}var J1=Ahe;function khe(e,t){return e>t}var aM=khe,Ehe=J1,Ohe=aM,Phe=Xf;function Che(e){return e&&e.length?Ehe(e,Phe,Ohe):void 0}var The=Che;const Z1=lr(The);function Ihe(e,t){return e<t}var sM=Ihe,Lhe=J1,Rhe=sM,$he=Xf;function Mhe(e){return e&&e.length?Lhe(e,$he,Rhe):void 0}var Dhe=Mhe;const Q1=lr(Dhe);var Bhe=Pj,Fhe=Ys,Uhe=p$,zhe=zi;function qhe(e,t){var r=zhe(e)?Bhe:Uhe;return r(e,Fhe(t))}var Hhe=qhe,Whe=f$,Vhe=Hhe;function Ghe(e,t){return Whe(Vhe(e,t),1)}var Khe=Ghe;const Yhe=lr(Khe);var Xhe=Wj;function Jhe(e,t){return Xhe(e,t)}var Zhe=Jhe;const ng=lr(Zhe);var Zf=1e9,Qhe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vN,Ur=!0,Ba="[DecimalError] ",tu=Ba+"Invalid argument: ",yN=Ba+"Exponent out of range: ",Qf=Math.floor,$c=Math.pow,epe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oa,Dn=1e7,$r=7,oM=9007199254740991,yv=Qf(oM/$r),ot={};ot.absoluteValue=ot.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ot.comparedTo=ot.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ot.decimalPlaces=ot.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*$r;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ot.dividedBy=ot.div=function(e){return Oo(this,new this.constructor(e))};ot.dividedToIntegerBy=ot.idiv=function(e){var t=this,r=t.constructor;return Sr(Oo(t,new r(e),0,1),r.precision)};ot.equals=ot.eq=function(e){return!this.cmp(e)};ot.exponent=function(){return xn(this)};ot.greaterThan=ot.gt=function(e){return this.cmp(e)>0};ot.greaterThanOrEqualTo=ot.gte=function(e){return this.cmp(e)>=0};ot.isInteger=ot.isint=function(){return this.e>this.d.length-2};ot.isNegative=ot.isneg=function(){return this.s<0};ot.isPositive=ot.ispos=function(){return this.s>0};ot.isZero=function(){return this.s===0};ot.lessThan=ot.lt=function(e){return this.cmp(e)<0};ot.lessThanOrEqualTo=ot.lte=function(e){return this.cmp(e)<1};ot.logarithm=ot.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(oa))throw Error(Ba+"NaN");if(r.s<1)throw Error(Ba+(r.s?"NaN":"-Infinity"));return r.eq(oa)?new n(0):(Ur=!1,t=Oo(pm(r,a),pm(e,a),a),Ur=!0,Sr(t,i))};ot.minus=ot.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uM(t,e):lM(t,(e.s=-e.s,e))};ot.modulo=ot.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Ba+"NaN");return r.s?(Ur=!1,t=Oo(r,e,0,1).times(e),Ur=!0,r.minus(t)):Sr(new n(r),i)};ot.naturalExponential=ot.exp=function(){return cM(this)};ot.naturalLogarithm=ot.ln=function(){return pm(this)};ot.negated=ot.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ot.plus=ot.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lM(t,e):uM(t,(e.s=-e.s,e))};ot.precision=ot.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(tu+e);if(t=xn(i)+1,n=i.d.length-1,r=n*$r+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ot.squareRoot=ot.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ba+"NaN")}for(e=xn(o),Ur=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Rs(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Qf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(Oo(o,a,s+2)).times(.5),Rs(a.d).slice(0,s)===(t=Rs(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Sr(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return Ur=!0,Sr(n,r)};ot.times=ot.mul=function(e){var t,r,n,i,a,s,o,l,c,u=this,f=u.constructor,p=u.d,h=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=p.length,c=h.length,l<c&&(a=p,p=h,h=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+h[n]*p[i-n-1]+t,a[i--]=o%Dn|0,t=o/Dn|0;a[i]=(a[i]+t)%Dn|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Ur?Sr(e,f.precision):e};ot.toDecimalPlaces=ot.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Vs(e,0,Zf),t===void 0?t=n.rounding:Vs(t,0,8),Sr(r,e+xn(r)+1,t))};ot.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=fu(n,!0):(Vs(e,0,Zf),t===void 0?t=i.rounding:Vs(t,0,8),n=Sr(new i(n),e+1,t),r=fu(n,!0,e+1)),r};ot.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?fu(i):(Vs(e,0,Zf),t===void 0?t=a.rounding:Vs(t,0,8),n=Sr(new a(i),e+xn(i)+1,t),r=fu(n.abs(),!1,e+xn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ot.toInteger=ot.toint=function(){var e=this,t=e.constructor;return Sr(new t(e),xn(e)+1,t.rounding)};ot.toNumber=function(){return+this};ot.toPower=ot.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(oa);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ba+"Infinity");return o}if(o.eq(oa))return o;if(n=l.precision,e.eq(oa))return Sr(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=u<0?-u:u)<=oM){for(i=new l(oa),t=Math.ceil(n/$r+4),Ur=!1;r%2&&(i=i.times(o),PO(i.d,t)),r=Qf(r/2),r!==0;)o=o.times(o),PO(o.d,t);return Ur=!0,e.s<0?new l(oa).div(i):Sr(i,n)}}else if(a<0)throw Error(Ba+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Ur=!1,i=e.times(pm(o,n+c)),Ur=!0,i=cM(i),i.s=a,i};ot.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=xn(i),n=fu(i,r<=a.toExpNeg||r>=a.toExpPos)):(Vs(e,1,Zf),t===void 0?t=a.rounding:Vs(t,0,8),i=Sr(new a(i),e,t),r=xn(i),n=fu(i,e<=r||r<=a.toExpNeg,e)),n};ot.toSignificantDigits=ot.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Vs(e,1,Zf),t===void 0?t=n.rounding:Vs(t,0,8)),Sr(new n(r),e,t)};ot.toString=ot.valueOf=ot.val=ot.toJSON=ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=xn(e),r=e.constructor;return fu(e,t<=r.toExpNeg||t>=r.toExpPos)};function lM(e,t){var r,n,i,a,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ur?Sr(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/$r),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Dn|0,l[a]%=Dn;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Ur?Sr(t,f):t}function Vs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(tu+e)}function Rs(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=$r-n.length,r&&(a+=yl(r)),a+=n;s=e[t],n=s+"",r=$r-n.length,r&&(a+=yl(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Oo=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Dn|0,s=a/Dn|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Dn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,u,f,p,h,y,g,b,v,w,_,N,S,j,O,I,L=n.constructor,F=n.s==i.s?1:-1,k=n.d,P=i.d;if(!n.s)return new L(n);if(!i.s)throw Error(Ba+"Division by zero");for(l=n.e-i.e,O=P.length,S=k.length,h=new L(F),y=h.d=[],c=0;P[c]==(k[c]||0);)++c;if(P[c]>(k[c]||0)&&--l,a==null?w=a=L.precision:s?w=a+(xn(n)-xn(i))+1:w=a,w<0)return new L(0);if(w=w/$r+2|0,c=0,O==1)for(u=0,P=P[0],w++;(c<S||u)&&w--;c++)_=u*Dn+(k[c]||0),y[c]=_/P|0,u=_%P|0;else{for(u=Dn/(P[0]+1)|0,u>1&&(P=e(P,u),k=e(k,u),O=P.length,S=k.length),N=O,g=k.slice(0,O),b=g.length;b<O;)g[b++]=0;I=P.slice(),I.unshift(0),j=P[0],P[1]>=Dn/2&&++j;do u=0,o=t(P,g,O,b),o<0?(v=g[0],O!=b&&(v=v*Dn+(g[1]||0)),u=v/j|0,u>1?(u>=Dn&&(u=Dn-1),f=e(P,u),p=f.length,b=g.length,o=t(f,g,p,b),o==1&&(u--,r(f,O<p?I:P,p))):(u==0&&(o=u=1),f=P.slice()),p=f.length,p<b&&f.unshift(0),r(g,f,b),o==-1&&(b=g.length,o=t(P,g,O,b),o<1&&(u++,r(g,O<b?I:P,b))),b=g.length):o===0&&(u++,g=[0]),y[c++]=u,o&&g[0]?g[b++]=k[N]||0:(g=[k[N]],b=1);while((N++<S||g[0]!==void 0)&&w--)}return y[0]||y.shift(),h.e=l,Sr(h,s?a+xn(h)+1:a)}}();function cM(e,t){var r,n,i,a,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(xn(e)>16)throw Error(yN+xn(e));if(!e.s)return new u(oa);for(Ur=!1,o=f,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log($c(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new u(oa),u.precision=o;;){if(i=Sr(i.times(e),o),r=r.times(++l),s=a.plus(Oo(i,r,o)),Rs(s.d).slice(0,o)===Rs(a.d).slice(0,o)){for(;c--;)a=Sr(a.times(a),o);return u.precision=f,t==null?(Ur=!0,Sr(a,f)):a}a=s}}function xn(e){for(var t=e.e*$r,r=e.d[0];r>=10;r/=10)t++;return t}function c2(e,t,r){if(t>e.LN10.sd())throw Ur=!0,r&&(e.precision=r),Error(Ba+"LN10 precision limit exceeded");return Sr(new e(e.LN10),t)}function yl(e){for(var t="";e--;)t+="0";return t}function pm(e,t){var r,n,i,a,s,o,l,c,u,f=1,p=10,h=e,y=h.d,g=h.constructor,b=g.precision;if(h.s<1)throw Error(Ba+(h.s?"NaN":"-Infinity"));if(h.eq(oa))return new g(0);if(t==null?(Ur=!1,c=b):c=t,h.eq(10))return t==null&&(Ur=!0),c2(g,c);if(c+=p,g.precision=c,r=Rs(y),n=r.charAt(0),a=xn(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Rs(h.d),n=r.charAt(0),f++;a=xn(h),n>1?(h=new g("0."+r),a++):h=new g(n+"."+r.slice(1))}else return l=c2(g,c+2,b).times(a+""),h=pm(new g(n+"."+r.slice(1)),c-p).plus(l),g.precision=b,t==null?(Ur=!0,Sr(h,b)):h;for(o=s=h=Oo(h.minus(oa),h.plus(oa),c),u=Sr(h.times(h),c),i=3;;){if(s=Sr(s.times(u),c),l=o.plus(Oo(s,new g(i),c)),Rs(l.d).slice(0,c)===Rs(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(c2(g,c+2,b).times(a+""))),o=Oo(o,new g(f),c),g.precision=b,t==null?(Ur=!0,Sr(o,b)):o;o=l,i+=2}}function OO(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Qf(r/$r),e.d=[],n=(r+1)%$r,r<0&&(n+=$r),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=$r;n<i;)e.d.push(+t.slice(n,n+=$r));t=t.slice(n),n=$r-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ur&&(e.e>yv||e.e<-yv))throw Error(yN+r)}else e.s=0,e.e=0,e.d=[0];return e}function Sr(e,t,r){var n,i,a,s,o,l,c,u,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=$r,i=t,c=f[u=0];else{if(u=Math.ceil((n+1)/$r),a=f.length,u>=a)return e;for(c=a=f[u],s=1;a>=10;a/=10)s++;n%=$r,i=n-$r+s}if(r!==void 0&&(a=$c(10,s-i-1),o=c/a%10|0,l=t<0||f[u+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/$c(10,s-i):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=xn(e),f.length=1,t=t-a-1,f[0]=$c(10,($r-t%$r)%$r),e.e=Qf(-t/$r)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=$c(10,$r-n),f[u]=i>0?(c/$c(10,s-i)%$c(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==Dn&&(f[0]=1,++e.e);break}else{if(f[u]+=a,f[u]!=Dn)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Ur&&(e.e>yv||e.e<-yv))throw Error(yN+xn(e));return e}function uM(e,t){var r,n,i,a,s,o,l,c,u,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Ur?Sr(t,h):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(h/$r),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Dn-1;--l[a],l[i]+=Dn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Ur?Sr(t,h):t):new p(0)}function fu(e,t,r){var n,i=xn(e),a=Rs(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+yl(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+yl(-i-1)+a,r&&(n=r-s)>0&&(a+=yl(n))):i>=s?(a+=yl(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+yl(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=yl(n))),e.s<0?"-"+a:a}function PO(e,t){if(e.length>t)return e.length=t,!0}function dM(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(tu+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return OO(s,a.toString())}else if(typeof a!="string")throw Error(tu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,epe.test(a))OO(s,a);else throw Error(tu+a)}if(i.prototype=ot,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=dM,i.config=i.set=tpe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function tpe(e){if(!e||typeof e!="object")throw Error(Ba+"Object expected");var t,r,n,i=["precision",1,Zf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Qf(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(tu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(tu+r+": "+n);return this}var vN=dM(Qhe);oa=new vN(1);const vr=vN;function rpe(e){return spe(e)||ape(e)||ipe(e)||npe()}function npe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ipe(e,t){if(e){if(typeof e=="string")return G5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G5(e,t)}}function ape(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function spe(e){if(Array.isArray(e))return G5(e)}function G5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ope=function(t){return t},fM={},hM=function(t){return t===fM},CO=function(t){return function r(){return arguments.length===0||arguments.length===1&&hM(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},lpe=function e(t,r){return t===1?r:CO(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==fM}).length;return s>=t?r.apply(void 0,i):e(t-s,CO(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(f){return hM(f)?l.shift():f});return r.apply(void 0,rpe(u).concat(l))}))})},eb=function(t){return lpe(t.length,t)},K5=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},cpe=eb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),upe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return ope;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},Y5=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},pM=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=t.apply(void 0,a)),n}};function dpe(e){var t;return e===0?t=1:t=Math.floor(new vr(e).abs().log(10).toNumber())+1,t}function fpe(e,t,r){for(var n=new vr(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var hpe=eb(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),ppe=eb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),mpe=eb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const tb={rangeStep:fpe,getDigitCount:dpe,interpolateNumber:hpe,uninterpolateNumber:ppe,uninterpolateTruncation:mpe};function X5(e){return vpe(e)||ype(e)||mM(e)||gpe()}function gpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ype(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function vpe(e){if(Array.isArray(e))return J5(e)}function mm(e,t){return wpe(e)||xpe(e,t)||mM(e,t)||bpe()}function bpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mM(e,t){if(e){if(typeof e=="string")return J5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J5(e,t)}}function J5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xpe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function wpe(e){if(Array.isArray(e))return e}function gM(e){var t=mm(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function yM(e,t,r){if(e.lte(0))return new vr(0);var n=tb.getDigitCount(e.toNumber()),i=new vr(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new vr(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?l:new vr(Math.ceil(l))}function _pe(e,t,r){var n=1,i=new vr(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new vr(10).pow(tb.getDigitCount(e)-1),i=new vr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new vr(Math.floor(e)))}else e===0?i=new vr(Math.floor((t-1)/2)):r||(i=new vr(Math.floor(e)));var s=Math.floor((t-1)/2),o=upe(cpe(function(l){return i.add(new vr(l-s).mul(n)).toNumber()}),K5);return o(0,t)}function vM(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new vr(0),tickMin:new vr(0),tickMax:new vr(0)};var a=yM(new vr(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new vr(0):(s=new vr(e).add(t).div(2),s=s.sub(new vr(s).mod(a)));var o=Math.ceil(s.sub(e).div(a).toNumber()),l=Math.ceil(new vr(t).sub(s).div(a).toNumber()),c=o+l+1;return c>r?vM(e,t,r,n,i+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:a,tickMin:s.sub(new vr(o).mul(a)),tickMax:s.add(new vr(l).mul(a))})}function Spe(e){var t=mm(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=gM([r,n]),l=mm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(X5(K5(0,i-1).map(function(){return 1/0}))):[].concat(X5(K5(0,i-1).map(function(){return-1/0})),[u]);return r>n?Y5(f):f}if(c===u)return _pe(c,i,a);var p=vM(c,u,s,a),h=p.step,y=p.tickMin,g=p.tickMax,b=tb.rangeStep(y,g.add(new vr(.1).mul(h)),h);return r>n?Y5(b):b}function jpe(e,t){var r=mm(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=gM([n,i]),o=mm(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(t,2),f=yM(new vr(c).sub(l).div(u-1),a,0),p=[].concat(X5(tb.rangeStep(new vr(l),new vr(c).sub(new vr(.99).mul(f)),f)),[c]);return n>i?Y5(p):p}var Npe=pM(Spe),Ape=pM(jpe),kpe="Invariant failed";function hu(e,t){throw new Error(kpe)}var Epe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(this,arguments)}function Ope(e,t){return Ipe(e)||Tpe(e,t)||Cpe(e,t)||Ppe()}function Ppe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cpe(e,t){if(e){if(typeof e=="string")return TO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TO(e,t)}}function TO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Ipe(e){if(Array.isArray(e))return e}function Lpe(e,t){if(e==null)return{};var r=Rpe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wM(n.key),n)}}function Dpe(e,t,r){return t&&Mpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bpe(e,t,r){return t=bv(t),Fpe(e,bM()?Reflect.construct(t,r||[],bv(e).constructor):t.apply(e,r))}function Fpe(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Upe(e)}function Upe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bM=function(){return!!e})()}function bv(e){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bv(e)}function zpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z5(e,t)}function Z5(e,t){return Z5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z5(e,t)}function xM(e,t,r){return t=wM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wM(e){var t=qpe(e,"string");return ff(t)=="symbol"?t:t+""}function qpe(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ig=function(e){function t(){return $pe(this,t),Bpe(this,t,arguments)}return zpe(t,e),Dpe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,p=Lpe(n,Epe),h=jt(p,!1);this.props.direction==="x"&&u.type!=="number"&&hu();var y=l.map(function(g){var b=c(g,o),v=b.x,w=b.y,_=b.value,N=b.errorVal;if(!N)return null;var S=[],j,O;if(Array.isArray(N)){var I=Ope(N,2);j=I[0],O=I[1]}else j=O=N;if(a==="vertical"){var L=u.scale,F=w+i,k=F+s,P=F-s,D=L(_-j),M=L(_+O);S.push({x1:M,y1:k,x2:M,y2:P}),S.push({x1:D,y1:F,x2:M,y2:F}),S.push({x1:D,y1:k,x2:D,y2:P})}else if(a==="horizontal"){var U=f.scale,V=v+i,W=V-s,B=V+s,J=U(_-j),$=U(_+O);S.push({x1:W,y1:$,x2:B,y2:$}),S.push({x1:V,y1:J,x2:V,y2:$}),S.push({x1:W,y1:J,x2:B,y2:J})}return le.createElement(rr,vv({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},h),S.map(function(ae){return le.createElement("line",vv({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return le.createElement(rr,{className:"recharts-errorBars"},y)}}])}(le.Component);xM(ig,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});xM(ig,"displayName","ErrorBar");function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){Hpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hpe(e,t,r){return t=Wpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wpe(e){var t=Vpe(e,"string");return gm(t)=="symbol"?t:t+""}function Vpe(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _M=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=na(r,Us);if(!s)return null;var o=Us.defaultProps,l=o!==void 0?Ec(Ec({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(n||[]).reduce(function(u,f){var p=f.item,h=f.props,y=h.sectors||h.data||[];return u.concat(y.map(function(g){return{type:s.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(n||[]).map(function(u){var f=u.item,p=f.type.defaultProps,h=p!==void 0?Ec(Ec({},p),f.props):{},y=h.dataKey,g=h.name,b=h.legendType,v=h.hide;return{inactive:v,dataKey:y,type:l.iconType||b||"square",color:bN(f),value:g||y,payload:h}}),Ec(Ec(Ec({},l),Us.getWithHeight(s,i)),{},{payload:c,item:s})};function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function LO(e){return Xpe(e)||Ype(e)||Kpe(e)||Gpe()}function Gpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kpe(e,t){if(e){if(typeof e=="string")return Q5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q5(e,t)}}function Ype(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xpe(e){if(Array.isArray(e))return Q5(e)}function Q5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){Dd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dd(e,t,r){return t=Jpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jpe(e){var t=Zpe(e,"string");return ym(t)=="symbol"?t:t+""}function Zpe(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tn(e,t,r){return Dt(e)||Dt(t)?r:Ln(t)?fa(e,t,r):Ot(t)?t(e):r}function Sp(e,t,r,n){var i=Yhe(e,function(o){return Tn(o,t)});if(r==="number"){var a=i.filter(function(o){return Ze(o)||parseFloat(o)});return a.length?[Q1(a),Z1(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!Dt(o)}):i;return s.map(function(o){return Ln(o)||o instanceof Date?o:""})}var Qpe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,p=c>=o-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(wi(f-u)!==wi(p-f)){var y=[];if(wi(p-f)===wi(l[1]-l[0])){h=p;var g=f+l[1]-l[0];y[0]=Math.min(g,(g+u)/2),y[1]=Math.max(g,(g+u)/2)}else{h=u;var b=p+l[1]-l[0];y[0]=Math.min(f,(b+f)/2),y[1]=Math.max(f,(b+f)/2)}var v=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>v[0]&&t<=v[1]||t>=y[0]&&t<=y[1]){s=i[c].index;break}}else{var w=Math.min(u,p),_=Math.max(u,p);if(t>(w+f)/2&&t<=(_+f)/2){s=i[c].index;break}}}else for(var N=0;N<o;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<o-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===o-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){s=n[N].index;break}return s},bN=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Qr(Qr({},t.type.defaultProps),t.props):t.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},eme=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,f=Object.keys(u),p=0,h=f.length;p<h;p++){var y=u[f[p]],g=y.items,b=y.cateAxisId,v=g.filter(function(O){return Eo(O.type).indexOf("Bar")>=0});if(v&&v.length){var w=v[0].type.defaultProps,_=w!==void 0?Qr(Qr({},w),v[0].props):v[0].props,N=_.barSize,S=_[b];s[S]||(s[S]=[]);var j=Dt(N)?r:N;s[S].push({item:v[0],stackList:v.slice(1),barSize:Dt(j)?void 0:_i(j,n,0)})}}return s},tme=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=_i(r,i,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var p=!1,h=i/l,y=s.reduce(function(N,S){return N+S.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&h>0&&(p=!0,h*=.9,y=l*h);var g=(i-y)/2>>0,b={offset:g-c,size:0};u=s.reduce(function(N,S){var j={item:S.item,position:{offset:b.offset+b.size+c,size:p?h:S.barSize}},O=[].concat(LO(N),[j]);return b=O[O.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(I){O.push({item:I,position:b})}),O},f)}else{var v=_i(n,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var w=(i-2*v-(l-1)*c)/l;w>1&&(w>>=0);var _=o===+o?Math.min(w,o):w;u=s.reduce(function(N,S,j){var O=[].concat(LO(N),[{item:S.item,position:{offset:v+(w+c)*j+(w-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(I){O.push({item:I,position:O[O.length-1].position})}),O},f)}return u},rme=function(t,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=_M({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,p=u.height,h=c.align,y=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&h!=="center"&&Ze(t[h]))return Qr(Qr({},t),{},Dd({},h,t[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&y!=="middle"&&Ze(t[y]))return Qr(Qr({},t),{},Dd({},y,t[y]+(p||0)))}return t},nme=function(t,r,n){return Dt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},SM=function(t,r,n,i,a){var s=r.props.children,o=ha(s,ig).filter(function(c){return nme(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=Tn(u,n);if(Dt(f))return c;var p=Array.isArray(f)?[Q1(f),Z1(f)]:[f,f],h=l.reduce(function(y,g){var b=Tn(u,g,0),v=p[0]-Math.abs(Array.isArray(b)?b[0]:b),w=p[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(v,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},ime=function(t,r,n,i,a){var s=r.map(function(o){return SM(t,o,n,a,i)}).filter(function(o){return!Dt(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},jM=function(t,r,n,i,a){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&SM(t,l,c,i)||Sp(t,c,n,a)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},NM=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},AM=function(t,r,n,i){if(i)return t.map(function(l){return l.coordinate});var a,s,o=t.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},jo=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?wi(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:i(p)+c,value:f,offset:c}});return u.filter(function(f){return!Ym(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:i(f)+c,value:f,index:p,offset:c}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,p){return{coordinate:i(f)+c,value:a?a[f]:f,index:p,offset:c}})},u2=new WeakMap,N0=function(t,r){if(typeof r!="function")return t;u2.has(t)||u2.set(t,new WeakMap);var n=u2.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},kM=function(t,r,n){var i=t.scale,a=t.type,s=t.layout,o=t.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:cm(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:hv(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:_p(),realScaleType:"point"}:a==="category"?{scale:cm(),realScaleType:"band"}:{scale:hv(),realScaleType:"linear"};if(cu(i)){var l="scale".concat(D1(i));return{scale:(EO[l]||_p)(),realScaleType:EO[l]?l:"point"}}return Ot(i)?{scale:i}:{scale:_p(),realScaleType:"point"}},$O=1e-4,EM=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-$O,s=Math.max(i[0],i[1])+$O,o=t(r[0]),l=t(r[n-1]);(o<a||o>s||l<a||l>s)&&t.domain([r[0],r[n-1]])}},ame=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},sme=function(t,r){if(!r||r.length!==2||!Ze(r[0])||!Ze(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!Ze(t[0])||t[0]<n)&&(a[0]=n),(!Ze(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},ome=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=Ym(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},lme=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=Ym(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},cme={sign:ome,expand:Ete,none:nf,silhouette:Ote,wiggle:Pte,positive:lme},ume=function(t,r,n){var i=r.map(function(o){return o.props.dataKey}),a=cme[n],s=kte().keys(i).value(function(o,l){return+Tn(o,l,0)}).order(j5).offset(a);return s(t)},dme=function(t,r,n,i,a,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,p){var h,y=(h=p.type)!==null&&h!==void 0&&h.defaultProps?Qr(Qr({},p.type.defaultProps),p.props):p.props,g=y.stackId,b=y.hide;if(b)return f;var v=y[n],w=f[v]||{hasStack:!1,stackGroups:{}};if(Ln(g)){var _=w.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(p),w.hasStack=!0,w.stackGroups[g]=_}else w.stackGroups[Gf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return Qr(Qr({},f),{},Dd({},v,w))},l),u={};return Object.keys(c).reduce(function(f,p){var h=c[p];if(h.hasStack){var y={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,b){var v=h.stackGroups[b];return Qr(Qr({},g),{},Dd({},b,{numericAxisId:n,cateAxisId:i,items:v.items,stackedData:ume(t,v.items,a)}))},y)}return Qr(Qr({},f),{},Dd({},p,h))},u)},OM=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=Npe(c,a,o);return t.domain([Q1(u),Z1(u)]),{niceTicks:u}}if(a&&i==="number"){var f=t.domain(),p=Ape(f,a,o);return{niceTicks:p}}return null};function MO(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Dt(i[t.dataKey])){var o=Vy(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Tn(i,Dt(s)?t.dataKey:s);return Dt(l)?null:t.scale(l)}var DO=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=Tn(s,r.dataKey,r.domain[o]);return Dt(l)?null:r.scale(l)-a/2+i},fme=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},hme=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Qr(Qr({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Ln(a)){var s=r[a];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},pme=function(t){return t.reduce(function(r,n){return[Q1(n.concat([r[0]]).filter(Ze)),Z1(n.concat([r[1]]).filter(Ze))]},[1/0,-1/0])},PM=function(t,r,n){return Object.keys(t).reduce(function(i,a){var s=t[a],o=s.stackedData,l=o.reduce(function(c,u){var f=pme(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},BO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,e_=function(t,r,n){if(Ot(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(Ze(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(BO.test(t[0])){var a=+BO.exec(t[0])[1];i[0]=r[0]-a}else Ot(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Ze(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(FO.test(t[1])){var s=+FO.exec(t[1])[1];i[1]=r[1]+s}else Ot(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},xv=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=Gj(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},UO=function(t,r,n){return!t||!t.length||ng(t,fa(n,"type.defaultProps.domain"))?r:t},CM=function(t,r){var n=t.type.defaultProps?Qr(Qr({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Qr(Qr({},jt(t,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:bN(t),value:Tn(r,i),type:l,payload:r,chartType:c,hide:u})};function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){TM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TM(e,t,r){return t=mme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mme(e){var t=gme(e,"string");return vm(t)=="symbol"?t:t+""}function gme(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yme(e,t){return wme(e)||xme(e,t)||bme(e,t)||vme()}function vme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bme(e,t){if(e){if(typeof e=="string")return qO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qO(e,t)}}function qO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function wme(e){if(Array.isArray(e))return e}var wv=Math.PI/180,_me=function(t){return t*180/Math.PI},Tr=function(t,r,n,i){return{x:t+Math.cos(-wv*i)*n,y:r+Math.sin(-wv*i)*n}},IM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Sme=function(t,r,n,i,a){var s=t.width,o=t.height,l=t.startAngle,c=t.endAngle,u=_i(t.cx,s,s/2),f=_i(t.cy,o,o/2),p=IM(s,o,n),h=_i(t.innerRadius,p,0),y=_i(t.outerRadius,p,p*.8),g=Object.keys(r);return g.reduce(function(b,v){var w=r[v],_=w.domain,N=w.reversed,S;if(Dt(w.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[h,y]),N&&(S=[S[1],S[0]]);else{S=w.range;var j=S,O=yme(j,2);l=O[0],c=O[1]}var I=kM(w,a),L=I.realScaleType,F=I.scale;F.domain(_).range(S),EM(F);var k=OM(F,mo(mo({},w),{},{realScaleType:L})),P=mo(mo(mo({},w),k),{},{range:S,radius:y,realScaleType:L,scale:F,cx:u,cy:f,innerRadius:h,outerRadius:y,startAngle:l,endAngle:c});return mo(mo({},b),{},TM({},v,P))},{})},jme=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},Nme=function(t,r){var n=t.x,i=t.y,a=r.cx,s=r.cy,o=jme({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:_me(c),angleInRadian:c}},Ame=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},kme=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return t+o*360},HO=function(t,r){var n=t.x,i=t.y,a=Nme({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=Ame(r),f=u.startAngle,p=u.endAngle,h=o,y;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;y=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;y=h>=p&&h<=f}return y?mo(mo({},r),{},{radius:s,angle:kme(h,r)}):null},LM=function(t){return!X.isValidElement(t)&&!Ot(t)&&typeof t!="boolean"?t.className:""};function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}var Eme=["offset"];function Ome(e){return Ime(e)||Tme(e)||Cme(e)||Pme()}function Pme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cme(e,t){if(e){if(typeof e=="string")return t_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(e,t)}}function Tme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ime(e){if(Array.isArray(e))return t_(e)}function t_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lme(e,t){if(e==null)return{};var r=Rme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){$me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $me(e,t,r){return t=Mme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mme(e){var t=Dme(e,"string");return bm(t)=="symbol"?t:t+""}function Dme(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xm.apply(this,arguments)}var Bme=function(t){var r=t.value,n=t.formatter,i=Dt(t.children)?r:t.children;return Ot(n)?n(i):i},Fme=function(t,r){var n=wi(r-t),i=Math.min(Math.abs(r-t),360);return n*i},Ume=function(t,r,n){var i=t.position,a=t.viewBox,s=t.offset,o=t.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,p=l.outerRadius,h=l.startAngle,y=l.endAngle,g=l.clockWise,b=(f+p)/2,v=Fme(h,y),w=v>=0?1:-1,_,N;i==="insideStart"?(_=h+w*s,N=g):i==="insideEnd"?(_=y-w*s,N=!g):i==="end"&&(_=y+w*s,N=g),N=v<=0?N:!N;var S=Tr(c,u,b,_),j=Tr(c,u,b,_+(N?1:-1)*359),O="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(N?0:1,`,
    `).concat(j.x,",").concat(j.y),I=Dt(t.id)?Gf("recharts-radial-line-"):t.id;return le.createElement("text",xm({},n,{dominantBaseline:"central",className:Ht("recharts-radial-bar-label",o)}),le.createElement("defs",null,le.createElement("path",{id:I,d:O})),le.createElement("textPath",{xlinkHref:"#".concat(I)},r))},zme=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,p=(u+f)/2;if(i==="outside"){var h=Tr(s,o,c+n,p),y=h.x,g=h.y;return{x:y,y:g,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,v=Tr(s,o,b,p),w=v.x,_=v.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},qme=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,p=f*i,h=f>0?"end":"start",y=f>0?"start":"end",g=c>=0?1:-1,b=g*i,v=g>0?"end":"start",w=g>0?"start":"end";if(a==="top"){var _={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return On(On({},_),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var N={x:o+c/2,y:l+u+p,textAnchor:"middle",verticalAnchor:y};return On(On({},N),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var S={x:o-b,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return On(On({},S),n?{width:Math.max(S.x-n.x,0),height:u}:{})}if(a==="right"){var j={x:o+c+b,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return On(On({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:u}:{})}var O=n?{width:c,height:u}:{};return a==="insideLeft"?On({x:o+b,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},O):a==="insideRight"?On({x:o+c-b,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},O):a==="insideTop"?On({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:y},O):a==="insideBottom"?On({x:o+c/2,y:l+u-p,textAnchor:"middle",verticalAnchor:h},O):a==="insideTopLeft"?On({x:o+b,y:l+p,textAnchor:w,verticalAnchor:y},O):a==="insideTopRight"?On({x:o+c-b,y:l+p,textAnchor:v,verticalAnchor:y},O):a==="insideBottomLeft"?On({x:o+b,y:l+u-p,textAnchor:w,verticalAnchor:h},O):a==="insideBottomRight"?On({x:o+c-b,y:l+u-p,textAnchor:v,verticalAnchor:h},O):qf(a)&&(Ze(a.x)||Kc(a.x))&&(Ze(a.y)||Kc(a.y))?On({x:o+_i(a.x,c),y:l+_i(a.y,u),textAnchor:"end",verticalAnchor:"end"},O):On({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},O)},Hme=function(t){return"cx"in t&&Ze(t.cx)};function Un(e){var t=e.offset,r=t===void 0?5:t,n=Lme(e,Eme),i=On({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,p=i.textBreakAll;if(!a||Dt(o)&&Dt(l)&&!X.isValidElement(c)&&!Ot(c))return null;if(X.isValidElement(c))return X.cloneElement(c,i);var h;if(Ot(c)){if(h=X.createElement(c,i),X.isValidElement(h))return h}else h=Bme(i);var y=Hme(a),g=jt(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Ume(i,h,g);var b=y?zme(i):qme(i);return le.createElement(du,xm({className:Ht("recharts-label",f)},g,b,{breakAll:p}),h)}Un.displayName="Label";var RM=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,p=t.y,h=t.top,y=t.left,g=t.width,b=t.height,v=t.clockWise,w=t.labelViewBox;if(w)return w;if(Ze(g)&&Ze(b)){if(Ze(f)&&Ze(p))return{x:f,y:p,width:g,height:b};if(Ze(h)&&Ze(y))return{x:h,y,width:g,height:b}}return Ze(f)&&Ze(p)?{x:f,y:p,width:0,height:0}:Ze(r)&&Ze(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:v}:t.viewBox?t.viewBox:{}},Wme=function(t,r){return t?t===!0?le.createElement(Un,{key:"label-implicit",viewBox:r}):Ln(t)?le.createElement(Un,{key:"label-implicit",viewBox:r,value:t}):X.isValidElement(t)?t.type===Un?X.cloneElement(t,{key:"label-implicit",viewBox:r}):le.createElement(Un,{key:"label-implicit",content:t,viewBox:r}):Ot(t)?le.createElement(Un,{key:"label-implicit",content:t,viewBox:r}):qf(t)?le.createElement(Un,xm({viewBox:r},t,{key:"label-implicit"})):null:null},Vme=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=RM(t),s=ha(i,Un).map(function(l,c){return X.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return s;var o=Wme(t.label,r||a);return[o].concat(Ome(s))};Un.parseViewBox=RM;Un.renderCallByParent=Vme;function Gme(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Kme=Gme;const Yme=lr(Kme);function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}var Xme=["valueAccessor"],Jme=["data","dataKey","clockWise","id","textBreakAll"];function Zme(e){return rge(e)||tge(e)||ege(e)||Qme()}function Qme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ege(e,t){if(e){if(typeof e=="string")return r_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r_(e,t)}}function tge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rge(e){if(Array.isArray(e))return r_(e)}function r_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_v.apply(this,arguments)}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){nge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nge(e,t,r){return t=ige(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ige(e){var t=age(e,"string");return wm(t)=="symbol"?t:t+""}function age(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KO(e,t){if(e==null)return{};var r=sge(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oge=function(t){return Array.isArray(t.value)?Yme(t.value):t.value};function Po(e){var t=e.valueAccessor,r=t===void 0?oge:t,n=KO(e,Xme),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=KO(n,Jme);return!i||!i.length?null:le.createElement(rr,{className:"recharts-label-list"},i.map(function(u,f){var p=Dt(a)?r(u,f):Tn(u&&u.payload,a),h=Dt(o)?{}:{id:"".concat(o,"-").concat(f)};return le.createElement(Un,_v({},jt(u,!0),c,h,{parentViewBox:u.parentViewBox,value:p,textBreakAll:l,viewBox:Un.parseViewBox(Dt(s)?u:GO(GO({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Po.displayName="LabelList";function lge(e,t){return e?e===!0?le.createElement(Po,{key:"labelList-implicit",data:t}):le.isValidElement(e)||Ot(e)?le.createElement(Po,{key:"labelList-implicit",data:t,content:e}):qf(e)?le.createElement(Po,_v({data:t},e,{key:"labelList-implicit"})):null:null}function cge(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=ha(n,Po).map(function(s,o){return X.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return i;var a=lge(e.label,t);return[a].concat(Zme(i))}Po.renderCallByParent=cge;function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n_.apply(this,arguments)}function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(n){uge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uge(e,t,r){return t=dge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dge(e){var t=fge(e,"string");return _m(t)=="symbol"?t:t+""}function fge(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hge=function(t,r){var n=wi(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},A0=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+i,f=Math.asin(l/u)/wv,p=c?a:a+s*f,h=Tr(r,n,u,p),y=Tr(r,n,i,p),g=c?a-s*f:a,b=Tr(r,n,u*Math.cos(f*wv),g);return{center:h,circleTangency:y,lineTangency:b,theta:f}},$M=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,o=t.endAngle,l=hge(s,o),c=s+l,u=Tr(r,n,a,s),f=Tr(r,n,a,c),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=Tr(r,n,i,s),y=Tr(r,n,i,c);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},pge=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=wi(u-c),p=A0({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),h=p.circleTangency,y=p.lineTangency,g=p.theta,b=A0({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),v=b.circleTangency,w=b.lineTangency,_=b.theta,N=l?Math.abs(c-u):Math.abs(c-u)-g-_;if(N<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):$M({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var j=A0({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=j.circleTangency,I=j.lineTangency,L=j.theta,F=A0({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=F.circleTangency,P=F.lineTangency,D=F.theta,M=l?Math.abs(c-u):Math.abs(c-u)-L-D;if(M<0&&s===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},mge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MM=function(t){var r=XO(XO({},mge),t),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,p=r.className;if(s<a||u===f)return null;var h=Ht("recharts-sector",p),y=s-a,g=_i(o,y,0,!0),b;return g>0&&Math.abs(u-f)<360?b=pge({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):b=$M({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f}),le.createElement("path",n_({},jt(r,!0),{className:h,d:b,role:"img"}))};function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(this,arguments)}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){gge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gge(e,t,r){return t=yge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yge(e){var t=vge(e,"string");return Sm(t)=="symbol"?t:t+""}function vge(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QO={curveBasisClosed:gte,curveBasisOpen:yte,curveBasis:mte,curveBumpX:tte,curveBumpY:rte,curveLinearClosed:vte,curveLinear:F1,curveMonotoneX:bte,curveMonotoneY:xte,curveNatural:wte,curveStep:_te,curveStepAfter:jte,curveStepBefore:Ste},k0=function(t){return t.x===+t.x&&t.y===+t.y},Gh=function(t){return t.x},Kh=function(t){return t.y},bge=function(t,r){if(Ot(t))return t;var n="curve".concat(D1(t));return(n==="curveMonotone"||n==="curveBump")&&r?QO["".concat(n).concat(r==="vertical"?"Y":"X")]:QO[n]||F1},xge=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=bge(n,o),f=c?a.filter(function(g){return k0(g)}):a,p;if(Array.isArray(s)){var h=c?s.filter(function(g){return k0(g)}):s,y=f.map(function(g,b){return ZO(ZO({},g),{},{base:h[b]})});return o==="vertical"?p=y0().y(Kh).x1(Gh).x0(function(g){return g.base.x}):p=y0().x(Gh).y1(Kh).y0(function(g){return g.base.y}),p.defined(k0).curve(u),p(y)}return o==="vertical"&&Ze(s)?p=y0().y(Kh).x1(Gh).x0(s):Ze(s)?p=y0().x(Gh).y1(Kh).y0(s):p=CR().x(Gh).y(Kh),p.defined(k0).curve(u),p(f)},Sv=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?xge(t):i;return X.createElement("path",i_({},jt(t,!1),Gy(t),{className:Ht("recharts-curve",r),d:s,ref:a}))},DM={exports:{}},wge="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_ge=wge,Sge=_ge;function BM(){}function FM(){}FM.resetWarningCache=BM;var jge=function(){function e(n,i,a,s,o,l){if(l!==Sge){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:FM,resetWarningCache:BM};return r.PropTypes=r,r};DM.exports=jge();var Nge=DM.exports;const fr=lr(Nge);var Age=Object.getOwnPropertyNames,kge=Object.getOwnPropertySymbols,Ege=Object.prototype.hasOwnProperty;function eP(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function E0(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=e(r,n,i);return a.delete(r),a.delete(n),l}}function Oge(e){return e!=null?e[Symbol.toStringTag]:void 0}function tP(e){return Age(e).concat(kge(e))}var Pge=Object.hasOwn||function(e,t){return Ege.call(e,t)};function Au(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Cge="__v",Tge="__o",Ige="_owner",rP=Object.getOwnPropertyDescriptor,nP=Object.keys;function Lge(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Rge(e,t){return Au(e.getTime(),t.getTime())}function $ge(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Mge(e,t){return e===t}function iP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var c=t.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(i[f]){f++;continue}var p=s.value,h=o.value;if(r.equals(p[0],h[0],l,f,e,t,r)&&r.equals(p[1],h[1],p[0],h[0],e,t,r)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var Dge=Au;function Bge(e,t,r){var n=nP(e),i=n.length;if(nP(t).length!==i)return!1;for(;i-- >0;)if(!UM(e,t,r,n[i]))return!1;return!0}function Yh(e,t,r){var n=tP(e),i=n.length;if(tP(t).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!UM(e,t,r,a)||(s=rP(e,a),o=rP(t,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function Fge(e,t){return Au(e.valueOf(),t.valueOf())}function Uge(e,t){return e.source===t.source&&e.flags===t.flags}function aP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),s,o;(s=a.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!i[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function zge(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function qge(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function UM(e,t,r,n){return(n===Ige||n===Tge||n===Cge)&&(e.$$typeof||t.$$typeof)?!0:Pge(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Hge="[object Arguments]",Wge="[object Boolean]",Vge="[object Date]",Gge="[object Error]",Kge="[object Map]",Yge="[object Number]",Xge="[object Object]",Jge="[object RegExp]",Zge="[object Set]",Qge="[object String]",e0e="[object URL]",t0e=Array.isArray,sP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,oP=Object.assign,r0e=Object.prototype.toString.call.bind(Object.prototype.toString);function n0e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual,h=e.unknownTagComparators;return function(g,b,v){if(g===b)return!0;if(g==null||b==null)return!1;var w=typeof g;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?s(g,b,v):w==="function"?i(g,b,v):!1;var _=g.constructor;if(_!==b.constructor)return!1;if(_===Object)return o(g,b,v);if(t0e(g))return t(g,b,v);if(sP!=null&&sP(g))return f(g,b,v);if(_===Date)return r(g,b,v);if(_===RegExp)return c(g,b,v);if(_===Map)return a(g,b,v);if(_===Set)return u(g,b,v);var N=r0e(g);if(N===Vge)return r(g,b,v);if(N===Jge)return c(g,b,v);if(N===Kge)return a(g,b,v);if(N===Zge)return u(g,b,v);if(N===Xge)return typeof g.then!="function"&&typeof b.then!="function"&&o(g,b,v);if(N===e0e)return p(g,b,v);if(N===Gge)return n(g,b,v);if(N===Hge)return o(g,b,v);if(N===Wge||N===Yge||N===Qge)return l(g,b,v);if(h){var S=h[N];if(!S){var j=Oge(g);j&&(S=h[j])}if(S)return S(g,b,v)}return!1}}function i0e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Yh:Lge,areDatesEqual:Rge,areErrorsEqual:$ge,areFunctionsEqual:Mge,areMapsEqual:n?eP(iP,Yh):iP,areNumbersEqual:Dge,areObjectsEqual:n?Yh:Bge,arePrimitiveWrappersEqual:Fge,areRegExpsEqual:Uge,areSetsEqual:n?eP(aP,Yh):aP,areTypedArraysEqual:n?Yh:zge,areUrlsEqual:qge,unknownTagComparators:void 0};if(r&&(i=oP({},i,r(i))),t){var a=E0(i.areArraysEqual),s=E0(i.areMapsEqual),o=E0(i.areObjectsEqual),l=E0(i.areSetsEqual);i=oP({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function a0e(e){return function(t,r,n,i,a,s,o){return e(t,r,o)}}function s0e(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(l,c){var u=n(),f=u.cache,p=f===void 0?t?new WeakMap:void 0:f,h=u.meta;return r(l,c,{cache:p,equals:i,meta:h,strict:a})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,s)}}var o0e=ec();ec({strict:!0});ec({circular:!0});ec({circular:!0,strict:!0});ec({createInternalComparator:function(){return Au}});ec({strict:!0,createInternalComparator:function(){return Au}});ec({circular:!0,createInternalComparator:function(){return Au}});ec({circular:!0,createInternalComparator:function(){return Au},strict:!0});function ec(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,s=a===void 0?!1:a,o=i0e(e),l=n0e(o),c=n?n(l):a0e(l);return s0e({circular:r,comparator:l,createState:i,equals:c,strict:s})}function l0e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function lP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):l0e(i)};requestAnimationFrame(n)}function a_(e){"@babel/helpers - typeof";return a_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a_(e)}function c0e(e){return h0e(e)||f0e(e)||d0e(e)||u0e()}function u0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d0e(e,t){if(e){if(typeof e=="string")return cP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cP(e,t)}}function cP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h0e(e){if(Array.isArray(e))return e}function p0e(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=c0e(s),l=o[0],c=o.slice(1);if(typeof l=="number"){lP(i.bind(null,c),l);return}i(l),lP(i.bind(null,c));return}a_(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){zM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zM(e,t,r){return t=m0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m0e(e){var t=g0e(e,"string");return jm(t)==="symbol"?t:String(t)}function g0e(e,t){if(jm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y0e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},v0e=function(t){return t},b0e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},jp=function(t,r){return Object.keys(r).reduce(function(n,i){return dP(dP({},n),{},zM({},i,t(i,r[i])))},{})},fP=function(t,r,n){return t.map(function(i){return"".concat(b0e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function x0e(e,t){return S0e(e)||_0e(e,t)||qM(e,t)||w0e()}function w0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function S0e(e){if(Array.isArray(e))return e}function j0e(e){return k0e(e)||A0e(e)||qM(e)||N0e()}function N0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qM(e,t){if(e){if(typeof e=="string")return s_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s_(e,t)}}function A0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k0e(e){if(Array.isArray(e))return s_(e)}function s_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jv=1e-4,HM=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},WM=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},hP=function(t,r){return function(n){var i=HM(t,r);return WM(i,n)}},E0e=function(t,r){return function(n){var i=HM(t,r),a=[].concat(j0e(i.map(function(s,o){return s*o}).slice(1)),[0]);return WM(a,n)}},pP=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),u=x0e(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var f=hP(i,s),p=hP(a,o),h=E0e(i,s),y=function(v){return v>1?1:v<0?0:v},g=function(v){for(var w=v>1?1:v,_=w,N=0;N<8;++N){var S=f(_)-w,j=h(_);if(Math.abs(S-w)<jv||j<jv)return p(_);_=y(_-S/j)}return p(_)};return g.isStepper=!1,g},O0e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,s=t.dt,o=s===void 0?17:s,l=function(u,f,p){var h=-(u-f)*n,y=p*a,g=p+(h-y)*o/1e3,b=p*o/1e3+u;return Math.abs(b-f)<jv&&Math.abs(g)<jv?[f,0]:[b,g]};return l.isStepper=!0,l.dt=o,l},P0e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pP(i);case"spring":return O0e();default:if(i.split("(")[0]==="cubic-bezier")return pP(i)}return typeof i=="function"?i:null};function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function mP(e){return I0e(e)||T0e(e)||VM(e)||C0e()}function C0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I0e(e){if(Array.isArray(e))return l_(e)}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){o_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o_(e,t,r){return t=L0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L0e(e){var t=R0e(e,"string");return Nm(t)==="symbol"?t:String(t)}function R0e(e,t){if(Nm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $0e(e,t){return B0e(e)||D0e(e,t)||VM(e,t)||M0e()}function M0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VM(e,t){if(e){if(typeof e=="string")return l_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l_(e,t)}}function l_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function B0e(e){if(Array.isArray(e))return e}var Nv=function(t,r,n){return t+(r-t)*n},c_=function(t){var r=t.from,n=t.to;return r!==n},F0e=function e(t,r,n){var i=jp(function(a,s){if(c_(s)){var o=t(s.from,s.to,s.velocity),l=$0e(o,2),c=l[0],u=l[1];return Yn(Yn({},s),{},{from:c,velocity:u})}return s},r);return n<1?jp(function(a,s){return c_(s)?Yn(Yn({},s),{},{velocity:Nv(s.velocity,i[a].velocity,n),from:Nv(s.from,i[a].from,n)}):s},r):e(t,i,n-1)};const U0e=function(e,t,r,n,i){var a=y0e(e,t),s=a.reduce(function(b,v){return Yn(Yn({},b),{},o_({},v,[e[v],t[v]]))},{}),o=a.reduce(function(b,v){return Yn(Yn({},b),{},o_({},v,{from:e[v],velocity:0,to:t[v]}))},{}),l=-1,c,u,f=function(){return null},p=function(){return jp(function(v,w){return w.from},o)},h=function(){return!Object.values(o).filter(c_).length},y=function(v){c||(c=v);var w=v-c,_=w/r.dt;o=F0e(r,o,_),i(Yn(Yn(Yn({},e),t),p())),c=v,h()||(l=requestAnimationFrame(f))},g=function(v){u||(u=v);var w=(v-u)/n,_=jp(function(S,j){return Nv.apply(void 0,mP(j).concat([r(w)]))},s);if(i(Yn(Yn(Yn({},e),t),_)),w<1)l=requestAnimationFrame(f);else{var N=jp(function(S,j){return Nv.apply(void 0,mP(j).concat([r(1)]))},s);i(Yn(Yn(Yn({},e),t),N))}};return f=r.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}var z0e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function q0e(e,t){if(e==null)return{};var r=H0e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H0e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function d2(e){return K0e(e)||G0e(e)||V0e(e)||W0e()}function W0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V0e(e,t){if(e){if(typeof e=="string")return u_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u_(e,t)}}function G0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function K0e(e){if(Array.isArray(e))return u_(e)}function u_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){ap(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ap(e,t,r){return t=GM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GM(n.key),n)}}function J0e(e,t,r){return t&&X0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GM(e){var t=Z0e(e,"string");return hf(t)==="symbol"?t:String(t)}function Z0e(e,t){if(hf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d_(e,t)}function d_(e,t){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d_(e,t)}function eye(e){var t=tye();return function(){var n=Av(e),i;if(t){var a=Av(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return f_(this,i)}}function f_(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h_(e)}function h_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Av(e){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Av(e)}var Gs=function(e){Q0e(r,e);var t=eye(r);function r(n,i){var a;Y0e(this,r),a=t.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,p=s.children,h=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(h_(a)),a.changeStyle=a.changeStyle.bind(h_(a)),!o||h<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:u}),f_(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof p=="function")return a.state={style:c},f_(a);a.state={style:l?ap({},l,c):c}}else a.state={style:{}};return a}return J0e(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,p=this.state.style;if(o){if(!s){var h={style:l?ap({},l,u):u};this.state&&p&&(l&&p[l]!==u||!l&&p!==u)&&this.setState(h);return}if(!(o0e(i.to,u)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||c?f:i.to;if(this.state&&p){var b={style:l?ap({},l,g):g};(l&&p[l]!==g||!l&&p!==g)&&this.setState(b)}this.runAnimation(Qa(Qa({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,h=U0e(s,o,P0e(c),l,this.changeStyle),y=function(){a.stopJSAnimation=h()};this.manager.start([p,u,y,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,f=c.duration,p=f===void 0?0:f,h=function(g,b,v){if(v===0)return g;var w=b.duration,_=b.easing,N=_===void 0?"ease":_,S=b.style,j=b.properties,O=b.onAnimationEnd,I=v>0?s[v-1]:b,L=j||Object.keys(S);if(typeof N=="function"||N==="spring")return[].concat(d2(g),[a.runJSAnimation.bind(a,{from:I.style,to:S,duration:w,easing:N}),w]);var F=fP(L,w,N),k=Qa(Qa(Qa({},I.style),S),{},{transition:F});return[].concat(d2(g),[k,w,O]).filter(v0e)};return this.manager.start([l].concat(d2(s.reduce(h,[u,Math.max(p,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=p0e());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,h=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var g=o?ap({},o,l):l,b=fP(Object.keys(g),s,c);y.start([u,a,Qa(Qa({},g),{},{transition:b}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=q0e(i,z0e),c=X.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var f=function(h){var y=h.props,g=y.style,b=g===void 0?{}:g,v=y.className,w=X.cloneElement(h,Qa(Qa({},l),{},{style:Qa(Qa({},b),u),className:v}));return w};return c===1?f(X.Children.only(a)):le.createElement("div",null,X.Children.map(a,function(p){return f(p)}))}}]),r}(X.PureComponent);Gs.displayName="Animate";Gs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Gs.propTypes={from:fr.oneOfType([fr.object,fr.string]),to:fr.oneOfType([fr.object,fr.string]),attributeName:fr.string,duration:fr.number,begin:fr.number,easing:fr.oneOfType([fr.string,fr.func]),steps:fr.arrayOf(fr.shape({duration:fr.number.isRequired,style:fr.object.isRequired,easing:fr.oneOfType([fr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),fr.func]),properties:fr.arrayOf("string"),onAnimationEnd:fr.func})),children:fr.oneOfType([fr.node,fr.func]),isActive:fr.bool,canBegin:fr.bool,onAnimationEnd:fr.func,shouldReAnimate:fr.bool,onAnimationStart:fr.func,onAnimationReStart:fr.func};function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kv.apply(this,arguments)}function rye(e,t){return sye(e)||aye(e,t)||iye(e,t)||nye()}function nye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iye(e,t){if(e){if(typeof e=="string")return vP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vP(e,t)}}function vP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function sye(e){if(Array.isArray(e))return e}function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){oye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oye(e,t,r){return t=lye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lye(e){var t=cye(e,"string");return Am(t)=="symbol"?t:t+""}function cye(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wP=function(t,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=a[p]>s?s:a[p];u="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*f[1])),u+="L ".concat(t+n,",").concat(r+i-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+i)),u+="L ".concat(t+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+i-o*f[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);u="M ".concat(t,",").concat(r+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+l*y,",").concat(r,`
            L `).concat(t+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*y,`
            L `).concat(t+n,",").concat(r+i-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n-l*y,",").concat(r+i,`
            L `).concat(t+l*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t,",").concat(r+i-o*y," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},uye=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),f=Math.min(s,s+l),p=Math.max(s,s+l);return n>=c&&n<=u&&i>=f&&i<=p}return!1},dye={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xN=function(t){var r=xP(xP({},dye),t),n=X.useRef(),i=X.useState(-1),a=rye(i,2),s=a[0],o=a[1];X.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&o(N)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,p=r.radius,h=r.className,y=r.animationEasing,g=r.animationDuration,b=r.animationBegin,v=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var _=Ht("recharts-rectangle",h);return w?le.createElement(Gs,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:g,animationEasing:y,isActive:w},function(N){var S=N.width,j=N.height,O=N.x,I=N.y;return le.createElement(Gs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:v,easing:y},le.createElement("path",kv({},jt(r,!0),{className:_,d:wP(O,I,S,j,p),ref:n})))}):le.createElement("path",kv({},jt(r,!0),{className:_,d:wP(l,c,u,f,p)}))},fye=["points","className","baseLinePoints","connectNulls"];function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wd.apply(this,arguments)}function hye(e,t){if(e==null)return{};var r=pye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _P(e){return vye(e)||yye(e)||gye(e)||mye()}function mye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gye(e,t){if(e){if(typeof e=="string")return p_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p_(e,t)}}function yye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vye(e){if(Array.isArray(e))return p_(e)}function p_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var SP=function(t){return t&&t.x===+t.x&&t.y===+t.y},bye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){SP(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),SP(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Np=function(t,r){var n=bye(t);r&&(n=[n.reduce(function(a,s){return[].concat(_P(a),_P(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},xye=function(t,r,n){var i=Np(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Np(r.reverse(),n).slice(1))},wye=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,s=hye(t,fye);if(!r||!r.length)return null;var o=Ht("recharts-polygon",n);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",c=xye(r,i,a);return le.createElement("g",{className:o},le.createElement("path",wd({},jt(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?le.createElement("path",wd({},jt(s,!0),{fill:"none",d:Np(r,a)})):null,l?le.createElement("path",wd({},jt(s,!0),{fill:"none",d:Np(i,a)})):null)}var u=Np(r,a);return le.createElement("path",wd({},jt(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:o,d:u}))};function m_(){return m_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m_.apply(this,arguments)}var rb=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,s=Ht("recharts-dot",a);return r===+r&&n===+n&&i===+i?X.createElement("circle",m_({},jt(t,!1),Gy(t),{className:s,cx:r,cy:n,r:i})):null};function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}var _ye=["x","y","top","left","width","height","className"];function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g_.apply(this,arguments)}function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){jye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jye(e,t,r){return t=Nye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nye(e){var t=Aye(e,"string");return km(t)=="symbol"?t:t+""}function Aye(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kye(e,t){if(e==null)return{};var r=Eye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Oye=function(t,r,n,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Pye=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,p=t.height,h=p===void 0?0:p,y=t.className,g=kye(t,_ye),b=Sye({x:n,y:a,top:o,left:c,width:f,height:h},g);return!Ze(n)||!Ze(a)||!Ze(f)||!Ze(h)||!Ze(o)||!Ze(c)?null:le.createElement("path",g_({},jt(b,!0),{className:Ht("recharts-cross",y),d:Oye(n,a,f,h,o,c)}))},Cye=J1,Tye=aM,Iye=Ys;function Lye(e,t){return e&&e.length?Cye(e,Iye(t),Tye):void 0}var Rye=Lye;const $ye=lr(Rye);var Mye=J1,Dye=Ys,Bye=sM;function Fye(e,t){return e&&e.length?Mye(e,Dye(t),Bye):void 0}var Uye=Fye;const zye=lr(Uye);var qye=["cx","cy","angle","ticks","axisLine"],Hye=["ticks","tick","angle","tickFormatter","stroke"];function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ap.apply(this,arguments)}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){nb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AP(e,t){if(e==null)return{};var r=Wye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YM(n.key),n)}}function Gye(e,t,r){return t&&kP(e.prototype,t),r&&kP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kye(e,t,r){return t=Ev(t),Yye(e,KM()?Reflect.construct(t,r||[],Ev(e).constructor):t.apply(e,r))}function Yye(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xye(e)}function Xye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KM=function(){return!!e})()}function Ev(e){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ev(e)}function Jye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y_(e,t)}function y_(e,t){return y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y_(e,t)}function nb(e,t,r){return t=YM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YM(e){var t=Zye(e,"string");return pf(t)=="symbol"?t:t+""}function Zye(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ib=function(e){function t(){return Vye(this,t),Kye(this,t,arguments)}return Jye(t,e),Gye(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return Tr(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=$ye(o,function(u){return u.coordinate||0}),c=zye(o,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=n.axisLine,c=AP(n,qye),u=o.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),f=Tr(i,a,u[0],s),p=Tr(i,a,u[1],s),h=Oc(Oc(Oc({},jt(c,!1)),{},{fill:"none"},jt(l,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return le.createElement("line",Ap({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,u=AP(i,Hye),f=this.getTickTextAnchor(),p=jt(u,!1),h=jt(s,!1),y=a.map(function(g,b){var v=n.getTickValueCoord(g),w=Oc(Oc(Oc(Oc({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(v.x,", ").concat(v.y,")")},p),{},{stroke:"none",fill:c},h),{},{index:b},v),{},{payload:g});return le.createElement(rr,Ap({className:Ht("recharts-polar-radius-axis-tick",LM(s)),key:"tick-".concat(g.coordinate)},uu(n.props,g,b)),t.renderTickItem(s,w,l?l(g.value,b):g.value))});return le.createElement(rr,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:le.createElement(rr,{className:Ht("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Un.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return le.isValidElement(n)?s=le.cloneElement(n,i):Ot(n)?s=n(i):s=le.createElement(du,Ap({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(X.PureComponent);nb(ib,"displayName","PolarRadiusAxis");nb(ib,"axisType","radiusAxis");nb(ib,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zc.apply(this,arguments)}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){ab(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JM(n.key),n)}}function eve(e,t,r){return t&&OP(e.prototype,t),r&&OP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tve(e,t,r){return t=Ov(t),rve(e,XM()?Reflect.construct(t,r||[],Ov(e).constructor):t.apply(e,r))}function rve(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nve(e)}function nve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XM=function(){return!!e})()}function Ov(e){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ov(e)}function ive(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v_(e,t)}function v_(e,t){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v_(e,t)}function ab(e,t,r){return t=JM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JM(e){var t=ave(e,"string");return mf(t)=="symbol"?t:t+""}function ave(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sve=Math.PI/180,PP=1e-5,sb=function(e){function t(){return Qye(this,t),tve(this,t,arguments)}return ive(t,e),eve(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=Tr(a,s,o,n.coordinate),p=Tr(a,s,o+(l==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*sve),s;return a>PP?s=i==="outer"?"start":"end":a<-PP?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,l=n.axisLineType,c=Pc(Pc({},jt(this.props,!1)),{},{fill:"none"},jt(o,!1));if(l==="circle")return le.createElement(rb,zc({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:s}));var u=this.props.ticks,f=u.map(function(p){return Tr(i,a,s,p.coordinate)});return le.createElement(wye,zc({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,u=jt(this.props,!1),f=jt(s,!1),p=Pc(Pc({},u),{},{fill:"none"},jt(o,!1)),h=a.map(function(y,g){var b=n.getTickLineCoord(y),v=n.getTickTextAnchor(y),w=Pc(Pc(Pc({textAnchor:v},u),{},{stroke:"none",fill:c},f),{},{index:g,payload:y,x:b.x2,y:b.y2});return le.createElement(rr,zc({className:Ht("recharts-polar-angle-axis-tick",LM(s)),key:"tick-".concat(y.coordinate)},uu(n.props,y,g)),o&&le.createElement("line",zc({className:"recharts-polar-angle-axis-tick-line"},p,b)),s&&t.renderTickItem(s,w,l?l(y.value,g):y.value))});return le.createElement(rr,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:le.createElement(rr,{className:Ht("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return le.isValidElement(n)?s=le.cloneElement(n,i):Ot(n)?s=n(i):s=le.createElement(du,zc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(X.PureComponent);ab(sb,"displayName","PolarAngleAxis");ab(sb,"axisType","angleAxis");ab(sb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ove=t$,lve=ove(Object.getPrototypeOf,Object),cve=lve,uve=zo,dve=cve,fve=qo,hve="[object Object]",pve=Function.prototype,mve=Object.prototype,ZM=pve.toString,gve=mve.hasOwnProperty,yve=ZM.call(Object);function vve(e){if(!fve(e)||uve(e)!=hve)return!1;var t=dve(e);if(t===null)return!0;var r=gve.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ZM.call(r)==yve}var bve=vve;const xve=lr(bve);var wve=zo,_ve=qo,Sve="[object Boolean]";function jve(e){return e===!0||e===!1||_ve(e)&&wve(e)==Sve}var Nve=jve;const Ave=lr(Nve);function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pv.apply(this,arguments)}function kve(e,t){return Cve(e)||Pve(e,t)||Ove(e,t)||Eve()}function Eve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ove(e,t){if(e){if(typeof e=="string")return CP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CP(e,t)}}function CP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Cve(e){if(Array.isArray(e))return e}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Tve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tve(e,t,r){return t=Ive(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ive(e){var t=Lve(e,"string");return Em(t)=="symbol"?t:t+""}function Lve(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LP=function(t,r,n,i,a){var s=n-i,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+a),o+="L ".concat(t+n-s/2-i,",").concat(r+a),o+="L ".concat(t,",").concat(r," Z"),o},Rve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$ve=function(t){var r=IP(IP({},Rve),t),n=X.useRef(),i=X.useState(-1),a=kve(i,2),s=a[0],o=a[1];X.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,y=r.animationEasing,g=r.animationDuration,b=r.animationBegin,v=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||p!==+p||u===0&&f===0||p===0)return null;var w=Ht("recharts-trapezoid",h);return v?le.createElement(Gs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:p,x:l,y:c},duration:g,animationEasing:y,isActive:v},function(_){var N=_.upperWidth,S=_.lowerWidth,j=_.height,O=_.x,I=_.y;return le.createElement(Gs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:y},le.createElement("path",Pv({},jt(r,!0),{className:w,d:LP(O,I,N,S,j),ref:n})))}):le.createElement("g",null,le.createElement("path",Pv({},jt(r,!0),{className:w,d:LP(l,c,u,f,p)})))},Mve=["option","shapeType","propTransformer","activeClassName","isActive"];function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function Dve(e,t){if(e==null)return{};var r=Bve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){Fve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fve(e,t,r){return t=Uve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uve(e){var t=zve(e,"string");return Om(t)=="symbol"?t:t+""}function zve(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qve(e,t){return Cv(Cv({},t),e)}function Hve(e,t){return e==="symbols"}function $P(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return le.createElement(xN,r);case"trapezoid":return le.createElement($ve,r);case"sector":return le.createElement(MM,r);case"symbols":if(Hve(t))return le.createElement(Bj,r);break;default:return null}}function Wve(e){return X.isValidElement(e)?e.props:e}function QM(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?qve:n,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,o=e.isActive,l=Dve(e,Mve),c;if(X.isValidElement(t))c=X.cloneElement(t,Cv(Cv({},l),Wve(t)));else if(Ot(t))c=t(l);else if(xve(t)&&!Ave(t)){var u=i(t,l);c=le.createElement($P,{shapeType:r,elementProps:u})}else{var f=l;c=le.createElement($P,{shapeType:r,elementProps:f})}return o?le.createElement(rr,{className:s},c):c}function ob(e,t){return t!=null&&"trapezoids"in e.props}function lb(e,t){return t!=null&&"sectors"in e.props}function Pm(e,t){return t!=null&&"points"in e.props}function Vve(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function Gve(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Kve(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function Yve(e,t){var r;return ob(e,t)?r=Vve:lb(e,t)?r=Gve:Pm(e,t)&&(r=Kve),r}function Xve(e,t){var r;return ob(e,t)?r="trapezoids":lb(e,t)?r="sectors":Pm(e,t)&&(r="points"),r}function Jve(e,t){if(ob(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(lb(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Pm(e,t)?t.payload:{}}function Zve(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=Xve(r,t),a=Jve(r,t),s=n.filter(function(l,c){var u=ng(a,l),f=r.props[i].filter(function(y){var g=Yve(r,t);return g(y,t)}),p=r.props[i].indexOf(f[f.length-1]),h=c===p;return u&&h}),o=n.indexOf(s[s.length-1]);return o}var ey;function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(this,arguments)}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){Ta(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t7(n.key),n)}}function e1e(e,t,r){return t&&DP(e.prototype,t),r&&DP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function t1e(e,t,r){return t=Tv(t),r1e(e,e7()?Reflect.construct(t,r||[],Tv(e).constructor):t.apply(e,r))}function r1e(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n1e(e)}function n1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e7=function(){return!!e})()}function Tv(e){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tv(e)}function i1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b_(e,t)}function b_(e,t){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b_(e,t)}function Ta(e,t,r){return t=t7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t7(e){var t=a1e(e,"string");return gf(t)=="symbol"?t:t+""}function a1e(e,t){if(gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wo=function(e){function t(r){var n;return Qve(this,t),n=t1e(this,t,[r]),Ta(n,"pieRef",null),Ta(n,"sectorRefs",[]),Ta(n,"id",Gf("recharts-pie-")),Ta(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ot(i)&&i()}),Ta(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ot(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return i1e(t,e),e1e(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,c=a.valueKey,u=jt(this.props,!1),f=jt(s,!1),p=jt(o,!1),h=s&&s.offsetRadius||20,y=n.map(function(g,b){var v=(g.startAngle+g.endAngle)/2,w=Tr(g.cx,g.cy,g.outerRadius+h,v),_=Er(Er(Er(Er({},u),g),{},{stroke:"none"},f),{},{index:b,textAnchor:t.getTextAnchor(w.x,g.cx)},w),N=Er(Er(Er(Er({},u),g),{},{fill:"none",stroke:g.fill},p),{},{index:b,points:[Tr(g.cx,g.cy,g.outerRadius,v),w]}),S=l;return Dt(l)&&Dt(c)?S="value":Dt(l)&&(S=c),le.createElement(rr,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(b)},o&&t.renderLabelLineItem(o,N,"line"),t.renderLabelItem(s,_,Tn(g,S)))});return le.createElement(rr,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return n.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(u),p=l&&i.hasActiveIndex()?l:null,h=f?s:p,y=Er(Er({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return le.createElement(rr,_d({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},uu(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),le.createElement(QM,_d({option:h,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return le.createElement(Gs,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,b=[],v=a&&a[0],w=v.startAngle;return a.forEach(function(_,N){var S=p&&p[N],j=N>0?fa(_,"paddingAngle",0):0;if(S){var O=ia(S.endAngle-S.startAngle,_.endAngle-_.startAngle),I=Er(Er({},_),{},{startAngle:w+j,endAngle:w+O(g)+j});b.push(I),w=I.endAngle}else{var L=_.endAngle,F=_.startAngle,k=ia(0,L-F),P=k(g),D=Er(Er({},_),{},{startAngle:w+j,endAngle:w+P+j});b.push(D),w=D.endAngle}}),le.createElement(rr,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!ng(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,p=i.outerRadius,h=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!s||!s.length||!Ze(c)||!Ze(u)||!Ze(f)||!Ze(p))return null;var g=Ht("recharts-pie",o);return le.createElement(rr,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){n.pieRef=v}},this.renderSectors(),l&&this.renderLabels(s),Un.renderCallByParent(this.props,null,!1),(!h||y)&&Po.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(le.isValidElement(n))return le.cloneElement(n,i);if(Ot(n))return n(i);var s=Ht("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return le.createElement(Sv,_d({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(le.isValidElement(n))return le.cloneElement(n,i);var s=a;if(Ot(n)&&(s=n(i),le.isValidElement(s)))return s;var o=Ht("recharts-pie-label-text",typeof n!="boolean"&&!Ot(n)?n.className:"");return le.createElement(du,_d({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(X.PureComponent);ey=Wo;Ta(Wo,"displayName","Pie");Ta(Wo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Su.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ta(Wo,"parseDeltaAngle",function(e,t){var r=wi(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ta(Wo,"getRealPieData",function(e){var t=e.data,r=e.children,n=jt(e,!1),i=ha(r,Zm);return t&&t.length?t.map(function(a,s){return Er(Er(Er({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Er(Er({},n),a.props)}):[]});Ta(Wo,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,s=IM(i,a),o=n+_i(e.cx,i,i/2),l=r+_i(e.cy,a,a/2),c=_i(e.innerRadius,s,0),u=_i(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});Ta(Wo,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Er(Er({},t.type.defaultProps),t.props):t.props,i=ey.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),y=ey.parseCoordinateOfPie(n,r),g=ey.parseDeltaAngle(s,o),b=Math.abs(g),v=c;Dt(c)&&Dt(f)?(hs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Dt(c)&&(hs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var w=i.filter(function(I){return Tn(I,v,0)!==0}).length,_=(b>=360?w:w-1)*l,N=b-w*h-_,S=i.reduce(function(I,L){var F=Tn(L,v,0);return I+(Ze(F)?F:0)},0),j;if(S>0){var O;j=i.map(function(I,L){var F=Tn(I,v,0),k=Tn(I,u,L),P=(Ze(F)?F:0)/S,D;L?D=O.endAngle+wi(g)*l*(F!==0?1:0):D=s;var M=D+wi(g)*((F!==0?h:0)+P*N),U=(D+M)/2,V=(y.innerRadius+y.outerRadius)/2,W=[{name:k,value:F,payload:I,dataKey:v,type:p}],B=Tr(y.cx,y.cy,V,U);return O=Er(Er(Er({percent:P,cornerRadius:a,name:k,tooltipPayload:W,midAngle:U,middleRadius:V,tooltipPosition:B},I),y),{},{value:Tn(I,v),startAngle:D,endAngle:M,payload:I,paddingAngle:wi(g)*l}),O})}return Er(Er({},y),{},{sectors:j,data:i})});var s1e=Math.ceil,o1e=Math.max;function l1e(e,t,r,n){for(var i=-1,a=o1e(s1e((t-e)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=e,e+=r;return s}var c1e=l1e,u1e=x$,BP=1/0,d1e=17976931348623157e292;function f1e(e){if(!e)return e===0?e:0;if(e=u1e(e),e===BP||e===-BP){var t=e<0?-1:1;return t*d1e}return e===e?e:0}var r7=f1e,h1e=c1e,p1e=H1,f2=r7;function m1e(e){return function(t,r,n){return n&&typeof n!="number"&&p1e(t,r,n)&&(r=n=void 0),t=f2(t),r===void 0?(r=t,t=0):r=f2(r),n=n===void 0?t<r?1:-1:f2(n),h1e(t,r,n,e)}}var g1e=m1e,y1e=g1e,v1e=y1e(),b1e=v1e;const Iv=lr(b1e);function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function FP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(r),!0).forEach(function(n){n7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n7(e,t,r){return t=x1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x1e(e){var t=w1e(e,"string");return Cm(t)=="symbol"?t:t+""}function w1e(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _1e=["Webkit","Moz","O","ms"],S1e=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=_1e.reduce(function(a,s){return UP(UP({},a),{},n7({},s+n,r))},{});return i[t]=r,i};function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lv.apply(this,arguments)}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){ta(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a7(n.key),n)}}function N1e(e,t,r){return t&&qP(e.prototype,t),r&&qP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function A1e(e,t,r){return t=Rv(t),k1e(e,i7()?Reflect.construct(t,r||[],Rv(e).constructor):t.apply(e,r))}function k1e(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E1e(e)}function E1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i7=function(){return!!e})()}function Rv(e){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rv(e)}function O1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x_(e,t)}function x_(e,t){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x_(e,t)}function ta(e,t,r){return t=a7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a7(e){var t=P1e(e,"string");return yf(t)=="symbol"?t:t+""}function P1e(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var C1e=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=_p().domain(Iv(0,l)).range([a,a+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},HP=function(t){return t.changedTouches&&!!t.changedTouches.length},vf=function(e){function t(r){var n;return j1e(this,t),n=A1e(this,t,[r]),ta(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),ta(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),ta(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),ta(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ta(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ta(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ta(n,"handleSlideDragStart",function(i){var a=HP(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return O1e(t,e),N1e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(i,a),p=Math.max(i,a),h=t.getIndexInRange(s,f),y=t.getIndexInRange(s,p);return{startIndex:h-h%l,endIndex:y===u?u:y-y%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=Tn(a[n],o,n);return Ot(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,p=l.startIndex,h=l.endIndex,y=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,c+u-f-o,c+u-f-s):g<0&&(g=Math.max(g,c-s,c-o));var b=this.getIndex({startX:s+g,endX:o+g});(b.startIndex!==p||b.endIndex!==h)&&y&&y(b),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=HP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,f=u.x,p=u.width,h=u.travellerWidth,y=u.onChange,g=u.gap,b=u.data,v={startX:this.state.startX,endX:this.state.endX},w=n.pageX-a;w>0?w=Math.min(w,f+p-h-c):w<0&&(w=Math.max(w,f-c)),v[s]=c+w;var _=this.getIndex(v),N=_.startIndex,S=_.endIndex,j=function(){var I=b.length-1;return s==="startX"&&(o>l?N%g===0:S%g===0)||o<l&&S===I||s==="endX"&&(o>l?S%g===0:N%g===0)||o>l&&S===I};this.setState(ta(ta({},s,c+w),"brushMoveStartX",n.pageX),function(){y&&j()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],f=o.indexOf(u);if(f!==-1){var p=f+n;if(!(p===-1||p>=o.length)){var h=o[p];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(ta({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return le.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=X.Children.only(c);return f?le.cloneElement(f,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,p=l.traveller,h=l.ariaLabel,y=l.data,g=l.startIndex,b=l.endIndex,v=Math.max(n,this.props.x),w=h2(h2({},jt(this.props,!1)),{},{x:v,y:c,width:u,height:f}),_=h||"Min value: ".concat((a=y[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=y[b])===null||s===void 0?void 0:s.name);return le.createElement(rr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,w))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return le.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,p=u.endX,h=5,y={pointerEvents:"none",fill:c};return le.createElement(rr,{className:"recharts-brush-texts"},le.createElement(du,Lv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:s+o/2},y),this.getTextOfTick(i)),le.createElement(du,Lv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+h,y:s+o/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,y=p.endX,g=p.isTextActive,b=p.isSlideMoving,v=p.isTravellerMoving,w=p.isTravellerFocused;if(!i||!i.length||!Ze(o)||!Ze(l)||!Ze(c)||!Ze(u)||c<=0||u<=0)return null;var _=Ht("recharts-brush",a),N=le.Children.count(s)===1,S=S1e("userSelect","none");return le.createElement(rr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(h,y),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(y,"endX"),(g||b||v||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(a+o/2)-1;return le.createElement(le.Fragment,null,le.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),le.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),le.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return le.isValidElement(n)?a=le.cloneElement(n,i):Ot(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return h2({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?C1e({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var p=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(X.PureComponent);ta(vf,"displayName","Brush");ta(vf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var T1e=Vj;function I1e(e,t){var r;return T1e(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var L1e=I1e,R1e=GR,$1e=Ys,M1e=L1e,D1e=zi,B1e=H1;function F1e(e,t,r){var n=D1e(e)?R1e:M1e;return r&&B1e(e,t,r)&&(t=void 0),n(e,$1e(t))}var U1e=F1e;const z1e=lr(U1e);var qs=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},WP=m$;function q1e(e,t,r){t=="__proto__"&&WP?WP(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var H1e=q1e,W1e=H1e,V1e=h$,G1e=Ys;function K1e(e,t){var r={};return t=G1e(t),V1e(e,function(n,i,a){W1e(r,i,t(n,i,a))}),r}var Y1e=K1e;const X1e=lr(Y1e);function J1e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Z1e=J1e,Q1e=Vj;function ebe(e,t){var r=!0;return Q1e(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var tbe=ebe,rbe=Z1e,nbe=tbe,ibe=Ys,abe=zi,sbe=H1;function obe(e,t,r){var n=abe(e)?rbe:nbe;return r&&sbe(e,t,r)&&(t=void 0),n(e,ibe(t))}var lbe=obe;const s7=lr(lbe);var cbe=["x","y"];function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function w_(){return w_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w_.apply(this,arguments)}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){ube(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ube(e,t,r){return t=dbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dbe(e){var t=fbe(e,"string");return Tm(t)=="symbol"?t:t+""}function fbe(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hbe(e,t){if(e==null)return{};var r=pbe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mbe(e,t){var r=e.x,n=e.y,i=hbe(e,cbe),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||i.height),u=parseInt(c,10),f="".concat(t.width||i.width),p=parseInt(f,10);return Xh(Xh(Xh(Xh(Xh({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function GP(e){return le.createElement(QM,w_({shapeType:"rectangle",propTransformer:mbe,activeClassName:"recharts-active-bar"},e))}var gbe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=Ze(n)||FQ(n);return a?t(n,i):(a||hu(),r)}},ybe=["value","background"],o7;function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function vbe(e,t){if(e==null)return{};var r=bbe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(this,arguments)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){Al(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c7(n.key),n)}}function wbe(e,t,r){return t&&YP(e.prototype,t),r&&YP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _be(e,t,r){return t=Mv(t),Sbe(e,l7()?Reflect.construct(t,r||[],Mv(e).constructor):t.apply(e,r))}function Sbe(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jbe(e)}function jbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l7=function(){return!!e})()}function Mv(e){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mv(e)}function Nbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&__(e,t)}function __(e,t){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},__(e,t)}function Al(e,t,r){return t=c7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c7(e){var t=Abe(e,"string");return bf(t)=="symbol"?t:t+""}function Abe(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ku=function(e){function t(){var r;xbe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=_be(this,t,[].concat(i)),Al(r,"state",{isAnimationFinished:!1}),Al(r,"id",Gf("recharts-bar-")),Al(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Al(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Nbe(t,e),wbe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=jt(this.props,!1);return n&&n.map(function(f,p){var h=p===l,y=h?c:s,g=gn(gn(gn({},u),f),{},{isActive:h,option:y,index:p,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return le.createElement(rr,$v({className:"recharts-bar-rectangle"},uu(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),le.createElement(GP,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,p=this.state.prevData;return le.createElement(Gs,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var y=h.t,g=a.map(function(b,v){var w=p&&p[v];if(w){var _=ia(w.x,b.x),N=ia(w.y,b.y),S=ia(w.width,b.width),j=ia(w.height,b.height);return gn(gn({},b),{},{x:_(y),y:N(y),width:S(y),height:j(y)})}if(s==="horizontal"){var O=ia(0,b.height),I=O(y);return gn(gn({},b),{},{y:b.y+b.height-I,height:I})}var L=ia(0,b.width),F=L(y);return gn(gn({},b),{},{width:F})});return le.createElement(rr,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!ng(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=jt(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,p=vbe(c,ybe);if(!f)return null;var h=gn(gn(gn(gn(gn({},p),{},{fill:"#eee"},f),l),uu(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return le.createElement(GP,$v({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=ha(u,ig);if(!f)return null;var p=c==="vertical"?s[0].height/2:s[0].width/2,h=function(b,v){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:Tn(b,v)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return le.createElement(rr,y,f.map(function(g){return le.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,p=n.height,h=n.isAnimationActive,y=n.background,g=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,v=Ht("recharts-bar",s),w=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,N=w||_,S=Dt(g)?this.id:g;return le.createElement(rr,{className:v},w||_?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(S)},le.createElement("rect",{x:w?c:c-f/2,y:_?u:u-p/2,width:w?f:f*2,height:_?p:p*2}))):null,le.createElement(rr,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,S),(!h||b)&&Po.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(X.PureComponent);o7=ku;Al(ku,"displayName","Bar");Al(ku,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Su.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Al(ku,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,p=e.offset,h=ame(n,r);if(!h)return null;var y=t.layout,g=r.type.defaultProps,b=g!==void 0?gn(gn({},g),r.props):r.props,v=b.dataKey,w=b.children,_=b.minPointSize,N=y==="horizontal"?s:a,S=c?N.scale.domain():null,j=fme({numericAxis:N}),O=ha(w,Zm),I=f.map(function(L,F){var k,P,D,M,U,V;c?k=sme(c[u+F],S):(k=Tn(L,v),Array.isArray(k)||(k=[j,k]));var W=gbe(_,o7.defaultProps.minPointSize)(k[1],F);if(y==="horizontal"){var B,J=[s.scale(k[0]),s.scale(k[1])],$=J[0],ae=J[1];P=DO({axis:a,ticks:o,bandSize:i,offset:h.offset,entry:L,index:F}),D=(B=ae??$)!==null&&B!==void 0?B:void 0,M=h.size;var T=$-ae;if(U=Number.isNaN(T)?0:T,V={x:P,y:s.y,width:M,height:s.height},Math.abs(W)>0&&Math.abs(U)<Math.abs(W)){var C=wi(U||W)*(Math.abs(W)-Math.abs(U));D-=C,U+=C}}else{var K=[a.scale(k[0]),a.scale(k[1])],Q=K[0],ie=K[1];if(P=Q,D=DO({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:L,index:F}),M=ie-Q,U=h.size,V={x:a.x,y:D,width:a.width,height:U},Math.abs(W)>0&&Math.abs(M)<Math.abs(W)){var ue=wi(M||W)*(Math.abs(W)-Math.abs(M));M+=ue}}return gn(gn(gn({},L),{},{x:P,y:D,width:M,height:U,value:c?k:k[1],payload:L,background:V},O&&O[F]&&O[F].props),{},{tooltipPayload:[CM(r,L)],tooltipPosition:{x:P+M/2,y:D+U/2}})});return gn({data:I,layout:y},p)});function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function kbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u7(n.key),n)}}function Ebe(e,t,r){return t&&XP(e.prototype,t),r&&XP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(r),!0).forEach(function(n){cb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cb(e,t,r){return t=u7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u7(e){var t=Obe(e,"string");return Im(t)=="symbol"?t:t+""}function Obe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d7=function(t,r,n,i,a){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},p=!!na(c,ku);return u.reduce(function(h,y){var g=r[y],b=g.orientation,v=g.domain,w=g.padding,_=w===void 0?{}:w,N=g.mirror,S=g.reversed,j="".concat(b).concat(N?"Mirror":""),O,I,L,F,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=v[1]-v[0],D=1/0,M=g.categoricalDomain.sort(qQ);if(M.forEach(function(K,Q){Q>0&&(D=Math.min((K||0)-(M[Q-1]||0),D))}),Number.isFinite(D)){var U=D/P,V=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(O=U*V/2),g.padding==="no-gap"){var W=_i(t.barCategoryGap,U*V),B=U*V/2;O=B-W-(B-W)/V*W}}}i==="xAxis"?I=[n.left+(_.left||0)+(O||0),n.left+n.width-(_.right||0)-(O||0)]:i==="yAxis"?I=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(O||0),n.top+n.height-(_.bottom||0)-(O||0)]:I=g.range,S&&(I=[I[1],I[0]]);var J=kM(g,a,p),$=J.scale,ae=J.realScaleType;$.domain(v).range(I),EM($);var T=OM($,ss(ss({},g),{},{realScaleType:ae}));i==="xAxis"?(k=b==="top"&&!N||b==="bottom"&&N,L=n.left,F=f[j]-k*g.height):i==="yAxis"&&(k=b==="left"&&!N||b==="right"&&N,L=f[j]-k*g.width,F=n.top);var C=ss(ss(ss({},g),T),{},{realScaleType:ae,x:L,y:F,scale:$,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return C.bandSize=xv(C,T),!g.hide&&i==="xAxis"?f[j]+=(k?-1:1)*C.height:g.hide||(f[j]+=(k?-1:1)*C.width),ss(ss({},h),{},cb({},y,C))},{})},f7=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Pbe=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return f7({x:r,y:n},{x:i,y:a})},h7=function(){function e(t){kbe(this,e),this.scale=t}return Ebe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();cb(h7,"EPS",1e-4);var wN=function(t){var r=Object.keys(t).reduce(function(n,i){return ss(ss({},n),{},cb({},i,h7.create(t[i])))},{});return ss(ss({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return X1e(i,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return s7(i,function(a,s){return r[s].isInRange(a)})}})};function Cbe(e){return(e%180+180)%180}var Tbe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Cbe(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Ibe=Ys,Lbe=Xm,Rbe=z1;function $be(e){return function(t,r,n){var i=Object(t);if(!Lbe(t)){var a=Ibe(r);t=Rbe(t),r=function(o){return a(i[o],o,i)}}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:void 0}}var Mbe=$be,Dbe=r7;function Bbe(e){var t=Dbe(e),r=t%1;return t===t?r?t-r:t:0}var Fbe=Bbe,Ube=o$,zbe=Ys,qbe=Fbe,Hbe=Math.max;function Wbe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:qbe(r);return i<0&&(i=Hbe(n+i,0)),Ube(e,zbe(t),i)}var Vbe=Wbe,Gbe=Mbe,Kbe=Vbe,Ybe=Gbe(Kbe),Xbe=Ybe;const Jbe=lr(Xbe);var Zbe=VZ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),_N=X.createContext(void 0),SN=X.createContext(void 0),p7=X.createContext(void 0),m7=X.createContext({}),g7=X.createContext(void 0),y7=X.createContext(0),v7=X.createContext(0),ZP=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=Zbe(a);return le.createElement(_N.Provider,{value:n},le.createElement(SN.Provider,{value:i},le.createElement(m7.Provider,{value:a},le.createElement(p7.Provider,{value:u},le.createElement(g7.Provider,{value:s},le.createElement(y7.Provider,{value:c},le.createElement(v7.Provider,{value:l},o)))))))},Qbe=function(){return X.useContext(g7)},b7=function(t){var r=X.useContext(_N);r==null&&hu();var n=r[t];return n==null&&hu(),n},exe=function(){var t=X.useContext(_N);return wl(t)},txe=function(){var t=X.useContext(SN),r=Jbe(t,function(n){return s7(n.domain,Number.isFinite)});return r||wl(t)},x7=function(t){var r=X.useContext(SN);r==null&&hu();var n=r[t];return n==null&&hu(),n},rxe=function(){var t=X.useContext(p7);return t},nxe=function(){return X.useContext(m7)},jN=function(){return X.useContext(v7)},NN=function(){return X.useContext(y7)};function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function ixe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function axe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_7(n.key),n)}}function sxe(e,t,r){return t&&axe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oxe(e,t,r){return t=Dv(t),lxe(e,w7()?Reflect.construct(t,r||[],Dv(e).constructor):t.apply(e,r))}function lxe(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cxe(e)}function cxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w7=function(){return!!e})()}function Dv(e){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dv(e)}function uxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S_(e,t)}function S_(e,t){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S_(e,t)}function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){AN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AN(e,t,r){return t=_7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _7(e){var t=dxe(e,"string");return xf(t)=="symbol"?t:t+""}function dxe(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function fxe(e,t){return gxe(e)||mxe(e,t)||pxe(e,t)||hxe()}function hxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pxe(e,t){if(e){if(typeof e=="string")return t6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t6(e,t)}}function t6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function gxe(e){if(Array.isArray(e))return e}function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j_.apply(this,arguments)}var yxe=function(t,r){var n;return le.isValidElement(t)?n=le.cloneElement(t,r):Ot(t)?n=t(r):n=le.createElement("line",j_({},r,{className:"recharts-reference-line-line"})),n},vxe=function(t,r,n,i,a,s,o,l,c){var u=a.x,f=a.y,p=a.width,h=a.height;if(n){var y=c.y,g=t.y.apply(y,{position:s});if(qs(c,"discard")&&!t.y.isInRange(g))return null;var b=[{x:u+p,y:g},{x:u,y:g}];return l==="left"?b.reverse():b}if(r){var v=c.x,w=t.x.apply(v,{position:s});if(qs(c,"discard")&&!t.x.isInRange(w))return null;var _=[{x:w,y:f+h},{x:w,y:f}];return o==="top"?_.reverse():_}if(i){var N=c.segment,S=N.map(function(j){return t.apply(j,{position:s})});return qs(c,"discard")&&z1e(S,function(j){return!t.isInRange(j)})?null:S}return null};function bxe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=Qbe(),u=b7(i),f=x7(a),p=rxe();if(!c||!p)return null;hs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=wN({x:u.scale,y:f.scale}),y=Ln(t),g=Ln(r),b=n&&n.length===2,v=vxe(h,y,g,b,p,e.position,u.orientation,f.orientation,e);if(!v)return null;var w=fxe(v,2),_=w[0],N=_.x,S=_.y,j=w[1],O=j.x,I=j.y,L=qs(e,"hidden")?"url(#".concat(c,")"):void 0,F=e6(e6({clipPath:L},jt(e,!0)),{},{x1:N,y1:S,x2:O,y2:I});return le.createElement(rr,{className:Ht("recharts-reference-line",o)},yxe(s,F),Un.renderCallByParent(e,Pbe({x1:N,y1:S,x2:O,y2:I})))}var kN=function(e){function t(){return ixe(this,t),oxe(this,t,arguments)}return uxe(t,e),sxe(t,[{key:"render",value:function(){return le.createElement(bxe,this.props)}}])}(le.Component);AN(kN,"displayName","ReferenceLine");AN(kN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N_.apply(this,arguments)}function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function r6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function n6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r6(Object(r),!0).forEach(function(n){ub(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j7(n.key),n)}}function _xe(e,t,r){return t&&wxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sxe(e,t,r){return t=Bv(t),jxe(e,S7()?Reflect.construct(t,r||[],Bv(e).constructor):t.apply(e,r))}function jxe(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nxe(e)}function Nxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S7=function(){return!!e})()}function Bv(e){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bv(e)}function Axe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A_(e,t)}function A_(e,t){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A_(e,t)}function ub(e,t,r){return t=j7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j7(e){var t=kxe(e,"string");return wf(t)=="symbol"?t:t+""}function kxe(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Exe=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,s=wN({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return qs(t,"discard")&&!s.isInRange(o)?null:o},db=function(e){function t(){return xxe(this,t),Sxe(this,t,arguments)}return Axe(t,e),_xe(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=Ln(i),u=Ln(a);if(hs(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=Exe(this.props);if(!f)return null;var p=f.x,h=f.y,y=this.props,g=y.shape,b=y.className,v=qs(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=n6(n6({clipPath:v},jt(this.props,!0)),{},{cx:p,cy:h});return le.createElement(rr,{className:Ht("recharts-reference-dot",b)},t.renderDot(g,w),Un.renderCallByParent(this.props,{x:p-s,y:h-s,width:2*s,height:2*s}))}}])}(le.Component);ub(db,"displayName","ReferenceDot");ub(db,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ub(db,"renderDot",function(e,t){var r;return le.isValidElement(e)?r=le.cloneElement(e,t):Ot(e)?r=e(t):r=le.createElement(rb,N_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(this,arguments)}function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function i6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function a6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i6(Object(r),!0).forEach(function(n){fb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A7(n.key),n)}}function Cxe(e,t,r){return t&&Pxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Txe(e,t,r){return t=Fv(t),Ixe(e,N7()?Reflect.construct(t,r||[],Fv(e).constructor):t.apply(e,r))}function Ixe(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lxe(e)}function Lxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N7=function(){return!!e})()}function Fv(e){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fv(e)}function Rxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E_(e,t)}function E_(e,t){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E_(e,t)}function fb(e,t,r){return t=A7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A7(e){var t=$xe(e,"string");return _f(t)=="symbol"?t:t+""}function $xe(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mxe=function(t,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var p=wN({x:u.scale,y:f.scale}),h={x:t?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},y={x:r?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return qs(a,"discard")&&(!p.isInRange(h)||!p.isInRange(y))?null:f7(h,y)},hb=function(e){function t(){return Oxe(this,t),Txe(this,t,arguments)}return Rxe(t,e),Cxe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;hs(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ln(i),p=Ln(a),h=Ln(s),y=Ln(o),g=this.props.shape;if(!f&&!p&&!h&&!y&&!g)return null;var b=Mxe(f,p,h,y,this.props);if(!b&&!g)return null;var v=qs(this.props,"hidden")?"url(#".concat(u,")"):void 0;return le.createElement(rr,{className:Ht("recharts-reference-area",l)},t.renderRect(g,a6(a6({clipPath:v},jt(this.props,!0)),b)),Un.renderCallByParent(this.props,b))}}])}(le.Component);fb(hb,"displayName","ReferenceArea");fb(hb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});fb(hb,"renderRect",function(e,t){var r;return le.isValidElement(e)?r=le.cloneElement(e,t):Ot(e)?r=e(t):r=le.createElement(xN,k_({},t,{className:"recharts-reference-area-rect"})),r});function k7(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Dxe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Tbe(n,r)}function Bxe(e,t,r){var n=r==="width",i=e.x,a=e.y,s=e.width,o=e.height;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Uv(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Fxe(e,t){return k7(e,t+1)}function Uxe(e,t,r,n,i){for(var a=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,f=function(){var y=n==null?void 0:n[l];if(y===void 0)return{v:k7(n,c)};var g=l,b,v=function(){return b===void 0&&(b=r(y,g)),b},w=y.coordinate,_=l===0||Uv(e,w,v,u,o);_||(l=0,u=s,c+=1),_&&(u=w+e*(v()/2+i),l+=c)},p;c<=a.length;)if(p=f(),p)return p.v;return[]}function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function s6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s6(Object(r),!0).forEach(function(n){zxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zxe(e,t,r){return t=qxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qxe(e){var t=Hxe(e,"string");return Lm(t)=="symbol"?t:t+""}function Hxe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wxe(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=t.start,l=t.end,c=function(p){var h=a[p],y,g=function(){return y===void 0&&(y=r(h,p)),y};if(p===s-1){var b=e*(h.coordinate+e*g()/2-l);a[p]=h=ui(ui({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate})}else a[p]=h=ui(ui({},h),{},{tickCoord:h.coordinate});var v=Uv(e,h.tickCoord,g,o,l);v&&(l=h.tickCoord-e*(g()/2+i),a[p]=ui(ui({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function Vxe(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(a){var u=n[o-1],f=r(u,o-1),p=e*(u.coordinate+e*f/2-c);s[o-1]=u=ui(ui({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var h=Uv(e,u.tickCoord,function(){return f},l,c);h&&(c=u.tickCoord-e*(f/2+i),s[o-1]=ui(ui({},u),{},{isShow:!0}))}for(var y=a?o-1:o,g=function(w){var _=s[w],N,S=function(){return N===void 0&&(N=r(_,w)),N};if(w===0){var j=e*(_.coordinate-e*S()/2-l);s[w]=_=ui(ui({},_),{},{tickCoord:j<0?_.coordinate-j*e:_.coordinate})}else s[w]=_=ui(ui({},_),{},{tickCoord:_.coordinate});var O=Uv(e,_.tickCoord,S,l,c);O&&(l=_.tickCoord+e*(S()/2+i),s[w]=ui(ui({},_),{},{isShow:!0}))},b=0;b<y;b++)g(b);return s}function EN(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(Ze(l)||Su.isSsr)return Fxe(i,typeof l=="number"&&Ze(l)?l:0);var p=[],h=o==="top"||o==="bottom"?"width":"height",y=u&&h==="width"?wp(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(_,N){var S=Ot(c)?c(_.value,N):_.value;return h==="width"?Dxe(wp(S,{fontSize:t,letterSpacing:r}),y,f):wp(S,{fontSize:t,letterSpacing:r})[h]},b=i.length>=2?wi(i[1].coordinate-i[0].coordinate):1,v=Bxe(a,b,h);return l==="equidistantPreserveStart"?Uxe(b,v,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=Vxe(b,v,g,i,s,l==="preserveStartEnd"):p=Wxe(b,v,g,i,s),p.filter(function(w){return w.isShow}))}var Gxe=["viewBox"],Kxe=["viewBox"],Yxe=["ticks"];function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function Sd(){return Sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sd.apply(this,arguments)}function o6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o6(Object(r),!0).forEach(function(n){ON(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p2(e,t){if(e==null)return{};var r=Xxe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O7(n.key),n)}}function Zxe(e,t,r){return t&&l6(e.prototype,t),r&&l6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qxe(e,t,r){return t=zv(t),e2e(e,E7()?Reflect.construct(t,r||[],zv(e).constructor):t.apply(e,r))}function e2e(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t2e(e)}function t2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E7=function(){return!!e})()}function zv(e){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zv(e)}function r2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O_(e,t)}function O_(e,t){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O_(e,t)}function ON(e,t,r){return t=O7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O7(e){var t=n2e(e,"string");return Sf(t)=="symbol"?t:t+""}function n2e(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eh=function(e){function t(r){var n;return Jxe(this,t),n=Qxe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return r2e(t,e),Zxe(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=p2(n,Gxe),o=this.props,l=o.viewBox,c=p2(o,Kxe);return!$d(a,l)||!$d(s,c)||!$d(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,p=i.tickMargin,h,y,g,b,v,w,_=f?-1:1,N=n.tickSize||u,S=Ze(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":h=y=n.coordinate,b=s+ +!f*l,g=b-_*N,w=g-_*p,v=S;break;case"left":g=b=n.coordinate,y=a+ +!f*o,h=y-_*N,v=h-_*p,w=S;break;case"right":g=b=n.coordinate,y=a+ +f*o,h=y+_*N,v=h+_*p,w=S;break;default:h=y=n.coordinate,b=s+ +f*l,g=b+_*N,w=g+_*p,v=S;break}return{line:{x1:h,y1:g,x2:y,y2:b},tick:{x:v,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=En(En(En({},jt(this.props,!1)),jt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);f=En(En({},f),{},{x1:i,y1:a+p*o,x2:i+s,y2:a+p*o})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=En(En({},f),{},{x1:i+h*s,y1:a,x2:i+h*s,y2:a+o})}return le.createElement("line",Sd({},f,{className:Ht("recharts-cartesian-axis-line",fa(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,p=o.unit,h=EN(En(En({},this.props),{},{ticks:n}),i,a),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=jt(this.props,!1),v=jt(u,!1),w=En(En({},b),{},{fill:"none"},jt(l,!1)),_=h.map(function(N,S){var j=s.getTickLineCoord(N),O=j.line,I=j.tick,L=En(En(En(En({textAnchor:y,verticalAnchor:g},b),{},{stroke:"none",fill:c},v),I),{},{index:S,payload:N,visibleTicksCount:h.length,tickFormatter:f});return le.createElement(rr,Sd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},uu(s.props,N,S)),l&&le.createElement("line",Sd({},w,O,{className:Ht("recharts-cartesian-axis-tick-line",fa(l,"className"))})),u&&t.renderTickItem(u,L,"".concat(Ot(f)?f(N.value,S):N.value).concat(p||"")))});return le.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,p=f.ticks,h=p2(f,Yxe),y=p;return Ot(l)&&(y=p&&p.length>0?l(this.props):l(h)),s<=0||o<=0||!y||!y.length?null:le.createElement(rr,{className:Ht("recharts-cartesian-axis",c),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=Ht(i.className,"recharts-cartesian-axis-tick-value");return le.isValidElement(n)?s=le.cloneElement(n,En(En({},i),{},{className:o})):Ot(n)?s=n(En(En({},i),{},{className:o})):s=le.createElement(du,Sd({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(X.Component);ON(eh,"displayName","CartesianAxis");ON(eh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var i2e=["x1","y1","x2","y2","key"],a2e=["offset"];function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function c6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(r),!0).forEach(function(n){s2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s2e(e,t,r){return t=o2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o2e(e){var t=l2e(e,"string");return pu(t)=="symbol"?t:t+""}function l2e(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jc.apply(this,arguments)}function u6(e,t){if(e==null)return{};var r=c2e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var u2e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,s=t.width,o=t.height,l=t.ry;return le.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function P7(e,t){var r;if(le.isValidElement(e))r=le.cloneElement(e,t);else if(Ot(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,s=t.y2,o=t.key,l=u6(t,i2e),c=jt(l,!1);c.offset;var u=u6(c,a2e);r=le.createElement("line",Jc({},u,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function d2e(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=fi(fi({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return P7(i,c)});return le.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function f2e(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=fi(fi({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return P7(i,c)});return le.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function h2e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var y=!u[h+1],g=y?i+s-p:u[h+1]-p;if(g<=0)return null;var b=h%t.length;return le.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:g,width:a,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function p2e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var y=!u[h+1],g=y?a+o-p:u[h+1]-p;if(g<=0)return null;var b=h%n.length;return le.createElement("rect",{key:"react-".concat(h),x:p,y:s,width:g,height:l,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var m2e=function(t,r){var n=t.xAxis,i=t.width,a=t.height,s=t.offset;return AM(EN(fi(fi(fi({},eh.defaultProps),n),{},{ticks:jo(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},g2e=function(t,r){var n=t.yAxis,i=t.width,a=t.height,s=t.offset;return AM(EN(fi(fi(fi({},eh.defaultProps),n),{},{ticks:jo(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Zu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ag(e){var t,r,n,i,a,s,o=jN(),l=NN(),c=nxe(),u=fi(fi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Zu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Zu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Zu.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Zu.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Zu.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Zu.verticalFill,x:Ze(e.x)?e.x:c.left,y:Ze(e.y)?e.y:c.top,width:Ze(e.width)?e.width:c.width,height:Ze(e.height)?e.height:c.height}),f=u.x,p=u.y,h=u.width,y=u.height,g=u.syncWithTicks,b=u.horizontalValues,v=u.verticalValues,w=exe(),_=txe();if(!Ze(h)||h<=0||!Ze(y)||y<=0||!Ze(f)||f!==+f||!Ze(p)||p!==+p)return null;var N=u.verticalCoordinatesGenerator||m2e,S=u.horizontalCoordinatesGenerator||g2e,j=u.horizontalPoints,O=u.verticalPoints;if((!j||!j.length)&&Ot(S)){var I=b&&b.length,L=S({yAxis:_?fi(fi({},_),{},{ticks:I?b:_.ticks}):void 0,width:o,height:l,offset:c},I?!0:g);hs(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pu(L),"]")),Array.isArray(L)&&(j=L)}if((!O||!O.length)&&Ot(N)){var F=v&&v.length,k=N({xAxis:w?fi(fi({},w),{},{ticks:F?v:w.ticks}):void 0,width:o,height:l,offset:c},F?!0:g);hs(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pu(k),"]")),Array.isArray(k)&&(O=k)}return le.createElement("g",{className:"recharts-cartesian-grid"},le.createElement(u2e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),le.createElement(d2e,Jc({},u,{offset:c,horizontalPoints:j,xAxis:w,yAxis:_})),le.createElement(f2e,Jc({},u,{offset:c,verticalPoints:O,xAxis:w,yAxis:_})),le.createElement(h2e,Jc({},u,{horizontalPoints:j})),le.createElement(p2e,Jc({},u,{verticalPoints:O})))}ag.displayName="CartesianGrid";var y2e=["type","layout","connectNulls","ref"],v2e=["key"];function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function d6(e,t){if(e==null)return{};var r=b2e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kp.apply(this,arguments)}function f6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f6(Object(r),!0).forEach(function(n){os(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qu(e){return S2e(e)||_2e(e)||w2e(e)||x2e()}function x2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w2e(e,t){if(e){if(typeof e=="string")return P_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P_(e,t)}}function _2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S2e(e){if(Array.isArray(e))return P_(e)}function P_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T7(n.key),n)}}function N2e(e,t,r){return t&&h6(e.prototype,t),r&&h6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function A2e(e,t,r){return t=qv(t),k2e(e,C7()?Reflect.construct(t,r||[],qv(e).constructor):t.apply(e,r))}function k2e(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E2e(e)}function E2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C7=function(){return!!e})()}function qv(e){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qv(e)}function O2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C_(e,t)}function C_(e,t){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C_(e,t)}function os(e,t,r){return t=T7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T7(e){var t=P2e(e,"string");return jf(t)=="symbol"?t:t+""}function P2e(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ql=function(e){function t(){var r;j2e(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=A2e(this,t,[].concat(i)),os(r,"state",{isAnimationFinished:!0,totalLength:0}),os(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),os(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(v,w){return v+w});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,p=o-s,h=[],y=0,g=0;y<l.length;g+=l[y],++y)if(g+l[y]>f){h=[].concat(Qu(l.slice(0,y)),[f-g]);break}var b=h.length%2===0?[0,p]:[p];return[].concat(Qu(t.repeat(l,u)),Qu(h),b).map(function(v){return"".concat(v,"px")}).join(", ")}),os(r,"id",Gf("recharts-line-")),os(r,"pathRef",function(s){r.mainCurve=s}),os(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),os(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return O2e(t,e),N2e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=ha(u,ig);if(!f)return null;var p=function(g,b){return{x:g.x,y:g.y,value:g.value,errorVal:Tn(g.payload,b)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return le.createElement(rr,h,f.map(function(y){return le.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=jt(this.props,!1),p=jt(l,!0),h=c.map(function(g,b){var v=ea(ea(ea({key:"dot-".concat(b),r:3},f),p),{},{index:b,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:c});return t.renderDotItem(l,v)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return le.createElement(rr,kp({className:"recharts-line-dots",key:"dots"},y),h)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=d6(o,y2e),p=ea(ea(ea({},jt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return le.createElement(Sv,kp({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,p=s.animationEasing,h=s.animationId,y=s.animateNewValues,g=s.width,b=s.height,v=this.state,w=v.prevPoints,_=v.totalLength;return le.createElement(Gs,{begin:u,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var S=N.t;if(w){var j=w.length/o.length,O=o.map(function(P,D){var M=Math.floor(D*j);if(w[M]){var U=w[M],V=ia(U.x,P.x),W=ia(U.y,P.y);return ea(ea({},P),{},{x:V(S),y:W(S)})}if(y){var B=ia(g*2,P.x),J=ia(b/2,P.y);return ea(ea({},P),{},{x:B(S),y:J(S)})}return ea(ea({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(O,n,i)}var I=ia(0,_),L=I(S),F;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});F=a.getStrokeDasharray(L,_,k)}else F=a.generateSimpleStrokeDasharray(_,L);return a.renderCurveStatically(o,n,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!ng(c,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.xAxis,u=i.yAxis,f=i.top,p=i.left,h=i.width,y=i.height,g=i.isAnimationActive,b=i.id;if(a||!o||!o.length)return null;var v=this.state.isAnimationFinished,w=o.length===1,_=Ht("recharts-line",l),N=c&&c.allowDataOverflow,S=u&&u.allowDataOverflow,j=N||S,O=Dt(b)?this.id:b,I=(n=jt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},L=I.r,F=L===void 0?3:L,k=I.strokeWidth,P=k===void 0?2:k,D=ZQ(s)?s:{},M=D.clipDot,U=M===void 0?!0:M,V=F*2+P;return le.createElement(rr,{className:_},N||S?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(O)},le.createElement("rect",{x:N?p:p-h/2,y:S?f:f-y/2,width:N?h:h*2,height:S?y:y*2})),!U&&le.createElement("clipPath",{id:"clipPath-dots-".concat(O)},le.createElement("rect",{x:p-V/2,y:f-V/2,width:h+V,height:y+V}))):null,!w&&this.renderCurve(j,O),this.renderErrorBar(j,O),(w||s)&&this.renderDots(j,U,O),(!g||v)&&Po.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Qu(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(Qu(s),Qu(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(le.isValidElement(n))a=le.cloneElement(n,i);else if(Ot(n))a=n(i);else{var s=i.key,o=d6(i,v2e),l=Ht("recharts-line-dot",typeof n!="boolean"?n.className:"");a=le.createElement(rb,kp({key:s},o,{className:l}))}return a}}])}(X.PureComponent);os(ql,"displayName","Line");os(ql,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Su.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});os(ql,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(p,h){var y=Tn(p,s);return u==="horizontal"?{x:MO({axis:r,ticks:i,bandSize:o,entry:p,index:h}),y:Dt(y)?null:n.scale(y),value:y,payload:p}:{x:Dt(y)?null:r.scale(y),y:MO({axis:n,ticks:a,bandSize:o,entry:p,index:h}),value:y,payload:p}});return ea({points:f,layout:u},c)});function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function C2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R7(n.key),n)}}function I2e(e,t,r){return t&&T2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L2e(e,t,r){return t=Hv(t),R2e(e,I7()?Reflect.construct(t,r||[],Hv(e).constructor):t.apply(e,r))}function R2e(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $2e(e)}function $2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I7=function(){return!!e})()}function Hv(e){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hv(e)}function M2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T_(e,t)}function T_(e,t){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T_(e,t)}function L7(e,t,r){return t=R7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R7(e){var t=D2e(e,"string");return Nf(t)=="symbol"?t:t+""}function D2e(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function I_(){return I_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I_.apply(this,arguments)}function B2e(e){var t=e.xAxisId,r=jN(),n=NN(),i=b7(t);return i==null?null:X.createElement(eh,I_({},i,{className:Ht("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return jo(s,!0)}}))}var tc=function(e){function t(){return C2e(this,t),L2e(this,t,arguments)}return M2e(t,e),I2e(t,[{key:"render",value:function(){return X.createElement(B2e,this.props)}}])}(X.Component);L7(tc,"displayName","XAxis");L7(tc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function F2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D7(n.key),n)}}function z2e(e,t,r){return t&&U2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q2e(e,t,r){return t=Wv(t),H2e(e,$7()?Reflect.construct(t,r||[],Wv(e).constructor):t.apply(e,r))}function H2e(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W2e(e)}function W2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($7=function(){return!!e})()}function Wv(e){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wv(e)}function V2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L_(e,t)}function L_(e,t){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L_(e,t)}function M7(e,t,r){return t=D7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D7(e){var t=G2e(e,"string");return Af(t)=="symbol"?t:t+""}function G2e(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R_.apply(this,arguments)}var K2e=function(t){var r=t.yAxisId,n=jN(),i=NN(),a=x7(r);return a==null?null:X.createElement(eh,R_({},a,{className:Ht("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return jo(o,!0)}}))},rc=function(e){function t(){return F2e(this,t),q2e(this,t,arguments)}return V2e(t,e),z2e(t,[{key:"render",value:function(){return X.createElement(K2e,this.props)}}])}(X.Component);M7(rc,"displayName","YAxis");M7(rc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function p6(e){return Z2e(e)||J2e(e)||X2e(e)||Y2e()}function Y2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X2e(e,t){if(e){if(typeof e=="string")return $_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $_(e,t)}}function J2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z2e(e){if(Array.isArray(e))return $_(e)}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M_=function(t,r,n,i,a){var s=ha(t,kN),o=ha(t,db),l=[].concat(p6(s),p6(o)),c=ha(t,hb),u="".concat(i,"Id"),f=i[0],p=r;if(l.length&&(p=l.reduce(function(g,b){if(b.props[u]===n&&qs(b.props,"extendDomain")&&Ze(b.props[f])){var v=b.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},p)),c.length){var h="".concat(f,"1"),y="".concat(f,"2");p=c.reduce(function(g,b){if(b.props[u]===n&&qs(b.props,"extendDomain")&&Ze(b.props[h])&&Ze(b.props[y])){var v=b.props[h],w=b.props[y];return[Math.min(g[0],v,w),Math.max(g[1],v,w)]}return g},p)}return a&&a.length&&(p=a.reduce(function(g,b){return Ze(b)?[Math.min(g[0],b),Math.max(g[1],b)]:g},p)),p},B7={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,p),y=r?r+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],h]:l._events[y].push(h):(l._events[y]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,y=new Array(h);p<h;p++)y[p]=f[p].fn;return y},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,p,h,y){var g=r?r+c:c;if(!this._events[g])return!1;var b=this._events[g],v=arguments.length,w,_;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,f),!0;case 4:return b.fn.call(b.context,u,f,p),!0;case 5:return b.fn.call(b.context,u,f,p,h),!0;case 6:return b.fn.call(b.context,u,f,p,h,y),!0}for(_=1,w=new Array(v-1);_<v;_++)w[_-1]=arguments[_];b.fn.apply(b.context,w)}else{var N=b.length,S;for(_=0;_<N;_++)switch(b[_].once&&this.removeListener(c,b[_].fn,void 0,!0),v){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,u);break;case 3:b[_].fn.call(b[_].context,u,f);break;case 4:b[_].fn.call(b[_].context,u,f,p);break;default:if(!w)for(S=1,w=new Array(v-1);S<v;S++)w[S-1]=arguments[S];b[_].fn.apply(b[_].context,w)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,p){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var y=this._events[h];if(y.fn)y.fn===u&&(!p||y.once)&&(!f||y.context===f)&&s(this,h);else{for(var g=0,b=[],v=y.length;g<v;g++)(y[g].fn!==u||p&&!y[g].once||f&&y[g].context!==f)&&b.push(y[g]);b.length?this._events[h]=b.length===1?b[0]:b:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(B7);var Q2e=B7.exports;const ewe=lr(Q2e);var m2=new ewe,g2="recharts.syncMouseEvents";function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function twe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F7(n.key),n)}}function nwe(e,t,r){return t&&rwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y2(e,t,r){return t=F7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F7(e){var t=iwe(e,"string");return Rm(t)=="symbol"?t:t+""}function iwe(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var awe=function(){function e(){twe(this,e),y2(this,"activeIndex",0),y2(this,"coordinateList",[]),y2(this,"layout","horizontal")}return nwe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,p=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function swe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&Ze(n)&&Ze(i))return!0}return!1}function owe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function U7(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,s=Tr(t,r,n,i),o=Tr(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function lwe(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,p=Tr(o,l,c,f),h=Tr(o,l,u,f);n=p.x,i=p.y,a=h.x,s=h.y}else return U7(t);return[{x:n,y:i},{x:a,y:s}]}function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function m6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function O0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m6(Object(r),!0).forEach(function(n){cwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cwe(e,t,r){return t=uwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uwe(e){var t=dwe(e,"string");return $m(t)=="symbol"?t:t+""}function dwe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fwe(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,h=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!s||p!=="ScatterChart"&&i!=="axis")return null;var y,g=Sv;if(p==="ScatterChart")y=s,g=Pye;else if(p==="BarChart")y=owe(f,s,l,u),g=xN;else if(f==="radial"){var b=U7(s),v=b.cx,w=b.cy,_=b.radius,N=b.startAngle,S=b.endAngle;y={cx:v,cy:w,startAngle:N,endAngle:S,innerRadius:_,outerRadius:_},g=MM}else y={points:lwe(f,s,l)},g=Sv;var j=O0(O0(O0(O0({stroke:"#ccc",pointerEvents:"none"},l),y),jt(h,!1)),{},{payload:o,payloadIndex:c,className:Ht("recharts-tooltip-cursor",h.className)});return X.isValidElement(h)?X.cloneElement(h,j):X.createElement(g,j)}var hwe=["item"],pwe=["children","className","width","height","style","compact","title","desc"];function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jd.apply(this,arguments)}function g6(e,t){return ywe(e)||gwe(e,t)||q7(e,t)||mwe()}function mwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function ywe(e){if(Array.isArray(e))return e}function y6(e,t){if(e==null)return{};var r=vwe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H7(n.key),n)}}function wwe(e,t,r){return t&&xwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _we(e,t,r){return t=Vv(t),Swe(e,z7()?Reflect.construct(t,r||[],Vv(e).constructor):t.apply(e,r))}function Swe(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jwe(e)}function jwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z7=function(){return!!e})()}function Vv(e){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vv(e)}function Nwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D_(e,t)}function D_(e,t){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},D_(e,t)}function Ef(e){return Ewe(e)||kwe(e)||q7(e)||Awe()}function Awe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q7(e,t){if(e){if(typeof e=="string")return B_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B_(e,t)}}function kwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ewe(e){if(Array.isArray(e))return B_(e)}function B_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v6(Object(r),!0).forEach(function(n){Nt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nt(e,t,r){return t=H7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H7(e){var t=Owe(e,"string");return kf(t)=="symbol"?t:t+""}function Owe(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pwe={xAxis:["bottom","top"],yAxis:["left","right"]},Cwe={width:"100%",height:"100%"},W7={x:0,y:0};function P0(e){return e}var Twe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Iwe=function(t,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,o=i.radius;return Pe(Pe(Pe({},i),Tr(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return Pe(Pe(Pe({},i),Tr(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return W7},pb=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Ef(o),Ef(c)):o},[]);return s.length>0?s:t&&t.length&&Ze(i)&&Ze(a)?t.slice(i,a+1):[]};function V7(e){return e==="number"?[0,"auto"]:void 0}var F_=function(t,r,n,i){var a=t.graphicalItems,s=t.tooltipAxis,o=pb(r,t);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?o:f;p=Vy(h,s.dataKey,i)}else p=f&&f[n]||o[n];return p?[].concat(Ef(l),[CM(c,p)]):l},[])},b6=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},s=Twe(a,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=Qpe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,p=F_(t,r,u,f),h=Iwe(n,o,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},Lwe=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,p=t.stackOffset,h=NM(u,a);return n.reduce(function(y,g){var b,v=g.type.defaultProps!==void 0?Pe(Pe({},g.type.defaultProps),g.props):g.props,w=v.type,_=v.dataKey,N=v.allowDataOverflow,S=v.allowDuplicatedCategory,j=v.scale,O=v.ticks,I=v.includeHidden,L=v[s];if(y[L])return y;var F=pb(t.data,{graphicalItems:i.filter(function(T){var C,K=s in T.props?T.props[s]:(C=T.type.defaultProps)===null||C===void 0?void 0:C[s];return K===L}),dataStartIndex:l,dataEndIndex:c}),k=F.length,P,D,M;swe(v.domain,N,w)&&(P=e_(v.domain,null,N),h&&(w==="number"||j!=="auto")&&(M=Sp(F,_,"category")));var U=V7(w);if(!P||P.length===0){var V,W=(V=v.domain)!==null&&V!==void 0?V:U;if(_){if(P=Sp(F,_,w),w==="category"&&h){var B=zQ(P);S&&B?(D=P,P=Iv(0,k)):S||(P=UO(W,P,g).reduce(function(T,C){return T.indexOf(C)>=0?T:[].concat(Ef(T),[C])},[]))}else if(w==="category")S?P=P.filter(function(T){return T!==""&&!Dt(T)}):P=UO(W,P,g).reduce(function(T,C){return T.indexOf(C)>=0||C===""||Dt(C)?T:[].concat(Ef(T),[C])},[]);else if(w==="number"){var J=ime(F,i.filter(function(T){var C,K,Q=s in T.props?T.props[s]:(C=T.type.defaultProps)===null||C===void 0?void 0:C[s],ie="hide"in T.props?T.props.hide:(K=T.type.defaultProps)===null||K===void 0?void 0:K.hide;return Q===L&&(I||!ie)}),_,a,u);J&&(P=J)}h&&(w==="number"||j!=="auto")&&(M=Sp(F,_,"category"))}else h?P=Iv(0,k):o&&o[L]&&o[L].hasStack&&w==="number"?P=p==="expand"?[0,1]:PM(o[L].stackGroups,l,c):P=jM(F,i.filter(function(T){var C=s in T.props?T.props[s]:T.type.defaultProps[s],K="hide"in T.props?T.props.hide:T.type.defaultProps.hide;return C===L&&(I||!K)}),w,u,!0);if(w==="number")P=M_(f,P,L,a,O),W&&(P=e_(W,P,N));else if(w==="category"&&W){var $=W,ae=P.every(function(T){return $.indexOf(T)>=0});ae&&(P=$)}}return Pe(Pe({},y),{},Nt({},L,Pe(Pe({},v),{},{axisType:a,domain:P,categoricalDomain:M,duplicateDomain:D,originalDomain:(b=v.domain)!==null&&b!==void 0?b:U,isCategorical:h,layout:u})))},{})},Rwe=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,p=pb(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),h=p.length,y=NM(u,a),g=-1;return n.reduce(function(b,v){var w=v.type.defaultProps!==void 0?Pe(Pe({},v.type.defaultProps),v.props):v.props,_=w[s],N=V7("number");if(!b[_]){g++;var S;return y?S=Iv(0,h):o&&o[_]&&o[_].hasStack?(S=PM(o[_].stackGroups,l,c),S=M_(f,S,_,a)):(S=e_(N,jM(p,n.filter(function(j){var O,I,L=s in j.props?j.props[s]:(O=j.type.defaultProps)===null||O===void 0?void 0:O[s],F="hide"in j.props?j.props.hide:(I=j.type.defaultProps)===null||I===void 0?void 0:I.hide;return L===_&&!F}),"number",u),i.defaultProps.allowDataOverflow),S=M_(f,S,_,a)),Pe(Pe({},b),{},Nt({},_,Pe(Pe({axisType:a},i.defaultProps),{},{hide:!0,orientation:fa(Pwe,"".concat(a,".").concat(g%2),null),domain:S,originalDomain:N,isCategorical:y,layout:u})))}return b},{})},$we=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(i,"Id"),p=ha(u,a),h={};return p&&p.length?h=Lwe(t,{axes:p,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(h=Rwe(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),h},Mwe=function(t){var r=wl(t),n=jo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Gj(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:xv(r,n)}},x6=function(t){var r=t.children,n=t.defaultShowTooltip,i=na(r,vf),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Dwe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Eo(r&&r.type);return n&&n.indexOf("Bar")>=0})},w6=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Bwe=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,p=n.margin||{},h=na(f,vf),y=na(f,Us),g=Object.keys(l).reduce(function(S,j){var O=l[j],I=O.orientation;return!O.mirror&&!O.hide?Pe(Pe({},S),{},Nt({},I,S[I]+O.width)):S},{left:p.left||0,right:p.right||0}),b=Object.keys(s).reduce(function(S,j){var O=s[j],I=O.orientation;return!O.mirror&&!O.hide?Pe(Pe({},S),{},Nt({},I,fa(S,"".concat(I))+O.height)):S},{top:p.top||0,bottom:p.bottom||0}),v=Pe(Pe({},b),g),w=v.bottom;h&&(v.bottom+=h.props.height||vf.defaultProps.height),y&&r&&(v=rme(v,i,n,r));var _=c-v.left-v.right,N=u-v.top-v.bottom;return Pe(Pe({brushBottom:w},v),{},{width:Math.max(_,0),height:Math.max(N,0)})},Fwe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},PN=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,p=function(v,w){var _=w.graphicalItems,N=w.stackGroups,S=w.offset,j=w.updateId,O=w.dataStartIndex,I=w.dataEndIndex,L=v.barSize,F=v.layout,k=v.barGap,P=v.barCategoryGap,D=v.maxBarSize,M=w6(F),U=M.numericAxisName,V=M.cateAxisName,W=Dwe(_),B=[];return _.forEach(function(J,$){var ae=pb(v.data,{graphicalItems:[J],dataStartIndex:O,dataEndIndex:I}),T=J.type.defaultProps!==void 0?Pe(Pe({},J.type.defaultProps),J.props):J.props,C=T.dataKey,K=T.maxBarSize,Q=T["".concat(U,"Id")],ie=T["".concat(V,"Id")],ue={},ge=l.reduce(function(oe,$e){var ze=w["".concat($e.axisType,"Map")],Ue=T["".concat($e.axisType,"Id")];ze&&ze[Ue]||$e.axisType==="zAxis"||hu();var He=ze[Ue];return Pe(Pe({},oe),{},Nt(Nt({},$e.axisType,He),"".concat($e.axisType,"Ticks"),jo(He)))},ue),se=ge[V],he=ge["".concat(V,"Ticks")],je=N&&N[Q]&&N[Q].hasStack&&hme(J,N[Q].stackGroups),me=Eo(J.type).indexOf("Bar")>=0,Be=xv(se,he),ye=[],ee=W&&eme({barSize:L,stackGroups:N,totalSize:Fwe(ge,V)});if(me){var ut,lt,at=Dt(K)?D:K,Re=(ut=(lt=xv(se,he,!0))!==null&&lt!==void 0?lt:at)!==null&&ut!==void 0?ut:0;ye=tme({barGap:k,barCategoryGap:P,bandSize:Re!==Be?Re:Be,sizeList:ee[ie],maxBarSize:at}),Re!==Be&&(ye=ye.map(function(oe){return Pe(Pe({},oe),{},{position:Pe(Pe({},oe.position),{},{offset:oe.position.offset-Re/2})})}))}var rt=J&&J.type&&J.type.getComposedData;rt&&B.push({props:Pe(Pe({},rt(Pe(Pe({},ge),{},{displayedData:ae,props:v,dataKey:C,item:J,bandSize:Be,barPosition:ye,offset:S,stackedData:je,layout:F,dataStartIndex:O,dataEndIndex:I}))),{},Nt(Nt(Nt({key:J.key||"item-".concat($)},U,ge[U]),V,ge[V]),"animationId",j)),childIndex:tee(J,v.children),item:J})}),B},h=function(v,w){var _=v.props,N=v.dataStartIndex,S=v.dataEndIndex,j=v.updateId;if(!L3({props:_}))return null;var O=_.children,I=_.layout,L=_.stackOffset,F=_.data,k=_.reverseStackOrder,P=w6(I),D=P.numericAxisName,M=P.cateAxisName,U=ha(O,n),V=dme(F,U,"".concat(D,"Id"),"".concat(M,"Id"),L,k),W=l.reduce(function(T,C){var K="".concat(C.axisType,"Map");return Pe(Pe({},T),{},Nt({},K,$we(_,Pe(Pe({},C),{},{graphicalItems:U,stackGroups:C.axisType===D&&V,dataStartIndex:N,dataEndIndex:S}))))},{}),B=Bwe(Pe(Pe({},W),{},{props:_,graphicalItems:U}),w==null?void 0:w.legendBBox);Object.keys(W).forEach(function(T){W[T]=u(_,W[T],B,T.replace("Map",""),r)});var J=W["".concat(M,"Map")],$=Mwe(J),ae=p(_,Pe(Pe({},W),{},{dataStartIndex:N,dataEndIndex:S,updateId:j,graphicalItems:U,stackGroups:V,offset:B}));return Pe(Pe({formattedGraphicalItems:ae,graphicalItems:U,offset:B,stackGroups:V},$),W)},y=function(b){function v(w){var _,N,S;return bwe(this,v),S=_we(this,v,[w]),Nt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Nt(S,"accessibilityManager",new awe),Nt(S,"handleLegendBBoxUpdate",function(j){if(j){var O=S.state,I=O.dataStartIndex,L=O.dataEndIndex,F=O.updateId;S.setState(Pe({legendBBox:j},h({props:S.props,dataStartIndex:I,dataEndIndex:L,updateId:F},Pe(Pe({},S.state),{},{legendBBox:j}))))}}),Nt(S,"handleReceiveSyncEvent",function(j,O,I){if(S.props.syncId===j){if(I===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(O)}}),Nt(S,"handleBrushChange",function(j){var O=j.startIndex,I=j.endIndex;if(O!==S.state.dataStartIndex||I!==S.state.dataEndIndex){var L=S.state.updateId;S.setState(function(){return Pe({dataStartIndex:O,dataEndIndex:I},h({props:S.props,dataStartIndex:O,dataEndIndex:I,updateId:L},S.state))}),S.triggerSyncEvent({dataStartIndex:O,dataEndIndex:I})}}),Nt(S,"handleMouseEnter",function(j){var O=S.getMouseInfo(j);if(O){var I=Pe(Pe({},O),{},{isTooltipActive:!0});S.setState(I),S.triggerSyncEvent(I);var L=S.props.onMouseEnter;Ot(L)&&L(I,j)}}),Nt(S,"triggeredAfterMouseMove",function(j){var O=S.getMouseInfo(j),I=O?Pe(Pe({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(I),S.triggerSyncEvent(I);var L=S.props.onMouseMove;Ot(L)&&L(I,j)}),Nt(S,"handleItemMouseEnter",function(j){S.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Nt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Nt(S,"handleMouseMove",function(j){j.persist(),S.throttleTriggeredAfterMouseMove(j)}),Nt(S,"handleMouseLeave",function(j){S.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};S.setState(O),S.triggerSyncEvent(O);var I=S.props.onMouseLeave;Ot(I)&&I(O,j)}),Nt(S,"handleOuterEvent",function(j){var O=eee(j),I=fa(S.props,"".concat(O));if(O&&Ot(I)){var L,F;/.*touch.*/i.test(O)?F=S.getMouseInfo(j.changedTouches[0]):F=S.getMouseInfo(j),I((L=F)!==null&&L!==void 0?L:{},j)}}),Nt(S,"handleClick",function(j){var O=S.getMouseInfo(j);if(O){var I=Pe(Pe({},O),{},{isTooltipActive:!0});S.setState(I),S.triggerSyncEvent(I);var L=S.props.onClick;Ot(L)&&L(I,j)}}),Nt(S,"handleMouseDown",function(j){var O=S.props.onMouseDown;if(Ot(O)){var I=S.getMouseInfo(j);O(I,j)}}),Nt(S,"handleMouseUp",function(j){var O=S.props.onMouseUp;if(Ot(O)){var I=S.getMouseInfo(j);O(I,j)}}),Nt(S,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Nt(S,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.handleMouseDown(j.changedTouches[0])}),Nt(S,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.handleMouseUp(j.changedTouches[0])}),Nt(S,"handleDoubleClick",function(j){var O=S.props.onDoubleClick;if(Ot(O)){var I=S.getMouseInfo(j);O(I,j)}}),Nt(S,"handleContextMenu",function(j){var O=S.props.onContextMenu;if(Ot(O)){var I=S.getMouseInfo(j);O(I,j)}}),Nt(S,"triggerSyncEvent",function(j){S.props.syncId!==void 0&&m2.emit(g2,S.props.syncId,j,S.eventEmitterSymbol)}),Nt(S,"applySyncEvent",function(j){var O=S.props,I=O.layout,L=O.syncMethod,F=S.state.updateId,k=j.dataStartIndex,P=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)S.setState(Pe({dataStartIndex:k,dataEndIndex:P},h({props:S.props,dataStartIndex:k,dataEndIndex:P,updateId:F},S.state)));else if(j.activeTooltipIndex!==void 0){var D=j.chartX,M=j.chartY,U=j.activeTooltipIndex,V=S.state,W=V.offset,B=V.tooltipTicks;if(!W)return;if(typeof L=="function")U=L(B,j);else if(L==="value"){U=-1;for(var J=0;J<B.length;J++)if(B[J].value===j.activeLabel){U=J;break}}var $=Pe(Pe({},W),{},{x:W.left,y:W.top}),ae=Math.min(D,$.x+$.width),T=Math.min(M,$.y+$.height),C=B[U]&&B[U].value,K=F_(S.state,S.props.data,U),Q=B[U]?{x:I==="horizontal"?B[U].coordinate:ae,y:I==="horizontal"?T:B[U].coordinate}:W7;S.setState(Pe(Pe({},j),{},{activeLabel:C,activeCoordinate:Q,activePayload:K,activeTooltipIndex:U}))}else S.setState(j)}),Nt(S,"renderCursor",function(j){var O,I=S.state,L=I.isTooltipActive,F=I.activeCoordinate,k=I.activePayload,P=I.offset,D=I.activeTooltipIndex,M=I.tooltipAxisBandSize,U=S.getTooltipEventType(),V=(O=j.props.active)!==null&&O!==void 0?O:L,W=S.props.layout,B=j.key||"_recharts-cursor";return le.createElement(fwe,{key:B,activeCoordinate:F,activePayload:k,activeTooltipIndex:D,chartName:r,element:j,isActive:V,layout:W,offset:P,tooltipAxisBandSize:M,tooltipEventType:U})}),Nt(S,"renderPolarAxis",function(j,O,I){var L=fa(j,"type.axisType"),F=fa(S.state,"".concat(L,"Map")),k=j.type.defaultProps,P=k!==void 0?Pe(Pe({},k),j.props):j.props,D=F&&F[P["".concat(L,"Id")]];return X.cloneElement(j,Pe(Pe({},D),{},{className:Ht(L,D.className),key:j.key||"".concat(O,"-").concat(I),ticks:jo(D,!0)}))}),Nt(S,"renderPolarGrid",function(j){var O=j.props,I=O.radialLines,L=O.polarAngles,F=O.polarRadius,k=S.state,P=k.radiusAxisMap,D=k.angleAxisMap,M=wl(P),U=wl(D),V=U.cx,W=U.cy,B=U.innerRadius,J=U.outerRadius;return X.cloneElement(j,{polarAngles:Array.isArray(L)?L:jo(U,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(F)?F:jo(M,!0).map(function($){return $.coordinate}),cx:V,cy:W,innerRadius:B,outerRadius:J,key:j.key||"polar-grid",radialLines:I})}),Nt(S,"renderLegend",function(){var j=S.state.formattedGraphicalItems,O=S.props,I=O.children,L=O.width,F=O.height,k=S.props.margin||{},P=L-(k.left||0)-(k.right||0),D=_M({children:I,formattedGraphicalItems:j,legendWidth:P,legendContent:c});if(!D)return null;var M=D.item,U=y6(D,hwe);return X.cloneElement(M,Pe(Pe({},U),{},{chartWidth:L,chartHeight:F,margin:k,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Nt(S,"renderTooltip",function(){var j,O=S.props,I=O.children,L=O.accessibilityLayer,F=na(I,Ti);if(!F)return null;var k=S.state,P=k.isTooltipActive,D=k.activeCoordinate,M=k.activePayload,U=k.activeLabel,V=k.offset,W=(j=F.props.active)!==null&&j!==void 0?j:P;return X.cloneElement(F,{viewBox:Pe(Pe({},V),{},{x:V.left,y:V.top}),active:W,label:U,payload:W?M:[],coordinate:D,accessibilityLayer:L})}),Nt(S,"renderBrush",function(j){var O=S.props,I=O.margin,L=O.data,F=S.state,k=F.offset,P=F.dataStartIndex,D=F.dataEndIndex,M=F.updateId;return X.cloneElement(j,{key:j.key||"_recharts-brush",onChange:N0(S.handleBrushChange,j.props.onChange),data:L,x:Ze(j.props.x)?j.props.x:k.left,y:Ze(j.props.y)?j.props.y:k.top+k.height+k.brushBottom-(I.bottom||0),width:Ze(j.props.width)?j.props.width:k.width,startIndex:P,endIndex:D,updateId:"brush-".concat(M)})}),Nt(S,"renderReferenceElement",function(j,O,I){if(!j)return null;var L=S,F=L.clipPathId,k=S.state,P=k.xAxisMap,D=k.yAxisMap,M=k.offset,U=j.type.defaultProps||{},V=j.props,W=V.xAxisId,B=W===void 0?U.xAxisId:W,J=V.yAxisId,$=J===void 0?U.yAxisId:J;return X.cloneElement(j,{key:j.key||"".concat(O,"-").concat(I),xAxis:P[B],yAxis:D[$],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:F})}),Nt(S,"renderActivePoints",function(j){var O=j.item,I=j.activePoint,L=j.basePoint,F=j.childIndex,k=j.isRange,P=[],D=O.props.key,M=O.item.type.defaultProps!==void 0?Pe(Pe({},O.item.type.defaultProps),O.item.props):O.item.props,U=M.activeDot,V=M.dataKey,W=Pe(Pe({index:F,dataKey:V,cx:I.x,cy:I.y,r:4,fill:bN(O.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},jt(U,!1)),Gy(U));return P.push(v.renderActiveDot(U,W,"".concat(D,"-activePoint-").concat(F))),L?P.push(v.renderActiveDot(U,Pe(Pe({},W),{},{cx:L.x,cy:L.y}),"".concat(D,"-basePoint-").concat(F))):k&&P.push(null),P}),Nt(S,"renderGraphicChild",function(j,O,I){var L=S.filterFormatItem(j,O,I);if(!L)return null;var F=S.getTooltipEventType(),k=S.state,P=k.isTooltipActive,D=k.tooltipAxis,M=k.activeTooltipIndex,U=k.activeLabel,V=S.props.children,W=na(V,Ti),B=L.props,J=B.points,$=B.isRange,ae=B.baseLine,T=L.item.type.defaultProps!==void 0?Pe(Pe({},L.item.type.defaultProps),L.item.props):L.item.props,C=T.activeDot,K=T.hide,Q=T.activeBar,ie=T.activeShape,ue=!!(!K&&P&&W&&(C||Q||ie)),ge={};F!=="axis"&&W&&W.props.trigger==="click"?ge={onClick:N0(S.handleItemMouseEnter,j.props.onClick)}:F!=="axis"&&(ge={onMouseLeave:N0(S.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:N0(S.handleItemMouseEnter,j.props.onMouseEnter)});var se=X.cloneElement(j,Pe(Pe({},L.props),ge));function he($e){return typeof D.dataKey=="function"?D.dataKey($e.payload):null}if(ue)if(M>=0){var je,me;if(D.dataKey&&!D.allowDuplicatedCategory){var Be=typeof D.dataKey=="function"?he:"payload.".concat(D.dataKey.toString());je=Vy(J,Be,U),me=$&&ae&&Vy(ae,Be,U)}else je=J==null?void 0:J[M],me=$&&ae&&ae[M];if(ie||Q){var ye=j.props.activeIndex!==void 0?j.props.activeIndex:M;return[X.cloneElement(j,Pe(Pe(Pe({},L.props),ge),{},{activeIndex:ye})),null,null]}if(!Dt(je))return[se].concat(Ef(S.renderActivePoints({item:L,activePoint:je,basePoint:me,childIndex:M,isRange:$})))}else{var ee,ut=(ee=S.getItemByXY(S.state.activeCoordinate))!==null&&ee!==void 0?ee:{graphicalItem:se},lt=ut.graphicalItem,at=lt.item,Re=at===void 0?j:at,rt=lt.childIndex,oe=Pe(Pe(Pe({},L.props),ge),{},{activeIndex:rt});return[X.cloneElement(Re,oe),null,null]}return $?[se,null,null]:[se,null]}),Nt(S,"renderCustomized",function(j,O,I){return X.cloneElement(j,Pe(Pe({key:"recharts-customized-".concat(I)},S.props),S.state))}),Nt(S,"renderMap",{CartesianGrid:{handler:P0,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:P0},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:P0},YAxis:{handler:P0},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:Gf("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=w$(S.triggeredAfterMouseMove,(N=w.throttleDelay)!==null&&N!==void 0?N:1e3/60),S.state={},S}return Nwe(v,b),wwe(v,[{key:"componentDidMount",value:function(){var _,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,N=_.children,S=_.data,j=_.height,O=_.layout,I=na(N,Ti);if(I){var L=I.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,k=F_(this.state,S,L,F),P=this.state.tooltipTicks[L].coordinate,D=(this.state.offset.top+j)/2,M=O==="horizontal",U=M?{x:P,y:D}:{y:P,x:D},V=this.state.formattedGraphicalItems.find(function(B){var J=B.item;return J.type.name==="Scatter"});V&&(U=Pe(Pe({},U),V.props.points[L].tooltipPosition),k=V.props.points[L].tooltipPayload);var W={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:F,activePayload:k,activeCoordinate:U};this.setState(W),this.renderCursor(I),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,j;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(_){m5([na(_.children,Ti)],[na(this.props.children,Ti)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=na(this.props.children,Ti);if(_&&typeof _.props.shared=="boolean"){var N=_.props.shared?"axis":"item";return o.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var N=this.container,S=N.getBoundingClientRect(),j=kue(S),O={chartX:Math.round(_.pageX-j.left),chartY:Math.round(_.pageY-j.top)},I=S.width/N.offsetWidth||1,L=this.inRange(O.chartX,O.chartY,I);if(!L)return null;var F=this.state,k=F.xAxisMap,P=F.yAxisMap,D=this.getTooltipEventType(),M=b6(this.state,this.props.data,this.props.layout,L);if(D!=="axis"&&k&&P){var U=wl(k).scale,V=wl(P).scale,W=U&&U.invert?U.invert(O.chartX):null,B=V&&V.invert?V.invert(O.chartY):null;return Pe(Pe({},O),{},{xValue:W,yValue:B},M)}return M?Pe(Pe({},O),M):null}},{key:"inRange",value:function(_,N){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,O=_/S,I=N/S;if(j==="horizontal"||j==="vertical"){var L=this.state.offset,F=O>=L.left&&O<=L.left+L.width&&I>=L.top&&I<=L.top+L.height;return F?{x:O,y:I}:null}var k=this.state,P=k.angleAxisMap,D=k.radiusAxisMap;if(P&&D){var M=wl(P);return HO({x:O,y:I},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,N=this.getTooltipEventType(),S=na(_,Ti),j={};S&&N==="axis"&&(S.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Gy(this.props,this.handleOuterEvent);return Pe(Pe({},O),j)}},{key:"addListener",value:function(){m2.on(g2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){m2.removeListener(g2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,N,S){for(var j=this.state.formattedGraphicalItems,O=0,I=j.length;O<I;O++){var L=j[O];if(L.item===_||L.props.key===_.key||N===Eo(L.item.type)&&S===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,N=this.state.offset,S=N.left,j=N.top,O=N.height,I=N.width;return le.createElement("defs",null,le.createElement("clipPath",{id:_},le.createElement("rect",{x:S,y:j,height:O,width:I})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(N,S){var j=g6(S,2),O=j[0],I=j[1];return Pe(Pe({},N),{},Nt({},O,I.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(N,S){var j=g6(S,2),O=j[0],I=j[1];return Pe(Pe({},N),{},Nt({},O,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[_])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(_){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[_])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(_){var N=this.state,S=N.formattedGraphicalItems,j=N.activeItem;if(S&&S.length)for(var O=0,I=S.length;O<I;O++){var L=S[O],F=L.props,k=L.item,P=k.type.defaultProps!==void 0?Pe(Pe({},k.type.defaultProps),k.props):k.props,D=Eo(k.type);if(D==="Bar"){var M=(F.data||[]).find(function(B){return uye(_,B)});if(M)return{graphicalItem:L,payload:M}}else if(D==="RadialBar"){var U=(F.data||[]).find(function(B){return HO(_,B)});if(U)return{graphicalItem:L,payload:U}}else if(ob(L,j)||lb(L,j)||Pm(L,j)){var V=Zve({graphicalItem:L,activeTooltipItem:j,itemData:P.data}),W=P.activeIndex===void 0?V:P.activeIndex;return{graphicalItem:Pe(Pe({},L),{},{childIndex:W}),payload:Pm(L,j)?P.data[V]:L.props.data[V]}}}return null}},{key:"render",value:function(){var _=this;if(!L3(this))return null;var N=this.props,S=N.children,j=N.className,O=N.width,I=N.height,L=N.style,F=N.compact,k=N.title,P=N.desc,D=y6(N,pwe),M=jt(D,!1);if(F)return le.createElement(ZP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement(y5,jd({},M,{width:O,height:I,title:k,desc:P}),this.renderClipPath(),$3(S,this.renderMap)));if(this.props.accessibilityLayer){var U,V;M.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,M.role=(V=this.props.role)!==null&&V!==void 0?V:"application",M.onKeyDown=function(B){_.accessibilityManager.keyboardEvent(B)},M.onFocus=function(){_.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return le.createElement(ZP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement("div",jd({className:Ht("recharts-wrapper",j),style:Pe({position:"relative",cursor:"default",width:O,height:I},L)},W,{ref:function(J){_.container=J}}),le.createElement(y5,jd({},M,{width:O,height:I,title:k,desc:P,style:Cwe}),this.renderClipPath(),$3(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(X.Component);Nt(y,"displayName",r),Nt(y,"defaultProps",Pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Nt(y,"getDerivedStateFromProps",function(b,v){var w=b.dataKey,_=b.data,N=b.children,S=b.width,j=b.height,O=b.layout,I=b.stackOffset,L=b.margin,F=v.dataStartIndex,k=v.dataEndIndex;if(v.updateId===void 0){var P=x6(b);return Pe(Pe(Pe({},P),{},{updateId:0},h(Pe(Pe({props:b},P),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:j,prevLayout:O,prevStackOffset:I,prevMargin:L,prevChildren:N})}if(w!==v.prevDataKey||_!==v.prevData||S!==v.prevWidth||j!==v.prevHeight||O!==v.prevLayout||I!==v.prevStackOffset||!$d(L,v.prevMargin)){var D=x6(b),M={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},U=Pe(Pe({},b6(v,_,O)),{},{updateId:v.updateId+1}),V=Pe(Pe(Pe({},D),M),U);return Pe(Pe(Pe({},V),h(Pe({props:b},V),v)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:j,prevLayout:O,prevStackOffset:I,prevMargin:L,prevChildren:N})}if(!m5(N,v.prevChildren)){var W,B,J,$,ae=na(N,vf),T=ae&&(W=(B=ae.props)===null||B===void 0?void 0:B.startIndex)!==null&&W!==void 0?W:F,C=ae&&(J=($=ae.props)===null||$===void 0?void 0:$.endIndex)!==null&&J!==void 0?J:k,K=T!==F||C!==k,Q=!Dt(_),ie=Q&&!K?v.updateId:v.updateId+1;return Pe(Pe({updateId:ie},h(Pe(Pe({props:b},v),{},{updateId:ie,dataStartIndex:T,dataEndIndex:C}),v)),{},{prevChildren:N,dataStartIndex:T,dataEndIndex:C})}return null}),Nt(y,"renderActiveDot",function(b,v,w){var _;return X.isValidElement(b)?_=X.cloneElement(b,v):Ot(b)?_=b(v):_=le.createElement(rb,v),le.createElement(rr,{className:"recharts-active-dot",key:w},_)});var g=X.forwardRef(function(v,w){return le.createElement(y,jd({},v,{ref:w}))});return g.displayName=y.displayName,g},CN=PN({chartName:"LineChart",GraphicalChild:ql,axisComponents:[{axisType:"xAxis",AxisComp:tc},{axisType:"yAxis",AxisComp:rc}],formatAxisMap:d7}),Uwe=PN({chartName:"BarChart",GraphicalChild:ku,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:tc},{axisType:"yAxis",AxisComp:rc}],formatAxisMap:d7}),zwe=PN({chartName:"PieChart",GraphicalChild:Wo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:sb},{axisType:"radiusAxis",AxisComp:ib}],formatAxisMap:Sme,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function qwe({data:e}){const t=["#3b82f6","#60a5fa","#93c5fd","#cbd5e1","#ef4444"];return d.jsx(Jm,{width:"100%",height:300,children:d.jsxs(Uwe,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(ag,{strokeDasharray:"3 3"}),d.jsx(tc,{dataKey:"range"}),d.jsx(rc,{}),d.jsx(Ti,{}),d.jsx(ku,{dataKey:"count",fill:"#3b82f6",radius:[8,8,0,0],children:e.map((r,n)=>d.jsx(Zm,{fill:t[n%t.length]},`cell-${n}`))})]})})}function Hwe({data:e}){return d.jsx(Jm,{width:"100%",height:300,children:d.jsxs(CN,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(ag,{strokeDasharray:"3 3"}),d.jsx(tc,{dataKey:"date"}),d.jsx(rc,{}),d.jsx(Ti,{}),d.jsx(Us,{}),d.jsx(ql,{type:"monotone",dataKey:"completions",stroke:"#10b981",strokeWidth:2,name:"Completions"}),d.jsx(ql,{type:"monotone",dataKey:"assignments",stroke:"#3b82f6",strokeWidth:2,name:"Assignments"})]})})}const _6=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function Wwe({data:e}){return d.jsx(Jm,{width:"100%",height:300,children:d.jsxs(zwe,{children:[d.jsx(Wo,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:({name:t,percent:r})=>`${t}: ${(r*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.map((t,r)=>d.jsx(Zm,{fill:_6[r%_6.length]},`cell-${r}`))}),d.jsx(Ti,{}),d.jsx(Us,{})]})})}function Vwe({user:e}){const[t,r]=X.useState({totalAssignments:0,totalCompletions:0,averageScore:0,completionRate:0}),[n,i]=X.useState({scoreDistribution:[],completionTrend:[],stationPerformance:[],studentPerformance:[],hintUsage:[],diagnosisAccuracy:[],timeToCompletion:[],sloTrends:[]}),[a,s]=X.useState(!0);X.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:l}=await Le.from("stations").select("id, title").eq("created_by",e.id);if(!l)return;const c=l.map(W=>W.id),{data:u}=await Le.from("case_snapshots").select("id, station_id, clinical_case").in("station_id",c);if(!u)return;const f=u.map(W=>W.id),{data:p}=await Le.from("assignments").select("id, snapshot_id, created_at, due_at").in("snapshot_id",f),{data:h}=await Le.from("simulation_runs").select("score, submitted_at, assignment_id, started_at, student_id, transcript").in("assignment_id",(p==null?void 0:p.map(W=>W.id))||[]),y=(h==null?void 0:h.filter(W=>W.submitted_at))||[],g=y.map(W=>{var B;return((B=W.score)==null?void 0:B.overall)||0}).filter(W=>W>0),b=g.length>0?g.reduce((W,B)=>W+B,0)/g.length:0;r({totalAssignments:(p==null?void 0:p.length)||0,totalCompletions:y.length,averageScore:Math.round(b),completionRate:p&&p.length>0?Math.round(y.length/p.length*100):0});const w=[{range:"0-20",min:0,max:20},{range:"21-40",min:21,max:40},{range:"41-60",min:41,max:60},{range:"61-80",min:61,max:80},{range:"81-100",min:81,max:100}].map(W=>({range:W.range,count:g.filter(B=>B>=W.min&&B<=W.max).length})),_=new Date,N=[];for(let W=6;W>=0;W--){const B=new Date(_);B.setDate(B.getDate()-W);const J=B.toISOString().split("T")[0],$=y.filter(T=>{var K;return((K=T.submitted_at)==null?void 0:K.split("T")[0])===J}).length,ae=(p==null?void 0:p.filter(T=>{var K;return((K=T.created_at)==null?void 0:K.split("T")[0])===J}).length)||0;N.push({date:B.toLocaleDateString("en-US",{month:"short",day:"numeric"}),completions:$,assignments:ae})}const S=new Map;y.forEach(W=>{const B=p==null?void 0:p.find(J=>J.id===W.assignment_id);if(B){const J=u.find($=>$.id===B.snapshot_id);if(J){const $=l.find(ae=>ae.id===J.station_id);if($){const ae=S.get($.title||"Untitled")||0;S.set($.title||"Untitled",ae+1)}}}});const j=Array.from(S.entries()).map(([W,B])=>({name:W,value:B})).slice(0,6),O=new Map;p==null||p.forEach(W=>{var C;const B=y.filter(K=>K.assignment_id===W.id),J=B.map(K=>{var Q;return((Q=K.score)==null?void 0:Q.overall)||0}).filter(K=>K>0),$=u.find(K=>K.id===W.snapshot_id),ae=((C=$==null?void 0:$.clinical_case)==null?void 0:C.title)||"Untitled Assignment",T=new Set(B.map(K=>K.student_id));O.set(ae,{scores:J,completions:B.length,totalStudents:T.size})});const I=Array.from(O.entries()).map(([W,B])=>({assignmentTitle:W,averageScore:B.scores.length>0?Math.round(B.scores.reduce((J,$)=>J+$,0)/B.scores.length):0,completions:B.completions,totalStudents:B.totalStudents})).sort((W,B)=>B.averageScore-W.averageScore).slice(0,10),L=new Map;y.forEach(W=>{var J,$;const B=p==null?void 0:p.find(ae=>ae.id===W.assignment_id);if(B){const ae=u.find(Q=>Q.id===B.snapshot_id),T=((J=ae==null?void 0:ae.clinical_case)==null?void 0:J.title)||"Untitled Assignment",C=(($=W.transcript)==null?void 0:$.hintsUsed)||0,K=L.get(T)||{hints:[],total:0};K.hints.push(C),K.total+=C,L.set(T,K)}});const F=Array.from(L.entries()).map(([W,B])=>({assignmentTitle:W,averageHints:B.hints.length>0?Math.round(B.total/B.hints.length*10)/10:0,totalHints:B.total})).sort((W,B)=>B.averageHints-W.averageHints).slice(0,10),k=[];for(let W=6;W>=0;W--){const B=new Date(_);B.setDate(B.getDate()-W);const J=B.toISOString().split("T")[0],$=y.filter(C=>{var Q;return((Q=C.submitted_at)==null?void 0:Q.split("T")[0])===J});let ae=0,T=0;$.forEach(C=>{const K=C.score;(K==null?void 0:K.diagnosisCorrect)!==void 0&&(T++,K.diagnosisCorrect&&ae++)}),k.push({date:B.toLocaleDateString("en-US",{month:"short",day:"numeric"}),accuracy:T>0?Math.round(ae/T*100):0,total:T})}const P=new Map;y.forEach(W=>{var J;const B=p==null?void 0:p.find($=>$.id===W.assignment_id);if(B&&W.started_at&&W.submitted_at){const $=u.find(ie=>ie.id===B.snapshot_id),ae=((J=$==null?void 0:$.clinical_case)==null?void 0:J.title)||"Untitled Assignment",T=new Date(W.started_at).getTime(),K=(new Date(W.submitted_at).getTime()-T)/(1e3*60),Q=P.get(ae)||[];Q.push(K),P.set(ae,Q)}});const D=Array.from(P.entries()).map(([W,B])=>{const J=[...B].sort((ae,T)=>ae-T),$=J.length>0?J[Math.floor(J.length/2)]:0;return{assignmentTitle:W,averageTime:B.length>0?Math.round(B.reduce((ae,T)=>ae+T,0)/B.length*10)/10:0,medianTime:Math.round($*10)/10}}).slice(0,10),M=new Map;y.forEach(W=>{const B=W.score;((B==null?void 0:B.sloResults)||[]).forEach($=>{const ae=M.get($.sloId)||{text:"",correct:0,total:0};ae.total++,$.status==="Achieved"&&ae.correct++,M.set($.sloId,ae)})});const{data:U}=await Le.from("slo").select("id, text");U==null||U.forEach(W=>{const B=M.get(W.id);B&&(B.text=W.text)});const V=Array.from(M.entries()).map(([W,B])=>({sloId:W,sloText:B.text||"Unknown SLO",achievementRate:B.total>0?Math.round(B.correct/B.total*100):0,attempts:B.total})).sort((W,B)=>B.attempts-W.attempts).slice(0,10);i({scoreDistribution:w,completionTrend:N,stationPerformance:j,studentPerformance:I,hintUsage:F,diagnosisAccuracy:k,timeToCompletion:D,sloTrends:V})}catch(l){console.error("Error loading analytics:",l)}finally{s(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Bi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Analytics Dashboard"}),a?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Assignments"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.totalAssignments})]}),d.jsx($a,{className:"w-8 h-8 text-blue-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Completions"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.totalCompletions})]}),d.jsx(ko,{className:"w-8 h-8 text-green-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[t.averageScore,"%"]})]}),d.jsx(Mf,{className:"w-8 h-8 text-purple-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Completion Rate"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[t.completionRate,"%"]})]}),d.jsx(fs,{className:"w-8 h-8 text-orange-600"})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Score Distribution"}),n.scoreDistribution.length>0?d.jsx(qwe,{data:n.scoreDistribution}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No score data available"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Completion Trend (Last 7 Days)"}),n.completionTrend.length>0?d.jsx(Hwe,{data:n.completionTrend}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No trend data available"})]})]}),n.stationPerformance.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Station Performance"}),d.jsx(Wwe,{data:n.stationPerformance})]}),n.studentPerformance.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Top Assignments Performance"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Average Score"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completions"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.studentPerformance.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.jsxs("span",{className:`font-semibold ${l.averageScore>=80?"text-green-600":l.averageScore>=60?"text-yellow-600":"text-red-600"}`,children:[l.averageScore,"%"]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.completions}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.totalStudents})]},c))})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.diagnosisAccuracy.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Diagnosis Accuracy Trend (Last 7 Days)"}),d.jsx("div",{className:"space-y-3",children:n.diagnosisAccuracy.map((l,c)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:l.date}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${l.accuracy>=80?"bg-green-500":l.accuracy>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l.accuracy}%`}})}),d.jsxs("span",{className:"text-sm font-semibold text-gray-900 w-12 text-right",children:[l.accuracy,"%"]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.total,")"]})]})]},c))})]}),n.hintUsage.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Hint Usage by Assignment"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Hints"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.hintUsage.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:l.averageHints}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:l.totalHints})]},c))})]})})]})]}),n.timeToCompletion.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Time to Completion"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Time (min)"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Median Time (min)"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.timeToCompletion.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:l.averageTime}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:l.medianTime})]},c))})]})})]}),n.sloTrends.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"SLO Achievement Trends"}),d.jsx("div",{className:"space-y-4",children:n.sloTrends.map((l,c)=>d.jsxs("div",{className:"border-l-4 border-primary-500 pl-4 py-2",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:l.sloText}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${l.achievementRate>=70?"bg-green-500":l.achievementRate>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l.achievementRate}%`}})}),d.jsxs("span",{className:"text-sm font-semibold text-gray-900 w-16 text-right",children:[l.achievementRate,"%"]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.attempts," attempts)"]})]})]},c))})]})]})]})}),d.jsx(Zn,{role:"faculty"})]})}function Gwe({user:e}){const[t,r]=X.useState({totalStations:0,approvedCases:0,pendingReview:0,totalAssignments:0}),[n,i]=X.useState(!0);X.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:o}=await Le.from("stations").select("id").eq("created_by",e.id),{data:l}=await Le.from("case_snapshots").select("id, station_id").eq("approved_by",e.id),c=(o==null?void 0:o.map(g=>g.id))||[],{data:u}=await Le.from("case_snapshots").select("station_id").in("station_id",c),f=new Set((u==null?void 0:u.map(g=>g.station_id))||[]),p=c.filter(g=>!f.has(g)),h=(l==null?void 0:l.map(g=>g.id))||[],{data:y}=await Le.from("assignments").select("id").in("snapshot_id",h);r({totalStations:(o==null?void 0:o.length)||0,approvedCases:(l==null?void 0:l.length)||0,pendingReview:p.length,totalAssignments:(y==null?void 0:y.length)||0})}catch(o){console.error("Error loading stats:",o)}finally{i(!1)}},s=async()=>{await aj()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Bi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Profile"}),d.jsx("p",{className:"text-gray-600",children:"View your account information and statistics"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx(Bs,{className:"w-10 h-10 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.name}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(b8,{className:"w-4 h-4"}),d.jsx("span",{children:e.email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(Df,{className:"w-4 h-4"}),d.jsxs("span",{children:["Member since ",new Date(e.created_at).toLocaleDateString()]})]})]})]}),d.jsx("div",{className:"border-t pt-4",children:d.jsx("div",{className:"flex items-center gap-2 text-sm",children:d.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full font-medium",children:"Faculty"})})})]}),!n&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.totalStations})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(xi,{className:"w-6 h-6 text-blue-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Approved Cases"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.approvedCases})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(fs,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Pending Review"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.pendingReview})]}),d.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:d.jsx(xu,{className:"w-6 h-6 text-yellow-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Assignments"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.totalAssignments})]}),d.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:d.jsx(xi,{className:"w-6 h-6 text-purple-600"})})]})})]}),n&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[d.jsx(v8,{className:"w-5 h-5"}),d.jsx("span",{children:"Sign Out"})]})})]})}),d.jsx(Zn,{role:"faculty"})]})}function S6({user:e}){const t=gs(),[r,n]=X.useState([]),[i,a]=X.useState([]),[s,o]=X.useState(!0),[l,c]=X.useState("all"),[u,f]=X.useState(""),[p,h]=X.useState("all");X.useEffect(()=>{y()},[]),X.useEffect(()=>{g()},[r,l,u,p]);const y=async()=>{try{const{data:S}=await Le.from("cohort_members").select("cohort_id").eq("student_id",e.id);if(!S||S.length===0){o(!1);return}const j=S.map(F=>F.cohort_id),{data:O,error:I}=await Le.from("assignments").select("*").in("cohort_id",j).order("created_at",{ascending:!1});if(I)throw I;const L=await Promise.all((O||[]).map(async F=>{var W;const{data:k}=await Le.from("case_snapshots").select("*").eq("id",F.snapshot_id).single(),{data:P}=await Le.from("simulation_runs").select("id, score, submitted_at").eq("assignment_id",F.id).eq("student_id",e.id).order("submitted_at",{ascending:!1}),D=(P==null?void 0:P.length)||0,M=(P==null?void 0:P.reduce((B,J)=>{const $=J.score;return Math.max(B,($==null?void 0:$.overall)||0)},0))||0,U=(W=P==null?void 0:P[0])==null?void 0:W.submitted_at;let V="not_started";return D>0&&(V=(P==null?void 0:P.some(J=>J.submitted_at))?"completed":"in_progress"),{...F,snapshot:k,attemptsCount:D,bestScore:M,lastAttempt:U,status:V}}));n(L)}catch(S){console.error("Error loading assignments:",S)}finally{o(!1)}},g=()=>{let S=[...r];if(p==="pending"?S=S.filter(j=>j.status==="not_started"&&(!j.due_at||new Date(j.due_at)>new Date)):p==="in_progress"?S=S.filter(j=>j.status==="in_progress"):p==="completed"&&(S=S.filter(j=>j.status==="completed")),l!=="all"&&(S=S.filter(j=>j.status===l)),u){const j=u.toLowerCase();S=S.filter(O=>{var I,L,F,k,P,D,M;return((F=(L=(I=O.snapshot)==null?void 0:I.clinical_case)==null?void 0:L.title)==null?void 0:F.toLowerCase().includes(j))||((M=(D=(P=(k=O.snapshot)==null?void 0:k.clinical_case)==null?void 0:P.patientProfile)==null?void 0:D.name)==null?void 0:M.toLowerCase().includes(j))})}a(S)},b=S=>Math.max(0,S.max_attempts-(S.attemptsCount||0)),v=S=>S.due_at?new Date(S.due_at)<new Date&&S.status!=="completed":!1,w=({dueDate:S})=>{const[j,O]=X.useState("");return X.useEffect(()=>{const I=()=>{const F=new Date,P=new Date(S).getTime()-F.getTime();if(P<=0){O("Overdue");return}const D=Math.floor(P/(1e3*60*60*24)),M=Math.floor(P%(1e3*60*60*24)/(1e3*60*60)),U=Math.floor(P%(1e3*60*60)/(1e3*60));D>0?O(`${D}d ${M}h left`):M>0?O(`${M}h ${U}m left`):O(`${U}m left`)};I();const L=setInterval(I,6e4);return()=>clearInterval(L)},[S]),d.jsxs("span",{className:"text-xs text-primary-600 font-medium ml-2",children:["(",j,")"]})},_=S=>v(S)?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"Overdue"}):S.status==="completed"?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Completed"}):S.status==="in_progress"?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full",children:"In Progress"}):d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:"Not Started"}),N={total:r.length,completed:r.filter(S=>S.status==="completed").length,inProgress:r.filter(S=>S.status==="in_progress").length,notStarted:r.filter(S=>S.status==="not_started").length};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 pb-20 md:pb-6",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"My Assignments"}),d.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"View and manage your OSCE simulations"})]}),!s&&d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:N.total}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Total"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-green-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-green-700",children:N.completed}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Completed"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-yellow-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-yellow-700",children:N.inProgress}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"In Progress"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-700",children:N.notStarted}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Not Started"})]})]}),!s&&d.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsx("div",{className:"flex overflow-x-auto",children:[{key:"all",label:"All",count:r.length},{key:"pending",label:"Pending",count:r.filter(S=>S.status==="not_started"&&(!S.due_at||new Date(S.due_at)>new Date)).length},{key:"in_progress",label:"In Progress",count:r.filter(S=>S.status==="in_progress").length},{key:"completed",label:"Completed",count:r.filter(S=>S.status==="completed").length}].map(S=>d.jsxs("button",{onClick:()=>h(S.key),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${p===S.key?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[S.label,S.count>0&&d.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${p===S.key?"bg-primary-100 text-primary-800":"bg-gray-100 text-gray-600"}`,children:S.count})]},S.key))})}),d.jsx("div",{className:"p-4 border-b border-gray-200",children:d.jsxs("div",{className:"relative",children:[d.jsx(oj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search assignments...",value:u,onChange:S=>f(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})})]}),s?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):i.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsx(y1,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.length===0?"No Assignments Available":"No Assignments Match Your Filters"}),d.jsx("p",{className:"text-gray-600 text-sm mb-4",children:r.length===0?"You don't have any assignments yet. Check back later or contact your faculty if you expect to see assignments here.":"Try adjusting your search or filter criteria to find what you're looking for."}),r.length>0&&d.jsx("button",{onClick:()=>{h("all"),c("all"),f("")},className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Clear Filters"}),r.length===0&&d.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("strong",{children:"Tip:"})," Make sure you're enrolled in cohorts to receive assignments. You can manage your cohorts in your Profile settings."]})})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(S=>{var j,O,I,L,F,k;return d.jsxs("div",{className:`bg-white rounded-xl shadow-md p-5 md:p-6 hover:shadow-xl transition-all border-2 ${v(S)?"border-l-4 border-red-500 border-r-2 border-t-2 border-b-2":"border-gray-200"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 flex-1",children:((O=(j=S.snapshot)==null?void 0:j.clinical_case)==null?void 0:O.title)||"Untitled Station"}),_(S)]}),((L=(I=S.snapshot)==null?void 0:I.clinical_case)==null?void 0:L.patientProfile)&&d.jsxs("div",{className:"mb-3 text-sm text-gray-600",children:[d.jsx("span",{className:"font-medium",children:"Patient:"})," ",S.snapshot.clinical_case.patientProfile.name]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(xu,{className:"w-4 h-4"}),d.jsxs("span",{children:[((k=(F=S.snapshot)==null?void 0:F.clinical_case)==null?void 0:k.durationMinutes)||15," minutes"]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(f4,{className:"w-4 h-4"}),d.jsxs("span",{children:[b(S)," of ",S.max_attempts," attempts left"]})]}),S.bestScore!==void 0&&S.bestScore>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[d.jsx(fs,{className:"w-4 h-4"}),d.jsxs("span",{children:["Best Score: ",S.bestScore.toFixed(0),"%"]})]}),S.due_at&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(Df,{className:"w-4 h-4"}),d.jsxs("span",{className:v(S)?"text-red-600 font-medium":"",children:["Due: ",new Date(S.due_at).toLocaleDateString()]}),!v(S)&&new Date(S.due_at)>new Date&&d.jsx(w,{dueDate:S.due_at})]})]}),d.jsx("div",{className:"flex gap-2",children:S.status==="completed"?d.jsxs("button",{onClick:()=>{t("/results")},className:"flex-1 flex items-center justify-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:[d.jsx(Mn,{className:"w-4 h-4"}),"View Results"]}):d.jsxs("button",{onClick:()=>t(`/simulation/${S.id}`),disabled:b(S)===0,className:"flex-1 flex items-center justify-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[d.jsx(f4,{className:"w-4 h-4"}),S.status==="in_progress"?"Continue":"Start Simulation"]})})]},S.id)})})]}),d.jsx(Zn,{role:"student"})]})}function Kwe({activeTab:e,onTabChange:t}){const r=[{id:"chat",label:"Chat",icon:$H},{id:"exam",label:"Exam",icon:FH},{id:"labs",label:"Labs",icon:UH},{id:"diagnosis",label:"Diagnosis",icon:xi}];return d.jsx("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm",children:d.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:r.map(n=>{const i=n.icon,a=e===n.id;return d.jsxs("button",{onClick:()=>t(n.id),className:`flex items-center gap-2 px-4 md:px-6 py-3 md:py-4 text-sm md:text-base font-semibold border-b-3 transition-all whitespace-nowrap ${a?"border-primary-600 text-primary-700 bg-primary-50":"border-transparent text-gray-600 hover:text-primary-600 hover:bg-gray-50 hover:border-gray-300"}`,children:[d.jsx(i,{className:`w-4 h-4 md:w-5 md:h-5 ${a?"text-primary-600":""}`}),d.jsx("span",{children:n.label})]},n.id)})})})}function Ywe({messages:e,input:t,setInput:r,sending:n,onSendMessage:i,onRequestHint:a,hintsRemaining:s}){const o=X.useRef(null);return X.useEffect(()=>{var l;(l=o.current)==null||l.scrollIntoView({behavior:"smooth"})},[e]),d.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[d.jsxs("div",{className:"bg-white border-b-2 border-gray-300 p-4 flex items-center justify-between shadow-sm",children:[d.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Chat with Patient"}),d.jsxs("button",{onClick:a,disabled:s<=0,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900 rounded-lg hover:from-yellow-500 hover:to-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md font-semibold text-sm",children:[d.jsx(y8,{className:"w-4 h-4"}),"Hint (",s,")"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((l,c)=>d.jsxs("div",{className:`flex ${l.role==="user"?"justify-end":"justify-start"} items-start gap-2`,children:[l.role==="assistant"&&d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(Bs,{className:"w-4 h-4 text-primary-600"})}),d.jsxs("div",{className:`max-w-[85%] md:max-w-[75%] rounded-xl p-3 md:p-4 shadow-md ${l.role==="user"?"bg-gradient-to-br from-primary-600 to-primary-700 text-white":"bg-white border-2 border-gray-200 text-gray-900"}`,children:[l.role==="user"?d.jsx("p",{className:"text-white whitespace-pre-wrap",children:l.content}):d.jsx("div",{className:"text-gray-800",children:d.jsx(Ca,{content:l.content})}),d.jsx("span",{className:`text-xs mt-2 block ${l.role==="user"?"text-primary-100":"text-gray-500"}`,children:l.timestamp instanceof Date?l.timestamp.toLocaleTimeString():new Date(l.timestamp).toLocaleTimeString()})]}),l.role==="user"&&d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(Bs,{className:"w-4 h-4 text-gray-600"})})]},c)),n&&d.jsxs("div",{className:"flex justify-start items-start gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(Bs,{className:"w-4 h-4 text-primary-600"})}),d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),d.jsx("div",{ref:o})]}),d.jsx("div",{className:"bg-white border-t-2 border-gray-300 p-4 shadow-lg",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:t,onChange:l=>r(l.target.value),onKeyPress:l=>l.key==="Enter"&&!n&&i(),placeholder:"Ask a question...",className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400",disabled:n}),d.jsx("button",{onClick:i,disabled:n||!t.trim(),className:"px-5 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-lg hover:from-primary-700 hover:to-primary-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md font-semibold",children:d.jsx(DH,{className:"w-5 h-5"})})]})})]})}function Xwe({caseData:e,vitalsEnabled:t=!1,onToggleVitals:r}){const n=(e==null?void 0:e.physicalExam)||{},i=n.vitals||{},a=n.generalExam||"",s=n.systemicExam||"";return d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Physical Examination"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-generated examination findings"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-primary-100 p-2 rounded-lg",children:d.jsx(CH,{className:"w-5 h-5 text-primary-700"})}),d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Vital Signs"})]}),r&&d.jsx("button",{onClick:r,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${t?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t?d.jsxs(d.Fragment,{children:[d.jsx(v1,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Enabled"})]}):d.jsxs(d.Fragment,{children:[d.jsx(d4,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Enable Vitals"})]})})]}),t?d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 md:gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Blood Pressure"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-lg text-gray-900 font-medium",children:i.bp||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Heart Rate"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200 rounded-lg text-gray-900 font-medium",children:i.hr||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Respiratory Rate"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200 rounded-lg text-gray-900 font-medium",children:i.rr||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Temperature"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-orange-50 to-orange-100 border-2 border-orange-200 rounded-lg text-gray-900 font-medium",children:i.temp||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"SpO2"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200 rounded-lg text-gray-900 font-medium",children:i.spo2||"Not recorded"})]})]}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(d4,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),d.jsx("p",{className:"text-sm md:text-base",children:"Vital signs are hidden"}),d.jsx("p",{className:"text-xs md:text-sm mt-1",children:'Click "Enable Vitals" to view vital signs'})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4",children:"General Examination"}),d.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-lg min-h-[120px] text-gray-900",children:a?d.jsx(Ca,{content:a}):d.jsx("p",{className:"text-gray-500",children:"General examination findings not available."})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("div",{className:"flex items-center gap-2 mb-4",children:d.jsx("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Systemic Examination"})}),d.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-lg min-h-[200px] text-gray-900",children:s?d.jsx(Ca,{content:s}):d.jsx("p",{className:"text-gray-500",children:"Systemic examination findings not available."})})]})]})}const G7=[{name:"BEDSIDE TESTS",tests:["ECG","Blood Glucose","Urine Dipstick"]},{name:"BASIC LABS",tests:["CBC","CMP","ESR","CRP","TSH","Lipid Profile","LFT","RFT","ABG"]},{name:"ADVANCED LABS",tests:["Troponin","BNP","D-dimer","Coagulation Profile","Blood Culture","HbA1c"]},{name:"IMAGING",tests:["Chest X-Ray","CT Head","CT Chest","CT Abdomen","Abdominal Ultrasound","Echocardiogram"]}];G7.flatMap(e=>e.tests.map(t=>({test:t,category:e.name})));function K7(e,t,r){if(r&&r[e])return r[e];const n=e.toLowerCase();return n.includes("ecg")?"Normal sinus rhythm, no acute changes":n.includes("glucose")?"Random blood glucose: 180 mg/dL (elevated)":n.includes("urine")?"Negative for nitrites, leukocyte esterase, protein, blood":n.includes("cbc")?"WBC: 15,000/L (elevated), Hb: 12 g/dL, Platelets: 250,000/L":n.includes("cmp")?"Na: 138 mEq/L, K: 4.2 mEq/L, Creatinine: 1.2 mg/dL, BUN: 45 mg/dL (elevated)":n.includes("crp")?"150 mg/L (markedly elevated)":n.includes("chest x-ray")||n.includes("chest xray")?"Consolidation in right lower lobe, consistent with pneumonia":n.includes("ct head")?"No acute intracranial pathology, age-appropriate atrophy":n.includes("ct chest")?"Right lower lobe consolidation with air bronchograms, consistent with pneumonia":n.includes("blood culture")?"Pending (results typically available in 48-72 hours)":n.includes("troponin")?"0.02 ng/mL (normal)":n.includes("bnp")?"200 pg/mL (mildly elevated)":n.includes("d-dimer")?"0.8 mg/L (elevated)":n.includes("abg")?"pH: 7.35, pCO2: 42 mmHg, pO2: 65 mmHg, HCO3: 22 mEq/L (respiratory acidosis with hypoxemia)":`Result for ${e}: See detailed report`}function j6(e,t){return t.some(r=>r.testName===e)}function Jwe({labOrders:e,labResults:t,onOrderTest:r,caseData:n}){const[i,a]=X.useState("order"),s=(l,c)=>{j6(l,e)||r(l,c)},o=l=>{const c=t.find(u=>u.testName===l);return c?c.result:K7(l,n,n==null?void 0:n.labResults)};return d.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[d.jsx("div",{className:"bg-white border-b-2 border-gray-300 p-4 shadow-sm",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>a("order"),className:`px-6 py-2.5 rounded-lg font-semibold transition-all shadow-md ${i==="order"?"bg-gradient-to-r from-primary-600 to-primary-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Order Tests"}),d.jsx("button",{onClick:()=>a("view"),className:`px-6 py-2.5 rounded-lg font-semibold transition-all shadow-md ${i==="view"?"bg-gradient-to-r from-primary-600 to-primary-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"View Results"})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:i==="order"?d.jsx("div",{className:"space-y-4 md:space-y-6",children:G7.map(l=>d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 md:p-6 border border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4 pb-2 border-b-2 border-gray-200",children:l.name}),d.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3",children:l.tests.map(c=>{const u=j6(c,e);return d.jsxs("button",{onClick:()=>s(c,l.name),disabled:u,className:`px-4 py-2 rounded-lg text-sm md:text-base font-semibold transition-all shadow-sm ${u?"bg-gradient-to-r from-green-500 to-green-600 text-white cursor-not-allowed shadow-md":"bg-gray-100 text-gray-800 hover:bg-primary-100 hover:text-primary-700 hover:shadow-md border-2 border-gray-200"}`,children:[c,u&&" "]},c)})})]},l.name))}):d.jsx("div",{className:"space-y-4",children:e.length===0?d.jsx("div",{className:"bg-white rounded-xl shadow-md p-8 md:p-12 text-center border border-gray-200",children:d.jsx("p",{className:"text-gray-600 font-medium",children:'No tests ordered yet. Switch to "Order Tests" to order lab tests.'})}):e.map(l=>{const c=o(l.testName);return d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 md:p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b-2 border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:l.testName}),d.jsx("span",{className:"text-xs md:text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full font-medium",children:l.category})]}),d.jsx("p",{className:"text-gray-800 font-medium leading-relaxed",children:c})]},l.testName)})})})]})}function Zwe({diagnosis:e,onUpdate:t,diagnosisMCQ:r,selectedDiagnosisMCQ:n,onDiagnosisMCQChange:i}){const[a,s]=X.useState(e);return X.useEffect(()=>{t(a)},[a,t]),d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 md:p-6 bg-gray-50",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"bg-primary-100 p-2 rounded-lg",children:d.jsx(xi,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-700"})}),d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Enter Diagnosis"})]}),d.jsx("p",{className:"text-sm md:text-base text-gray-600 ml-12",children:"Enter your diagnosis based on the patient's history, physical examination findings, and laboratory results."})]}),r&&d.jsxs("div",{className:"mb-6 bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("label",{className:"block text-sm md:text-base font-semibold text-gray-900 mb-4",children:r.question}),d.jsx("div",{className:"space-y-3",children:r.options.map((o,l)=>d.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition-colors ${n===l?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:[d.jsx("input",{type:"radio",name:"diagnosis-mcq",value:l,checked:n===l,onChange:()=>i==null?void 0:i(l),className:"w-4 h-4 text-primary-600 focus:ring-primary-500 focus:ring-2"}),d.jsxs("span",{className:"ml-3 text-sm md:text-base text-gray-900 font-medium",children:[String.fromCharCode(65+l),". ",o]})]},l))}),n!=null&&d.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("span",{className:"font-semibold",children:"Selected:"})," ",r.options[n]]})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm md:text-base font-semibold text-gray-700 mb-3",children:"Additional Notes (Optional)"}),d.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-2",children:"Provide additional details, reasoning, or differential diagnoses to support your answer."}),d.jsx("textarea",{value:a,onChange:o=>s(o.target.value),placeholder:"Enter additional notes about your diagnosis (e.g., reasoning, differential diagnoses, supporting findings, etc.)...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 min-h-[150px] md:min-h-[200px] text-gray-900 placeholder-gray-400 text-base leading-relaxed shadow-sm"})]}),a&&d.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-4 md:p-5 shadow-md",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-green-500 p-1.5 rounded-full",children:d.jsx(Mn,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold text-green-900 block",children:"Diagnosis Entered"}),d.jsx("span",{className:"text-sm text-green-800 mt-1 block",children:a})]})]})})]})}const v2="AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",b2="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";function Qwe({user:e}){var ze,Ue,He,de,Ne;const{assignmentId:t}=p1(),r=gs(),n=Uo(),[i,a]=X.useState(null),[s,o]=X.useState(null),[l,c]=X.useState([]),[u,f]=X.useState(""),[p,h]=X.useState(!0),[y,g]=X.useState(!1),[b,v]=X.useState(0),[w,_]=X.useState(null),[N,S]=X.useState(!1),[j,O]=X.useState("chat"),[I,L]=X.useState(0),[F,k]=X.useState([]),[P,D]=X.useState([]),[M,U]=X.useState(""),[V,W]=X.useState(null),[B,J]=X.useState(!1),[$,ae]=X.useState(!1),T=10,C=we=>{const _e=we.toLowerCase();return _e.includes("history")||_e.includes("history taking")?" ":_e.includes("physical exam")||_e.includes("examination")||_e.includes("")?" ":_e.includes("differential")||_e.includes("diagnosis")||_e.includes("")?" ":_e.includes("management")||_e.includes("treatment")||_e.includes("")?" ":_e.includes("stewardship")||_e.includes("resource")?"Clinical Resource Stewardship":we},K=(we,_e,Ae,Ee,Fe)=>{const qe=[];let ke=0;const Ge=(we.criterion||we.description||"").toLowerCase();if(Ge.includes("history")||Ge.includes("history taking")){qe.push("Asked about symptom onset and duration"),qe.push("Asked about associated symptoms"),qe.push("Asked about aggravating/relieving factors"),qe.push("Asked about past medical history");const Ve=_e.map(Xe=>{var it;return((it=Xe.content)==null?void 0:it.toLowerCase())||""}).join(" ");(Ve.includes("when")||Ve.includes("onset")||Ve.includes("start"))&&ke++,(Ve.includes("associated")||Ve.includes("other symptom"))&&ke++,(Ve.includes("worse")||Ve.includes("better")||Ve.includes("relief"))&&ke++,(Ve.includes("past")||Ve.includes("previous")||Ve.includes("history"))&&ke++}else if(Ge.includes("examination")||Ge.includes("physical exam")){qe.push("Requested vital signs"),qe.push("Requested general examination findings"),qe.push("Requested systemic examination findings");const Ve=_e.map(Xe=>{var it;return((it=Xe.content)==null?void 0:it.toLowerCase())||""}).join(" ");(Ve.includes("vital")||Ve.includes("bp")||Ve.includes("temperature"))&&ke++,(Ve.includes("general")||Ve.includes("appearance")||Ve.includes("examination"))&&ke++,(Ve.includes("systemic")||Ve.includes("system")||Ve.includes("examine"))&&ke++}else if(Ge.includes("investigation")||Ge.includes("lab")||Ge.includes("test")){qe.push("Ordered complete blood count (CBC)"),qe.push("Ordered comprehensive metabolic panel (CMP)"),qe.push("Ordered relevant imaging studies"),qe.push("Ordered additional diagnostic tests as needed");const Ve=Ae.map(Xe=>{var it;return((it=Xe.testName)==null?void 0:it.toLowerCase())||""}).join(" ");(Ve.includes("cbc")||Ve.includes("blood count"))&&ke++,(Ve.includes("cmp")||Ve.includes("metabolic"))&&ke++,(Ve.includes("x-ray")||Ve.includes("ct")||Ve.includes("imaging"))&&ke++,Ae.length>=4&&ke++}else if(Ge.includes("diagnosis")||Ge.includes("clinical reasoning")){if(qe.push("Identified primary diagnosis correctly"),qe.push("Considered differential diagnoses"),Ee&&Fe){const Ve=Ee.toLowerCase(),Xe=Fe.toLowerCase();(Ve===Xe||Ve.includes(Xe)||Xe.includes(Ve))&&ke++}Ee&&Ee.length>10&&ke++}else Ge.includes("management")||Ge.includes("treatment")?(qe.push("Selected appropriate immediate actions"),qe.push("Ordered relevant investigations"),ke=Math.floor(qe.length*.5)):(qe.push("Demonstrated competency in this area"),qe.push("Met expected performance standards"),ke=we.percentage>=70?qe.length:Math.floor(qe.length*.5));return{items:qe,itemsCompleted:ke}},Q=async(we,_e,Ae,Ee,Fe,qe)=>{var Ge,Ve,Xe,it,St;const ke=_e.map(Ft=>{const{items:Jt,itemsCompleted:gt}=K(Ft,Ae,Ee,Fe,qe),tt=C(Ft.criterion);return{rubric:Ft.criterion,rubricHindi:tt,rubricEnglish:Ft.criterion,items:Jt,itemsCompleted:gt,totalItems:Jt.length,score:Ft.pointsEarned,maxScore:Ft.maxPoints,analysis:Ft.feedback||"Detailed analysis is being generated...",strengths:Ft.percentage>=70?["Met the expected standards for this criterion."]:[],areasForImprovement:Ft.percentage<70?["Focus on improving performance in this area."]:[]}});try{const Ft=Ae.slice(-10).map(Zt=>Zt.content).join(`
`),Jt=new Map;_e.forEach(Zt=>{const{items:br,itemsCompleted:Qe}=K(Zt,Ae,Ee,Fe,qe);Jt.set(Zt.criterion,{items:br,itemsCompleted:Qe})});const gt=`You are an expert Ayurvedic clinical educator providing detailed OSCE feedback. Analyze the student's performance for each rubric criterion.

Clinical Case Context:
- Patient: ${((Ge=we.patientProfile)==null?void 0:Ge.name)||"Patient"}
- Chief Complaint: ${we.chiefComplaint||((Ve=we.historyOfPresentIllness)==null?void 0:Ve.substring(0,200))||"Not specified"}
- Correct Diagnosis: ${qe}
- Student Diagnosis: ${Fe}
- Lab Tests Ordered: ${Ee.map(Zt=>Zt.testName).join(", ")||"None"}

Student Performance Summary:
${_e.map((Zt,br)=>{const Qe=Jt.get(Zt.criterion);return`${br+1}. ${Zt.criterion}: ${Zt.pointsEarned}/${Zt.maxPoints} points (${Zt.percentage}%)
   - Checklist items: ${(Qe==null?void 0:Qe.itemsCompleted)||0} of ${(Qe==null?void 0:Qe.items.length)||0} completed`}).join(`
`)}

Recent Conversation (last 10 student questions):
${Ft||"No conversation recorded"}

For EACH rubric criterion, provide:
1. Detailed Analysis: A comprehensive 2-3 sentence analysis of the student's performance on this specific criterion, referencing specific actions or omissions from their performance.
2. Strengths: List 2-3 specific strengths demonstrated (if any) related to this criterion.
3. Areas for Improvement: List 2-3 specific, actionable areas for improvement related to this criterion.

Return your response as a JSON array with this exact structure:
[
  {
    "rubric": "Rubric criterion description",
    "analysis": "Detailed 2-3 sentence analysis of performance",
    "strengths": ["Strength 1", "Strength 2"],
    "areasForImprovement": ["Improvement area 1", "Improvement area 2"]
  },
  ...
]

Ensure you provide feedback for ALL ${_e.length} rubric criteria listed above.`,tt=await fetch(b2,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":v2},body:JSON.stringify({contents:[{parts:[{text:gt}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:4096}})});if(!tt.ok)return console.warn("Gemini API error for OSCE feedback, using fallback"),ke;const $n=((St=(it=(Xe=(await tt.json()).candidates[0])==null?void 0:Xe.content)==null?void 0:it.parts[0])==null?void 0:St.text)||"";let ir=$n.match(/```json\s*([\s\S]*?)\s*```/);if(ir||(ir=$n.match(/```\s*([\s\S]*?)\s*```/)),ir||(ir=$n.match(/\[[\s\S]*\]/)),ir)try{const Zt=JSON.parse(ir[1]||ir[0]),br=new Map(Zt.map(Qe=>[Qe.rubric,Qe]));return _e.map(Qe=>{const wn=br.get(Qe.criterion),{items:Hn,itemsCompleted:ei}=K(Qe,Ae,Ee,Fe,qe),_n=C(Qe.criterion);return wn&&typeof wn=="object"?{rubric:Qe.criterion,rubricHindi:_n,rubricEnglish:Qe.criterion,items:Hn,itemsCompleted:ei,totalItems:Hn.length,score:Qe.pointsEarned,maxScore:Qe.maxPoints,analysis:wn.analysis||Qe.feedback,strengths:Array.isArray(wn.strengths)?wn.strengths:[],areasForImprovement:Array.isArray(wn.areasForImprovement)?wn.areasForImprovement:[]}:{rubric:Qe.criterion,rubricHindi:_n,rubricEnglish:Qe.criterion,items:Hn,itemsCompleted:ei,totalItems:Hn.length,score:Qe.pointsEarned,maxScore:Qe.maxPoints,analysis:Qe.feedback||"No detailed analysis available.",strengths:Qe.percentage>=70?["Met the expected standards for this criterion."]:[],areasForImprovement:Qe.percentage<70?["Focus on improving performance in this area."]:[]}})}catch(Zt){console.error("Error parsing OSCE feedback JSON:",Zt)}return ke}catch(Ft){return console.error("Error generating OSCE feedback:",Ft),ke}},ie=async(we,_e,Ae,Ee,Fe,qe)=>{var Ve,Xe,it,St,Ft,Jt,gt,tt,Rt,$n,ir,Zt;const ke=[],Ge=_e.map(br=>{var Qe;return((Qe=br.content)==null?void 0:Qe.toLowerCase())||""}).join(" ");!Ge.includes("history")&&!Ge.includes("when")&&!Ge.includes("how long")&&ke.push({category:"History Taking",step:"Ask about the onset and duration of symptoms",reason:"Understanding symptom timeline is crucial for diagnosis"}),Ae.length<3&&ke.push({category:"Investigations",step:"Order additional relevant laboratory tests",reason:"More investigations would help confirm the diagnosis"});try{const br=_e.map((ur,Gr)=>`${Gr+1}. ${ur.content}`).join(`
`),Qe=Ae.map(ur=>ur.testName).join(", ")||"None",wn=`You are an expert Ayurvedic clinical educator. Analyze what steps the student could have taken but missed during this clinical case.

Clinical Case Context:
- Patient: ${((Ve=we.patientProfile)==null?void 0:Ve.name)||"Patient"}
- Age: ${((Xe=we.patientProfile)==null?void 0:Xe.age)||"Not specified"}
- Gender: ${((it=we.patientProfile)==null?void 0:it.gender)||"Not specified"}
- Chief Complaint: ${we.chiefComplaint||((St=we.historyOfPresentIllness)==null?void 0:St.substring(0,200))||"Not specified"}
- History of Present Illness: ${((Ft=we.historyOfPresentIllness)==null?void 0:Ft.substring(0,500))||"Not specified"}
- Correct Diagnosis: ${Fe}
- Student Diagnosis: ${Ee}
- Hints Used: ${qe}

Student Actions:
- Questions Asked: ${_e.length} questions
- Conversation: ${br||"No questions asked"}
- Lab Tests Ordered: ${Qe}

Available Lab Tests:
${we.availableLabTests?we.availableLabTests.map(ur=>{var Gr;return`${ur.category}: ${((Gr=ur.tests)==null?void 0:Gr.join(", "))||"None"}`}).join(`
`):"Not specified"}

Physical Examination Findings:
- General Exam: ${((gt=(Jt=we.physicalExam)==null?void 0:Jt.generalExam)==null?void 0:gt.substring(0,200))||"Not specified"}
- Systemic Exam: ${((Rt=(tt=we.physicalExam)==null?void 0:tt.systemicExam)==null?void 0:Rt.substring(0,200))||"Not specified"}

Based on the case and the student's performance, identify 3-5 specific steps the student could have taken but missed. These could be:
- Important questions to ask the patient (history taking)
- Physical examination maneuvers to perform
- Laboratory tests to order
- Diagnostic procedures to consider
- Clinical reasoning steps

For each missed step, provide:
1. Category: "History Taking", "Physical Examination", "Investigations", "Clinical Reasoning", or "Diagnosis"
2. Step: A specific, actionable step (e.g., "Ask about family history of similar conditions")
3. Reason: Why this step would have been important for this case (1-2 sentences)

Return your response as a JSON array with this exact structure:
[
  {
    "category": "History Taking",
    "step": "Ask about the onset and duration of symptoms",
    "reason": "Understanding symptom timeline is crucial for distinguishing acute vs chronic conditions"
  },
  {
    "category": "Investigations",
    "step": "Order complete blood count (CBC) to assess for infection",
    "reason": "CBC would help confirm the inflammatory process suggested by the clinical presentation"
  },
  ...
]

Focus on steps that would have been particularly relevant for diagnosing ${Fe} in this case.`,Hn=await fetch(b2,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":v2},body:JSON.stringify({contents:[{parts:[{text:wn}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:2048}})});if(!Hn.ok)return console.warn("Gemini API error for missed steps, using fallback"),ke;const _n=((Zt=(ir=($n=(await Hn.json()).candidates[0])==null?void 0:$n.content)==null?void 0:ir.parts[0])==null?void 0:Zt.text)||"";let cr=_n.match(/```json\s*([\s\S]*?)\s*```/);if(cr||(cr=_n.match(/```\s*([\s\S]*?)\s*```/)),cr||(cr=_n.match(/\[[\s\S]*\]/)),cr)try{const ur=JSON.parse(cr[1]||cr[0]);if(Array.isArray(ur))return ur.slice(0,5)}catch(ur){console.error("Error parsing missed steps JSON:",ur)}return ke}catch(br){return console.error("Error generating missed steps:",br),ke}};X.useEffect(()=>{t&&(ue(),ge())},[t]);const ue=async()=>{try{const{data:we,error:_e}=await Le.from("assignments").select("*").eq("id",t).single();if(_e)throw _e;a(we);const{data:Ae,error:Ee}=await Le.from("case_snapshots").select("*").eq("id",we.snapshot_id).single();if(Ee)throw Ee;o(Ae);const{data:Fe}=await Le.from("simulation_runs").select("*").eq("assignment_id",t).eq("student_id",e.id).is("submitted_at",null).order("created_at",{ascending:!1}).limit(1);let qe;if(Fe&&Fe.length>0){if(qe=Fe[0],_(qe.id),qe.transcript){const ke=qe.transcript;ke.messages&&c(ke.messages.map(Ge=>({...Ge,timestamp:typeof Ge.timestamp=="string"?new Date(Ge.timestamp):Ge.timestamp}))),L(ke.hintsUsed||0),k(ke.labOrders||[]),D(ke.labResults||[]),U(ke.diagnosis||""),W(ke.diagnosisMCQAnswer??null),J(ke.vitalsEnabled||!1)}}else{const{data:ke,error:Ge}=await Le.from("simulation_runs").insert({assignment_id:t,student_id:e.id,started_at:new Date().toISOString(),transcript:{messages:[],hintsUsed:0,labOrders:[],labResults:[],diagnosis:"",diagnosisMCQAnswer:null,vitalsEnabled:!1}}).select().single();if(Ge)throw Ge;qe=ke,_(ke.id)}}catch(we){console.error("Error loading assignment:",we),n.error("Failed to load assignment")}finally{h(!1)}},ge=()=>{const we=setInterval(()=>{v(_e=>{var Ee;const Ae=_e+1;if((Ee=s==null?void 0:s.clinical_case)!=null&&Ee.durationMinutes){const Fe=s.clinical_case.durationMinutes*60;Ae>=Fe*.8&&!N&&S(!0)}return Ae})},1e3);return()=>clearInterval(we)},se=we=>{const _e=Math.floor(we/60),Ae=we%60;return`${_e}:${Ae.toString().padStart(2,"0")}`},he=async()=>{if(!w)return;const we={messages:l.map(_e=>({..._e,timestamp:_e.timestamp instanceof Date?_e.timestamp.toISOString():_e.timestamp})),hintsUsed:I,labOrders:F,labResults:P,diagnosis:M,diagnosisMCQAnswer:V??void 0,vitalsEnabled:B};await Le.from("simulation_runs").update({transcript:we}).eq("id",w)},je=(we,_e)=>{var Ve,Xe;if(!(s!=null&&s.clinical_case))return"";const Ae=s.clinical_case,Ee=((Ve=Ae.patientProfile)==null?void 0:Ve.name)||"Patient",Fe=Ae.historyOfPresentIllness||"",qe=((Xe=Ae.patientProfile)==null?void 0:Xe.prakriti)||"Sama",ke=Ae.doshaAnalysis||{},Ge=_e.slice(-5).map(it=>`${it.role==="user"?"Clinician":"Patient"}: ${it.content}`).join(`
`);return`You are ${Ee}, a virtual patient in an Ayurvedic medical simulation. You are speaking with a clinician who is examining you.

IMPORTANT: You are the PATIENT. The user asking questions is the CLINICIAN/DOCTOR. Do not switch roles.

Patient Context:
- History of Present Illness: ${Fe}
- Prakriti: ${qe}
- Dosha Analysis: Vata ${ke.vata||33}%, Pitta ${ke.pitta||33}%, Kapha ${ke.kapha||34}%

Recent Conversation:
${Ge}

Clinician: ${we}

Respond as the patient would, staying in character. Be natural, concise (1-2 sentences), and consistent with the case. Do not reveal diagnosis or treatment unless asked directly about symptoms. Keep responses under 100 words.`},me=we=>{if(!(s!=null&&s.clinical_case))return null;const _e=s.clinical_case,Ae=we.toLowerCase();if(Ae.includes("physical exam")||Ae.includes("vitals")||Ae.includes("examination")){const Ee=_e.physicalExam;if(!Ee)return"Physical examination information is not available. Please perform the examination yourself.";let Fe=`Based on the physical examination:
`;return Ee.vitals&&(Fe+="Vitals: ",Ee.vitals.bp&&(Fe+=`BP ${Ee.vitals.bp}, `),Ee.vitals.hr&&(Fe+=`HR ${Ee.vitals.hr}, `),Ee.vitals.rr&&(Fe+=`RR ${Ee.vitals.rr}, `),Ee.vitals.temp&&(Fe+=`Temp ${Ee.vitals.temp}, `),Ee.vitals.spo2&&(Fe+=`SpO2 ${Ee.vitals.spo2}. `),Fe+=`
`),Ee.generalExam&&(Fe+=`General Examination: ${Ee.generalExam}
`),Ee.systemicExam&&(Fe+=`Systemic Examination: ${Ee.systemicExam}
`),Fe.trim()||"Physical examination findings are being documented."}if(Ae.includes("lab")||Ae.includes("test result")||Ae.includes("investigation")){const Ee=_e.labResults||{};for(const[Fe,qe]of Object.entries(Ee))if(Ae.includes(Fe.toLowerCase())||Fe.toLowerCase().includes(Ae))return`${Fe}: ${qe}`;return Object.keys(Ee).length>0?`Lab results are available. Please check the Labs tab to view specific test results. Available tests: ${Object.keys(Ee).join(", ")}`:"No lab results are available yet. Please order tests from the Labs tab."}return null},Be=async()=>{var Ee,Fe,qe,ke;if(!u.trim()||!w||!s)return;const we={role:"user",content:u,timestamp:new Date},_e=[...l,we];c(_e);const Ae=u;f(""),g(!0);try{const Ge=me(Ae);if(Ge){const gt={role:"assistant",content:Ge,timestamp:new Date},tt=[..._e,gt];c(tt),await he(),g(!1);return}if(s!=null&&s.id)try{const{data:gt}=await Le.from("faq_cache").select("faq_data").eq("snapshot_id",s.id).single();if(gt!=null&&gt.faq_data){const tt=gt.faq_data,Rt=Ae.toLowerCase().trim();for(const[$n,ir]of Object.entries(tt)){const Zt=$n.toLowerCase();if(Rt.includes(Zt)||Zt.includes(Rt)||Rt.split(/\s+/).filter(br=>br.length>3&&Zt.includes(br)).length>=2){const br={role:"assistant",content:ir,timestamp:new Date},Qe=[..._e,br];c(Qe),await he(),g(!1);return}}}}catch(gt){console.debug("FAQ cache check failed, using Gemini API:",gt)}const Ve=je(Ae,l);if(!Ve)throw new Error("Unable to build patient context. Please refresh the page.");const Xe=await fetch(b2,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":v2},body:JSON.stringify({contents:[{parts:[{text:Ve}]}],generationConfig:{temperature:.8,topK:40,topP:.95,maxOutputTokens:1024}})});if(!Xe.ok){if(Xe.status===429||Xe.status>=500)throw new Error("Could not generate due to server overload. Please wait a moment and try again.");const gt=await Xe.text();let tt="Could not generate due to server overload. Please try again later.";try{const Rt=JSON.parse(gt);(Ee=Rt.error)!=null&&Ee.message&&Xe.status!==429&&Xe.status<500&&(tt=Rt.error.message)}catch{}throw new Error(tt)}const it=await Xe.json();if(!it.candidates||it.candidates.length===0)throw new Error("Could not generate due to server overload. Please try again later.");const Ft={role:"assistant",content:((ke=(qe=(Fe=it.candidates[0])==null?void 0:Fe.content)==null?void 0:qe.parts[0])==null?void 0:ke.text)||"I'm sorry, I didn't understand that.",timestamp:new Date},Jt=[..._e,Ft];c(Jt),await he()}catch(Ge){console.error("Error sending message:",Ge);const Ve=Ge.message||"Could not generate due to server overload. Please try again later.";n.error(Ve)}finally{g(!1)}},ye=async()=>{if(!(I>=T||!w||!s)){g(!0);try{const we=["Consider asking about the onset and progression of symptoms.","Think about the patient's dosha imbalance - what symptoms suggest this?","Review the physical examination findings carefully.","Consider what laboratory tests would be most helpful for this presentation.","Think about the differential diagnoses based on the chief complaint.","Consider the patient's age, gender, and prakriti in your assessment.","Review the history of present illness for key diagnostic clues.","Consider what additional history might be relevant.","Think about the most likely diagnosis given the symptoms.","Consider what treatment approach would be appropriate."],Ae={role:"assistant",content:we[Math.floor(Math.random()*we.length)],timestamp:new Date};c([...l,Ae]),L(I+1),await he()}catch(we){console.error("Error requesting hint:",we),n.error("Failed to get hint: "+we.message)}finally{g(!1)}}},ee=(we,_e)=>{var ke;const Ae={testName:we,category:_e,orderedAt:new Date().toISOString()},Ee=[...F,Ae];k(Ee);const Fe={testName:we,result:K7(we,s==null?void 0:s.clinical_case,(ke=s==null?void 0:s.clinical_case)==null?void 0:ke.labResults),category:_e},qe=[...P,Fe];D(qe),he()},ut=we=>{U(we),he()},lt=async()=>{var we,_e,Ae;if(!(!w||$||!s)){ae(!0);try{await he();let Ee;try{Ee=await Le.functions.invoke("score_simulation",{body:{runId:w}})}catch(gt){throw console.error("Function invoke error:",gt),(we=gt.message)!=null&&we.includes("Failed to fetch")||(_e=gt.message)!=null&&_e.includes("NetworkError")||(Ae=gt.message)!=null&&Ae.includes("Failed to send")||!gt.message?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase."):new Error(`Failed to call Edge Function: ${gt.message||"Unknown error"}`)}const{data:Fe,error:qe}=Ee||{};if(qe)throw console.error("Scoring function error:",qe),new Error(qe.message||"Failed to score simulation");let ke=Fe;if(Fe&&Fe.score?ke=Fe.score:Fe&&!Fe.score&&Fe.overall!==void 0&&(ke=Fe),!ke||ke.overall===void 0)throw console.error("Invalid response from scoring function:",Fe),new Error("Invalid response from scoring function");const Ge=s.clinical_case,Ve=l.filter(gt=>gt.role==="user"),Xe=Ge.potentialDiagnoses&&Ge.potentialDiagnoses.length>0?Ge.potentialDiagnoses.sort((gt,tt)=>(tt.confidence||0)-(gt.confidence||0))[0].dx:"";console.log("Generating OSCE feedback and missed steps...");const[it,St]=await Promise.all([Q(Ge,ke.rubricResults||[],Ve,F,M,Xe).catch(gt=>(console.error("Error generating OSCE feedback:",gt),(ke.rubricResults||[]).map(tt=>{const{items:Rt,itemsCompleted:$n}=K(tt,Ve,F,M,Xe),ir=C(tt.criterion);return{rubric:tt.criterion,rubricHindi:ir,rubricEnglish:tt.criterion,items:Rt,itemsCompleted:$n,totalItems:Rt.length,score:tt.pointsEarned,maxScore:tt.maxPoints,analysis:tt.feedback||"No detailed analysis available.",strengths:tt.percentage>=70?["Met the expected standards for this criterion."]:[],areasForImprovement:tt.percentage<70?["Focus on improving performance in this area."]:[]}}))),ie(Ge,Ve,F,M,Xe,I).catch(gt=>(console.error("Error generating missed steps:",gt),[]))]);console.log("OSCE feedback generated:",it.length,"items"),console.log("Missed steps generated:",St.length,"items");const Ft={...ke,osceFeedback:it||[],missedSteps:St||[]},{error:Jt}=await Le.from("simulation_runs").update({submitted_at:new Date().toISOString(),score:Ft}).eq("id",w);if(Jt)throw console.error("Update error:",Jt),new Error("Failed to update simulation run");console.log("Score saved successfully with OSCE feedback and missed steps"),r(`/debrief/${w}`)}catch(Ee){console.error("Error submitting:",Ee);const Fe=Ee.message||"Please try again.";n.error(`Error submitting simulation: ${Fe}`),ae(!1)}}};if(p)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});const at=((Ue=(ze=s==null?void 0:s.clinical_case)==null?void 0:ze.patientProfile)==null?void 0:Ue.name)||"Patient",rt=(((He=s==null?void 0:s.clinical_case)==null?void 0:He.durationMinutes)||15)*60,oe=b/rt*100,$e=b>=rt;return d.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-br from-gray-50 to-gray-100 pb-20 md:pb-4",children:[d.jsxs("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm p-4 md:p-6",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-8 w-auto object-contain hidden md:block"}),d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center shadow-md",children:d.jsx(Bs,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:at}),d.jsx("p",{className:"text-sm md:text-base text-gray-600",children:((de=s==null?void 0:s.clinical_case)==null?void 0:de.title)||"Clinical Case"})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mt-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(xu,{className:`w-5 h-5 ${N?"text-red-600":"text-gray-700"}`}),d.jsxs("span",{className:`font-mono text-base md:text-lg font-semibold ${N?"text-red-600":"text-gray-900"}`,children:[se(b)," / ",se(rt)]}),N&&!$e&&d.jsx("span",{className:"text-xs md:text-sm text-red-600 font-medium bg-red-50 px-2 py-1 rounded",children:"Time running out!"})]}),$e&&d.jsxs("span",{className:"text-sm text-red-700 font-semibold flex items-center gap-2 bg-red-50 px-3 py-1.5 rounded-lg",children:[d.jsx(Ts,{className:"w-5 h-5"}),"Time's up!"]})]}),d.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-3 shadow-inner",children:d.jsx("div",{className:`h-3 rounded-full transition-all shadow-sm ${oe>=100?"bg-red-600":oe>=80?"bg-yellow-500":"bg-primary-600"}`,style:{width:`${Math.min(oe,100)}%`}})})]}),d.jsx(Kwe,{activeTab:j,onTabChange:O}),d.jsxs("div",{className:"flex-1 overflow-hidden",children:[j==="chat"&&d.jsx(Ywe,{messages:l,input:u,setInput:f,sending:y,onSendMessage:Be,onRequestHint:ye,hintsRemaining:T-I}),j==="exam"&&d.jsx(Xwe,{caseData:s==null?void 0:s.clinical_case,vitalsEnabled:B,onToggleVitals:async()=>{const we=!B;if(J(we),w){const _e={messages:l.map(Ae=>({...Ae,timestamp:Ae.timestamp instanceof Date?Ae.timestamp.toISOString():Ae.timestamp})),hintsUsed:I,labOrders:F,labResults:P,diagnosis:M,vitalsEnabled:we};await Le.from("simulation_runs").update({transcript:_e}).eq("id",w)}}}),j==="labs"&&d.jsx(Jwe,{labOrders:F,labResults:P,onOrderTest:ee,caseData:s==null?void 0:s.clinical_case}),j==="diagnosis"&&d.jsx(Zwe,{diagnosis:M,onUpdate:ut,diagnosisMCQ:(Ne=s==null?void 0:s.clinical_case)==null?void 0:Ne.diagnosisMCQ,selectedDiagnosisMCQ:V,onDiagnosisMCQChange:async we=>{if(W(we),w){const _e={messages:l.map(Ae=>({...Ae,timestamp:Ae.timestamp instanceof Date?Ae.timestamp.toISOString():Ae.timestamp})),hintsUsed:I,labOrders:F,labResults:P,diagnosis:M,diagnosisMCQAnswer:we,vitalsEnabled:B};await Le.from("simulation_runs").update({transcript:_e}).eq("id",w)}}})]}),d.jsxs("div",{className:"bg-white border-t border-gray-200 p-4",children:[d.jsxs("button",{onClick:lt,disabled:!w,className:"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(Mn,{className:"w-4 h-4"}),"Submit for Scoring"]}),$e&&d.jsx("p",{className:"text-xs text-red-600 mt-2 text-center",children:"Your time is up. You can still submit your responses."})]}),d.jsx(Zn,{role:"student"}),d.jsx(Ul,{toasts:n.toasts,onClose:n.removeToast}),$&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full mx-4",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(Ao,{className:"w-12 h-12 text-primary-600 animate-spin mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Analysing your performance..."}),d.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:"Generating comprehensive feedback including OSCE analysis and missed steps checklist. This may take up to 60 seconds. Please don't close this page."}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-primary-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})})]})})})]})}function e5e({activeTab:e,onTabChange:t}){const r=[{id:"feedback",label:"Feedback",icon:xi},{id:"review",label:"Review",icon:v1},{id:"questions",label:"Questions",icon:TH}];return d.jsx("div",{className:"bg-white border-b border-gray-200",children:d.jsx("div",{className:"flex overflow-x-auto",children:r.map(n=>{const i=n.icon,a=e===n.id;return d.jsxs("button",{onClick:()=>t(n.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx(i,{className:"w-4 h-4"}),n.label]},n.id)})})})}function t5e({accuracy:e,timeTaken:t,currentStreak:r}){return d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Accuracy"}),d.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[e,"%"]})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Time Taken"}),d.jsx("div",{className:"text-3xl font-bold text-blue-600",children:t})]}),d.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Current Streak"}),d.jsxs("div",{className:"text-3xl font-bold text-yellow-600 flex items-center gap-1",children:[r,d.jsx("span",{className:"text-2xl",children:""})]})]})]})}function r5e({reasoning:e}){const[t,r]=X.useState(!0);return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!t),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"STEPWISE REASONING"}),d.jsx(Jd,{className:`w-5 h-5 text-gray-500 transition-transform ${t?"":"rotate-180"}`})]}),t&&d.jsx("div",{className:"prose max-w-none",children:d.jsx("div",{className:"text-gray-700 leading-relaxed",children:d.jsx(Ca,{content:e})})})]})}function n5e({potentialDiagnoses:e,studentDiagnosis:t,correctDiagnosis:r}){const[n,i]=X.useState(!0);return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>i(!n),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"DIFFERENTIALS REVIEW"}),d.jsx(Jd,{className:`w-5 h-5 text-gray-500 transition-transform ${n?"":"rotate-180"}`})]}),n&&d.jsx("div",{className:"space-y-3",children:e.map((a,s)=>{const o=a.dx===r,l=a.dx===t;return d.jsx("div",{className:`p-4 rounded-lg border-2 ${o?"bg-green-50 border-green-200":l?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[o?d.jsx(Mn,{className:"w-5 h-5 text-green-600"}):l?d.jsx(vo,{className:"w-5 h-5 text-red-600"}):null,d.jsx("span",{className:"font-medium text-gray-900",children:a.dx})]}),l&&!o&&d.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Your Pick"})]})},s)})})]})}function i5e({pearls:e}){const[t,r]=X.useState(!0);return!e||e.length===0?null:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!t),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"LEARNING PEARLS"}),d.jsx(Jd,{className:`w-5 h-5 text-gray-500 transition-transform ${t?"":"rotate-180"}`})]}),t&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map((n,i)=>d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(y8,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsx("div",{className:"text-gray-700 text-sm leading-relaxed flex-1",children:d.jsx(Ca,{content:n})})]})},i))})]})}function a5e({references:e}){const[t,r]=X.useState(!0);return!e||e.length===0?null:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!t),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"FURTHER READING"}),d.jsx(Jd,{className:`w-5 h-5 text-gray-500 transition-transform ${t?"":"rotate-180"}`})]}),t&&d.jsx("div",{className:"space-y-3",children:e.map((n,i)=>d.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(y1,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:n.title}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:n.reference})]})]})},i))})]})}const s5e="modulepreload",o5e=function(e){return"/"+e},N6={},x2=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=o5e(l),l in N6)return;N6[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":s5e,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})};function mr(e){"@babel/helpers - typeof";return mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mr(e)}var ms=Uint8Array,ua=Uint16Array,TN=Int32Array,IN=new ms([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),LN=new ms([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),A6=new ms([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Y7=function(e,t){for(var r=new ua(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new TN(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},X7=Y7(IN,2),l5e=X7.b,U_=X7.r;l5e[28]=258,U_[258]=28;var c5e=Y7(LN,0),k6=c5e.r,z_=new ua(32768);for(var Mr=0;Mr<32768;++Mr){var fl=(Mr&43690)>>1|(Mr&21845)<<1;fl=(fl&52428)>>2|(fl&13107)<<2,fl=(fl&61680)>>4|(fl&3855)<<4,z_[Mr]=((fl&65280)>>8|(fl&255)<<8)>>1}var Ep=function(e,t,r){for(var n=e.length,i=0,a=new ua(t);i<n;++i)e[i]&&++a[e[i]-1];var s=new ua(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new ua(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],f=s[e[i]-1]++<<u,p=f|(1<<u)-1;f<=p;++f)o[z_[f]>>l]=c}else for(o=new ua(n),i=0;i<n;++i)e[i]&&(o[i]=z_[s[e[i]-1]++]>>15-e[i]);return o},mu=new ms(288);for(var Mr=0;Mr<144;++Mr)mu[Mr]=8;for(var Mr=144;Mr<256;++Mr)mu[Mr]=9;for(var Mr=256;Mr<280;++Mr)mu[Mr]=7;for(var Mr=280;Mr<288;++Mr)mu[Mr]=8;var Gv=new ms(32);for(var Mr=0;Mr<32;++Mr)Gv[Mr]=5;var u5e=Ep(mu,9,0),d5e=Ep(Gv,5,0),J7=function(e){return(e+7)/8|0},f5e=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ms(e.subarray(t,r))},uo=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Jh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},w2=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:Q7,l:0};if(i==1){var s=new ms(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(S,j){return S.f-j.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new ua(p+1),y=q_(r[u-1],h,0);if(y>t){var n=0,g=0,b=y-t,v=1<<b;for(a.sort(function(j,O){return h[O.s]-h[j.s]||j.f-O.f});n<i;++n){var w=a[n].s;if(h[w]>t)g+=v-(1<<y-h[w]),h[w]=t;else break}for(g>>=b;g>0;){var _=a[n].s;h[_]<t?g-=1<<t-h[_]++-1:++n}for(;n>=0&&g;--n){var N=a[n].s;h[N]==t&&(--h[N],++g)}y=t}return{t:new ms(h),l:y}},q_=function(e,t,r){return e.s==-1?Math.max(q_(e.l,t,r+1),q_(e.r,t,r+1)):t[e.s]=r},E6=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ua(++t),n=0,i=e[0],a=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return{c:r.subarray(0,n),n:t}},Zh=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Z7=function(e,t,r){var n=r.length,i=J7(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},O6=function(e,t,r,n,i,a,s,o,l,c,u){uo(t,u++,r),++i[256];for(var f=w2(i,15),p=f.t,h=f.l,y=w2(a,15),g=y.t,b=y.l,v=E6(p),w=v.c,_=v.n,N=E6(g),S=N.c,j=N.n,O=new ua(19),I=0;I<w.length;++I)++O[w[I]&31];for(var I=0;I<S.length;++I)++O[S[I]&31];for(var L=w2(O,7),F=L.t,k=L.l,P=19;P>4&&!F[A6[P-1]];--P);var D=c+5<<3,M=Zh(i,mu)+Zh(a,Gv)+s,U=Zh(i,p)+Zh(a,g)+s+14+3*P+Zh(O,F)+2*O[16]+3*O[17]+7*O[18];if(l>=0&&D<=M&&D<=U)return Z7(t,u,e.subarray(l,l+c));var V,W,B,J;if(uo(t,u,1+(U<M)),u+=2,U<M){V=Ep(p,h,0),W=p,B=Ep(g,b,0),J=g;var $=Ep(F,k,0);uo(t,u,_-257),uo(t,u+5,j-1),uo(t,u+10,P-4),u+=14;for(var I=0;I<P;++I)uo(t,u+3*I,F[A6[I]]);u+=3*P;for(var ae=[w,S],T=0;T<2;++T)for(var C=ae[T],I=0;I<C.length;++I){var K=C[I]&31;uo(t,u,$[K]),u+=F[K],K>15&&(uo(t,u,C[I]>>5&127),u+=C[I]>>12)}}else V=u5e,W=mu,B=d5e,J=Gv;for(var I=0;I<o;++I){var Q=n[I];if(Q>255){var K=Q>>18&31;Jh(t,u,V[K+257]),u+=W[K+257],K>7&&(uo(t,u,Q>>23&31),u+=IN[K]);var ie=Q&31;Jh(t,u,B[ie]),u+=J[ie],ie>3&&(Jh(t,u,Q>>5&8191),u+=LN[ie])}else Jh(t,u,V[Q]),u+=W[Q]}return Jh(t,u,V[256]),u+W[256]},h5e=new TN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Q7=new ms(0),p5e=function(e,t,r,n,i,a){var s=a.z||e.length,o=new ms(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),c=a.l,u=(a.r||0)&7;if(t){u&&(l[0]=a.r>>3);for(var f=h5e[t-1],p=f>>13,h=f&8191,y=(1<<r)-1,g=a.p||new ua(32768),b=a.h||new ua(y+1),v=Math.ceil(r/3),w=2*v,_=function(ye){return(e[ye]^e[ye+1]<<v^e[ye+2]<<w)&y},N=new TN(25e3),S=new ua(288),j=new ua(32),O=0,I=0,L=a.i||0,F=0,k=a.w||0,P=0;L+2<s;++L){var D=_(L),M=L&32767,U=b[D];if(g[M]=U,b[D]=M,k<=L){var V=s-L;if((O>7e3||F>24576)&&(V>423||!c)){u=O6(e,l,0,N,S,j,I,F,P,L-P,u),F=O=I=0,P=L;for(var W=0;W<286;++W)S[W]=0;for(var W=0;W<30;++W)j[W]=0}var B=2,J=0,$=h,ae=M-U&32767;if(V>2&&D==_(L-ae))for(var T=Math.min(p,V)-1,C=Math.min(32767,L),K=Math.min(258,V);ae<=C&&--$&&M!=U;){if(e[L+B]==e[L+B-ae]){for(var Q=0;Q<K&&e[L+Q]==e[L+Q-ae];++Q);if(Q>B){if(B=Q,J=ae,Q>T)break;for(var ie=Math.min(ae,Q-2),ue=0,W=0;W<ie;++W){var ge=L-ae+W&32767,se=g[ge],he=ge-se&32767;he>ue&&(ue=he,U=ge)}}}M=U,U=g[M],ae+=M-U&32767}if(J){N[F++]=268435456|U_[B]<<18|k6[J];var je=U_[B]&31,me=k6[J]&31;I+=IN[je]+LN[me],++S[257+je],++j[me],k=L+B,++O}else N[F++]=e[L],++S[e[L]]}}for(L=Math.max(L,k);L<s;++L)N[F++]=e[L],++S[e[L]];u=O6(e,l,c,N,S,j,I,F,P,L-P,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=b,a.p=g,a.i=L,a.w=k)}else{for(var L=a.w||0;L<s+c;L+=65535){var Be=L+65535;Be>=s&&(l[u/8|0]=c,Be=s),u=Z7(l,u+1,e.subarray(L,Be))}a.i=s}return f5e(o,0,n+J7(u)+i)},eD=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},m5e=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new ms(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return p5e(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},tD=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},g5e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=eD();i.p(t.dictionary),tD(e,2,i.d())}};function H_(e,t){t||(t={});var r=eD();r.p(e);var n=m5e(e,t,t.dictionary?6:2,4);return g5e(n,t),tD(n,n.length-4,r.d()),n}var y5e=typeof TextDecoder<"u"&&new TextDecoder,v5e=0;try{y5e.decode(Q7,{stream:!0}),v5e=1}catch{}function b5e(e){if(Array.isArray(e))return e}function x5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function P6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w5e(e,t){if(e){if(typeof e=="string")return P6(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P6(e,t):void 0}}function _5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C6(e,t){return b5e(e)||x5e(e,t)||w5e(e,t)||_5e()}function T6(e,t="utf8"){return new TextDecoder(t).decode(e)}const S5e=new TextEncoder;function j5e(e){return S5e.encode(e)}const N5e=1024*8,A5e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),_2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class RN{constructor(t=N5e,r={}){sr(this,"buffer");sr(this,"byteLength");sr(this,"byteOffset");sr(this,"length");sr(this,"offset");sr(this,"lastWrittenByte");sr(this,"littleEndian");sr(this,"_data");sr(this,"_mark");sr(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let s=i;(ArrayBuffer.isView(t)||t instanceof RN)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=_2[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===A5e&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new _2[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new _2[r](a);return this.offset+=n,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return T6(this.readBytes(t))}decodeText(t=1,r="utf8"){return T6(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(j5e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function th(e){let t=e.length;for(;--t>=0;)e[t]=0}const k5e=3,E5e=258,rD=29,O5e=256,P5e=O5e+1+rD,nD=30,C5e=512,T5e=new Array((P5e+2)*2);th(T5e);const I5e=new Array(nD*2);th(I5e);const L5e=new Array(C5e);th(L5e);const R5e=new Array(E5e-k5e+1);th(R5e);const $5e=new Array(rD);th($5e);const M5e=new Array(nD);th(M5e);const D5e=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+t[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var W_=D5e;const B5e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},F5e=new Uint32Array(B5e()),U5e=(e,t,r,n)=>{const i=F5e,a=n+r;e^=-1;for(let s=n;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1};var Es=U5e,V_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},iD={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const z5e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var q5e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)z5e(r,n)&&(e[n]=r[n])}}return e},H5e=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let s=e[n];r.set(s,i),i+=s.length}return r},aD={assign:q5e,flattenChunks:H5e};let sD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{sD=!1}const Mm=new Uint8Array(256);for(let e=0;e<256;e++)Mm[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Mm[254]=Mm[254]=1;var W5e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,s=e.length,o=0;for(i=0;i<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const V5e=(e,t)=>{if(t<65534&&e.subarray&&sD)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var G5e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=e[n++];if(s<128){a[i++]=s;continue}let o=Mm[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|e[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return V5e(a,i)},K5e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Mm[e[r]]>t?r:t},G_={string2buf:W5e,buf2string:G5e,utf8border:K5e};function Y5e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var X5e=Y5e;const C0=16209,J5e=16191;var Z5e=function(t,r){let n,i,a,s,o,l,c,u,f,p,h,y,g,b,v,w,_,N,S,j,O,I,L,F;const k=t.state;n=t.next_in,L=t.input,i=n+(t.avail_in-5),a=t.next_out,F=t.output,s=a-(r-t.avail_out),o=a+(t.avail_out-257),l=k.dmax,c=k.wsize,u=k.whave,f=k.wnext,p=k.window,h=k.hold,y=k.bits,g=k.lencode,b=k.distcode,v=(1<<k.lenbits)-1,w=(1<<k.distbits)-1;e:do{y<15&&(h+=L[n++]<<y,y+=8,h+=L[n++]<<y,y+=8),_=g[h&v];t:for(;;){if(N=_>>>24,h>>>=N,y-=N,N=_>>>16&255,N===0)F[a++]=_&65535;else if(N&16){S=_&65535,N&=15,N&&(y<N&&(h+=L[n++]<<y,y+=8),S+=h&(1<<N)-1,h>>>=N,y-=N),y<15&&(h+=L[n++]<<y,y+=8,h+=L[n++]<<y,y+=8),_=b[h&w];r:for(;;){if(N=_>>>24,h>>>=N,y-=N,N=_>>>16&255,N&16){if(j=_&65535,N&=15,y<N&&(h+=L[n++]<<y,y+=8,y<N&&(h+=L[n++]<<y,y+=8)),j+=h&(1<<N)-1,j>l){t.msg="invalid distance too far back",k.mode=C0;break e}if(h>>>=N,y-=N,N=a-s,j>N){if(N=j-N,N>u&&k.sane){t.msg="invalid distance too far back",k.mode=C0;break e}if(O=0,I=p,f===0){if(O+=c-N,N<S){S-=N;do F[a++]=p[O++];while(--N);O=a-j,I=F}}else if(f<N){if(O+=c+f-N,N-=f,N<S){S-=N;do F[a++]=p[O++];while(--N);if(O=0,f<S){N=f,S-=N;do F[a++]=p[O++];while(--N);O=a-j,I=F}}}else if(O+=f-N,N<S){S-=N;do F[a++]=p[O++];while(--N);O=a-j,I=F}for(;S>2;)F[a++]=I[O++],F[a++]=I[O++],F[a++]=I[O++],S-=3;S&&(F[a++]=I[O++],S>1&&(F[a++]=I[O++]))}else{O=a-j;do F[a++]=F[O++],F[a++]=F[O++],F[a++]=F[O++],S-=3;while(S>2);S&&(F[a++]=F[O++],S>1&&(F[a++]=F[O++]))}}else if(N&64){t.msg="invalid distance code",k.mode=C0;break e}else{_=b[(_&65535)+(h&(1<<N)-1)];continue r}break}}else if(N&64)if(N&32){k.mode=J5e;break e}else{t.msg="invalid literal/length code",k.mode=C0;break e}else{_=g[(_&65535)+(h&(1<<N)-1)];continue t}break}}while(n<i&&a<o);S=y>>3,n-=S,y-=S<<3,h&=(1<<y)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<o?257+(o-a):257-(a-o),k.hold=h,k.bits=y};const ed=15,I6=852,L6=592,R6=0,S2=1,$6=2,Q5e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),e_e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),t_e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),r_e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),n_e=(e,t,r,n,i,a,s,o)=>{const l=o.bits;let c=0,u=0,f=0,p=0,h=0,y=0,g=0,b=0,v=0,w=0,_,N,S,j,O,I=null,L;const F=new Uint16Array(ed+1),k=new Uint16Array(ed+1);let P=null,D,M,U;for(c=0;c<=ed;c++)F[c]=0;for(u=0;u<n;u++)F[t[r+u]]++;for(h=l,p=ed;p>=1&&F[p]===0;p--);if(h>p&&(h=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&F[f]===0;f++);for(h<f&&(h=f),b=1,c=1;c<=ed;c++)if(b<<=1,b-=F[c],b<0)return-1;if(b>0&&(e===R6||p!==1))return-1;for(k[1]=0,c=1;c<ed;c++)k[c+1]=k[c]+F[c];for(u=0;u<n;u++)t[r+u]!==0&&(s[k[t[r+u]]++]=u);if(e===R6?(I=P=s,L=20):e===S2?(I=Q5e,P=e_e,L=257):(I=t_e,P=r_e,L=0),w=0,u=0,c=f,O=a,y=h,g=0,S=-1,v=1<<h,j=v-1,e===S2&&v>I6||e===$6&&v>L6)return 1;for(;;){D=c-g,s[u]+1<L?(M=0,U=s[u]):s[u]>=L?(M=P[s[u]-L],U=I[s[u]-L]):(M=96,U=0),_=1<<c-g,N=1<<y,f=N;do N-=_,i[O+(w>>g)+N]=D<<24|M<<16|U|0;while(N!==0);for(_=1<<c-1;w&_;)_>>=1;if(_!==0?(w&=_-1,w+=_):w=0,u++,--F[c]===0){if(c===p)break;c=t[r+s[u]]}if(c>h&&(w&j)!==S){for(g===0&&(g=h),O+=f,y=c-g,b=1<<y;y+g<p&&(b-=F[y+g],!(b<=0));)y++,b<<=1;if(v+=1<<y,e===S2&&v>I6||e===$6&&v>L6)return 1;S=w&j,i[S]=h<<24|y<<16|O-a|0}}return w!==0&&(i[O+w]=c-g<<24|64<<16|0),o.bits=h,0};var Op=n_e;const i_e=0,oD=1,lD=2,{Z_FINISH:M6,Z_BLOCK:a_e,Z_TREES:T0,Z_OK:gu,Z_STREAM_END:s_e,Z_NEED_DICT:o_e,Z_STREAM_ERROR:Fa,Z_DATA_ERROR:cD,Z_MEM_ERROR:uD,Z_BUF_ERROR:l_e,Z_DEFLATED:D6}=iD,mb=16180,B6=16181,F6=16182,U6=16183,z6=16184,q6=16185,H6=16186,W6=16187,V6=16188,G6=16189,Kv=16190,fo=16191,j2=16192,K6=16193,N2=16194,Y6=16195,X6=16196,J6=16197,Z6=16198,I0=16199,L0=16200,Q6=16201,eC=16202,tC=16203,rC=16204,nC=16205,A2=16206,iC=16207,aC=16208,Br=16209,dD=16210,fD=16211,c_e=852,u_e=592,d_e=15,f_e=d_e,sC=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function h_e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Eu=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<mb||t.mode>fD?1:0},hD=e=>{if(Eu(e))return Fa;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=mb,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(c_e),t.distcode=t.distdyn=new Int32Array(u_e),t.sane=1,t.back=-1,gu},pD=e=>{if(Eu(e))return Fa;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,hD(e)},mD=(e,t)=>{let r;if(Eu(e))return Fa;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Fa:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,pD(e))},gD=(e,t)=>{if(!e)return Fa;const r=new h_e;e.state=r,r.strm=e,r.window=null,r.mode=mb;const n=mD(e,t);return n!==gu&&(e.state=null),n},p_e=e=>gD(e,f_e);let oC=!0,k2,E2;const m_e=e=>{if(oC){k2=new Int32Array(512),E2=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Op(oD,e.lens,0,288,k2,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Op(lD,e.lens,0,32,E2,0,e.work,{bits:5}),oC=!1}e.lencode=k2,e.lenbits=9,e.distcode=E2,e.distbits=5},yD=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},g_e=(e,t)=>{let r,n,i,a,s,o,l,c,u,f,p,h,y,g,b=0,v,w,_,N,S,j,O,I;const L=new Uint8Array(4);let F,k;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Eu(e)||!e.output||!e.input&&e.avail_in!==0)return Fa;r=e.state,r.mode===fo&&(r.mode=j2),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,c=r.hold,u=r.bits,f=o,p=l,I=gu;e:for(;;)switch(r.mode){case mb:if(r.wrap===0){r.mode=j2;break}for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,L[0]=c&255,L[1]=c>>>8&255,r.check=Es(r.check,L,2,0),c=0,u=0,r.mode=B6;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Br;break}if((c&15)!==D6){e.msg="unknown compression method",r.mode=Br;break}if(c>>>=4,u-=4,O=(c&15)+8,r.wbits===0&&(r.wbits=O),O>15||O>r.wbits){e.msg="invalid window size",r.mode=Br;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=c&512?G6:fo,c=0,u=0;break;case B6:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==D6){e.msg="unknown compression method",r.mode=Br;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Br;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,r.check=Es(r.check,L,2,0)),c=0,u=0,r.mode=F6;case F6:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,L[2]=c>>>16&255,L[3]=c>>>24&255,r.check=Es(r.check,L,4,0)),c=0,u=0,r.mode=U6;case U6:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,r.check=Es(r.check,L,2,0)),c=0,u=0,r.mode=z6;case z6:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,r.check=Es(r.check,L,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=q6;case q6:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(O=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),O)),r.flags&512&&r.wrap&4&&(r.check=Es(r.check,n,h,a)),o-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=H6;case H6:if(r.flags&2048){if(o===0)break e;h=0;do O=n[a+h++],r.head&&O&&r.length<65536&&(r.head.name+=String.fromCharCode(O));while(O&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Es(r.check,n,h,a)),o-=h,a+=h,O)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=W6;case W6:if(r.flags&4096){if(o===0)break e;h=0;do O=n[a+h++],r.head&&O&&r.length<65536&&(r.head.comment+=String.fromCharCode(O));while(O&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Es(r.check,n,h,a)),o-=h,a+=h,O)break e}else r.head&&(r.head.comment=null);r.mode=V6;case V6:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Br;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=fo;break;case G6:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}e.adler=r.check=sC(c),c=0,u=0,r.mode=Kv;case Kv:if(r.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=u,o_e;e.adler=r.check=1,r.mode=fo;case fo:if(t===a_e||t===T0)break e;case j2:if(r.last){c>>>=u&7,u-=u&7,r.mode=A2;break}for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=K6;break;case 1:if(m_e(r),r.mode=I0,t===T0){c>>>=2,u-=2;break e}break;case 2:r.mode=X6;break;case 3:e.msg="invalid block type",r.mode=Br}c>>>=2,u-=2;break;case K6:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Br;break}if(r.length=c&65535,c=0,u=0,r.mode=N2,t===T0)break e;case N2:r.mode=Y6;case Y6:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(n.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,r.length-=h;break}r.mode=fo;break;case X6:for(;u<14;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Br;break}r.have=0,r.mode=J6;case J6:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.lens[P[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[P[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},I=Op(i_e,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,I){e.msg="invalid code lengths set",r.mode=Br;break}r.have=0,r.mode=Z6;case Z6:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[c&(1<<r.lenbits)-1],v=b>>>24,w=b>>>16&255,_=b&65535,!(v<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(_<16)c>>>=v,u-=v,r.lens[r.have++]=_;else{if(_===16){for(k=v+2;u<k;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(c>>>=v,u-=v,r.have===0){e.msg="invalid bit length repeat",r.mode=Br;break}O=r.lens[r.have-1],h=3+(c&3),c>>>=2,u-=2}else if(_===17){for(k=v+3;u<k;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=v,u-=v,O=0,h=3+(c&7),c>>>=3,u-=3}else{for(k=v+7;u<k;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=v,u-=v,O=0,h=11+(c&127),c>>>=7,u-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Br;break}for(;h--;)r.lens[r.have++]=O}}if(r.mode===Br)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Br;break}if(r.lenbits=9,F={bits:r.lenbits},I=Op(oD,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,I){e.msg="invalid literal/lengths set",r.mode=Br;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},I=Op(lD,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,I){e.msg="invalid distances set",r.mode=Br;break}if(r.mode=I0,t===T0)break e;case I0:r.mode=L0;case L0:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=u,Z5e(e,p),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,c=r.hold,u=r.bits,r.mode===fo&&(r.back=-1);break}for(r.back=0;b=r.lencode[c&(1<<r.lenbits)-1],v=b>>>24,w=b>>>16&255,_=b&65535,!(v<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(w&&!(w&240)){for(N=v,S=w,j=_;b=r.lencode[j+((c&(1<<N+S)-1)>>N)],v=b>>>24,w=b>>>16&255,_=b&65535,!(N+v<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=N,u-=N,r.back+=N}if(c>>>=v,u-=v,r.back+=v,r.length=_,w===0){r.mode=nC;break}if(w&32){r.back=-1,r.mode=fo;break}if(w&64){e.msg="invalid literal/length code",r.mode=Br;break}r.extra=w&15,r.mode=Q6;case Q6:if(r.extra){for(k=r.extra;u<k;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=eC;case eC:for(;b=r.distcode[c&(1<<r.distbits)-1],v=b>>>24,w=b>>>16&255,_=b&65535,!(v<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(!(w&240)){for(N=v,S=w,j=_;b=r.distcode[j+((c&(1<<N+S)-1)>>N)],v=b>>>24,w=b>>>16&255,_=b&65535,!(N+v<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=N,u-=N,r.back+=N}if(c>>>=v,u-=v,r.back+=v,w&64){e.msg="invalid distance code",r.mode=Br;break}r.offset=_,r.extra=w&15,r.mode=tC;case tC:if(r.extra){for(k=r.extra;u<k;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Br;break}r.mode=rC;case rC:if(l===0)break e;if(h=p-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Br;break}h>r.wnext?(h-=r.wnext,y=r.wsize-h):y=r.wnext-h,h>r.length&&(h=r.length),g=r.window}else g=i,y=s-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[s++]=g[y++];while(--h);r.length===0&&(r.mode=L0);break;case nC:if(l===0)break e;i[s++]=r.length,l--,r.mode=L0;break;case A2:if(r.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[a++]<<u,u+=8}if(p-=l,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?Es(r.check,i,p,s-p):W_(r.check,i,p,s-p)),p=l,r.wrap&4&&(r.flags?c:sC(c))!==r.check){e.msg="incorrect data check",r.mode=Br;break}c=0,u=0}r.mode=iC;case iC:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Br;break}c=0,u=0}r.mode=aC;case aC:I=s_e;break e;case Br:I=cD;break e;case dD:return uD;case fD:default:return Fa}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=u,(r.wsize||p!==e.avail_out&&r.mode<Br&&(r.mode<A2||t!==M6))&&yD(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?Es(r.check,i,p,e.next_out-p):W_(r.check,i,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===fo?128:0)+(r.mode===I0||r.mode===N2?256:0),(f===0&&p===0||t===M6)&&I===gu&&(I=l_e),I},y_e=e=>{if(Eu(e))return Fa;let t=e.state;return t.window&&(t.window=null),e.state=null,gu},v_e=(e,t)=>{if(Eu(e))return Fa;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,gu):Fa},b_e=(e,t)=>{const r=t.length;let n,i,a;return Eu(e)||(n=e.state,n.wrap!==0&&n.mode!==Kv)?Fa:n.mode===Kv&&(i=1,i=W_(i,t,r,0),i!==n.check)?cD:(a=yD(e,t,r,r),a?(n.mode=dD,uD):(n.havedict=1,gu))};var x_e=pD,w_e=mD,__e=hD,S_e=p_e,j_e=gD,N_e=g_e,A_e=y_e,k_e=v_e,E_e=b_e,O_e="pako inflate (from Nodeca project)",yo={inflateReset:x_e,inflateReset2:w_e,inflateResetKeep:__e,inflateInit:S_e,inflateInit2:j_e,inflate:N_e,inflateEnd:A_e,inflateGetHeader:k_e,inflateSetDictionary:E_e,inflateInfo:O_e};function P_e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var C_e=P_e;const vD=Object.prototype.toString,{Z_NO_FLUSH:T_e,Z_FINISH:I_e,Z_OK:Dm,Z_STREAM_END:O2,Z_NEED_DICT:P2,Z_STREAM_ERROR:L_e,Z_DATA_ERROR:lC,Z_MEM_ERROR:R_e}=iD;function sg(e){this.options=aD.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new X5e,this.strm.avail_out=0;let r=yo.inflateInit2(this.strm,t.windowBits);if(r!==Dm)throw new Error(V_[r]);if(this.header=new C_e,yo.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=G_.string2buf(t.dictionary):vD.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=yo.inflateSetDictionary(this.strm,t.dictionary),r!==Dm)))throw new Error(V_[r])}sg.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?I_e:T_e,vD.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=yo.inflate(r,s),a===P2&&i&&(a=yo.inflateSetDictionary(r,i),a===Dm?a=yo.inflate(r,s):a===lC&&(a=P2));r.avail_in>0&&a===O2&&r.state.wrap>0&&e[r.next_in]!==0;)yo.inflateReset(r),a=yo.inflate(r,s);switch(a){case L_e:case lC:case P2:case R_e:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===O2))if(this.options.to==="string"){let l=G_.utf8border(r.output,r.next_out),c=r.next_out-l,u=G_.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Dm&&o===0)){if(a===O2)return a=yo.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};sg.prototype.onData=function(e){this.chunks.push(e)};sg.prototype.onEnd=function(e){e===Dm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=aD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function $_e(e,t){const r=new sg(t);if(r.push(e),r.err)throw r.msg||V_[r.err];return r.result}var M_e=sg,D_e=$_e,B_e={Inflate:M_e,inflate:D_e};const{Inflate:F_e,inflate:U_e}=B_e;var cC=F_e,z_e=U_e;const bD=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;bD[e]=t}const uC=4294967295;function q_e(e,t,r){let n=e;for(let i=0;i<r;i++)n=bD[(n^t[i])&255]^n>>>8;return n}function H_e(e,t){return(q_e(uC,e,t)^uC)>>>0}function dC(e,t,r){const n=e.readUint32(),i=H_e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function xD(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function wD(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function _D(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function SD(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function jD(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+W_e(t[a-i],r[a],r[a-i])&255}}function W_e(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),s=Math.abs(n-r);return i<=a&&i<=s?e:a<=s?t:r}function V_e(e,t,r,n,i,a){switch(e){case 0:xD(t,r,i);break;case 1:wD(t,r,i,a);break;case 2:_D(t,r,n,i);break;case 3:SD(t,r,n,i,a);break;case 4:jD(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const G_e=new Uint16Array([255]),K_e=new Uint8Array(G_e.buffer),Y_e=K_e[0]===255;function X_e(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let u=0;u<7;u++){const f=s[u],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const y=p*o,g=new Uint8Array(y);for(let b=0;b<h;b++){const v=t[c++],w=t.subarray(c,c+y);c+=y;const _=new Uint8Array(y);V_e(v,w,_,g,y,o),g.set(_);for(let N=0;N<p;N++){const S=f.x+N*f.xStep,j=f.y+b*f.yStep;if(!(S>=r||j>=n))for(let O=0;O<o;O++)l[(j*r+S)*o+O]=_[N*o+O]}}}if(a===16){const u=new Uint16Array(l.buffer);if(Y_e)for(let f=0;f<u.length;f++)u[f]=J_e(u[f]);return u}else return l}function J_e(e){return(e&255)<<8|e>>8&255}const Z_e=new Uint16Array([255]),Q_e=new Uint8Array(Z_e.buffer),eSe=Q_e[0]===255,tSe=new Uint8Array(0);function fC(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),l=new Uint8Array(n*o);let c=tSe,u=0,f,p;for(let h=0;h<n;h++){switch(f=t.subarray(u+1,u+1+o),p=l.subarray(h*o,(h+1)*o),t[u]){case 0:xD(f,p,o);break;case 1:wD(f,p,o,s);break;case 2:_D(f,p,c,o);break;case 3:SD(f,p,c,o,s);break;case 4:jD(f,p,c,o,s);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}c=p,u+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(eSe)for(let y=0;y<h.length;y++)h[y]=rSe(h[y]);return h}else return l}function rSe(e){return(e&255)<<8|e>>8&255}const ty=Uint8Array.of(137,80,78,71,13,10,26,10);function hC(e){if(!nSe(e.readBytes(ty.length)))throw new Error("wrong PNG signature")}function nSe(e){if(e.length<ty.length)return!1;for(let t=0;t<ty.length;t++)if(e[t]!==ty[t])return!1;return!0}const iSe="tEXt",aSe=0,ND=new TextDecoder("latin1");function sSe(e){if(lSe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const oSe=/^[\u0000-\u00FF]*$/;function lSe(e){if(!oSe.test(e))throw new Error("invalid latin1 text")}function cSe(e,t,r){const n=AD(t);e[n]=uSe(t,r-n.length-1)}function AD(e){for(e.mark();e.readByte()!==aSe;);const t=e.offset;e.reset();const r=ND.decode(e.readBytes(t-e.offset-1));return e.skip(1),sSe(r),r}function uSe(e,t){return ND.decode(e.readBytes(t))}const Zi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},C2={UNKNOWN:-1,DEFLATE:0},pC={UNKNOWN:-1,ADAPTIVE:0},T2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},R0={NONE:0,BACKGROUND:1,PREVIOUS:2},I2={SOURCE:0,OVER:1};class dSe extends RN{constructor(r,n={}){super(r);sr(this,"_checkCrc");sr(this,"_inflator");sr(this,"_png");sr(this,"_apng");sr(this,"_end");sr(this,"_hasPalette");sr(this,"_palette");sr(this,"_hasTransparency");sr(this,"_transparency");sr(this,"_compressionMethod");sr(this,"_filterMethod");sr(this,"_interlaceMethod");sr(this,"_colorType");sr(this,"_isAnimated");sr(this,"_numberOfFrames");sr(this,"_numberOfPlays");sr(this,"_frames");sr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new cC,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=C2.UNKNOWN,this._filterMethod=pC.UNKNOWN,this._interlaceMethod=T2.UNKNOWN,this._colorType=Zi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(hC(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(hC(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case iSe:cSe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?dC(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?dC(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=fSe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Zi.GREYSCALE:i=1;break;case Zi.TRUECOLOUR:i=3;break;case Zi.INDEXED_COLOUR:i=1;break;case Zi.GREYSCALE_ALPHA:i=2;break;case Zi.TRUECOLOUR_ALPHA:i=4;break;case Zi.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==C2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Zi.GREYSCALE:case Zi.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Zi.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Zi.UNKNOWN:case Zi.GREYSCALE_ALPHA:case Zi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=AD(this),i=this.readUint8();if(i!==C2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:z_e(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=fC({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case R0.NONE:break;case R0.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case R0.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case I2.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case I2.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++){const f=n.data[c+this._png.channels-1]/i,p=u%(this._png.channels-1)===0?1:n.data[c+u],h=Math.floor(f*p+(1-f)*r.data[l+u]);r.data[l+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==pC.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===T2.NO_INTERLACE)this._png.data=fC({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===T2.ADAM7)this._png.data=X_e({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:R0.NONE,blendOp:I2.SOURCE,data:r}),this._inflator=new cC,this._writingDataChunks=!1}}function fSe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var mC;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(mC||(mC={}));function hSe(e,t){return new dSe(e,t).decode()}var Et=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function L2(){Et.console&&typeof Et.console.log=="function"&&Et.console.log.apply(Et.console,arguments)}var _r={log:L2,warn:function(e){Et.console&&(typeof Et.console.warn=="function"?Et.console.warn.apply(Et.console,arguments):L2.call(null,arguments))},error:function(e){Et.console&&(typeof Et.console.error=="function"?Et.console.error.apply(Et.console,arguments):L2(e))}};function R2(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Mc(n.response,t,r)},n.onerror=function(){_r.error("could not download file")},n.send()}function gC(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function $0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Mc=Et.saveAs||((typeof window>"u"?"undefined":mr(window))!=="object"||window!==Et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Et.URL||Et.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?gC(i.href)?R2(e,t,r):$0(i,i.target="_blank"):$0(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){$0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(gC(e))R2(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){$0(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:mr(a)!=="object"&&(_r.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return R2(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(Et.HTMLElement)||Et.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":mr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=Et.URL||Et.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function kD(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var ry=Et.atob.bind(Et),yC=Et.btoa.bind(Et);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function $2(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=ai(r,n,i,a,t[0],7,-680876936),a=ai(a,r,n,i,t[1],12,-389564586),i=ai(i,a,r,n,t[2],17,606105819),n=ai(n,i,a,r,t[3],22,-1044525330),r=ai(r,n,i,a,t[4],7,-176418897),a=ai(a,r,n,i,t[5],12,1200080426),i=ai(i,a,r,n,t[6],17,-1473231341),n=ai(n,i,a,r,t[7],22,-45705983),r=ai(r,n,i,a,t[8],7,1770035416),a=ai(a,r,n,i,t[9],12,-1958414417),i=ai(i,a,r,n,t[10],17,-42063),n=ai(n,i,a,r,t[11],22,-1990404162),r=ai(r,n,i,a,t[12],7,1804603682),a=ai(a,r,n,i,t[13],12,-40341101),i=ai(i,a,r,n,t[14],17,-1502002290),r=si(r,n=ai(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=si(a,r,n,i,t[6],9,-1069501632),i=si(i,a,r,n,t[11],14,643717713),n=si(n,i,a,r,t[0],20,-373897302),r=si(r,n,i,a,t[5],5,-701558691),a=si(a,r,n,i,t[10],9,38016083),i=si(i,a,r,n,t[15],14,-660478335),n=si(n,i,a,r,t[4],20,-405537848),r=si(r,n,i,a,t[9],5,568446438),a=si(a,r,n,i,t[14],9,-1019803690),i=si(i,a,r,n,t[3],14,-187363961),n=si(n,i,a,r,t[8],20,1163531501),r=si(r,n,i,a,t[13],5,-1444681467),a=si(a,r,n,i,t[2],9,-51403784),i=si(i,a,r,n,t[7],14,1735328473),r=oi(r,n=si(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=oi(a,r,n,i,t[8],11,-2022574463),i=oi(i,a,r,n,t[11],16,1839030562),n=oi(n,i,a,r,t[14],23,-35309556),r=oi(r,n,i,a,t[1],4,-1530992060),a=oi(a,r,n,i,t[4],11,1272893353),i=oi(i,a,r,n,t[7],16,-155497632),n=oi(n,i,a,r,t[10],23,-1094730640),r=oi(r,n,i,a,t[13],4,681279174),a=oi(a,r,n,i,t[0],11,-358537222),i=oi(i,a,r,n,t[3],16,-722521979),n=oi(n,i,a,r,t[6],23,76029189),r=oi(r,n,i,a,t[9],4,-640364487),a=oi(a,r,n,i,t[12],11,-421815835),i=oi(i,a,r,n,t[15],16,530742520),r=li(r,n=oi(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=li(a,r,n,i,t[7],10,1126891415),i=li(i,a,r,n,t[14],15,-1416354905),n=li(n,i,a,r,t[5],21,-57434055),r=li(r,n,i,a,t[12],6,1700485571),a=li(a,r,n,i,t[3],10,-1894986606),i=li(i,a,r,n,t[10],15,-1051523),n=li(n,i,a,r,t[1],21,-2054922799),r=li(r,n,i,a,t[8],6,1873313359),a=li(a,r,n,i,t[15],10,-30611744),i=li(i,a,r,n,t[6],15,-1560198380),n=li(n,i,a,r,t[13],21,1309151649),r=li(r,n,i,a,t[4],6,-145523070),a=li(a,r,n,i,t[11],10,-1120210379),i=li(i,a,r,n,t[2],15,718787259),n=li(n,i,a,r,t[9],21,-343485551),e[0]=kl(r,e[0]),e[1]=kl(n,e[1]),e[2]=kl(i,e[2]),e[3]=kl(a,e[3])}function gb(e,t,r,n,i,a){return t=kl(kl(t,e),kl(n,a)),kl(t<<i|t>>>32-i,r)}function ai(e,t,r,n,i,a,s){return gb(t&r|~t&n,e,t,i,a,s)}function si(e,t,r,n,i,a,s){return gb(t&n|r&~n,e,t,i,a,s)}function oi(e,t,r,n,i,a,s){return gb(t^r^n,e,t,i,a,s)}function li(e,t,r,n,i,a,s){return gb(r^(t|~n),e,t,i,a,s)}function ED(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)$2(n,pSe(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for($2(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,$2(n,i),n}function pSe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var vC="0123456789abcdef".split("");function mSe(e){for(var t="",r=0;r<4;r++)t+=vC[e>>8*r+4&15]+vC[e>>8*r&15];return t}function gSe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function K_(e){return ED(e).map(gSe).join("")}var ySe=function(e){for(var t=0;t<e.length;t++)e[t]=mSe(e[t]);return e.join("")}(ED("hello"))!="5d41402abc4b2a76b9719d911017c592";function kl(e,t){if(ySe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Y_(e,t){var r,n,i,a;if(e!==r){for(var s=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var f=t.length,p=0,h=0,y="";for(l=0;l<f;l++)h=(h+(u=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=u,s=o[(o[p]+o[h])%256],y+=String.fromCharCode(t.charCodeAt(l)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var bC={print:4,modify:8,copy:16,"annot-forms":32};function sd(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(bC.perm!==void 0)throw new Error("Invalid permission: "+o);i+=bC[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=K_(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Y_(this.encryptionKey,this.padding)}function od(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function xC(e){if(mr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var s=t[r][a];try{s[0].apply(e,n)}catch(o){Et.console&&_r.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Yv(e){if(!(this instanceof Yv))return new Yv(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function OD(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function qc(e,t,r,n,i){if(!(this instanceof qc))return new qc(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,OD.call(this,n,i)}function Nd(e,t,r,n,i){if(!(this instanceof Nd))return new Nd(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,OD.call(this,n,i)}function wt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;mr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=xC;var y="1.3",g=h.__private__.getPdfVersion=function(){return y};h.__private__.setPdfVersion=function(A){y=A};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return b};var v=h.__private__.getPageFormat=function(A){return b[A]};i=i||"a4";var w="compat",_="advanced",N=w;function S(){this.saveGraphicsState(),ee(new Qe(Ae,0,0,-Ae,0,pc()*Ae).toString()+" cm"),this.setFontSize(this.getFontSize()/Ae),c="n",N=_}function j(){this.restoreGraphicsState(),c="S",N=w}var O=h.__private__.combineFontStyleAndFontWeight=function(A,z){if(A=="bold"&&z=="normal"||A=="bold"&&z==400||A=="normal"&&z=="italic"||A=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(A=z==400||z==="normal"?A==="italic"?"italic":"normal":z!=700&&z!=="bold"||A!=="normal"?(z==700?"bold":z)+""+A:"bold"),A};h.advancedAPI=function(A){var z=N===w;return z&&S.call(this),typeof A!="function"||(A(this),z&&j.call(this)),this},h.compatAPI=function(A){var z=N===_;return z&&j.call(this),typeof A!="function"||(A(this),z&&S.call(this)),this},h.isAdvancedAPI=function(){return N===_};var I,L=function(A){if(N!==_)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=h.roundToPrecision=h.__private__.roundToPrecision=function(A,z){var ne=t||z;if(isNaN(A)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ne).replace(/0+$/,"")};I=h.hpf=h.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,16)};var k=h.f2=h.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return F(A,2)},P=h.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return F(A,3)},D=h.scale=h.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return N===w?A*Ae:N===_?A:void 0},M=function(A){return D(function(z){return N===w?pc()-z:N===_?z:void 0}(A))};h.__private__.setPrecision=h.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var U,V="00000000000000000000000000000000",W=h.__private__.getFileId=function(){return V},B=h.__private__.setFileId=function(A){return V=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(en=new sd(u.userPermissions,u.userPassword,u.ownerPassword,V)),V};h.setFileId=function(A){return B(A),this},h.getFileId=function(){return W()};var J=h.__private__.convertDateToPDFDate=function(A){var z=A.getTimezoneOffset(),ne=z<0?"+":"-",ce=Math.floor(Math.abs(z/60)),ve=Math.abs(z%60),Te=[ne,K(ce),"'",K(ve),"'"].join("");return["D:",A.getFullYear(),K(A.getMonth()+1),K(A.getDate()),K(A.getHours()),K(A.getMinutes()),K(A.getSeconds()),Te].join("")},$=h.__private__.convertPDFDateToDate=function(A){var z=parseInt(A.substr(2,4),10),ne=parseInt(A.substr(6,2),10)-1,ce=parseInt(A.substr(8,2),10),ve=parseInt(A.substr(10,2),10),Te=parseInt(A.substr(12,2),10),De=parseInt(A.substr(14,2),10);return new Date(z,ne,ce,ve,Te,De,0)},ae=h.__private__.setCreationDate=function(A){var z;if(A===void 0&&(A=new Date),A instanceof Date)z=J(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=A}return U=z},T=h.__private__.getCreationDate=function(A){var z=U;return A==="jsDate"&&(z=$(U)),z};h.setCreationDate=function(A){return ae(A),this},h.getCreationDate=function(A){return T(A)};var C,K=h.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},Q=h.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ie=0,ue=[],ge=[],se=0,he=[],je=[],me=!1,Be=ge;h.__private__.setCustomOutputDestination=function(A){me=!0,Be=A};var ye=function(A){me||(Be=A)};h.__private__.resetCustomOutputDestination=function(){me=!1,Be=ge};var ee=h.__private__.out=function(A){return A=A.toString(),se+=A.length+1,Be.push(A),Be},ut=h.__private__.write=function(A){return ee(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},lt=h.__private__.getArrayBuffer=function(A){for(var z=A.length,ne=new ArrayBuffer(z),ce=new Uint8Array(ne);z--;)ce[z]=A.charCodeAt(z);return ne},at=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return at};var Re=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(A){return Re=N===_?A/Ae:A,this};var rt,oe=h.__private__.getFontSize=h.getFontSize=function(){return N===w?Re:Re*Ae},$e=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(A){return $e=A,this},h.__private__.getR2L=h.getR2L=function(){return $e};var ze,Ue=h.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))rt=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');rt=A}else rt=parseInt(A,10)};h.__private__.getZoomMode=function(){return rt};var He,de=h.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');ze=A};h.__private__.getPageMode=function(){return ze};var Ne=h.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');He=A};h.__private__.getLayoutMode=function(){return He},h.__private__.setDisplayMode=h.setDisplayMode=function(A,z,ne){return Ue(A),Ne(z),de(ne),this};var we={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(A){if(Object.keys(we).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return we[A]},h.__private__.getDocumentProperties=function(){return we},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(A){for(var z in we)we.hasOwnProperty(z)&&A[z]&&(we[z]=A[z]);return this},h.__private__.setDocumentProperty=function(A,z){if(Object.keys(we).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return we[A]=z};var _e,Ae,Ee,Fe,qe,ke={},Ge={},Ve=[],Xe={},it={},St={},Ft={},Jt=null,gt=0,tt=[],Rt=new xC(h),$n=e.hotfixes||[],ir={},Zt={},br=[],Qe=function A(z,ne,ce,ve,Te,De){if(!(this instanceof A))return new A(z,ne,ce,ve,Te,De);isNaN(z)&&(z=1),isNaN(ne)&&(ne=0),isNaN(ce)&&(ce=0),isNaN(ve)&&(ve=1),isNaN(Te)&&(Te=0),isNaN(De)&&(De=0),this._matrix=[z,ne,ce,ve,Te,De]};Object.defineProperty(Qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qe.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(A)},Qe.prototype.multiply=function(A){var z=A.sx*this.sx+A.shy*this.shx,ne=A.sx*this.shy+A.shy*this.sy,ce=A.shx*this.sx+A.sy*this.shx,ve=A.shx*this.shy+A.sy*this.sy,Te=A.tx*this.sx+A.ty*this.shx+this.tx,De=A.tx*this.shy+A.ty*this.sy+this.ty;return new Qe(z,ne,ce,ve,Te,De)},Qe.prototype.decompose=function(){var A=this.sx,z=this.shy,ne=this.shx,ce=this.sy,ve=this.tx,Te=this.ty,De=Math.sqrt(A*A+z*z),ht=(A/=De)*ne+(z/=De)*ce;ne-=A*ht,ce-=z*ht;var bt=Math.sqrt(ne*ne+ce*ce);return ht/=bt,A*(ce/=bt)<z*(ne/=bt)&&(A=-A,z=-z,ht=-ht,De=-De),{scale:new Qe(De,0,0,bt,0,0),translate:new Qe(1,0,0,1,ve,Te),rotate:new Qe(A,z,-z,A,0,0),skew:new Qe(1,0,ht,1,0,0)}},Qe.prototype.toString=function(A){return this.join(" ")},Qe.prototype.inversed=function(){var A=this.sx,z=this.shy,ne=this.shx,ce=this.sy,ve=this.tx,Te=this.ty,De=1/(A*ce-z*ne),ht=ce*De,bt=-z*De,Ct=-ne*De,$t=A*De;return new Qe(ht,bt,Ct,$t,-ht*ve-Ct*Te,-bt*ve-$t*Te)},Qe.prototype.applyToPoint=function(A){var z=A.x*this.sx+A.y*this.shx+this.tx,ne=A.x*this.shy+A.y*this.sy+this.ty;return new fc(z,ne)},Qe.prototype.applyToRectangle=function(A){var z=this.applyToPoint(A),ne=this.applyToPoint(new fc(A.x+A.w,A.y+A.h));return new fh(z.x,z.y,ne.x-z.x,ne.y-z.y)},Qe.prototype.clone=function(){var A=this.sx,z=this.shy,ne=this.shx,ce=this.sy,ve=this.tx,Te=this.ty;return new Qe(A,z,ne,ce,ve,Te)},h.Matrix=Qe;var wn=h.matrixMult=function(A,z){return z.multiply(A)},Hn=new Qe(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Hn;var ei=function(A,z){if(!it[A]){var ne=(z instanceof qc?"Sh":"P")+(Object.keys(Xe).length+1).toString(10);z.id=ne,it[A]=ne,Xe[ne]=z,Rt.publish("addPattern",z)}};h.ShadingPattern=qc,h.TilingPattern=Nd,h.addShadingPattern=function(A,z){return L("addShadingPattern()"),ei(A,z),this},h.beginTilingPattern=function(A){L("beginTilingPattern()"),hh(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},h.endTilingPattern=function(A,z){L("endTilingPattern()"),z.stream=je[C].join(`
`),ei(A,z),Rt.publish("endTilingPattern",z),br.pop().restore()};var _n,cr=h.__private__.newObject=function(){var A=ur();return Gr(A,!0),A},ur=h.__private__.newObjectDeferred=function(){return ie++,ue[ie]=function(){return se},ie},Gr=function(A,z){return z=typeof z=="boolean"&&z,ue[A]=se,z&&ee(A+" 0 obj"),A},nc=h.__private__.newAdditionalObject=function(){var A={objId:ur(),content:""};return he.push(A),A},Vo=ur(),Ha=ur(),xs=h.__private__.decodeColorString=function(A){var z=A.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var ne=parseFloat(z[0]);z=[ne,ne,ne,"r"]}for(var ce="#",ve=0;ve<3;ve++)ce+=("0"+Math.floor(255*parseFloat(z[ve])).toString(16)).slice(-2);return ce},Wa=h.__private__.encodeColorString=function(A){var z;typeof A=="string"&&(A={ch1:A});var ne=A.ch1,ce=A.ch2,ve=A.ch3,Te=A.ch4,De=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var ht=new kD(ne);if(ht.ok)ne=ht.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var bt=parseInt(ne.substr(1),16);ne=bt>>16&255,ce=bt>>8&255,ve=255&bt}if(ce===void 0||Te===void 0&&ne===ce&&ce===ve)z=typeof ne=="string"?ne+" "+De[0]:A.precision===2?k(ne/255)+" "+De[0]:P(ne/255)+" "+De[0];else if(Te===void 0||mr(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return["1.","1.","1.",De[1]].join(" ");z=typeof ne=="string"?[ne,ce,ve,De[1]].join(" "):A.precision===2?[k(ne/255),k(ce/255),k(ve/255),De[1]].join(" "):[P(ne/255),P(ce/255),P(ve/255),De[1]].join(" ")}else z=typeof ne=="string"?[ne,ce,ve,Te,De[2]].join(" "):A.precision===2?[k(ne),k(ce),k(ve),k(Te),De[2]].join(" "):[P(ne),P(ce),P(ve),P(Te),De[2]].join(" ");return z},Va=h.__private__.getFilters=function(){return s},ya=h.__private__.putStream=function(A){var z=(A=A||{}).data||"",ne=A.filters||Va(),ce=A.alreadyAppliedFilters||[],ve=A.addLength1||!1,Te=z.length,De=A.objectId,ht=function(Sn){return Sn};if(u!==null&&De===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ht=en.encryptor(De,0));var bt={};ne===!0&&(ne=["FlateEncode"]);var Ct=A.additionalKeyValues||[],$t=(bt=wt.API.processDataByFilters!==void 0?wt.API.processDataByFilters(z,ne):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(bt.data.length!==0&&(Ct.push({key:"Length",value:bt.data.length}),ve===!0&&Ct.push({key:"Length1",value:Te})),$t.length!=0)if($t.split("/").length-1==1)Ct.push({key:"Filter",value:$t});else{Ct.push({key:"Filter",value:"["+$t+"]"});for(var ar=0;ar<Ct.length;ar+=1)if(Ct[ar].key==="DecodeParms"){for(var zr=[],fn=0;fn<bt.reverseChain.split("/").length-1;fn+=1)zr.push("null");zr.push(Ct[ar].value),Ct[ar].value="["+zr.join(" ")+"]"}}ee("<<");for(var jr=0;jr<Ct.length;jr++)ee("/"+Ct[jr].key+" "+Ct[jr].value);ee(">>"),bt.data.length!==0&&(ee("stream"),ee(ht(bt.data)),ee("endstream"))},ic=h.__private__.putPage=function(A){var z=A.number,ne=A.data,ce=A.objId,ve=A.contentsObjId;Gr(ce,!0),ee("<</Type /Page"),ee("/Parent "+A.rootDictionaryObjId+" 0 R"),ee("/Resources "+A.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(I(A.mediaBox.bottomLeftX))+" "+parseFloat(I(A.mediaBox.bottomLeftY))+" "+I(A.mediaBox.topRightX)+" "+I(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&ee("/CropBox ["+I(A.cropBox.bottomLeftX)+" "+I(A.cropBox.bottomLeftY)+" "+I(A.cropBox.topRightX)+" "+I(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&ee("/BleedBox ["+I(A.bleedBox.bottomLeftX)+" "+I(A.bleedBox.bottomLeftY)+" "+I(A.bleedBox.topRightX)+" "+I(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&ee("/TrimBox ["+I(A.trimBox.bottomLeftX)+" "+I(A.trimBox.bottomLeftY)+" "+I(A.trimBox.topRightX)+" "+I(A.trimBox.topRightY)+"]"),A.artBox!==null&&ee("/ArtBox ["+I(A.artBox.bottomLeftX)+" "+I(A.artBox.bottomLeftY)+" "+I(A.artBox.topRightX)+" "+I(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&ee("/UserUnit "+A.userUnit),Rt.publish("putPage",{objId:ce,pageContext:tt[z],pageNumber:z,page:ne}),ee("/Contents "+ve+" 0 R"),ee(">>"),ee("endobj");var Te=ne.join(`
`);return N===_&&(Te+=`
Q`),Gr(ve,!0),ya({data:Te,filters:Va(),objectId:ve}),ee("endobj"),ce},ws=h.__private__.putPages=function(){var A,z,ne=[];for(A=1;A<=gt;A++)tt[A].objId=ur(),tt[A].contentsObjId=ur();for(A=1;A<=gt;A++)ne.push(ic({number:A,data:je[A],objId:tt[A].objId,contentsObjId:tt[A].contentsObjId,mediaBox:tt[A].mediaBox,cropBox:tt[A].cropBox,bleedBox:tt[A].bleedBox,trimBox:tt[A].trimBox,artBox:tt[A].artBox,userUnit:tt[A].userUnit,rootDictionaryObjId:Vo,resourceDictionaryObjId:Ha}));Gr(Vo,!0),ee("<</Type /Pages");var ce="/Kids [";for(z=0;z<gt;z++)ce+=ne[z]+" 0 R ";ee(ce+"]"),ee("/Count "+gt),ee(">>"),ee("endobj"),Rt.publish("postPutPages")},ac=function(A){Rt.publish("putFont",{font:A,out:ee,newObject:cr,putStream:ya}),A.isAlreadyPutted!==!0&&(A.objectNumber=cr(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+od(A.postScriptName)),ee("/Subtype /Type1"),typeof A.encoding=="string"&&ee("/Encoding /"+A.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Pu=function(A){A.objectNumber=cr();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[I(A.x),I(A.y),I(A.x+A.width),I(A.y+A.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ne=A.pages[1].join(`
`);ya({data:ne,additionalKeyValues:z,objectId:A.objectNumber}),ee("endobj")},Cu=function(A,z){z||(z=21);var ne=cr(),ce=function(De,ht){var bt,Ct=[],$t=1/(ht-1);for(bt=0;bt<1;bt+=$t)Ct.push(bt);if(Ct.push(1),De[0].offset!=0){var ar={offset:0,color:De[0].color};De.unshift(ar)}if(De[De.length-1].offset!=1){var zr={offset:1,color:De[De.length-1].color};De.push(zr)}for(var fn="",jr=0,Sn=0;Sn<Ct.length;Sn++){for(bt=Ct[Sn];bt>De[jr+1].offset;)jr++;var hn=De[jr].offset,Wn=(bt-hn)/(De[jr+1].offset-hn),ba=De[jr].color,Ei=De[jr+1].color;fn+=Q(Math.round((1-Wn)*ba[0]+Wn*Ei[0]).toString(16))+Q(Math.round((1-Wn)*ba[1]+Wn*Ei[1]).toString(16))+Q(Math.round((1-Wn)*ba[2]+Wn*Ei[2]).toString(16))}return fn.trim()}(A.colors,z),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+z+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ya({data:ce,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),ee("endobj"),A.objectNumber=cr(),ee("<< /ShadingType "+A.type),ee("/ColorSpace /DeviceRGB");var Te="/Coords ["+I(parseFloat(A.coords[0]))+" "+I(parseFloat(A.coords[1]))+" ";A.type===2?Te+=I(parseFloat(A.coords[2]))+" "+I(parseFloat(A.coords[3])):Te+=I(parseFloat(A.coords[2]))+" "+I(parseFloat(A.coords[3]))+" "+I(parseFloat(A.coords[4]))+" "+I(parseFloat(A.coords[5])),ee(Te+="]"),A.matrix&&ee("/Matrix ["+A.matrix.toString()+"]"),ee("/Function "+ne+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},Tu=function(A,z){var ne=ur(),ce=cr();z.push({resourcesOid:ne,objectOid:ce}),A.objectNumber=ce;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+A.boundingBox.map(I).join(" ")+"]"}),ve.push({key:"XStep",value:I(A.xStep)}),ve.push({key:"YStep",value:I(A.yStep)}),ve.push({key:"Resources",value:ne+" 0 R"}),A.matrix&&ve.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),ya({data:A.stream,additionalKeyValues:ve,objectId:A.objectNumber}),ee("endobj")},yb=function(A){for(var z in A.objectNumber=cr(),ee("<<"),A)switch(z){case"opacity":ee("/ca "+k(A[z]));break;case"stroke-opacity":ee("/CA "+k(A[z]))}ee(">>"),ee("endobj")},rh=function(A){Gr(A.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var z in ee("/Font <<"),ke)ke.hasOwnProperty(z)&&(f===!1||f===!0&&p.hasOwnProperty(z))&&ee("/"+z+" "+ke[z].objectNumber+" 0 R");ee(">>")}(),function(){if(Object.keys(Xe).length>0){for(var z in ee("/Shading <<"),Xe)Xe.hasOwnProperty(z)&&Xe[z]instanceof qc&&Xe[z].objectNumber>=0&&ee("/"+z+" "+Xe[z].objectNumber+" 0 R");Rt.publish("putShadingPatternDict"),ee(">>")}}(),function(z){if(Object.keys(Xe).length>0){for(var ne in ee("/Pattern <<"),Xe)Xe.hasOwnProperty(ne)&&Xe[ne]instanceof h.TilingPattern&&Xe[ne].objectNumber>=0&&Xe[ne].objectNumber<z&&ee("/"+ne+" "+Xe[ne].objectNumber+" 0 R");Rt.publish("putTilingPatternDict"),ee(">>")}}(A.objectOid),function(){if(Object.keys(St).length>0){var z;for(z in ee("/ExtGState <<"),St)St.hasOwnProperty(z)&&St[z].objectNumber>=0&&ee("/"+z+" "+St[z].objectNumber+" 0 R");Rt.publish("putGStateDict"),ee(">>")}}(),function(){for(var z in ee("/XObject <<"),ir)ir.hasOwnProperty(z)&&ir[z].objectNumber>=0&&ee("/"+z+" "+ir[z].objectNumber+" 0 R");Rt.publish("putXobjectDict"),ee(">>")}(),ee(">>"),ee("endobj")},og=function(A){Ge[A.fontName]=Ge[A.fontName]||{},Ge[A.fontName][A.fontStyle]=A.id},lg=function(A,z,ne,ce,ve){var Te={id:"F"+(Object.keys(ke).length+1).toString(10),postScriptName:A,fontName:z,fontStyle:ne,encoding:ce,isStandardFont:ve||!1,metadata:{}};return Rt.publish("addFont",{font:Te,instance:this}),ke[Te.id]=Te,og(Te),Te.id},va=h.__private__.pdfEscape=h.pdfEscape=function(A,z){return function(ne,ce){var ve,Te,De,ht,bt,Ct,$t,ar,zr;if(De=(ce=ce||{}).sourceEncoding||"Unicode",bt=ce.outputEncoding,(ce.autoencode||bt)&&ke[_e].metadata&&ke[_e].metadata[De]&&ke[_e].metadata[De].encoding&&(ht=ke[_e].metadata[De].encoding,!bt&&ke[_e].encoding&&(bt=ke[_e].encoding),!bt&&ht.codePages&&(bt=ht.codePages[0]),typeof bt=="string"&&(bt=ht[bt]),bt)){for($t=!1,Ct=[],ve=0,Te=ne.length;ve<Te;ve++)(ar=bt[ne.charCodeAt(ve)])?Ct.push(String.fromCharCode(ar)):Ct.push(ne[ve]),Ct[ve].charCodeAt(0)>>8&&($t=!0);ne=Ct.join("")}for(ve=ne.length;$t===void 0&&ve!==0;)ne.charCodeAt(ve-1)>>8&&($t=!0),ve--;if(!$t)return ne;for(Ct=ce.noBOM?[]:[254,255],ve=0,Te=ne.length;ve<Te;ve++){if((zr=(ar=ne.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ct.push(zr),Ct.push(ar-(zr<<8))}return String.fromCharCode.apply(void 0,Ct)}(A,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nh=h.__private__.beginPage=function(A){je[++gt]=[],tt[gt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},ug(gt),ye(je[C])},cg=function(A,z){var ne,ce,ve;switch(r=z||r,typeof A=="string"&&(ne=v(A.toLowerCase()),Array.isArray(ne)&&(ce=ne[0],ve=ne[1])),Array.isArray(A)&&(ce=A[0]*Ae,ve=A[1]*Ae),isNaN(ce)&&(ce=i[0],ve=i[1]),(ce>14400||ve>14400)&&(_r.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ve=Math.min(14400,ve)),i=[ce,ve],r.substr(0,1)){case"l":ve>ce&&(i=[ve,ce]);break;case"p":ce>ve&&(i=[ve,ce])}nh(i),Ab(lh),ee(Lu),uh!==0&&ee(uh+" J"),dh!==0&&ee(dh+" j"),Rt.publish("addPage",{pageNumber:gt})},ih=function(A){A>0&&A<=gt&&(je.splice(A,1),tt.splice(A,1),gt--,C>gt&&(C=gt),this.setPage(C))},ug=function(A){A>0&&A<=gt&&(C=A)},dg=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return je.length-1},fg=function(A,z,ne){var ce,ve=void 0;return ne=ne||{},A=A!==void 0?A:ke[_e].fontName,z=z!==void 0?z:ke[_e].fontStyle,ce=A.toLowerCase(),Ge[ce]!==void 0&&Ge[ce][z]!==void 0?ve=Ge[ce][z]:Ge[A]!==void 0&&Ge[A][z]!==void 0?ve=Ge[A][z]:ne.disableWarning===!1&&_r.warn("Unable to look up font label for font '"+A+"', '"+z+"'. Refer to getFontList() for available fonts."),ve||ne.noFallback||(ve=Ge.times[z])==null&&(ve=Ge.times.normal),ve},Iu=h.__private__.putInfo=function(){var A=cr(),z=function(ce){return ce};for(var ne in u!==null&&(z=en.encryptor(A,0)),ee("<<"),ee("/Producer ("+va(z("jsPDF "+wt.version))+")"),we)we.hasOwnProperty(ne)&&we[ne]&&ee("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+va(z(we[ne]))+")");ee("/CreationDate ("+va(z(U))+")"),ee(">>"),ee("endobj")},vb=h.__private__.putCatalog=function(A){var z=(A=A||{}).rootDictionaryObjId||Vo;switch(cr(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+z+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+rt;ne.substr(ne.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+k(rt)+"]")}switch(He||(He="continuous"),He){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}ze&&ee("/PageMode /"+ze),Rt.publish("putCatalog"),ee(">>"),ee("endobj")},dn=h.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(ie+1)),ee("/Root "+ie+" 0 R"),ee("/Info "+(ie-1)+" 0 R"),u!==null&&ee("/Encrypt "+en.oid+" 0 R"),ee("/ID [ <"+V+"> <"+V+"> ]"),ee(">>")},hg=h.__private__.putHeader=function(){ee("%PDF-"+y),ee("%")},pg=h.__private__.putXRef=function(){var A="0000000000";ee("xref"),ee("0 "+(ie+1)),ee("0000000000 65535 f ");for(var z=1;z<=ie;z++)typeof ue[z]=="function"?ee((A+ue[z]()).slice(-10)+" 00000 n "):ue[z]!==void 0?ee((A+ue[z]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},Js=h.__private__.buildDocument=function(){var A;ie=0,se=0,ge=[],ue=[],he=[],Vo=ur(),Ha=ur(),ye(ge),Rt.publish("buildDocument"),hg(),ws(),function(){Rt.publish("putAdditionalObjects");for(var ne=0;ne<he.length;ne++){var ce=he[ne];Gr(ce.objId,!0),ee(ce.content),ee("endobj")}Rt.publish("postPutAdditionalObjects")}(),A=[],function(){for(var ne in ke)ke.hasOwnProperty(ne)&&(f===!1||f===!0&&p.hasOwnProperty(ne))&&ac(ke[ne])}(),function(){var ne;for(ne in St)St.hasOwnProperty(ne)&&yb(St[ne])}(),function(){for(var ne in ir)ir.hasOwnProperty(ne)&&Pu(ir[ne])}(),function(ne){var ce;for(ce in Xe)Xe.hasOwnProperty(ce)&&(Xe[ce]instanceof qc?Cu(Xe[ce]):Xe[ce]instanceof Nd&&Tu(Xe[ce],ne))}(A),Rt.publish("putResources"),A.forEach(rh),rh({resourcesOid:Ha,objectOid:Number.MAX_SAFE_INTEGER}),Rt.publish("postPutResources"),u!==null&&(en.oid=cr(),ee("<<"),ee("/Filter /Standard"),ee("/V "+en.v),ee("/R "+en.r),ee("/U <"+en.toHexString(en.U)+">"),ee("/O <"+en.toHexString(en.O)+">"),ee("/P "+en.P),ee(">>"),ee("endobj")),Iu(),vb();var z=se;return pg(),dn(),ee("startxref"),ee(""+z),ee("%%EOF"),ye(je[C]),ge.join(`
`)},sc=h.__private__.getBlob=function(A){return new Blob([lt(A)],{type:"application/pdf"})},Ga=h.output=h.__private__.output=(_n=function(A,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",A){case void 0:return Js();case"save":h.save(z.filename);break;case"arraybuffer":return lt(Js());case"blob":return sc(Js());case"bloburi":case"bloburl":if(Et.URL!==void 0&&typeof Et.URL.createObjectURL=="function")return Et.URL&&Et.URL.createObjectURL(sc(Js()))||void 0;_r.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",ce=Js();try{ne=yC(ce)}catch{ne=yC(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+z.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(ve=z.pdfObjectUrl,Te="");var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",ht=Et.open();return ht!==null&&ht.document.write(De),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',Ct=Et.open();if(Ct!==null){Ct.document.write(bt);var $t=this;Ct.document.documentElement.querySelector("#pdfViewer").onload=function(){Ct.document.title=z.filename,Ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($t.output("bloburl"))}}return Ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ar='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',zr=Et.open();if(zr!==null&&(zr.document.write(ar),zr.document.title=z.filename),zr||typeof safari>"u")return zr;break;case"datauri":case"dataurl":return Et.document.location.href=this.output("datauristring",z);default:return null}},_n.foo=function(){try{return _n.apply(this,arguments)}catch(ne){var A=ne.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var z="Error in function "+A.split(`
`)[0].split("<")[0]+": "+ne.message;if(!Et.console)throw new Error(z);Et.console.error(z,ne),Et.alert&&alert(z)}},_n.foo.bar=_n,_n.foo),oc=function(A){return Array.isArray($n)===!0&&$n.indexOf(A)>-1};switch(n){case"pt":Ae=1;break;case"mm":Ae=72/25.4;break;case"cm":Ae=72/2.54;break;case"in":Ae=72;break;case"px":Ae=oc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ae=12;break;case"ex":Ae=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ae=n}var en=null;ae(),B();var ah=h.__private__.getPageInfo=h.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tt[A].objId,pageNumber:A,pageContext:tt[A]}},bb=h.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in tt)if(tt[z].objId===A)break;return ah(z)},xb=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:tt[C].objId,pageNumber:C,pageContext:tt[C]}};h.addPage=function(){return cg.apply(this,arguments),this},h.setPage=function(){return ug.apply(this,arguments),ye.call(this,je[C]),this},h.insertPage=function(A){return this.addPage(),this.movePage(C,A),this},h.movePage=function(A,z){var ne,ce;if(A>z){ne=je[A],ce=tt[A];for(var ve=A;ve>z;ve--)je[ve]=je[ve-1],tt[ve]=tt[ve-1];je[z]=ne,tt[z]=ce,this.setPage(z)}else if(A<z){ne=je[A],ce=tt[A];for(var Te=A;Te<z;Te++)je[Te]=je[Te+1],tt[Te]=tt[Te+1];je[z]=ne,tt[z]=ce,this.setPage(z)}return this},h.deletePage=function(){return ih.apply(this,arguments),this},h.__private__.text=h.text=function(A,z,ne,ce,ve){var Te,De,ht,bt,Ct,$t,ar,zr,fn,jr=(ce=ce||{}).scope||this;if(typeof A=="number"&&typeof z=="number"&&(typeof ne=="string"||Array.isArray(ne))){var Sn=ne;ne=z,z=A,A=Sn}if(arguments[3]instanceof Qe==0?(ht=arguments[4],bt=arguments[5],mr(ar=arguments[3])==="object"&&ar!==null||(typeof ht=="string"&&(bt=ht,ht=null),typeof ar=="string"&&(bt=ar,ar=null),typeof ar=="number"&&(ht=ar,ar=null),ce={flags:ar,angle:ht,align:bt})):(L("The transform parameter of text() with a Matrix value"),fn=ve),isNaN(z)||isNaN(ne)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return jr;var hn,Wn="",ba=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:cc,Ei=jr.internal.scaleFactor;function _g(dr){return dr=dr.split("	").join(Array(ce.TabLen||9).join(" ")),va(dr,ar)}function Du(dr){for(var xr,rn=dr.concat(),jn=[],io=rn.length;io--;)typeof(xr=rn.shift())=="string"?jn.push(xr):Array.isArray(dr)&&(xr.length===1||xr[1]===void 0&&xr[2]===void 0)?jn.push(xr[0]):jn.push([xr[0],xr[1],xr[2]]);return jn}function mc(dr,xr){var rn;if(typeof dr=="string")rn=xr(dr)[0];else if(Array.isArray(dr)){for(var jn,io,Sh=dr.concat(),Uu=[],Ng=Sh.length;Ng--;)typeof(jn=Sh.shift())=="string"?Uu.push(xr(jn)[0]):Array.isArray(jn)&&typeof jn[0]=="string"&&(io=xr(jn[0],jn[1],jn[2]),Uu.push([io[0],io[1],io[2]]));rn=Uu}return rn}var Yo=!1,gc=!0;if(typeof A=="string")Yo=!0;else if(Array.isArray(A)){var yc=A.concat();De=[];for(var vc,ti=yc.length;ti--;)(typeof(vc=yc.shift())!="string"||Array.isArray(vc)&&typeof vc[0]!="string")&&(gc=!1);Yo=gc}if(Yo===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var bc=Re/jr.internal.scaleFactor,xc=bc*(ba-1);switch(ce.baseline){case"bottom":ne-=xc;break;case"top":ne+=bc-xc;break;case"hanging":ne+=bc-2*xc;break;case"middle":ne+=bc/2-xc}if(($t=ce.maxWidth||0)>0&&(typeof A=="string"?A=jr.splitTextToSize(A,$t):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(dr,xr){return dr.concat(jr.splitTextToSize(xr,$t))},[]))),Te={text:A,x:z,y:ne,options:ce,mutex:{pdfEscape:va,activeFontKey:_e,fonts:ke,activeFontSize:Re}},Rt.publish("preProcessText",Te),A=Te.text,ht=(ce=Te.options).angle,fn instanceof Qe==0&&ht&&typeof ht=="number"){ht*=Math.PI/180,ce.rotationDirection===0&&(ht=-ht),N===_&&(ht=-ht);var ph=Math.cos(ht),mh=Math.sin(ht);fn=new Qe(ph,mh,-mh,ph,0,0)}else ht&&ht instanceof Qe&&(fn=ht);N!==_||fn||(fn=Hn),(Ct=ce.charSpace||$u)!==void 0&&(Wn+=I(D(Ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zr=ce.horizontalScale)!==void 0&&(Wn+=I(100*zr)+` Tz
`),ce.lang;var Kr=-1,ro=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,Bu=jr.internal.getCurrentPageInfo().pageContext;switch(ro){case 0:case!1:case"fill":Kr=0;break;case 1:case!0:case"stroke":Kr=1;break;case 2:case"fillThenStroke":Kr=2;break;case 3:case"invisible":Kr=3;break;case 4:case"fillAndAddForClipping":Kr=4;break;case 5:case"strokeAndAddPathForClipping":Kr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Kr=6;break;case 7:case"addToPathForClipping":Kr=7}var Sg=Bu.usedRenderingMode!==void 0?Bu.usedRenderingMode:-1;Kr!==-1?Wn+=Kr+` Tr
`:Sg!==-1&&(Wn+=`0 Tr
`),Kr!==-1&&(Bu.usedRenderingMode=Kr),bt=ce.align||"left";var xa,wc=Re*ba,gh=jr.internal.pageSize.getWidth(),yh=ke[_e];Ct=ce.charSpace||$u,$t=ce.maxWidth||0,ar=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var Xo=[],_c=function(dr){return jr.getStringUnitWidth(dr,{font:yh,charSpace:Ct,fontSize:Re,doKerning:!1})*Re/Ei};if(Object.prototype.toString.call(A)==="[object Array]"){var Hi;De=Du(A),bt!=="left"&&(xa=De.map(_c));var Wi,Jo=0;if(bt==="right"){z-=xa[0],A=[],ti=De.length;for(var no=0;no<ti;no++)no===0?(Wi=Zs(z),Hi=Qs(ne)):(Wi=D(Jo-xa[no]),Hi=-wc),A.push([De[no],Wi,Hi]),Jo=xa[no]}else if(bt==="center"){z-=xa[0]/2,A=[],ti=De.length;for(var Zo=0;Zo<ti;Zo++)Zo===0?(Wi=Zs(z),Hi=Qs(ne)):(Wi=D((Jo-xa[Zo])/2),Hi=-wc),A.push([De[Zo],Wi,Hi]),Jo=xa[Zo]}else if(bt==="left"){A=[],ti=De.length;for(var vh=0;vh<ti;vh++)A.push(De[vh])}else if(bt==="justify"&&yh.encoding==="Identity-H"){A=[],ti=De.length,$t=$t!==0?$t:gh;for(var Fu=0,tn=0;tn<ti;tn++)if(Hi=tn===0?Qs(ne):-wc,Wi=tn===0?Zs(z):Fu,tn<ti-1){var jg=D(($t-xa[tn])/(De[tn].split(" ").length-1)),Ss=De[tn].split(" ");A.push([Ss[0]+" ",Wi,Hi]),Fu=0;for(var js=1;js<Ss.length;js++){var bh=(_c(Ss[js-1]+" "+Ss[js])-_c(Ss[js]))*Ei+jg;js==Ss.length-1?A.push([Ss[js],bh,0]):A.push([Ss[js]+" ",bh,0]),Fu-=bh}}else A.push([De[tn],Wi,Hi]);A.push(["",Fu,0])}else{if(bt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],ti=De.length,$t=$t!==0?$t:gh,tn=0;tn<ti;tn++){Hi=tn===0?Qs(ne):-wc,Wi=tn===0?Zs(z):0;var xh=De[tn].split(" ").length-1,wh=xh>0?($t-xa[tn])/xh:0;tn<ti-1?Xo.push(I(D(wh))):Xo.push(0),A.push([De[tn],Wi,Hi])}}}(typeof ce.R2L=="boolean"?ce.R2L:$e)===!0&&(A=mc(A,function(dr,xr,rn){return[dr.split("").reverse().join(""),xr,rn]})),Te={text:A,x:z,y:ne,options:ce,mutex:{pdfEscape:va,activeFontKey:_e,fonts:ke,activeFontSize:Re}},Rt.publish("postProcessText",Te),A=Te.text,hn=Te.mutex.isHex||!1;var _h=ke[_e].encoding;_h!=="WinAnsiEncoding"&&_h!=="StandardEncoding"||(A=mc(A,function(dr,xr,rn){return[_g(dr),xr,rn]})),De=Du(A),A=[];for(var Qo,el,tl,Sc=Array.isArray(De[0])?1:0,rl="",jc=function(dr,xr,rn){var jn="";return rn instanceof Qe?(rn=typeof ce.angle=="number"?wn(rn,new Qe(1,0,0,1,dr,xr)):wn(new Qe(1,0,0,1,dr,xr),rn),N===_&&(rn=wn(new Qe(1,0,0,-1,0,0),rn)),jn=rn.join(" ")+` Tm
`):jn=I(dr)+" "+I(xr)+` Td
`,jn},wa=0;wa<De.length;wa++){switch(rl="",Sc){case 1:tl=(hn?"<":"(")+De[wa][0]+(hn?">":")"),Qo=parseFloat(De[wa][1]),el=parseFloat(De[wa][2]);break;case 0:tl=(hn?"<":"(")+De[wa]+(hn?">":")"),Qo=Zs(z),el=Qs(ne)}Xo!==void 0&&Xo[wa]!==void 0&&(rl=Xo[wa]+` Tw
`),wa===0?A.push(rl+jc(Qo,el,fn)+tl):Sc===0?A.push(rl+tl):Sc===1&&A.push(rl+jc(Qo,el,fn)+tl)}A=Sc===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Ns=`BT
/`;return Ns+=_e+" "+Re+` Tf
`,Ns+=I(Re*ba)+` TL
`,Ns+=uc+`
`,Ns+=Wn,Ns+=A,ee(Ns+="ET"),p[_e]=!0,jr};var wb=h.__private__.clip=h.clip=function(A){return ee(A==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return wb("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ee("n"),this};var _s=h.__private__.isValidStyle=function(A){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(z=!0),z};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(A){return _s(A)&&(c=A),this};var mg=h.__private__.getStyle=h.getStyle=function(A){var z=c;switch(A){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=A}return z},gg=h.close=function(){return ee("h"),this};h.stroke=function(){return ee("S"),this},h.fill=function(A){return Go("f",A),this},h.fillEvenOdd=function(A){return Go("f*",A),this},h.fillStroke=function(A){return Go("B",A),this},h.fillStrokeEvenOdd=function(A){return Go("B*",A),this};var Go=function(A,z){mr(z)==="object"?Sb(z,A):ee(A)},sh=function(A){A===null||N===_&&A===void 0||(A=mg(A),ee(A))};function _b(A,z,ne,ce,ve){var Te=new Nd(z||this.boundingBox,ne||this.xStep,ce||this.yStep,this.gState,ve||this.matrix);Te.stream=this.stream;var De=A+"$$"+this.cloneIndex+++"$$";return ei(De,Te),Te}var Sb=function(A,z){var ne=it[A.key],ce=Xe[ne];if(ce instanceof qc)ee("q"),ee(jb(z)),ce.gState&&h.setGState(ce.gState),ee(A.matrix.toString()+" cm"),ee("/"+ne+" sh"),ee("Q");else if(ce instanceof Nd){var ve=new Qe(1,0,0,-1,0,pc());A.matrix&&(ve=ve.multiply(A.matrix||Hn),ne=_b.call(ce,A.key,A.boundingBox,A.xStep,A.yStep,ve).id),ee("q"),ee("/Pattern cs"),ee("/"+ne+" scn"),ce.gState&&h.setGState(ce.gState),ee(z),ee("Q")}},jb=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},oh=h.moveTo=function(A,z){return ee(I(D(A))+" "+I(M(z))+" m"),this},lc=h.lineTo=function(A,z){return ee(I(D(A))+" "+I(M(z))+" l"),this},Ko=h.curveTo=function(A,z,ne,ce,ve,Te){return ee([I(D(A)),I(M(z)),I(D(ne)),I(M(ce)),I(D(ve)),I(M(Te)),"c"].join(" ")),this};h.__private__.line=h.line=function(A,z,ne,ce,ve){if(isNaN(A)||isNaN(z)||isNaN(ne)||isNaN(ce)||!_s(ve))throw new Error("Invalid arguments passed to jsPDF.line");return N===w?this.lines([[ne-A,ce-z]],A,z,[1,1],ve||"S"):this.lines([[ne-A,ce-z]],A,z,[1,1]).stroke()},h.__private__.lines=h.lines=function(A,z,ne,ce,ve,Te){var De,ht,bt,Ct,$t,ar,zr,fn,jr,Sn,hn,Wn;if(typeof A=="number"&&(Wn=ne,ne=z,z=A,A=Wn),ce=ce||[1,1],Te=Te||!1,isNaN(z)||isNaN(ne)||!Array.isArray(A)||!Array.isArray(ce)||!_s(ve)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(oh(z,ne),De=ce[0],ht=ce[1],Ct=A.length,Sn=z,hn=ne,bt=0;bt<Ct;bt++)($t=A[bt]).length===2?(Sn=$t[0]*De+Sn,hn=$t[1]*ht+hn,lc(Sn,hn)):(ar=$t[0]*De+Sn,zr=$t[1]*ht+hn,fn=$t[2]*De+Sn,jr=$t[3]*ht+hn,Sn=$t[4]*De+Sn,hn=$t[5]*ht+hn,Ko(ar,zr,fn,jr,Sn,hn));return Te&&gg(),sh(ve),this},h.path=function(A){for(var z=0;z<A.length;z++){var ne=A[z],ce=ne.c;switch(ne.op){case"m":oh(ce[0],ce[1]);break;case"l":lc(ce[0],ce[1]);break;case"c":Ko.apply(this,ce);break;case"h":gg()}}return this},h.__private__.rect=h.rect=function(A,z,ne,ce,ve){if(isNaN(A)||isNaN(z)||isNaN(ne)||isNaN(ce)||!_s(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return N===w&&(ce=-ce),ee([I(D(A)),I(M(z)),I(D(ne)),I(D(ce)),"re"].join(" ")),sh(ve),this},h.__private__.triangle=h.triangle=function(A,z,ne,ce,ve,Te,De){if(isNaN(A)||isNaN(z)||isNaN(ne)||isNaN(ce)||isNaN(ve)||isNaN(Te)||!_s(De))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-A,ce-z],[ve-ne,Te-ce],[A-ve,z-Te]],A,z,[1,1],De,!0),this},h.__private__.roundedRect=h.roundedRect=function(A,z,ne,ce,ve,Te,De){if(isNaN(A)||isNaN(z)||isNaN(ne)||isNaN(ce)||isNaN(ve)||isNaN(Te)||!_s(De))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ne),Te=Math.min(Te,.5*ce),this.lines([[ne-2*ve,0],[ve*ht,0,ve,Te-Te*ht,ve,Te],[0,ce-2*Te],[0,Te*ht,-ve*ht,Te,-ve,Te],[2*ve-ne,0],[-ve*ht,0,-ve,-Te*ht,-ve,-Te],[0,2*Te-ce],[0,-Te*ht,ve*ht,-Te,ve,-Te]],A+ve,z,[1,1],De,!0),this},h.__private__.ellipse=h.ellipse=function(A,z,ne,ce,ve){if(isNaN(A)||isNaN(z)||isNaN(ne)||isNaN(ce)||!_s(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*ne,De=4/3*(Math.SQRT2-1)*ce;return oh(A+ne,z),Ko(A+ne,z-De,A+Te,z-ce,A,z-ce),Ko(A-Te,z-ce,A-ne,z-De,A-ne,z),Ko(A-ne,z+De,A-Te,z+ce,A,z+ce),Ko(A+Te,z+ce,A+ne,z+De,A+ne,z),sh(ve),this},h.__private__.circle=h.circle=function(A,z,ne,ce){if(isNaN(A)||isNaN(z)||isNaN(ne)||!_s(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,z,ne,ne,ce)},h.setFont=function(A,z,ne){return ne&&(z=O(z,ne)),_e=fg(A,z,{disableWarning:!1}),this};var Nb=h.__private__.getFont=h.getFont=function(){return ke[fg.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var A,z,ne={};for(A in Ge)if(Ge.hasOwnProperty(A))for(z in ne[A]=[],Ge[A])Ge[A].hasOwnProperty(z)&&ne[A].push(z);return ne},h.addFont=function(A,z,ne,ce,ve){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(ne=O(ne,ce)),lg.call(this,A,z,ne,ve=ve||"Identity-H")};var cc,lh=e.lineWidth||.200025,It=h.__private__.getLineWidth=h.getLineWidth=function(){return lh},Ab=h.__private__.setLineWidth=h.setLineWidth=function(A){return lh=A,ee(I(D(A))+" w"),this};h.__private__.setLineDash=wt.API.setLineDash=wt.API.setLineDashPattern=function(A,z){if(A=A||[],z=z||0,isNaN(z)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ne){return I(D(ne))}).join(" "),z=I(D(z)),ee("["+A+"] "+z+" d"),this};var kb=h.__private__.getLineHeight=h.getLineHeight=function(){return Re*cc};h.__private__.getLineHeight=h.getLineHeight=function(){return Re*cc};var Eb=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(cc=A),this},Ob=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return cc};Eb(e.lineHeight);var Zs=h.__private__.getHorizontalCoordinate=function(A){return D(A)},Qs=h.__private__.getVerticalCoordinate=function(A){return N===_?A:tt[C].mediaBox.topRightY-tt[C].mediaBox.bottomLeftY-D(A)},Pb=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(A){return I(Zs(A))},Cb=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(A){return I(Qs(A))},Lu=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return xs(Lu)},h.__private__.setStrokeColor=h.setDrawColor=function(A,z,ne,ce){return Lu=Wa({ch1:A,ch2:z,ch3:ne,ch4:ce,pdfColorType:"draw",precision:2}),ee(Lu),this};var ch=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return xs(ch)},h.__private__.setFillColor=h.setFillColor=function(A,z,ne,ce){return ch=Wa({ch1:A,ch2:z,ch3:ne,ch4:ce,pdfColorType:"fill",precision:2}),ee(ch),this};var uc=e.textColor||"0 g",Ru=h.__private__.getTextColor=h.getTextColor=function(){return xs(uc)};h.__private__.setTextColor=h.setTextColor=function(A,z,ne,ce){return uc=Wa({ch1:A,ch2:z,ch3:ne,ch4:ce,pdfColorType:"text",precision:3}),this};var $u=e.charSpace,Tb=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat($u||0)};h.__private__.setCharSpace=h.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $u=A,this};var uh=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(A){var z=h.CapJoinStyles[A];if(z===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return uh=z,ee(z+" J"),this};var dh=0;h.__private__.setLineJoin=h.setLineJoin=function(A){var z=h.CapJoinStyles[A];if(z===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dh=z,ee(z+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(I(D(A))+" M"),this},h.GState=Yv,h.setGState=function(A){(A=typeof A=="string"?St[Ft[A]]:dc(null,A)).equals(Jt)||(ee("/"+A.id+" gs"),Jt=A)};var dc=function(A,z){if(!A||!Ft[A]){var ne=!1;for(var ce in St)if(St.hasOwnProperty(ce)&&St[ce].equals(z)){ne=!0;break}if(ne)z=St[ce];else{var ve="GS"+(Object.keys(St).length+1).toString(10);St[ve]=z,z.id=ve}return A&&(Ft[A]=z.id),Rt.publish("addGState",z),z}};h.addGState=function(A,z){return dc(A,z),this},h.saveGraphicsState=function(){return ee("q"),Ve.push({key:_e,size:Re,color:uc}),this},h.restoreGraphicsState=function(){ee("Q");var A=Ve.pop();return _e=A.key,Re=A.size,uc=A.color,Jt=null,this},h.setCurrentTransformationMatrix=function(A){return ee(A.toString()+" cm"),this},h.comment=function(A){return ee("#"+A),this};var fc=function(A,z){var ne=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Te){isNaN(Te)||(ne=parseFloat(Te))}});var ce=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Te){isNaN(Te)||(ce=parseFloat(Te))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Te){ve=Te.toString()}}),this},fh=function(A,z,ne,ce){fc.call(this,A,z),this.type="rect";var ve=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(De){isNaN(De)||(ve=parseFloat(De))}});var Te=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function(De){isNaN(De)||(Te=parseFloat(De))}}),this},Mu=function(){this.page=gt,this.currentPage=C,this.pages=je.slice(0),this.pagesContext=tt.slice(0),this.x=Ee,this.y=Fe,this.matrix=qe,this.width=yg(C),this.height=eo(C),this.outputDestination=Be,this.id="",this.objectNumber=-1};Mu.prototype.restore=function(){gt=this.page,C=this.currentPage,tt=this.pagesContext,je=this.pages,Ee=this.x,Fe=this.y,qe=this.matrix,vg(C,this.width),to(C,this.height),Be=this.outputDestination};var hh=function(A,z,ne,ce,ve){br.push(new Mu),gt=C=0,je=[],Ee=A,Fe=z,qe=ve,nh([ne,ce])};for(var hc in h.beginFormObject=function(A,z,ne,ce,ve){return hh(A,z,ne,ce,ve),this},h.endFormObject=function(A){return function(z){if(Zt[z])br.pop().restore();else{var ne=new Mu,ce="Xo"+(Object.keys(ir).length+1).toString(10);ne.id=ce,Zt[z]=ce,ir[ce]=ne,Rt.publish("addFormObject",ne),br.pop().restore()}}(A),this},h.doFormObject=function(A,z){var ne=ir[Zt[A]];return ee("q"),ee(z.toString()+" cm"),ee("/"+ne.id+" Do"),ee("Q"),this},h.getFormObject=function(A){var z=ir[Zt[A]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},h.save=function(A,z){return A=A||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(Mc(sc(Js()),A),typeof Mc.unload=="function"&&Et.setTimeout&&setTimeout(Mc.unload,911),this):new Promise(function(ne,ce){try{var ve=Mc(sc(Js()),A);typeof Mc.unload=="function"&&Et.setTimeout&&setTimeout(Mc.unload,911),ne(ve)}catch(Te){ce(Te.message)}})},wt.API)wt.API.hasOwnProperty(hc)&&(hc==="events"&&wt.API.events.length?function(A,z){var ne,ce,ve;for(ve=z.length-1;ve!==-1;ve--)ne=z[ve][0],ce=z[ve][1],A.subscribe.apply(A,[ne].concat(typeof ce=="function"?[ce]:ce))}(Rt,wt.API.events):h[hc]=wt.API[hc]);function yg(A){return tt[A].mediaBox.topRightX-tt[A].mediaBox.bottomLeftX}function vg(A,z){tt[A].mediaBox.topRightX=z+tt[A].mediaBox.bottomLeftX}function eo(A){return tt[A].mediaBox.topRightY-tt[A].mediaBox.bottomLeftY}function to(A,z){tt[A].mediaBox.topRightY=z+tt[A].mediaBox.bottomLeftY}var bg=h.getPageWidth=function(A){return yg(A=A||C)/Ae},xg=h.setPageWidth=function(A,z){vg(A,z*Ae)},pc=h.getPageHeight=function(A){return eo(A=A||C)/Ae},wg=h.setPageHeight=function(A,z){to(A,z*Ae)};return h.internal={pdfEscape:va,getStyle:mg,getFont:Nb,getFontSize:oe,getCharSpace:Tb,getTextColor:Ru,getLineHeight:kb,getLineHeightFactor:Ob,getLineWidth:It,write:ut,getHorizontalCoordinate:Zs,getVerticalCoordinate:Qs,getCoordinateString:Pb,getVerticalCoordinateString:Cb,collections:{},newObject:cr,newAdditionalObject:nc,newObjectDeferred:ur,newObjectDeferredBegin:Gr,getFilters:Va,putStream:ya,events:Rt,scaleFactor:Ae,pageSize:{getWidth:function(){return bg(C)},setWidth:function(A){xg(C,A)},getHeight:function(){return pc(C)},setHeight:function(A){wg(C,A)}},encryptionOptions:u,encryption:en,getEncryptor:function(A){return u!==null?en.encryptor(A,0):function(z){return z}},output:Ga,getNumberOfPages:dg,pages:je,out:ee,f2:k,f3:P,getPageInfo:ah,getPageInfoByObjId:bb,getCurrentPageInfo:xb,getPDFVersion:g,Point:fc,Rectangle:fh,Matrix:Qe,hasHotfix:oc},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return bg(C)},set:function(A){xg(C,A)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return pc(C)},set:function(A){wg(C,A)},enumerable:!0,configurable:!0}),(function(A){for(var z=0,ne=at.length;z<ne;z++){var ce=lg.call(this,A[z][0],A[z][1],A[z][2],at[z][3],!0);f===!1&&(p[ce]=!0);var ve=A[z][0].split("-");og({id:ce,fontName:ve[0],fontStyle:ve[1]||""})}Rt.publish("addFonts",{fonts:ke,dictionary:Ge})}).call(h,at),_e="F1",cg(i,r),Rt.publish("initialized"),h}sd.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},sd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},sd.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},sd.prototype.processOwnerPassword=function(e,t){return Y_(K_(t).substr(0,5),e)},sd.prototype.encryptor=function(e,t){var r=K_(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Y_(r,n)}},Yv.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||mr(e)!==mr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},wt.API={events:[]},wt.version="3.0.3";var Jr=wt.API,$N=1,Ou=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},td=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Mt=function(e){return e.toFixed(2)},hl=function(e){return e.toFixed(5)};Jr.__acroform__={};var qi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},wC=function(e){return e*$N},Os=function(e){var t=new CD,r=dt.internal.getHeight(e)||0,n=dt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Mt(n)),Number(Mt(r))],t},vSe=Jr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},bSe=Jr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},xSe=Jr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},on=Jr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return xSe(e,t-1)},ln=Jr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return vSe(e,t-1)},cn=Jr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bSe(e,t-1)},wSe=Jr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(Mt(l.lowerLeft_X)),Number(Mt(l.lowerLeft_Y)),Number(Mt(l.upperRight_X)),Number(Mt(l.upperRight_Y))]},_Se=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=X_(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Mt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Os(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},X_=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var a=r,s=dt.internal.getHeight(e)||0;s=s<0?-s:s;var o=dt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(k,P,D){if(k+1<i.length){var M=P+" "+i[k+1][0];return M0(M,e,D).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var c,u,f=M0("3",e,a).height,p=e.multiline?s-a:(s-f)/2,h=p+=2,y=0,g=0,b=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+M0(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var v="",w=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var N=!1;if(i[_].length!==1&&b!==i[_].length-1){if((f+2)*(w+2)+2>s)continue e;v+=i[_][b],N=!0,g=_,_--}else{v=(v+=i[_][b]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var S=parseInt(_),j=l(S,v,a),O=_>=i.length-1;if(j&&!O){v+=" ",b=0;continue}if(j||O){if(O)g=S;else if(e.multiline&&(f+2)*(w+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(w+2)+2>s)continue e;g=S}}for(var I="",L=y;L<=g;L++){var F=i[L];if(e.multiline){if(L===g){I+=F[b]+" ",b=(b+1)%F.length;continue}if(L===y){I+=F[F.length-1]+" ";continue}}I+=F[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,u=M0(I,e,a).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}t+=Mt(c)+" "+Mt(h)+` Td
`,t+="("+Ou(I)+`) Tj
`,t+=-Mt(c)+` 0 Td
`,h=-(a+2),u=0,y=N?g:g+1,w++,v=""}break}return n.text=t,n.fontSize=a,n},M0=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},SSe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},jSe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},NSe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(vs.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(SSe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");$N=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new TD,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&jSe(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=wSe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=dt.createDefaultAppearanceStream(o),mr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=_Se(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var y=h[s];typeof y=="function"&&(y=y.call(i,o)),f+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=h)=="function"&&(y=y.call(i,o)),f+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(g,b){for(var v in g)if(g.hasOwnProperty(v)){var w=v,_=g[v];b.internal.newObjectDeferredBegin(_.objId,!0),mr(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete g[w]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},PD=Jr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),mr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Ou(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},M2=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Ou(n(e))+")"},$s=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$s.prototype.toString=function(){return this.objId+" 0 R"},$s.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},$s.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:PD(i,this.objId,this.scope)}):i instanceof $s?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var CD=function(){$s.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};qi(CD,$s);var TD=function(){$s.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ou(r(e))+")"}},set:function(r){e=r}})};qi(TD,$s);var vs=function e(){$s.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!on(t,3)},set:function(v){v?this.F=ln(t,3):this.F=cn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Xv)return;a="FieldObject"+e.FieldNum++}var v=function(w){return w};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Ou(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/$N:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Xv||this instanceof ru))return M2(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Fn==0?M2(p,this.objId,this.scope):p},set:function(v){v=v.toString(),p=this instanceof Fn==0?v.substr(0,1)==="("?td(v.substr(1,v.length-2)):td(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fn==1?td(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof Fn==1?"/"+v:v}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Fn==0?M2(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof Fn==0?v.substr(0,1)==="("?td(v.substr(1,v.length-2)):td(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fn==1?td(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof Fn==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(v){y=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,1)},set:function(v){v?this.Ff=ln(this.Ff,1):this.Ff=cn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,2)},set:function(v){v?this.Ff=ln(this.Ff,2):this.Ff=cn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,3)},set:function(v){v?this.Ff=ln(this.Ff,3):this.Ff=cn(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');b=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(b){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};qi(vs,$s);var Bd=function(){vs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return PD(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,18)},set:function(r){r?this.Ff=ln(this.Ff,18):this.Ff=cn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ln(this.Ff,19):this.Ff=cn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,20)},set:function(r){r?(this.Ff=ln(this.Ff,20),t.sort()):this.Ff=cn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,22)},set:function(r){r?this.Ff=ln(this.Ff,22):this.Ff=cn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,23)},set:function(r){r?this.Ff=ln(this.Ff,23):this.Ff=cn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,27)},set:function(r){r?this.Ff=ln(this.Ff,27):this.Ff=cn(this.Ff,27)}}),this.hasAppearanceStream=!1};qi(Bd,vs);var Fd=function(){Bd.call(this),this.fontName="helvetica",this.combo=!1};qi(Fd,Bd);var Ud=function(){Fd.call(this),this.combo=!0};qi(Ud,Fd);var ny=function(){Ud.call(this),this.edit=!0};qi(ny,Ud);var Fn=function(){vs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,15)},set:function(r){r?this.Ff=ln(this.Ff,15):this.Ff=cn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,16)},set:function(r){r?this.Ff=ln(this.Ff,16):this.Ff=cn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,17)},set:function(r){r?this.Ff=ln(this.Ff,17):this.Ff=cn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,26)},set:function(r){r?this.Ff=ln(this.Ff,26):this.Ff=cn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Ou(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){mr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};qi(Fn,vs);var iy=function(){Fn.call(this),this.pushButton=!0};qi(iy,Fn);var zd=function(){Fn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};qi(zd,Fn);var Xv=function(){var e,t;vs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+Ou(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){mr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qi(Xv,vs),zd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},zd.prototype.createOption=function(e){var t=new Xv;return t.Parent=this,t.optionName=e,this.Kids.push(t),ASe.call(this.scope,t),t};var ay=function(){Fn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dt.CheckBox.createAppearanceStream()};qi(ay,Fn);var ru=function(){vs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,13)},set:function(t){t?this.Ff=ln(this.Ff,13):this.Ff=cn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,21)},set:function(t){t?this.Ff=ln(this.Ff,21):this.Ff=cn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,23)},set:function(t){t?this.Ff=ln(this.Ff,23):this.Ff=cn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,24)},set:function(t){t?this.Ff=ln(this.Ff,24):this.Ff=cn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,25)},set:function(t){t?this.Ff=ln(this.Ff,25):this.Ff=cn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,26)},set:function(t){t?this.Ff=ln(this.Ff,26):this.Ff=cn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qi(ru,vs);var sy=function(){ru.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,14)},set:function(e){e?this.Ff=ln(this.Ff,14):this.Ff=cn(this.Ff,14)}}),this.password=!0};qi(sy,ru);var dt={CheckBox:{createAppearanceStream:function(){return{N:{On:dt.CheckBox.YesNormal},D:{On:dt.CheckBox.YesPushDown,Off:dt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Os(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=X_(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Mt(dt.internal.getWidth(e))+" "+Mt(dt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Mt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Os(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=dt.internal.getHeight(e),s=dt.internal.getWidth(e),o=X_(e,e.caption);return i.push("1 g"),i.push("0 0 "+Mt(s)+" "+Mt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Mt(s-1)+" "+Mt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Mt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Os(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Mt(dt.internal.getWidth(e))+" "+Mt(dt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:dt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=dt.RadioButton.Circle.YesNormal,t.D[e]=dt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Os(e);t.scope=e.scope;var r=[],n=dt.internal.getWidth(e)<=dt.internal.getHeight(e)?dt.internal.getWidth(e)/4:dt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=dt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+hl(dt.internal.getWidth(e)/2)+" "+hl(dt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Os(e);t.scope=e.scope;var r=[],n=dt.internal.getWidth(e)<=dt.internal.getHeight(e)?dt.internal.getWidth(e)/4:dt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*dt.internal.Bezier_C).toFixed(5)),s=Number((n*dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+hl(dt.internal.getWidth(e)/2)+" "+hl(dt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+hl(dt.internal.getWidth(e)/2)+" "+hl(dt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Os(e);t.scope=e.scope;var r=[],n=dt.internal.getWidth(e)<=dt.internal.getHeight(e)?dt.internal.getWidth(e)/4:dt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+hl(dt.internal.getWidth(e)/2)+" "+hl(dt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:dt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=dt.RadioButton.Cross.YesNormal,t.D[e]=dt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Os(e);t.scope=e.scope;var r=[],n=dt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Mt(dt.internal.getWidth(e)-2)+" "+Mt(dt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Mt(n.x1.x)+" "+Mt(n.x1.y)+" m"),r.push(Mt(n.x2.x)+" "+Mt(n.x2.y)+" l"),r.push(Mt(n.x4.x)+" "+Mt(n.x4.y)+" m"),r.push(Mt(n.x3.x)+" "+Mt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Os(e);t.scope=e.scope;var r=dt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Mt(dt.internal.getWidth(e))+" "+Mt(dt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Mt(dt.internal.getWidth(e)-2)+" "+Mt(dt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Mt(r.x1.x)+" "+Mt(r.x1.y)+" m"),n.push(Mt(r.x2.x)+" "+Mt(r.x2.y)+" l"),n.push(Mt(r.x4.x)+" "+Mt(r.x4.y)+" m"),n.push(Mt(r.x3.x)+" "+Mt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Os(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Mt(dt.internal.getWidth(e))+" "+Mt(dt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};dt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=dt.internal.getWidth(e),r=dt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},dt.internal.getWidth=function(e){var t=0;return mr(e)==="object"&&(t=wC(e.Rect[2])),t},dt.internal.getHeight=function(e){var t=0;return mr(e)==="object"&&(t=wC(e.Rect[3])),t};var ASe=Jr.addField=function(e){if(NSe(this,e),!(e instanceof vs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Jr.AcroFormChoiceField=Bd,Jr.AcroFormListBox=Fd,Jr.AcroFormComboBox=Ud,Jr.AcroFormEditBox=ny,Jr.AcroFormButton=Fn,Jr.AcroFormPushButton=iy,Jr.AcroFormRadioButton=zd,Jr.AcroFormCheckBox=ay,Jr.AcroFormTextField=ru,Jr.AcroFormPasswordField=sy,Jr.AcroFormAppearance=dt,Jr.AcroForm={ChoiceField:Bd,ListBox:Fd,ComboBox:Ud,EditBox:ny,Button:Fn,PushButton:iy,RadioButton:zd,CheckBox:ay,TextField:ru,PasswordField:sy,Appearance:dt},wt.AcroForm={ChoiceField:Bd,ListBox:Fd,ComboBox:Ud,EditBox:ny,Button:Fn,PushButton:iy,RadioButton:zd,CheckBox:ay,TextField:ru,PasswordField:sy,Appearance:dt};wt.AcroForm;function ID(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(k,P){var D,M,U,V,W,B=r;if((P=P||r)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(j(k))for(W in n)for(U=n[W],D=0;D<U.length;D+=1){for(V=!0,M=0;M<U[D].length;M+=1)if(U[D][M]!==void 0&&U[D][M]!==k[M]){V=!1;break}if(V===!0){B=W;break}}else for(W in n)for(U=n[W],D=0;D<U.length;D+=1){for(V=!0,M=0;M<U[D].length;M+=1)if(U[D][M]!==void 0&&U[D][M]!==k.charCodeAt(M)){V=!1;break}if(V===!0){B=W;break}}return B===r&&P!==r&&(B=P),B},a=function k(P){for(var D=this.internal.write,M=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:P.width}),V.push({key:"Height",value:P.height}),P.colorSpace===v.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===v.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var W="",B=0,J=P.transparency.length;B<J;B++)W+=P.transparency[B]+" "+P.transparency[B]+" ";V.push({key:"Mask",value:"["+W+"]"})}P.sMask!==void 0&&V.push({key:"SMask",value:P.objectId+1+" 0 R"});var $=P.filter!==void 0?["/"+P.filter]:void 0;if(M({data:P.data,additionalKeyValues:V,alreadyAppliedFilters:$,objectId:P.objectId}),D("endobj"),"sMask"in P&&P.sMask!==void 0){var ae,T=(ae=P.sMaskBitsPerComponent)!==null&&ae!==void 0?ae:P.bitsPerComponent,C={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:P.sMask};"filter"in P&&(C.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(P.width),C.filter=P.filter),k.call(this,C)}if(P.colorSpace===v.INDEXED){var K=this.internal.newObject();M({data:I(new Uint8Array(P.palette)),objectId:K}),D("endobj")}},s=function(){var k=this.internal.collections[t+"images"];for(var P in k)a.call(this,k[P])},o=function(){var k,P=this.internal.collections[t+"images"],D=this.internal.write;for(var M in P)D("/I"+(k=P[M]).index,k.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections[t+"images"];return l.call(this),k},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(k){return typeof e["process"+k.toUpperCase()]=="function"},p=function(k){return mr(k)==="object"&&k.nodeType===1},h=function(k,P){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var D=""+k.getAttribute("src");if(D.indexOf("data:image/")===0)return ry(unescape(D).split("base64,").pop());var M=e.loadFile(D,!0);if(M!==void 0)return M}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var U;switch(P){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;default:U="image/jpeg"}return ry(k.toDataURL(U,1).split("base64,").pop())}},y=function(k){var P=this.internal.collections[t+"images"];if(P){for(var D in P)if(k===P[D].alias)return P[D]}},g=function(k,P,D){return k||P||(k=-96,P=-96),k<0&&(k=-1*D.width*72/k/this.internal.scaleFactor),P<0&&(P=-1*D.height*72/P/this.internal.scaleFactor),k===0&&(k=P*D.width/D.height),P===0&&(P=k*D.height/D.width),[k,P]},b=function(k,P,D,M,U,V){var W=g.call(this,D,M,U),B=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,$=c.call(this);if(D=W[0],M=W[1],$[U.index]=U,V){V*=Math.PI/180;var ae=Math.cos(V),T=Math.sin(V),C=function(Q){return Q.toFixed(4)},K=[C(ae),C(T),C(-1*T),C(ae),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,B(k),J(P+M),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([B(D),"0","0",B(M),"0","0","cm"].join(" "))):this.internal.write([B(D),"0","0",B(M),B(k),J(P+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(k){var P,D,M=0;if(typeof k=="string")for(D=k.length,P=0;P<D;P++)M=(M<<5)-M+k.charCodeAt(P),M|=0;else if(j(k))for(D=k.byteLength/2,P=0;P<D;P++)M=(M<<5)-M+k[P],M|=0;return M},N=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var P=!0;return k.length===0&&(P=!1),k.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(P=!1),P},S=e.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var P=k.indexOf(",");return P<0?null:k.substring(0,P).trim().endsWith("base64")?k.substring(P+1):null};e.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},O=e.__addimage__.binaryStringToUint8Array=function(k){for(var P=k.length,D=new Uint8Array(P),M=0;M<P;M++)D[M]=k.charCodeAt(M);return D},I=e.__addimage__.arrayBufferToBinaryString=function(k){for(var P="",D=j(k)?k:new Uint8Array(k),M=0;M<D.length;M+=8192)P+=String.fromCharCode.apply(null,D.subarray(M,M+8192));return P};e.addImage=function(){var k,P,D,M,U,V,W,B,J;if(typeof arguments[1]=="number"?(P=r,D=arguments[1],M=arguments[2],U=arguments[3],V=arguments[4],W=arguments[5],B=arguments[6],J=arguments[7]):(P=arguments[1],D=arguments[2],M=arguments[3],U=arguments[4],V=arguments[5],W=arguments[6],B=arguments[7],J=arguments[8]),mr(k=arguments[0])==="object"&&!p(k)&&"imageData"in k){var $=k;k=$.imageData,P=$.format||P||r,D=$.x||D||0,M=$.y||M||0,U=$.w||$.width||U,V=$.h||$.height||V,W=$.alias||W,B=$.compression||B,J=$.rotation||$.angle||J}var ae=this.internal.getFilters();if(B===void 0&&ae.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(D)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var T=L.call(this,k,P,W,B);return b.call(this,D,M,U,V,T,J),this};var L=function(k,P,D,M){var U,V,W;if(typeof k=="string"&&i(k)===r){k=unescape(k);var B=F(k,!1);(B!==""||(B=e.loadFile(k,!0))!==void 0)&&(k=B)}if(p(k)&&(k=h(k,P)),P=i(k,P),!f(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((W=D)==null||W.length===0)&&(D=function(J){return typeof J=="string"||j(J)?_(J):j(J.data)?_(J.data):null}(k)),(U=y.call(this,D))||(k instanceof Uint8Array||P==="RGBA"||(V=k,k=O(k)),U=this["process"+P.toUpperCase()](k,u.call(this),D,function(J){return J&&typeof J=="string"&&(J=J.toUpperCase()),J in e.image_compression?J:w.NONE}(M),V)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},F=e.__addimage__.convertBase64ToBinaryString=function(k,P){P=typeof P!="boolean"||P;var D,M="";if(typeof k=="string"){var U;D=(U=S(k))!==null&&U!==void 0?U:k;try{M=ry(D)}catch(V){if(P)throw N(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};e.getImageProperties=function(k){var P,D,M="";if(p(k)&&(k=h(k)),typeof k=="string"&&i(k)===r&&((M=F(k,!1))===""&&(M=e.loadFile(k)||""),k=M),D=i(k),!f(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(k instanceof Uint8Array||(k=O(k)),!(P=this["process"+D.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=D,P}})(wt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};wt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var h=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),w=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(v(n.contents))+")",a+=" /Popup "+b.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(v(w))+") >>",g.content=a;var _=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(a+=" /Open true"),a+=" >>",b.content=a,this.internal.write(g.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(y(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var j=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+a)},options:s,type:"link"})},e.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,i,a),i+=.2*c,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-c,o,s,a),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(wt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var b=0,v=r,w="",_=0;for(b=0;b<g.length;b+=1)v[g.charCodeAt(b)]!==void 0?(_++,typeof(v=v[g.charCodeAt(b)])=="number"&&(w+=String.fromCharCode(v),v=r,_=0),b===g.length-1&&(v=r,w+=g.charAt(b-(_-1)),b-=_-1,_=0)):(v=r,w+=g.charAt(b-_),b-=_,_=0);return w};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,b,v){return s(g)?a(g)===!1?-1:!c(g)||!s(b)&&!s(v)||!s(v)&&o(b)||o(g)&&!s(b)||o(g)&&l(b)||o(g)&&o(b)?0:u(g)&&s(b)&&!o(b)&&s(v)&&c(v)?3:o(g)||!s(v)?1:2:-1},h=function(g){var b=0,v=0,w=0,_="",N="",S="",j=(g=g||"").split("\\s+"),O=[];for(b=0;b<j.length;b+=1){for(O.push(""),v=0;v<j[b].length;v+=1)_=j[b][v],N=j[b][v-1],S=j[b][v+1],s(_)?(w=p(_,N,S),O[b]+=w!==-1?String.fromCharCode(t[_.charCodeAt(0)][w]):_):O[b]+=_;O[b]=f(O[b])}return O.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var g,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(b)){var w=0;for(v=[],w=0;w<b.length;w+=1)Array.isArray(b[w])?v.push([h(b[w][0]),b[w][1],b[w][2]]):v.push([h(b[w])]);g=v}else g=h(b);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",y])}(wt.API),wt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(wt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,h=0,y=0,g=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,N){return _.concat(b.splitTextToSize(N,v))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)h<(g=this.getStringUnitWidth(l[w],{font:f})*u)&&(h=g);return h!==0&&(y=l.length),{w:h/=p,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var h,y,g,b,v=[],w=[],_=[],N={},S={},j=[],O=[],I=(p=p||{}).autoSize||!1,L=p.printHeaders!==!1,F=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},t),P=typeof p.padding=="number"?p.padding:3,D=p.headerBackgroundColor||"#c8c8c8",M=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=M,this.setFontSize(F),f==null)w=v=Object.keys(u[0]),_=v.map(function(){return"left"});else if(Array.isArray(f)&&mr(f[0])==="object")for(v=f.map(function($){return $.name}),w=f.map(function($){return $.prompt||$.name||""}),_=f.map(function($){return $.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=v=f,_=v.map(function(){return"left"}));if(I||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<v.length;h+=1){for(N[b=v[h]]=u.map(function($){return $[b]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=N[b],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)j.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[b]=Math.max.apply(null,j)+P+P,j=[]}if(L){var U={};for(h=0;h<v.length;h+=1)U[v[h]]={},U[v[h]].text=w[h],U[v[h]].align=_[h];var V=o.call(this,U,S);O=v.map(function($){return new a(l,c,S[$],V,U[$].text,void 0,U[$].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var W=f.reduce(function($,ae){return $[ae.name]=ae.align,$},{});for(h=0;h<u.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:u[h]},this);var B=o.call(this,u[h],S);for(g=0;g<v.length;g+=1){var J=u[h][v[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:J},this),s.call(this,new a(l,c,S[v[g]],B,J,h+2,W[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var y=l[h];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+u+u},this).reduce(function(h,y){return Math.max(h,y)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(wt.API);var LD={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},RD=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],J_=ID(RD),$D=[100,200,300,400,500,600,700,800,900],kSe=ID($D);function D2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return LD[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof J_[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function _C(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var ESe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},SC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function jC(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function NC(e){return e.trimLeft()}function OSe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function PSe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var D0,AC,kC,rd,B0,EC,OC,PC,B2=["times"];function CC(e,t,r,n,i){var a=4,s=IC;switch(i){case wt.API.image_compression.FAST:a=1,s=TC;break;case wt.API.image_compression.MEDIUM:a=6,s=LC;break;case wt.API.image_compression.SLOW:a=9,s=RC}e=function(l,c,u,f){for(var p,h=l.length/c,y=new Uint8Array(l.length+h),g=[CSe,TC,IC,LC,RC],b=0;b<h;b+=1){var v=b*c,w=l.subarray(v,v+c);if(f)y.set(f(w,u,p),v+b);else{for(var _=g.length,N=[],S=0;S<_;S+=1)N[S]=g[S](w,u,p);var j=ISe(N.concat());y.set(N[j],v+b)}p=w}return y}(e,t,Math.ceil(r*n/8),s);var o=H_(e,{level:a});return wt.API.__addimage__.arrayBufferToBinaryString(o)}function CSe(e){var t=Array.apply([],e);return t.unshift(0),t}function TC(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function IC(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=e[a]-s+256&255}return i}function LC(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=e[a-t]||0,o=r&&r[a]||0;i[a+1]=e[a]+256-(s+o>>>1)&255}return i}function RC(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=TSe(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-s+256&255}return i}function TSe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function ISe(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function F2(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return MD(e,i)>>a&s}function $C(e,t,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(t&o)<<s;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var p=f>>8&255;c.setUint8(u,p)}})(e,a,MD(e,a)&~(o<<s)&65535|l)}function MD(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function LSe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<1+(7&i);e[t++],e[t++];var o=null,l=null;a&&(o=t,l=s,t+=3*s);var c=!0,u=[],f=0,p=null,h=0,y=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],1&g||(p=null),h=g>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,N=e[t++],S=N>>6&1,j=1<<1+(7&N),O=o,I=l,L=!1;N>>7&&(L=!0,O=t,I=j,t+=3*j);var F=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}u.push({x:b,y:v,width:w,height:_,has_local_palette:L,palette_offset:O,palette_size:I,data_offset:F,data_length:t-F,transparent_index:p,interlaced:!!S,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(P){if(P<0||P>=u.length)throw new Error("Frame index out of range.");return u[P]},this.decodeAndBlitFrameBGRA=function(P,D){var M=this.frameInfo(P),U=M.width*M.height,V=new Uint8Array(U);MC(e,M.data_offset,V,U);var W=M.palette_offset,B=M.transparent_index;B===null&&(B=256);var J=M.width,$=r-J,ae=J,T=4*(M.y*r+M.x),C=4*((M.y+M.height)*r+M.x),K=T,Q=4*$;M.interlaced===!0&&(Q+=4*r*7);for(var ie=8,ue=0,ge=V.length;ue<ge;++ue){var se=V[ue];if(ae===0&&(ae=J,(K+=Q)>=C&&(Q=4*$+4*r*(ie-1),K=T+(J+$)*(ie<<1),ie>>=1)),se===B)K+=4;else{var he=e[W+3*se],je=e[W+3*se+1],me=e[W+3*se+2];D[K++]=me,D[K++]=je,D[K++]=he,D[K++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(P,D){var M=this.frameInfo(P),U=M.width*M.height,V=new Uint8Array(U);MC(e,M.data_offset,V,U);var W=M.palette_offset,B=M.transparent_index;B===null&&(B=256);var J=M.width,$=r-J,ae=J,T=4*(M.y*r+M.x),C=4*((M.y+M.height)*r+M.x),K=T,Q=4*$;M.interlaced===!0&&(Q+=4*r*7);for(var ie=8,ue=0,ge=V.length;ue<ge;++ue){var se=V[ue];if(ae===0&&(ae=J,(K+=Q)>=C&&(Q=4*$+4*r*(ie-1),K=T+(J+$)*(ie<<1),ie>>=1)),se===B)K+=4;else{var he=e[W+3*se],je=e[W+3*se+1],me=e[W+3*se+2];D[K++]=he,D[K++]=je,D[K++]=me,D[K++]=255}--ae}}}function MC(e,t,r,n){for(var i=e[t++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,f=0,p=0,h=e[t++],y=new Int32Array(4096),g=null;;){for(;u<16&&h!==0;)f|=e[t++]<<u,u+=8,h===1?h=e[t++]:--h;if(u<l)break;var b=f&c;if(f>>=l,u-=l,b!==a){if(b===s)break;for(var v=b<o?b:g,w=0,_=v;_>a;)_=y[_]>>8,++w;var N=_;if(p+w+(v!==b?1:0)>n)return void _r.log("Warning, gif stream longer than expected.");r[p++]=N;var S=p+=w;for(v!==b&&(r[p++]=N),_=v;w--;)_=y[_],r[--S]=255&_,_>>=8;g!==null&&o<4096&&(y[o++]=g<<8|N,o>=c+1&&l<12&&(++l,c=c<<1|1)),g=b}else o=s+1,c=(1<<(l=i+1))-1,g=null}return p!==n&&_r.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function U2(e){var t,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),y=new Array(64),g=[],b=0,v=7,w=new Array(64),_=new Array(64),N=new Array(64),S=new Array(256),j=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(T,C){for(var K=0,Q=0,ie=new Array,ue=1;ue<=16;ue++){for(var ge=1;ge<=T[ue];ge++)ie[C[Q]]=[],ie[C[Q]][0]=K,ie[C[Q]][1]=ue,Q++,K++;K*=2}return ie}function W(T){for(var C=T[0],K=T[1]-1;K>=0;)C&1<<K&&(b|=1<<v),K--,--v<0&&(b==255?(B(255),B(0)):B(b),v=7,b=0)}function B(T){g.push(T)}function J(T){B(T>>8&255),B(255&T)}function $(T,C,K,Q,ie){for(var ue,ge=ie[0],se=ie[240],he=function(Re,rt){var oe,$e,ze,Ue,He,de,Ne,we,_e,Ae,Ee=0;for(_e=0;_e<8;++_e){oe=Re[Ee],$e=Re[Ee+1],ze=Re[Ee+2],Ue=Re[Ee+3],He=Re[Ee+4],de=Re[Ee+5],Ne=Re[Ee+6];var Fe=oe+(we=Re[Ee+7]),qe=oe-we,ke=$e+Ne,Ge=$e-Ne,Ve=ze+de,Xe=ze-de,it=Ue+He,St=Ue-He,Ft=Fe+it,Jt=Fe-it,gt=ke+Ve,tt=ke-Ve;Re[Ee]=Ft+gt,Re[Ee+4]=Ft-gt;var Rt=.707106781*(tt+Jt);Re[Ee+2]=Jt+Rt,Re[Ee+6]=Jt-Rt;var $n=.382683433*((Ft=St+Xe)-(tt=Ge+qe)),ir=.5411961*Ft+$n,Zt=1.306562965*tt+$n,br=.707106781*(gt=Xe+Ge),Qe=qe+br,wn=qe-br;Re[Ee+5]=wn+ir,Re[Ee+3]=wn-ir,Re[Ee+1]=Qe+Zt,Re[Ee+7]=Qe-Zt,Ee+=8}for(Ee=0,_e=0;_e<8;++_e){oe=Re[Ee],$e=Re[Ee+8],ze=Re[Ee+16],Ue=Re[Ee+24],He=Re[Ee+32],de=Re[Ee+40],Ne=Re[Ee+48];var Hn=oe+(we=Re[Ee+56]),ei=oe-we,_n=$e+Ne,cr=$e-Ne,ur=ze+de,Gr=ze-de,nc=Ue+He,Vo=Ue-He,Ha=Hn+nc,xs=Hn-nc,Wa=_n+ur,Va=_n-ur;Re[Ee]=Ha+Wa,Re[Ee+32]=Ha-Wa;var ya=.707106781*(Va+xs);Re[Ee+16]=xs+ya,Re[Ee+48]=xs-ya;var ic=.382683433*((Ha=Vo+Gr)-(Va=cr+ei)),ws=.5411961*Ha+ic,ac=1.306562965*Va+ic,Pu=.707106781*(Wa=Gr+cr),Cu=ei+Pu,Tu=ei-Pu;Re[Ee+40]=Tu+ws,Re[Ee+24]=Tu-ws,Re[Ee+8]=Cu+ac,Re[Ee+56]=Cu-ac,Ee++}for(_e=0;_e<64;++_e)Ae=Re[_e]*rt[_e],h[_e]=Ae>0?Ae+.5|0:Ae-.5|0;return h}(T,C),je=0;je<64;++je)y[O[je]]=he[je];var me=y[0]-K;K=y[0],me==0?W(Q[0]):(W(Q[p[ue=32767+me]]),W(f[ue]));for(var Be=63;Be>0&&y[Be]==0;)Be--;if(Be==0)return W(ge),K;for(var ye,ee=1;ee<=Be;){for(var ut=ee;y[ee]==0&&ee<=Be;)++ee;var lt=ee-ut;if(lt>=16){ye=lt>>4;for(var at=1;at<=ye;++at)W(se);lt&=15}ue=32767+y[ee],W(ie[(lt<<4)+p[ue]]),W(f[ue]),ee++}return Be!=63&&W(ge),K}function ae(T){T=Math.min(Math.max(T,1),100),a!=T&&(function(C){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ie=s((K[Q]*C+50)/100);ie=Math.min(Math.max(ie,1),255),o[O[Q]]=ie}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var se=s((ue[ge]*C+50)/100);se=Math.min(Math.max(se,1),255),l[O[ge]]=se}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,me=0;me<8;me++)for(var Be=0;Be<8;Be++)c[je]=1/(o[O[je]]*he[me]*he[Be]*8),u[je]=1/(l[O[je]]*he[me]*he[Be]*8),je++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),a=T)}this.encode=function(T,C){C&&ae(C),g=new Array,b=0,v=7,J(65496),J(65504),J(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),J(1),J(1),B(0),B(0),function(){J(65499),J(132),B(0);for(var $e=0;$e<64;$e++)B(o[$e]);B(1);for(var ze=0;ze<64;ze++)B(l[ze])}(),function($e,ze){J(65472),J(17),B(8),J(ze),J($e),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(T.width,T.height),function(){J(65476),J(418),B(0);for(var $e=0;$e<16;$e++)B(I[$e+1]);for(var ze=0;ze<=11;ze++)B(L[ze]);B(16);for(var Ue=0;Ue<16;Ue++)B(F[Ue+1]);for(var He=0;He<=161;He++)B(k[He]);B(1);for(var de=0;de<16;de++)B(P[de+1]);for(var Ne=0;Ne<=11;Ne++)B(D[Ne]);B(17);for(var we=0;we<16;we++)B(M[we+1]);for(var _e=0;_e<=161;_e++)B(U[_e])}(),J(65498),J(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var K=0,Q=0,ie=0;b=0,v=7,this.encode.displayName="_encode_";for(var ue,ge,se,he,je,me,Be,ye,ee,ut=T.data,lt=T.width,at=T.height,Re=4*lt,rt=0;rt<at;){for(ue=0;ue<Re;){for(je=Re*rt+ue,Be=-1,ye=0,ee=0;ee<64;ee++)me=je+(ye=ee>>3)*Re+(Be=4*(7&ee)),rt+ye>=at&&(me-=Re*(rt+1+ye-at)),ue+Be>=Re&&(me-=ue+Be-Re+4),ge=ut[me++],se=ut[me++],he=ut[me++],w[ee]=(j[ge]+j[se+256|0]+j[he+512|0]>>16)-128,_[ee]=(j[ge+768|0]+j[se+1024|0]+j[he+1280|0]>>16)-128,N[ee]=(j[ge+1280|0]+j[se+1536|0]+j[he+1792|0]>>16)-128;K=$(w,c,K,t,n),Q=$(_,u,Q,r,i),ie=$(N,u,ie,r,i),ue+=32}rt+=8}if(v>=0){var oe=[];oe[1]=v+1,oe[0]=(1<<v+1)-1,W(oe)}return J(65497),new Uint8Array(g)},e=e||50,function(){for(var T=String.fromCharCode,C=0;C<256;C++)S[C]=T(C)}(),t=V(I,L),r=V(P,D),n=V(F,k),i=V(M,U),function(){for(var T=1,C=2,K=1;K<=15;K++){for(var Q=T;Q<C;Q++)p[32767+Q]=K,f[32767+Q]=[],f[32767+Q][1]=K,f[32767+Q][0]=Q;for(var ie=-(C-1);ie<=-T;ie++)p[32767+ie]=K,f[32767+ie]=[],f[32767+ie][1]=K,f[32767+ie][0]=C-1+ie;T<<=1,C<<=1}}(),function(){for(var T=0;T<256;T++)j[T]=19595*T,j[T+256|0]=38470*T,j[T+512|0]=7471*T+32768,j[T+768|0]=-11059*T,j[T+1024|0]=-21709*T,j[T+1280|0]=32768*T+8421375,j[T+1536|0]=-27439*T,j[T+1792|0]=-5329*T}(),ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function es(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function DC(e){function t(L){if(!L)throw Error("assert :P")}function r(L,F,k){for(var P=0;4>P;P++)if(L[F+P]!=k.charCodeAt(P))return!0;return!1}function n(L,F,k,P,D){for(var M=0;M<D;M++)L[F+M]=k[P+M]}function i(L,F,k,P){for(var D=0;D<P;D++)L[F+D]=k}function a(L){return new Int32Array(L)}function s(L,F){for(var k=[],P=0;P<L;P++)k.push(new F);return k}function o(L,F){var k=[];return function P(D,M,U){for(var V=U[M],W=0;W<V&&(D.push(U.length>M+1?[]:new F),!(U.length<M+1));W++)P(D[W],M+1,U)}(k,0,L),k}var l=function(){var L=this;function F(m,x){for(var E=1<<x-1>>>0;m&E;)E>>>=1;return E?(m&E-1)+E:m}function k(m,x,E,R,q){t(!(R%E));do m[x+(R-=E)]=q;while(0<R)}function P(m,x,E,R,q){if(t(2328>=q),512>=q)var H=a(512);else if((H=a(q))==null)return 0;return function(G,Y,Z,te,fe,Se){var re,pe,be=Y,Oe=1<<Z,xe=a(16),Ce=a(16);for(t(fe!=0),t(te!=null),t(G!=null),t(0<Z),pe=0;pe<fe;++pe){if(15<te[pe])return 0;++xe[te[pe]]}if(xe[0]==fe)return 0;for(Ce[1]=0,re=1;15>re;++re){if(xe[re]>1<<re)return 0;Ce[re+1]=Ce[re]+xe[re]}for(pe=0;pe<fe;++pe)re=te[pe],0<te[pe]&&(Se[Ce[re]++]=pe);if(Ce[15]==1)return(te=new D).g=0,te.value=Se[0],k(G,be,1,Oe,te),Oe;var Ie,We=-1,Me=Oe-1,xt=0,ct=1,Ut=1,pt=1<<Z;for(pe=0,re=1,fe=2;re<=Z;++re,fe<<=1){if(ct+=Ut<<=1,0>(Ut-=xe[re]))return 0;for(;0<xe[re];--xe[re])(te=new D).g=re,te.value=Se[pe++],k(G,be+xt,fe,pt,te),xt=F(xt,re)}for(re=Z+1,fe=2;15>=re;++re,fe<<=1){if(ct+=Ut<<=1,0>(Ut-=xe[re]))return 0;for(;0<xe[re];--xe[re]){if(te=new D,(xt&Me)!=We){for(be+=pt,Ie=1<<(We=re)-Z;15>We&&!(0>=(Ie-=xe[We]));)++We,Ie<<=1;Oe+=pt=1<<(Ie=We-Z),G[Y+(We=xt&Me)].g=Ie+Z,G[Y+We].value=be-Y-We}te.g=re-Z,te.value=Se[pe++],k(G,be+(xt>>Z),fe,pt,te),xt=F(xt,re)}}return ct!=2*Ce[15]-1?0:Oe}(m,x,E,R,q,H)}function D(){this.value=this.g=0}function M(){this.value=this.g=0}function U(){this.G=s(5,D),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(_c,M)}function V(m,x,E,R){t(m!=null),t(x!=null),t(2147483648>R),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=E,m.Jd=x,m.Yc=E+R,m.Zc=4<=R?E+R-4+1:E,ge(m)}function W(m,x){for(var E=0;0<x--;)E|=he(m,128)<<x;return E}function B(m,x){var E=W(m,x);return se(m)?-E:E}function J(m,x,E,R){var q,H=0;for(t(m!=null),t(x!=null),t(4294967288>R),m.Sb=R,m.Ra=0,m.u=0,m.h=0,4<R&&(R=4),q=0;q<R;++q)H+=x[E+q]<<8*q;m.Ra=H,m.bb=R,m.oa=x,m.pa=E}function $(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Jo-8>>>0,++m.bb,m.u-=8;Q(m)&&(m.h=1,m.u=0)}function ae(m,x){if(t(0<=x),!m.h&&x<=Wi){var E=K(m)&Hi[x];return m.u+=x,$(m),E}return m.h=1,m.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(m){return m.Ra>>>(m.u&Jo-1)>>>0}function Q(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Jo}function ie(m,x){m.u=x,m.h=Q(m)}function ue(m){m.u>=no&&(t(m.u>=no),$(m))}function ge(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function se(m){return W(m,1)}function he(m,x){var E=m.Ca;0>m.b&&ge(m);var R=m.b,q=E*x>>>8,H=(m.I>>>R>q)+0;for(H?(E-=q,m.I-=q+1<<R>>>0):E=q+1,R=E,q=0;256<=R;)q+=8,R>>=8;return R=7^q+Zo[R],m.b-=R,m.Ca=(E<<R)-1,H}function je(m,x,E){m[x+0]=E>>24&255,m[x+1]=E>>16&255,m[x+2]=E>>8&255,m[x+3]=255&E}function me(m,x){return m[x+0]|m[x+1]<<8}function Be(m,x){return me(m,x)|m[x+2]<<16}function ye(m,x){return me(m,x)|me(m,x+2)<<16}function ee(m,x){var E=1<<x;return t(m!=null),t(0<x),m.X=a(E),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function ut(m,x){t(m!=null),t(x!=null),t(m.Xa==x.Xa),n(x.X,0,m.X,0,1<<x.Xa)}function lt(){this.X=[],this.Xa=this.Mb=0}function at(m,x,E,R){t(E!=null),t(R!=null);var q=E[0],H=R[0];return q==0&&(q=(m*H+x/2)/x),H==0&&(H=(x*q+m/2)/m),0>=q||0>=H?0:(E[0]=q,R[0]=H,1)}function Re(m,x){return m+(1<<x)-1>>>x}function rt(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function oe(m,x){L[x]=function(E,R,q,H,G,Y,Z){var te;for(te=0;te<G;++te){var fe=L[m](Y[Z+te-1],q,H+te);Y[Z+te]=rt(E[R+te],fe)}}}function $e(){this.ud=this.hd=this.jd=0}function ze(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function Ue(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function He(m,x){return Ue(m+(m-x+.5>>1))}function de(m,x,E){return Math.abs(x-E)-Math.abs(m-E)}function Ne(m,x,E,R,q,H,G){for(R=H[G-1],E=0;E<q;++E)H[G+E]=R=rt(m[x+E],R)}function we(m,x,E,R,q){var H;for(H=0;H<E;++H){var G=m[x+H],Y=G>>8&255,Z=16711935&(Z=(Z=16711935&G)+((Y<<16)+Y));R[q+H]=(4278255360&G)+Z>>>0}}function _e(m,x){x.jd=255&m,x.hd=m>>8&255,x.ud=m>>16&255}function Ae(m,x,E,R,q,H){var G;for(G=0;G<R;++G){var Y=x[E+G],Z=Y>>>8,te=Y,fe=255&(fe=(fe=Y>>>16)+((m.jd<<24>>24)*(Z<<24>>24)>>>5));te=255&(te=(te+=(m.hd<<24>>24)*(Z<<24>>24)>>>5)+((m.ud<<24>>24)*(fe<<24>>24)>>>5)),q[H+G]=(4278255360&Y)+(fe<<16)+te}}function Ee(m,x,E,R,q){L[x]=function(H,G,Y,Z,te,fe,Se,re,pe){for(Z=Se;Z<re;++Z)for(Se=0;Se<pe;++Se)te[fe++]=q(Y[R(H[G++])])},L[m]=function(H,G,Y,Z,te,fe,Se){var re=8>>H.b,pe=H.Ea,be=H.K[0],Oe=H.w;if(8>re)for(H=(1<<H.b)-1,Oe=(1<<re)-1;G<Y;++G){var xe,Ce=0;for(xe=0;xe<pe;++xe)xe&H||(Ce=R(Z[te++])),fe[Se++]=q(be[Ce&Oe]),Ce>>=re}else L["VP8LMapColor"+E](Z,te,be,Oe,fe,Se,G,Y,pe)}}function Fe(m,x,E,R,q){for(E=x+E;x<E;){var H=m[x++];R[q++]=H>>16&255,R[q++]=H>>8&255,R[q++]=255&H}}function qe(m,x,E,R,q){for(E=x+E;x<E;){var H=m[x++];R[q++]=H>>16&255,R[q++]=H>>8&255,R[q++]=255&H,R[q++]=H>>24&255}}function ke(m,x,E,R,q){for(E=x+E;x<E;){var H=(G=m[x++])>>16&240|G>>12&15,G=240&G|G>>28&15;R[q++]=H,R[q++]=G}}function Ge(m,x,E,R,q){for(E=x+E;x<E;){var H=(G=m[x++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;R[q++]=H,R[q++]=G}}function Ve(m,x,E,R,q){for(E=x+E;x<E;){var H=m[x++];R[q++]=255&H,R[q++]=H>>8&255,R[q++]=H>>16&255}}function Xe(m,x,E,R,q,H){if(H==0)for(E=x+E;x<E;)je(R,((H=m[x++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),q+=32;else n(R,q,m,x,E)}function it(m,x){L[x][0]=L[m+"0"],L[x][1]=L[m+"1"],L[x][2]=L[m+"2"],L[x][3]=L[m+"3"],L[x][4]=L[m+"4"],L[x][5]=L[m+"5"],L[x][6]=L[m+"6"],L[x][7]=L[m+"7"],L[x][8]=L[m+"8"],L[x][9]=L[m+"9"],L[x][10]=L[m+"10"],L[x][11]=L[m+"11"],L[x][12]=L[m+"12"],L[x][13]=L[m+"13"],L[x][14]=L[m+"0"],L[x][15]=L[m+"0"]}function St(m){return m==Rb||m==$b||m==Cg||m==Mb}function Ft(){this.eb=[],this.size=this.A=this.fb=0}function Jt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ft,this.f.kb=new Jt,this.sd=null}function tt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Rt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $n(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function ir(m,x){var E=m.T,R=x.ba.f.RGBA,q=R.eb,H=R.fb+m.ka*R.A,G=Sa[x.ba.S],Y=m.y,Z=m.O,te=m.f,fe=m.N,Se=m.ea,re=m.W,pe=x.cc,be=x.dc,Oe=x.Mc,xe=x.Nc,Ce=m.ka,Ie=m.ka+m.T,We=m.U,Me=We+1>>1;for(Ce==0?G(Y,Z,null,null,te,fe,Se,re,te,fe,Se,re,q,H,null,null,We):(G(x.ec,x.fc,Y,Z,pe,be,Oe,xe,te,fe,Se,re,q,H-R.A,q,H,We),++E);Ce+2<Ie;Ce+=2)pe=te,be=fe,Oe=Se,xe=re,fe+=m.Rc,re+=m.Rc,H+=2*R.A,G(Y,(Z+=2*m.fa)-m.fa,Y,Z,pe,be,Oe,xe,te,fe,Se,re,q,H-R.A,q,H,We);return Z+=m.fa,m.j+Ie<m.o?(n(x.ec,x.fc,Y,Z,We),n(x.cc,x.dc,te,fe,Me),n(x.Mc,x.Nc,Se,re,Me),E--):1&Ie||G(Y,Z,null,null,te,fe,Se,re,te,fe,Se,re,q,H+R.A,null,null,We),E}function Zt(m,x,E){var R=m.F,q=[m.J];if(R!=null){var H=m.U,G=x.ba.S,Y=G==Pg||G==Cg;x=x.ba.f.RGBA;var Z=[0],te=m.ka;Z[0]=m.T,m.Kb&&(te==0?--Z[0]:(--te,q[0]-=m.width),m.j+m.ka+m.T==m.o&&(Z[0]=m.o-m.j-te));var fe=x.eb;te=x.fb+te*x.A,m=HN(R,q[0],m.width,H,Z,fe,te+(Y?0:3),x.A),t(E==Z),m&&St(G)&&jh(fe,te,Y,H,Z,x.A)}return 0}function br(m){var x=m.ma,E=x.ba.S,R=11>E,q=E==Eg||E==Og||E==Pg||E==Lb||E==12||St(E);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!gh(x.Oa,m,q?11:12))return 0;if(q&&St(E)&&_g(),m.da)alert("todo:use_scaling");else{if(R){if(x.Ib=$n,m.Kb){if(E=m.U+1>>1,x.memory=a(m.U+2*E),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+E,x.Ib=ir,_g()}}else alert("todo:EmitYUV");q&&(x.Jb=Zt,R&&ba())}if(R&&!sA){for(m=0;256>m;++m)s9[m]=89858*(m-128)+Ig>>Tg,c9[m]=-22014*(m-128)+Ig,l9[m]=-45773*(m-128),o9[m]=113618*(m-128)+Ig>>Tg;for(m=Ah;m<Fb;++m)x=76283*(m-16)+Ig>>Tg,u9[m-Ah]=Kr(x,255),d9[m-Ah]=Kr(x+8>>4,15);sA=1}return 1}function Qe(m){var x=m.ma,E=m.U,R=m.T;return t(!(1&m.ka)),0>=E||0>=R?0:(E=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,E),x.Dc+=E,1)}function wn(m){m.ma.memory=null}function Hn(m,x,E,R){return ae(m,8)!=47?0:(x[0]=ae(m,14)+1,E[0]=ae(m,14)+1,R[0]=ae(m,1),ae(m,3)!=0?0:!m.h)}function ei(m,x){if(4>m)return m+1;var E=m-2>>1;return(2+(1&m)<<E)+ae(x,E)+1}function _n(m,x){return 120<x?x-120:1<=(E=((E=VD[x-1])>>4)*m+(8-(15&E)))?E:1;var E}function cr(m,x,E){var R=K(E),q=m[x+=255&R].g-8;return 0<q&&(ie(E,E.u+8),R=K(E),x+=m[x].value,x+=R&(1<<q)-1),ie(E,E.u+m[x].g),m[x].value}function ur(m,x,E){return E.g+=m.g,E.value+=m.value<<x>>>0,t(8>=E.g),m.g}function Gr(m,x,E){var R=m.xc;return t((x=R==0?0:m.vc[m.md*(E>>R)+(x>>R)])<m.Wb),m.Ya[x]}function nc(m,x,E,R){var q=m.ab,H=m.c*x,G=m.C;x=G+x;var Y=E,Z=R;for(R=m.Ta,E=m.Ua;0<q--;){var te=m.gc[q],fe=G,Se=x,re=Y,pe=Z,be=(Z=R,Y=E,te.Ea);switch(t(fe<Se),t(Se<=te.nc),te.hc){case 2:tn(re,pe,(Se-fe)*be,Z,Y);break;case 0:var Oe=fe,xe=Se,Ce=Z,Ie=Y,We=(pt=te).Ea;Oe==0&&(vh(re,pe,null,null,1,Ce,Ie),Ne(re,pe+1,0,0,We-1,Ce,Ie+1),pe+=We,Ie+=We,++Oe);for(var Me=1<<pt.b,xt=Me-1,ct=Re(We,pt.b),Ut=pt.K,pt=pt.w+(Oe>>pt.b)*ct;Oe<xe;){var Kt=Ut,Nn=pt,zt=1;for(Fu(re,pe,Ce,Ie-We,1,Ce,Ie);zt<We;){var mt=(zt&~xt)+Me;mt>We&&(mt=We),(0,xh[Kt[Nn++]>>8&15])(re,pe+ +zt,Ce,Ie+zt-We,mt-zt,Ce,Ie+zt),zt=mt}pe+=We,Ie+=We,++Oe&xt||(pt+=ct)}Se!=te.nc&&n(Z,Y-be,Z,Y+(Se-fe-1)*be,be);break;case 1:for(be=re,xe=pe,We=(re=te.Ea)-(Ie=re&~(Ce=(pe=1<<te.b)-1)),Oe=Re(re,te.b),Me=te.K,te=te.w+(fe>>te.b)*Oe;fe<Se;){for(xt=Me,ct=te,Ut=new $e,pt=xe+Ie,Kt=xe+re;xe<pt;)_e(xt[ct++],Ut),wh(Ut,be,xe,pe,Z,Y),xe+=pe,Y+=pe;xe<Kt&&(_e(xt[ct++],Ut),wh(Ut,be,xe,We,Z,Y),xe+=We,Y+=We),++fe&Ce||(te+=Oe)}break;case 3:if(re==Z&&pe==Y&&0<te.b){for(xe=Z,re=be=Y+(Se-fe)*be-(Ie=(Se-fe)*Re(te.Ea,te.b)),pe=Z,Ce=Y,Oe=[],Ie=(We=Ie)-1;0<=Ie;--Ie)Oe[Ie]=pe[Ce+Ie];for(Ie=We-1;0<=Ie;--Ie)xe[re+Ie]=Oe[Ie];jg(te,fe,Se,Z,be,Z,Y)}else jg(te,fe,Se,re,pe,Z,Y)}Y=R,Z=E}Z!=E&&n(R,E,Y,Z,H)}function Vo(m,x){var E=m.V,R=m.Ba+m.c*m.C,q=x-m.C;if(t(x<=m.l.o),t(16>=q),0<q){var H=m.l,G=m.Ta,Y=m.Ua,Z=H.width;if(nc(m,q,E,R),q=Y=[Y],t((E=m.C)<(R=x)),t(H.v<H.va),R>H.o&&(R=H.o),E<H.j){var te=H.j-E;E=H.j,q[0]+=te*Z}if(E>=R?E=0:(q[0]+=4*H.v,H.ka=E-H.j,H.U=H.va-H.v,H.T=R-E,E=1),E){if(Y=Y[0],11>(E=m.ca).S){var fe=E.f.RGBA,Se=(R=E.S,q=H.U,H=H.T,te=fe.eb,fe.A),re=H;for(fe=fe.fb+m.Ma*fe.A;0<re--;){var pe=G,be=Y,Oe=q,xe=te,Ce=fe;switch(R){case kg:_h(pe,be,Oe,xe,Ce);break;case Eg:Qo(pe,be,Oe,xe,Ce);break;case Rb:Qo(pe,be,Oe,xe,Ce),jh(xe,Ce,0,Oe,1,0);break;case JN:Sc(pe,be,Oe,xe,Ce);break;case Og:Xe(pe,be,Oe,xe,Ce,1);break;case $b:Xe(pe,be,Oe,xe,Ce,1),jh(xe,Ce,0,Oe,1,0);break;case Pg:Xe(pe,be,Oe,xe,Ce,0);break;case Cg:Xe(pe,be,Oe,xe,Ce,0),jh(xe,Ce,1,Oe,1,0);break;case Lb:el(pe,be,Oe,xe,Ce);break;case Mb:el(pe,be,Oe,xe,Ce),qN(xe,Ce,Oe,1,0);break;case ZN:tl(pe,be,Oe,xe,Ce);break;default:t(0)}Y+=Z,fe+=Se}m.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=E.height)}}m.C=x,t(m.C<=m.i)}function Ha(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var E=m.Ya[x].G,R=m.Ya[x].H;if(0<E[1][R[1]+0].g||0<E[2][R[2]+0].g||0<E[3][R[3]+0].g)return 0}return 1}function xs(m,x,E,R,q,H){if(m.Z!=0){var G=m.qd,Y=m.rd;for(t(il[m.Z]!=null);x<E;++x)il[m.Z](G,Y,R,q,R,q,H),G=R,Y=q,q+=H;m.qd=G,m.rd=Y}}function Wa(m,x){var E=m.l.ma,R=E.Z==0||E.Z==1?m.l.j:m.C;if(R=m.C<R?R:m.C,t(x<=m.l.o),x>R){var q=m.l.width,H=E.ca,G=E.tb+q*R,Y=m.V,Z=m.Ba+m.c*R,te=m.gc;t(m.ab==1),t(te[0].hc==3),js(te[0],R,x,Y,Z,H,G),xs(E,R,x,H,G,q)}m.C=m.Ma=x}function Va(m,x,E,R,q,H,G){var Y=m.$/R,Z=m.$%R,te=m.m,fe=m.s,Se=E+m.$,re=Se;q=E+R*q;var pe=E+R*H,be=280+fe.ua,Oe=m.Pb?Y:16777216,xe=0<fe.ua?fe.Wa:null,Ce=fe.wc,Ie=Se<pe?Gr(fe,Z,Y):null;t(m.C<H),t(pe<=q);var We=!1;e:for(;;){for(;We||Se<pe;){var Me=0;if(Y>=Oe){var xt=Se-E;t((Oe=m).Pb),Oe.wd=Oe.m,Oe.xd=xt,0<Oe.s.ua&&ut(Oe.s.Wa,Oe.s.vb),Oe=Y+KD}if(Z&Ce||(Ie=Gr(fe,Z,Y)),t(Ie!=null),Ie.Qb&&(x[Se]=Ie.qb,We=!0),!We)if(ue(te),Ie.jc){Me=te,xt=x;var ct=Se,Ut=Ie.pd[K(Me)&_c-1];t(Ie.jc),256>Ut.g?(ie(Me,Me.u+Ut.g),xt[ct]=Ut.value,Me=0):(ie(Me,Me.u+Ut.g-256),t(256<=Ut.value),Me=Ut.value),Me==0&&(We=!0)}else Me=cr(Ie.G[0],Ie.H[0],te);if(te.h)break;if(We||256>Me){if(!We)if(Ie.nd)x[Se]=(Ie.qb|Me<<8)>>>0;else{if(ue(te),We=cr(Ie.G[1],Ie.H[1],te),ue(te),xt=cr(Ie.G[2],Ie.H[2],te),ct=cr(Ie.G[3],Ie.H[3],te),te.h)break;x[Se]=(ct<<24|We<<16|Me<<8|xt)>>>0}if(We=!1,++Se,++Z>=R&&(Z=0,++Y,G!=null&&Y<=H&&!(Y%16)&&G(m,Y),xe!=null))for(;re<Se;)Me=x[re++],xe.X[(506832829*Me&4294967295)>>>xe.Mb]=Me}else if(280>Me){if(Me=ei(Me-256,te),xt=cr(Ie.G[4],Ie.H[4],te),ue(te),xt=_n(R,xt=ei(xt,te)),te.h)break;if(Se-E<xt||q-Se<Me)break e;for(ct=0;ct<Me;++ct)x[Se+ct]=x[Se+ct-xt];for(Se+=Me,Z+=Me;Z>=R;)Z-=R,++Y,G!=null&&Y<=H&&!(Y%16)&&G(m,Y);if(t(Se<=q),Z&Ce&&(Ie=Gr(fe,Z,Y)),xe!=null)for(;re<Se;)Me=x[re++],xe.X[(506832829*Me&4294967295)>>>xe.Mb]=Me}else{if(!(Me<be))break e;for(We=Me-280,t(xe!=null);re<Se;)Me=x[re++],xe.X[(506832829*Me&4294967295)>>>xe.Mb]=Me;Me=Se,t(!(We>>>(xt=xe).Xa)),x[Me]=xt.X[We],We=!0}We||t(te.h==Q(te))}if(m.Pb&&te.h&&Se<q)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&ut(m.s.vb,m.s.Wa);else{if(te.h)break e;G!=null&&G(m,Y>H?H:Y),m.a=0,m.$=Se-E}return 1}return m.a=3,0}function ya(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,t(m!=null)}function ic(){var m=new bt;return m==null?null:(m.a=0,m.xb=tA,it("Predictor","VP8LPredictors"),it("Predictor","VP8LPredictors_C"),it("PredictorAdd","VP8LPredictorsAdd"),it("PredictorAdd","VP8LPredictorsAdd_C"),tn=we,wh=Ae,_h=Fe,Qo=qe,el=ke,tl=Ge,Sc=Ve,L.VP8LMapColor32b=Ss,L.VP8LMapColor8b=bh,m)}function ws(m,x,E,R,q){var H=1,G=[m],Y=[x],Z=R.m,te=R.s,fe=null,Se=0;e:for(;;){if(E)for(;H&&ae(Z,1);){var re=G,pe=Y,be=R,Oe=1,xe=be.m,Ce=be.gc[be.ab],Ie=ae(xe,2);if(be.Oc&1<<Ie)H=0;else{switch(be.Oc|=1<<Ie,Ce.hc=Ie,Ce.Ea=re[0],Ce.nc=pe[0],Ce.K=[null],++be.ab,t(4>=be.ab),Ie){case 0:case 1:Ce.b=ae(xe,3)+2,Oe=ws(Re(Ce.Ea,Ce.b),Re(Ce.nc,Ce.b),0,be,Ce.K),Ce.K=Ce.K[0];break;case 3:var We,Me=ae(xe,8)+1,xt=16<Me?0:4<Me?1:2<Me?2:3;if(re[0]=Re(Ce.Ea,xt),Ce.b=xt,We=Oe=ws(Me,1,0,be,Ce.K)){var ct,Ut=Me,pt=Ce,Kt=1<<(8>>pt.b),Nn=a(Kt);if(Nn==null)We=0;else{var zt=pt.K[0],mt=pt.w;for(Nn[0]=pt.K[0][0],ct=1;ct<1*Ut;++ct)Nn[ct]=rt(zt[mt+ct],Nn[ct-1]);for(;ct<4*Kt;++ct)Nn[ct]=0;pt.K[0]=null,pt.K[0]=Nn,We=1}}Oe=We;break;case 2:break;default:t(0)}H=Oe}}if(G=G[0],Y=Y[0],H&&ae(Z,1)&&!(H=1<=(Se=ae(Z,4))&&11>=Se)){R.a=3;break e}var et;if(et=H)t:{var nn,Bt,Xt,Ir=R,Vn=G,mi=Y,Yr=Se,ri=E,gi=Ir.m,An=Ir.s,Qt=[null],hr=1,Xr=0,pr=GD[Yr];r:for(;;){if(ri&&ae(gi,1)){var Gn=ae(gi,3)+2,Ya=Re(Vn,Gn),an=Re(mi,Gn),Oi=Ya*an;if(!ws(Ya,an,0,Ir,Qt))break r;for(Qt=Qt[0],An.xc=Gn,nn=0;nn<Oi;++nn){var wr=Qt[nn]>>8&65535;Qt[nn]=wr,wr>=hr&&(hr=wr+1)}}if(gi.h)break r;for(Bt=0;5>Bt;++Bt){var kn=QN[Bt];!Bt&&0<Yr&&(kn+=1<<Yr),Xr<kn&&(Xr=kn)}var Gi=s(hr*pr,D),yi=hr,Ki=s(yi,U);if(Ki==null)var Yi=null;else t(65536>=yi),Yi=Ki;var Pi=a(Xr);if(Yi==null||Pi==null||Gi==null){Ir.a=1;break r}var Xi=Gi;for(nn=Xt=0;nn<hr;++nn){var Nr=Yi[nn],Ji=Nr.G,Xa=Nr.H,Nc=0,so=1,Kn=0;for(Bt=0;5>Bt;++Bt){kn=QN[Bt],Ji[Bt]=Xi,Xa[Bt]=Xt,!Bt&&0<Yr&&(kn+=1<<Yr);i:{var Rg,Ub=kn,$g=Ir,kh=Pi,p9=Xi,m9=Xt,zb=0,al=$g.m,g9=ae(al,1);if(i(kh,0,0,Ub),g9){var y9=ae(al,1)+1,v9=ae(al,1),cA=ae(al,v9==0?1:8);kh[cA]=1,y9==2&&(kh[cA=ae(al,8)]=1);var Mg=1}else{var uA=a(19),dA=ae(al,4)+4;if(19<dA){$g.a=3;var Dg=0;break i}for(Rg=0;Rg<dA;++Rg)uA[WD[Rg]]=ae(al,3);var qb=void 0,Eh=void 0,fA=$g,b9=uA,Bg=Ub,hA=kh,Hb=0,sl=fA.m,pA=8,mA=s(128,D);n:for(;P(mA,0,7,b9,19);){if(ae(sl,1)){var x9=2+2*ae(sl,3);if((qb=2+ae(sl,x9))>Bg)break n}else qb=Bg;for(Eh=0;Eh<Bg&&qb--;){ue(sl);var gA=mA[0+(127&K(sl))];ie(sl,sl.u+gA.g);var zu=gA.value;if(16>zu)hA[Eh++]=zu,zu!=0&&(pA=zu);else{var w9=zu==16,yA=zu-16,_9=qD[yA],vA=ae(sl,zD[yA])+_9;if(Eh+vA>Bg)break n;for(var S9=w9?pA:0;0<vA--;)hA[Eh++]=S9}}Hb=1;break n}Hb||(fA.a=3),Mg=Hb}(Mg=Mg&&!al.h)&&(zb=P(p9,m9,8,kh,Ub)),Mg&&zb!=0?Dg=zb:($g.a=3,Dg=0)}if(Dg==0)break r;if(so&&HD[Bt]==1&&(so=Xi[Xt].g==0),Nc+=Xi[Xt].g,Xt+=Dg,3>=Bt){var Oh,Wb=Pi[0];for(Oh=1;Oh<kn;++Oh)Pi[Oh]>Wb&&(Wb=Pi[Oh]);Kn+=Wb}}if(Nr.nd=so,Nr.Qb=0,so&&(Nr.qb=(Ji[3][Xa[3]+0].value<<24|Ji[1][Xa[1]+0].value<<16|Ji[2][Xa[2]+0].value)>>>0,Nc==0&&256>Ji[0][Xa[0]+0].value&&(Nr.Qb=1,Nr.qb+=Ji[0][Xa[0]+0].value<<8)),Nr.jc=!Nr.Qb&&6>Kn,Nr.jc){var Fg,oo=Nr;for(Fg=0;Fg<_c;++Fg){var ol=Fg,ll=oo.pd[ol],Ug=oo.G[0][oo.H[0]+ol];256<=Ug.value?(ll.g=Ug.g+256,ll.value=Ug.value):(ll.g=0,ll.value=0,ol>>=ur(Ug,8,ll),ol>>=ur(oo.G[1][oo.H[1]+ol],16,ll),ol>>=ur(oo.G[2][oo.H[2]+ol],0,ll),ur(oo.G[3][oo.H[3]+ol],24,ll))}}}An.vc=Qt,An.Wb=hr,An.Ya=Yi,An.yc=Gi,et=1;break t}et=0}if(!(H=et)){R.a=3;break e}if(0<Se){if(te.ua=1<<Se,!ee(te.Wa,Se)){R.a=1,H=0;break e}}else te.ua=0;var Vb=R,bA=G,j9=Y,Gb=Vb.s,Kb=Gb.xc;if(Vb.c=bA,Vb.i=j9,Gb.md=Re(bA,Kb),Gb.wc=Kb==0?-1:(1<<Kb)-1,E){R.xb=t9;break e}if((fe=a(G*Y))==null){R.a=1,H=0;break e}H=(H=Va(R,fe,0,G,Y,Y,null))&&!Z.h;break e}return H?(q!=null?q[0]=fe:(t(fe==null),t(E)),R.$=0,E||ya(te)):ya(te),H}function ac(m,x){var E=m.c*m.i,R=E+x+16*x;return t(m.c<=x),m.V=a(R),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+E+x,1)}function Pu(m,x){var E=m.C,R=x-E,q=m.V,H=m.Ba+m.c*E;for(t(x<=m.l.o);0<R;){var G=16<R?16:R,Y=m.l.ma,Z=m.l.width,te=Z*G,fe=Y.ca,Se=Y.tb+Z*E,re=m.Ta,pe=m.Ua;nc(m,G,q,H),WN(re,pe,fe,Se,te),xs(Y,E,E+G,fe,Se,Z),R-=G,q+=G*m.c,E+=G}t(E==x),m.C=m.Ma=x}function Cu(){this.ub=this.yd=this.td=this.Rb=0}function Tu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yb(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function rh(){this.Yb=function(){var m=[];return function x(E,R,q){for(var H=q[R],G=0;G<H&&(E.push(q.length>R+1?[]:0),!(q.length<R+1));G++)x(E[G],R+1,q)}(m,0,[3,11]),m}()}function og(){this.jb=a(3),this.Wc=o([4,8],rh),this.Xc=o([4,17],rh)}function lg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function va(){this.ld=this.La=this.dd=this.tc=0}function nh(){this.Na=this.la=0}function cg(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ih(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ug(){this.uc=this.M=this.Nb=0,this.wa=Array(new va),this.Y=0,this.ya=Array(new ih),this.aa=0,this.l=new Iu}function dg(){this.y=a(16),this.f=a(8),this.ea=a(8)}function fg(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new Cu,this.Kc=new Tu,this.ed=new lg,this.Qa=new yb,this.Ic=this.$c=this.Aa=0,this.D=new ug,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,T),this.ia=0,this.pb=s(4,cg),this.Pa=new og,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new dg),this.Hd=0,this.rb=Array(new nh),this.sb=0,this.wa=Array(new va),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ih),this.L=this.aa=0,this.gd=o([4,2],va),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Iu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function vb(){var m=new fg;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Nh||(Nh=Js)),m}function dn(m,x,E){return m.a==0&&(m.a=x,m.sc=E,m.cb=0),0}function hg(m,x,E){return 3<=E&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function pg(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return dn(m,2,"null VP8Io passed to VP8GetHeaders()");var E=x.data,R=x.w,q=x.ha;if(4>q)return dn(m,7,"Truncated header.");var H=E[R+0]|E[R+1]<<8|E[R+2]<<16,G=m.Od;if(G.Rb=!(1&H),G.td=H>>1&7,G.yd=H>>4&1,G.ub=H>>5,3<G.td)return dn(m,3,"Incorrect keyframe parameters.");if(!G.yd)return dn(m,4,"Frame not displayable.");R+=3,q-=3;var Y=m.Kc;if(G.Rb){if(7>q)return dn(m,7,"cannot parse picture header");if(!hg(E,R,q))return dn(m,3,"Bad code word");Y.c=16383&(E[R+4]<<8|E[R+3]),Y.Td=E[R+4]>>6,Y.i=16383&(E[R+6]<<8|E[R+5]),Y.Ud=E[R+6]>>6,R+=7,q-=7,m.za=Y.c+15>>4,m.Ub=Y.i+15>>4,x.width=Y.c,x.height=Y.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((H=m.Pa).jb,0,255,H.jb.length),t((H=m.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,i(H.Zb,0,0,H.Zb.length),i(H.Lb,0,0,H.Lb)}if(G.ub>q)return dn(m,7,"bad partition length");V(H=m.m,E,R,G.ub),R+=G.ub,q-=G.ub,G.Rb&&(Y.Ld=se(H),Y.Kd=se(H)),Y=m.Qa;var Z,te=m.Pa;if(t(H!=null),t(Y!=null),Y.Cb=se(H),Y.Cb){if(Y.Bb=se(H),se(H)){for(Y.Fb=se(H),Z=0;4>Z;++Z)Y.Zb[Z]=se(H)?B(H,7):0;for(Z=0;4>Z;++Z)Y.Lb[Z]=se(H)?B(H,6):0}if(Y.Bb)for(Z=0;3>Z;++Z)te.jb[Z]=se(H)?W(H,8):255}else Y.Bb=0;if(H.Ka)return dn(m,3,"cannot parse segment header");if((Y=m.ed).zd=se(H),Y.Tb=W(H,6),Y.wb=W(H,3),Y.Pc=se(H),Y.Pc&&se(H)){for(te=0;4>te;++te)se(H)&&(Y.vd[te]=B(H,6));for(te=0;4>te;++te)se(H)&&(Y.od[te]=B(H,6))}if(m.L=Y.Tb==0?0:Y.zd?1:2,H.Ka)return dn(m,3,"cannot parse filter header");var fe=q;if(q=Z=R,R=Z+fe,Y=fe,m.Xb=(1<<W(m.m,2))-1,fe<3*(te=m.Xb))E=7;else{for(Z+=3*te,Y-=3*te,fe=0;fe<te;++fe){var Se=E[q+0]|E[q+1]<<8|E[q+2]<<16;Se>Y&&(Se=Y),V(m.Jc[+fe],E,Z,Se),Z+=Se,Y-=Se,q+=3}V(m.Jc[+te],E,Z,Y),E=Z<R?0:5}if(E!=0)return dn(m,E,"cannot parse partitions");for(E=W(Z=m.m,7),q=se(Z)?B(Z,4):0,R=se(Z)?B(Z,4):0,Y=se(Z)?B(Z,4):0,te=se(Z)?B(Z,4):0,Z=se(Z)?B(Z,4):0,fe=m.Qa,Se=0;4>Se;++Se){if(fe.Cb){var re=fe.Zb[Se];fe.Fb||(re+=E)}else{if(0<Se){m.pb[Se]=m.pb[0];continue}re=E}var pe=m.pb[Se];pe.Sc[0]=Db[Kr(re+q,127)],pe.Sc[1]=Bb[Kr(re+0,127)],pe.Eb[0]=2*Db[Kr(re+R,127)],pe.Eb[1]=101581*Bb[Kr(re+Y,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=Db[Kr(re+te,117)],pe.Qc[1]=Bb[Kr(re+Z,127)],pe.lc=re+Z}if(!G.Rb)return dn(m,4,"Not a key frame.");for(se(H),G=m.Pa,E=0;4>E;++E){for(q=0;8>q;++q)for(R=0;3>R;++R)for(Y=0;11>Y;++Y)te=he(H,QD[E][q][R][Y])?W(H,8):JD[E][q][R][Y],G.Wc[E][q].Yb[R][Y]=te;for(q=0;17>q;++q)G.Xc[E][q]=G.Wc[E][e9[q]]}return m.kc=se(H),m.kc&&(m.Bd=W(H,8)),m.cb=1}function Js(m,x,E,R,q,H,G){var Y=x[q].Yb[E];for(E=0;16>q;++q){if(!he(m,Y[E+0]))return q;for(;!he(m,Y[E+1]);)if(Y=x[++q].Yb[0],E=0,q==16)return 16;var Z=x[q+1].Yb;if(he(m,Y[E+2])){var te=m,fe=0;if(he(te,(re=Y)[(Se=E)+3]))if(he(te,re[Se+6])){for(Y=0,Se=2*(fe=he(te,re[Se+8]))+(re=he(te,re[Se+9+fe])),fe=0,re=YD[Se];re[Y];++Y)fe+=fe+he(te,re[Y]);fe+=3+(8<<Se)}else he(te,re[Se+7])?(fe=7+2*he(te,165),fe+=he(te,145)):fe=5+he(te,159);else fe=he(te,re[Se+4])?3+he(te,re[Se+5]):2;Y=Z[2]}else fe=1,Y=Z[1];Z=G+XD[q],0>(te=m).b&&ge(te);var Se,re=te.b,pe=(Se=te.Ca>>1)-(te.I>>re)>>31;--te.b,te.Ca+=pe,te.Ca|=1,te.I-=(Se+1&pe)<<re,H[Z]=((fe^pe)-pe)*R[(0<q)+0]}return 16}function sc(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function Ga(m,x,E,R,q){q=m[x+E+32*R]+(q>>3),m[x+E+32*R]=-256&q?0>q?0:255:q}function oc(m,x,E,R,q,H){Ga(m,x,0,E,R+q),Ga(m,x,1,E,R+H),Ga(m,x,2,E,R-H),Ga(m,x,3,E,R-q)}function en(m){return(20091*m>>16)+m}function ah(m,x,E,R){var q,H=0,G=a(16);for(q=0;4>q;++q){var Y=m[x+0]+m[x+8],Z=m[x+0]-m[x+8],te=(35468*m[x+4]>>16)-en(m[x+12]),fe=en(m[x+4])+(35468*m[x+12]>>16);G[H+0]=Y+fe,G[H+1]=Z+te,G[H+2]=Z-te,G[H+3]=Y-fe,H+=4,x++}for(q=H=0;4>q;++q)Y=(m=G[H+0]+4)+G[H+8],Z=m-G[H+8],te=(35468*G[H+4]>>16)-en(G[H+12]),Ga(E,R,0,0,Y+(fe=en(G[H+4])+(35468*G[H+12]>>16))),Ga(E,R,1,0,Z+te),Ga(E,R,2,0,Z-te),Ga(E,R,3,0,Y-fe),H++,R+=32}function bb(m,x,E,R){var q=m[x+0]+4,H=35468*m[x+4]>>16,G=en(m[x+4]),Y=35468*m[x+1]>>16;oc(E,R,0,q+G,m=en(m[x+1]),Y),oc(E,R,1,q+H,m,Y),oc(E,R,2,q-H,m,Y),oc(E,R,3,q-G,m,Y)}function xb(m,x,E,R,q){ah(m,x,E,R),q&&ah(m,x+16,E,R+4)}function wb(m,x,E,R){jc(m,x+0,E,R,1),jc(m,x+32,E,R+128,1)}function _s(m,x,E,R){var q;for(m=m[x+0]+4,q=0;4>q;++q)for(x=0;4>x;++x)Ga(E,R,x,q,m)}function mg(m,x,E,R){m[x+0]&&dr(m,x+0,E,R),m[x+16]&&dr(m,x+16,E,R+4),m[x+32]&&dr(m,x+32,E,R+128),m[x+48]&&dr(m,x+48,E,R+128+4)}function gg(m,x,E,R){var q,H=a(16);for(q=0;4>q;++q){var G=m[x+0+q]+m[x+12+q],Y=m[x+4+q]+m[x+8+q],Z=m[x+4+q]-m[x+8+q],te=m[x+0+q]-m[x+12+q];H[0+q]=G+Y,H[8+q]=G-Y,H[4+q]=te+Z,H[12+q]=te-Z}for(q=0;4>q;++q)G=(m=H[0+4*q]+3)+H[3+4*q],Y=H[1+4*q]+H[2+4*q],Z=H[1+4*q]-H[2+4*q],te=m-H[3+4*q],E[R+0]=G+Y>>3,E[R+16]=te+Z>>3,E[R+32]=G-Y>>3,E[R+48]=te-Z>>3,R+=64}function Go(m,x,E){var R,q=x-32,H=Vi,G=255-m[q-1];for(R=0;R<E;++R){var Y,Z=H,te=G+m[x-1];for(Y=0;Y<E;++Y)m[x+Y]=Z[te+m[q+Y]];x+=32}}function sh(m,x){Go(m,x,4)}function _b(m,x){Go(m,x,8)}function Sb(m,x){Go(m,x,16)}function jb(m,x){var E;for(E=0;16>E;++E)n(m,x+32*E,m,x-32,16)}function oh(m,x){var E;for(E=16;0<E;--E)i(m,x,m[x-1],16),x+=32}function lc(m,x,E){var R;for(R=0;16>R;++R)i(x,E+32*R,m,16)}function Ko(m,x){var E,R=16;for(E=0;16>E;++E)R+=m[x-1+32*E]+m[x+E-32];lc(R>>5,m,x)}function Nb(m,x){var E,R=8;for(E=0;16>E;++E)R+=m[x-1+32*E];lc(R>>4,m,x)}function cc(m,x){var E,R=8;for(E=0;16>E;++E)R+=m[x+E-32];lc(R>>4,m,x)}function lh(m,x){lc(128,m,x)}function It(m,x,E){return m+2*x+E+2>>2}function Ab(m,x){var E,R=x-32;for(R=new Uint8Array([It(m[R-1],m[R+0],m[R+1]),It(m[R+0],m[R+1],m[R+2]),It(m[R+1],m[R+2],m[R+3]),It(m[R+2],m[R+3],m[R+4])]),E=0;4>E;++E)n(m,x+32*E,R,0,R.length)}function kb(m,x){var E=m[x-1],R=m[x-1+32],q=m[x-1+64],H=m[x-1+96];je(m,x+0,16843009*It(m[x-1-32],E,R)),je(m,x+32,16843009*It(E,R,q)),je(m,x+64,16843009*It(R,q,H)),je(m,x+96,16843009*It(q,H,H))}function Eb(m,x){var E,R=4;for(E=0;4>E;++E)R+=m[x+E-32]+m[x-1+32*E];for(R>>=3,E=0;4>E;++E)i(m,x+32*E,R,4)}function Ob(m,x){var E=m[x-1+0],R=m[x-1+32],q=m[x-1+64],H=m[x-1-32],G=m[x+0-32],Y=m[x+1-32],Z=m[x+2-32],te=m[x+3-32];m[x+0+96]=It(R,q,m[x-1+96]),m[x+1+96]=m[x+0+64]=It(E,R,q),m[x+2+96]=m[x+1+64]=m[x+0+32]=It(H,E,R),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=It(G,H,E),m[x+3+64]=m[x+2+32]=m[x+1+0]=It(Y,G,H),m[x+3+32]=m[x+2+0]=It(Z,Y,G),m[x+3+0]=It(te,Z,Y)}function Zs(m,x){var E=m[x+1-32],R=m[x+2-32],q=m[x+3-32],H=m[x+4-32],G=m[x+5-32],Y=m[x+6-32],Z=m[x+7-32];m[x+0+0]=It(m[x+0-32],E,R),m[x+1+0]=m[x+0+32]=It(E,R,q),m[x+2+0]=m[x+1+32]=m[x+0+64]=It(R,q,H),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=It(q,H,G),m[x+3+32]=m[x+2+64]=m[x+1+96]=It(H,G,Y),m[x+3+64]=m[x+2+96]=It(G,Y,Z),m[x+3+96]=It(Y,Z,Z)}function Qs(m,x){var E=m[x-1+0],R=m[x-1+32],q=m[x-1+64],H=m[x-1-32],G=m[x+0-32],Y=m[x+1-32],Z=m[x+2-32],te=m[x+3-32];m[x+0+0]=m[x+1+64]=H+G+1>>1,m[x+1+0]=m[x+2+64]=G+Y+1>>1,m[x+2+0]=m[x+3+64]=Y+Z+1>>1,m[x+3+0]=Z+te+1>>1,m[x+0+96]=It(q,R,E),m[x+0+64]=It(R,E,H),m[x+0+32]=m[x+1+96]=It(E,H,G),m[x+1+32]=m[x+2+96]=It(H,G,Y),m[x+2+32]=m[x+3+96]=It(G,Y,Z),m[x+3+32]=It(Y,Z,te)}function Pb(m,x){var E=m[x+0-32],R=m[x+1-32],q=m[x+2-32],H=m[x+3-32],G=m[x+4-32],Y=m[x+5-32],Z=m[x+6-32],te=m[x+7-32];m[x+0+0]=E+R+1>>1,m[x+1+0]=m[x+0+64]=R+q+1>>1,m[x+2+0]=m[x+1+64]=q+H+1>>1,m[x+3+0]=m[x+2+64]=H+G+1>>1,m[x+0+32]=It(E,R,q),m[x+1+32]=m[x+0+96]=It(R,q,H),m[x+2+32]=m[x+1+96]=It(q,H,G),m[x+3+32]=m[x+2+96]=It(H,G,Y),m[x+3+64]=It(G,Y,Z),m[x+3+96]=It(Y,Z,te)}function Cb(m,x){var E=m[x-1+0],R=m[x-1+32],q=m[x-1+64],H=m[x-1+96];m[x+0+0]=E+R+1>>1,m[x+2+0]=m[x+0+32]=R+q+1>>1,m[x+2+32]=m[x+0+64]=q+H+1>>1,m[x+1+0]=It(E,R,q),m[x+3+0]=m[x+1+32]=It(R,q,H),m[x+3+32]=m[x+1+64]=It(q,H,H),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=H}function Lu(m,x){var E=m[x-1+0],R=m[x-1+32],q=m[x-1+64],H=m[x-1+96],G=m[x-1-32],Y=m[x+0-32],Z=m[x+1-32],te=m[x+2-32];m[x+0+0]=m[x+2+32]=E+G+1>>1,m[x+0+32]=m[x+2+64]=R+E+1>>1,m[x+0+64]=m[x+2+96]=q+R+1>>1,m[x+0+96]=H+q+1>>1,m[x+3+0]=It(Y,Z,te),m[x+2+0]=It(G,Y,Z),m[x+1+0]=m[x+3+32]=It(E,G,Y),m[x+1+32]=m[x+3+64]=It(R,E,G),m[x+1+64]=m[x+3+96]=It(q,R,E),m[x+1+96]=It(H,q,R)}function ch(m,x){var E;for(E=0;8>E;++E)n(m,x+32*E,m,x-32,8)}function uc(m,x){var E;for(E=0;8>E;++E)i(m,x,m[x-1],8),x+=32}function Ru(m,x,E){var R;for(R=0;8>R;++R)i(x,E+32*R,m,8)}function $u(m,x){var E,R=8;for(E=0;8>E;++E)R+=m[x+E-32]+m[x-1+32*E];Ru(R>>4,m,x)}function Tb(m,x){var E,R=4;for(E=0;8>E;++E)R+=m[x+E-32];Ru(R>>3,m,x)}function uh(m,x){var E,R=4;for(E=0;8>E;++E)R+=m[x-1+32*E];Ru(R>>3,m,x)}function dh(m,x){Ru(128,m,x)}function dc(m,x,E){var R=m[x-E],q=m[x+0],H=3*(q-R)+Ib[1020+m[x-2*E]-m[x+E]],G=Ag[112+(H+4>>3)];m[x-E]=Vi[255+R+Ag[112+(H+3>>3)]],m[x+0]=Vi[255+q-G]}function fc(m,x,E,R){var q=m[x+0],H=m[x+E];return _a[255+m[x-2*E]-m[x-E]]>R||_a[255+H-q]>R}function fh(m,x,E,R){return 4*_a[255+m[x-E]-m[x+0]]+_a[255+m[x-2*E]-m[x+E]]<=R}function Mu(m,x,E,R,q){var H=m[x-3*E],G=m[x-2*E],Y=m[x-E],Z=m[x+0],te=m[x+E],fe=m[x+2*E],Se=m[x+3*E];return 4*_a[255+Y-Z]+_a[255+G-te]>R?0:_a[255+m[x-4*E]-H]<=q&&_a[255+H-G]<=q&&_a[255+G-Y]<=q&&_a[255+Se-fe]<=q&&_a[255+fe-te]<=q&&_a[255+te-Z]<=q}function hh(m,x,E,R){var q=2*R+1;for(R=0;16>R;++R)fh(m,x+R,E,q)&&dc(m,x+R,E)}function hc(m,x,E,R){var q=2*R+1;for(R=0;16>R;++R)fh(m,x+R*E,1,q)&&dc(m,x+R*E,1)}function yg(m,x,E,R){var q;for(q=3;0<q;--q)hh(m,x+=4*E,E,R)}function vg(m,x,E,R){var q;for(q=3;0<q;--q)hc(m,x+=4,E,R)}function eo(m,x,E,R,q,H,G,Y){for(H=2*H+1;0<q--;){if(Mu(m,x,E,H,G))if(fc(m,x,E,Y))dc(m,x,E);else{var Z=m,te=x,fe=E,Se=Z[te-2*fe],re=Z[te-fe],pe=Z[te+0],be=Z[te+fe],Oe=Z[te+2*fe],xe=27*(Ie=Ib[1020+3*(pe-re)+Ib[1020+Se-be]])+63>>7,Ce=18*Ie+63>>7,Ie=9*Ie+63>>7;Z[te-3*fe]=Vi[255+Z[te-3*fe]+Ie],Z[te-2*fe]=Vi[255+Se+Ce],Z[te-fe]=Vi[255+re+xe],Z[te+0]=Vi[255+pe-xe],Z[te+fe]=Vi[255+be-Ce],Z[te+2*fe]=Vi[255+Oe-Ie]}x+=R}}function to(m,x,E,R,q,H,G,Y){for(H=2*H+1;0<q--;){if(Mu(m,x,E,H,G))if(fc(m,x,E,Y))dc(m,x,E);else{var Z=m,te=x,fe=E,Se=Z[te-fe],re=Z[te+0],pe=Z[te+fe],be=Ag[112+(4+(Oe=3*(re-Se))>>3)],Oe=Ag[112+(Oe+3>>3)],xe=be+1>>1;Z[te-2*fe]=Vi[255+Z[te-2*fe]+xe],Z[te-fe]=Vi[255+Se+Oe],Z[te+0]=Vi[255+re-be],Z[te+fe]=Vi[255+pe-xe]}x+=R}}function bg(m,x,E,R,q,H){eo(m,x,E,1,16,R,q,H)}function xg(m,x,E,R,q,H){eo(m,x,1,E,16,R,q,H)}function pc(m,x,E,R,q,H){var G;for(G=3;0<G;--G)to(m,x+=4*E,E,1,16,R,q,H)}function wg(m,x,E,R,q,H){var G;for(G=3;0<G;--G)to(m,x+=4,1,E,16,R,q,H)}function A(m,x,E,R,q,H,G,Y){eo(m,x,q,1,8,H,G,Y),eo(E,R,q,1,8,H,G,Y)}function z(m,x,E,R,q,H,G,Y){eo(m,x,1,q,8,H,G,Y),eo(E,R,1,q,8,H,G,Y)}function ne(m,x,E,R,q,H,G,Y){to(m,x+4*q,q,1,8,H,G,Y),to(E,R+4*q,q,1,8,H,G,Y)}function ce(m,x,E,R,q,H,G,Y){to(m,x+4,1,q,8,H,G,Y),to(E,R+4,1,q,8,H,G,Y)}function ve(){this.ba=new gt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Rt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Te(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function De(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ht(){this.ua=0,this.Wa=new lt,this.vb=new lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new D}function bt(){this.xb=this.a=0,this.l=new Iu,this.ca=new gt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ht,this.ab=0,this.gc=s(4,De),this.Oc=0}function Ct(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Iu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function $t(m,x,E,R,q,H,G){for(m=m==null?0:m[x+0],x=0;x<G;++x)q[H+x]=m+E[R+x]&255,m=q[H+x]}function ar(m,x,E,R,q,H,G){var Y;if(m==null)$t(null,null,E,R,q,H,G);else for(Y=0;Y<G;++Y)q[H+Y]=m[x+Y]+E[R+Y]&255}function zr(m,x,E,R,q,H,G){if(m==null)$t(null,null,E,R,q,H,G);else{var Y,Z=m[x+0],te=Z,fe=Z;for(Y=0;Y<G;++Y)te=fe+(Z=m[x+Y])-te,fe=E[R+Y]+(-256&te?0>te?0:255:te)&255,te=Z,q[H+Y]=fe}}function fn(m,x,E,R){var q=x.width,H=x.o;if(t(m!=null&&x!=null),0>E||0>=R||E+R>H)return null;if(!m.Cc){if(m.ga==null){var G;if(m.ga=new Ct,(G=m.ga==null)||(G=x.width*x.o,t(m.Gb.length==0),m.Gb=a(G),m.Uc=0,m.Gb==null?G=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,G=1),G=!G),!G){G=m.ga;var Y=m.Fa,Z=m.P,te=m.qc,fe=m.mb,Se=m.nb,re=Z+1,pe=te-1,be=G.l;if(t(Y!=null&&fe!=null&&x!=null),il[0]=null,il[1]=$t,il[2]=ar,il[3]=zr,G.ca=fe,G.tb=Se,G.c=x.width,G.i=x.height,t(0<G.c&&0<G.i),1>=te)x=0;else if(G.$a=3&Y[Z+0],G.Z=Y[Z+0]>>2&3,G.Lc=Y[Z+0]>>4&3,Z=Y[Z+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||Z)x=0;else if(be.put=Qe,be.ac=br,be.bc=wn,be.ma=G,be.width=x.width,be.height=x.height,be.Da=x.Da,be.v=x.v,be.va=x.va,be.j=x.j,be.o=x.o,G.$a)e:{t(G.$a==1),x=ic();t:for(;;){if(x==null){x=0;break e}if(t(G!=null),G.mc=x,x.c=G.c,x.i=G.i,x.l=G.l,x.l.ma=G,x.l.width=G.c,x.l.height=G.i,x.a=0,J(x.m,Y,re,pe),!ws(G.c,G.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&Ha(x.s)?(G.ic=1,Y=x.c*x.i,x.Ta=null,x.Ua=0,x.V=a(Y),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(G.ic=0,x=ac(x,G.c)),!x))break t;x=1;break e}G.mc=null,x=0}else x=pe>=G.c*G.i;G=!x}if(G)return null;m.ga.Lc!=1?m.Ga=0:R=H-E}t(m.ga!=null),t(E+R<=H);e:{if(x=(Y=m.ga).c,H=Y.l.o,Y.$a==0){if(re=m.rc,pe=m.Vc,be=m.Fa,Z=m.P+1+E*x,te=m.mb,fe=m.nb+E*x,t(Z<=m.P+m.qc),Y.Z!=0)for(t(il[Y.Z]!=null),G=0;G<R;++G)il[Y.Z](re,pe,be,Z,te,fe,x),re=te,pe=fe,fe+=x,Z+=x;else for(G=0;G<R;++G)n(te,fe,be,Z,x),re=te,pe=fe,fe+=x,Z+=x;m.rc=re,m.Vc=pe}else{if(t(Y.mc!=null),x=E+R,t((G=Y.mc)!=null),t(x<=G.i),G.C>=x)x=1;else if(Y.ic||ba(),Y.ic){Y=G.V,re=G.Ba,pe=G.c;var Oe=G.i,xe=(be=1,Z=G.$/pe,te=G.$%pe,fe=G.m,Se=G.s,G.$),Ce=pe*Oe,Ie=pe*x,We=Se.wc,Me=xe<Ie?Gr(Se,te,Z):null;t(xe<=Ce),t(x<=Oe),t(Ha(Se));t:for(;;){for(;!fe.h&&xe<Ie;){if(te&We||(Me=Gr(Se,te,Z)),t(Me!=null),ue(fe),256>(Oe=cr(Me.G[0],Me.H[0],fe)))Y[re+xe]=Oe,++xe,++te>=pe&&(te=0,++Z<=x&&!(Z%16)&&Wa(G,Z));else{if(!(280>Oe)){be=0;break t}Oe=ei(Oe-256,fe);var xt,ct=cr(Me.G[4],Me.H[4],fe);if(ue(fe),!(xe>=(ct=_n(pe,ct=ei(ct,fe)))&&Ce-xe>=Oe)){be=0;break t}for(xt=0;xt<Oe;++xt)Y[re+xe+xt]=Y[re+xe+xt-ct];for(xe+=Oe,te+=Oe;te>=pe;)te-=pe,++Z<=x&&!(Z%16)&&Wa(G,Z);xe<Ie&&te&We&&(Me=Gr(Se,te,Z))}t(fe.h==Q(fe))}Wa(G,Z>x?x:Z);break t}!be||fe.h&&xe<Ce?(be=0,G.a=fe.h?5:3):G.$=xe,x=be}else x=Va(G,G.V,G.Ba,G.c,G.i,x,Pu);if(!x){R=0;break e}}E+R>=H&&(m.Cc=1),R=1}if(!R)return null;if(m.Cc&&((R=m.ga)!=null&&(R.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+E*q}function jr(m,x,E,R,q,H){for(;0<q--;){var G,Y=m,Z=x+(E?1:0),te=m,fe=x+(E?0:3);for(G=0;G<R;++G){var Se=te[fe+4*G];Se!=255&&(Se*=32897,Y[Z+4*G+0]=Y[Z+4*G+0]*Se>>23,Y[Z+4*G+1]=Y[Z+4*G+1]*Se>>23,Y[Z+4*G+2]=Y[Z+4*G+2]*Se>>23)}x+=H}}function Sn(m,x,E,R,q){for(;0<R--;){var H;for(H=0;H<E;++H){var G=m[x+2*H+0],Y=15&(te=m[x+2*H+1]),Z=4369*Y,te=(240&te|te>>4)*Z>>16;m[x+2*H+0]=(240&G|G>>4)*Z>>16&240|(15&G|G<<4)*Z>>16>>4&15,m[x+2*H+1]=240&te|Y}x+=q}}function hn(m,x,E,R,q,H,G,Y){var Z,te,fe=255;for(te=0;te<q;++te){for(Z=0;Z<R;++Z){var Se=m[x+Z];H[G+4*Z]=Se,fe&=Se}x+=E,G+=Y}return fe!=255}function Wn(m,x,E,R,q){var H;for(H=0;H<q;++H)E[R+H]=m[x+H]>>8}function ba(){jh=jr,qN=Sn,HN=hn,WN=Wn}function Ei(m,x,E){L[m]=function(R,q,H,G,Y,Z,te,fe,Se,re,pe,be,Oe,xe,Ce,Ie,We){var Me,xt=We-1>>1,ct=Y[Z+0]|te[fe+0]<<16,Ut=Se[re+0]|pe[be+0]<<16;t(R!=null);var pt=3*ct+Ut+131074>>2;for(x(R[q+0],255&pt,pt>>16,Oe,xe),H!=null&&(pt=3*Ut+ct+131074>>2,x(H[G+0],255&pt,pt>>16,Ce,Ie)),Me=1;Me<=xt;++Me){var Kt=Y[Z+Me]|te[fe+Me]<<16,Nn=Se[re+Me]|pe[be+Me]<<16,zt=ct+Kt+Ut+Nn+524296,mt=zt+2*(Kt+Ut)>>3;pt=mt+ct>>1,ct=(zt=zt+2*(ct+Nn)>>3)+Kt>>1,x(R[q+2*Me-1],255&pt,pt>>16,Oe,xe+(2*Me-1)*E),x(R[q+2*Me-0],255&ct,ct>>16,Oe,xe+(2*Me-0)*E),H!=null&&(pt=zt+Ut>>1,ct=mt+Nn>>1,x(H[G+2*Me-1],255&pt,pt>>16,Ce,Ie+(2*Me-1)*E),x(H[G+2*Me+0],255&ct,ct>>16,Ce,Ie+(2*Me+0)*E)),ct=Kt,Ut=Nn}1&We||(pt=3*ct+Ut+131074>>2,x(R[q+We-1],255&pt,pt>>16,Oe,xe+(We-1)*E),H!=null&&(pt=3*Ut+ct+131074>>2,x(H[G+We-1],255&pt,pt>>16,Ce,Ie+(We-1)*E)))}}function _g(){Sa[kg]=r9,Sa[Eg]=rA,Sa[JN]=n9,Sa[Og]=nA,Sa[Pg]=iA,Sa[Lb]=aA,Sa[ZN]=i9,Sa[Rb]=rA,Sa[$b]=nA,Sa[Cg]=iA,Sa[Mb]=aA}function Du(m){return m&-16384?0>m?0:255:m>>a9}function mc(m,x){return Du((19077*m>>8)+(26149*x>>8)-14234)}function Yo(m,x,E){return Du((19077*m>>8)-(6419*x>>8)-(13320*E>>8)+8708)}function gc(m,x){return Du((19077*m>>8)+(33050*x>>8)-17685)}function yc(m,x,E,R,q){R[q+0]=mc(m,E),R[q+1]=Yo(m,x,E),R[q+2]=gc(m,x)}function vc(m,x,E,R,q){R[q+0]=gc(m,x),R[q+1]=Yo(m,x,E),R[q+2]=mc(m,E)}function ti(m,x,E,R,q){var H=Yo(m,x,E);x=H<<3&224|gc(m,x)>>3,R[q+0]=248&mc(m,E)|H>>5,R[q+1]=x}function bc(m,x,E,R,q){var H=240&gc(m,x)|15;R[q+0]=240&mc(m,E)|Yo(m,x,E)>>4,R[q+1]=H}function xc(m,x,E,R,q){R[q+0]=255,yc(m,x,E,R,q+1)}function ph(m,x,E,R,q){vc(m,x,E,R,q),R[q+3]=255}function mh(m,x,E,R,q){yc(m,x,E,R,q),R[q+3]=255}function Kr(m,x){return 0>m?0:m>x?x:m}function ro(m,x,E){L[m]=function(R,q,H,G,Y,Z,te,fe,Se){for(var re=fe+(-2&Se)*E;fe!=re;)x(R[q+0],H[G+0],Y[Z+0],te,fe),x(R[q+1],H[G+0],Y[Z+0],te,fe+E),q+=2,++G,++Z,fe+=2*E;1&Se&&x(R[q+0],H[G+0],Y[Z+0],te,fe)}}function Bu(m,x,E){return E==0?m==0?x==0?6:5:x==0?4:0:E}function Sg(m,x,E,R,q){switch(m>>>30){case 3:jc(x,E,R,q,0);break;case 2:wa(x,E,R,q);break;case 1:dr(x,E,R,q)}}function xa(m,x){var E,R,q=x.M,H=x.Nb,G=m.oc,Y=m.pc+40,Z=m.oc,te=m.pc+584,fe=m.oc,Se=m.pc+600;for(E=0;16>E;++E)G[Y+32*E-1]=129;for(E=0;8>E;++E)Z[te+32*E-1]=129,fe[Se+32*E-1]=129;for(0<q?G[Y-1-32]=Z[te-1-32]=fe[Se-1-32]=129:(i(G,Y-32-1,127,21),i(Z,te-32-1,127,9),i(fe,Se-32-1,127,9)),R=0;R<m.za;++R){var re=x.ya[x.aa+R];if(0<R){for(E=-1;16>E;++E)n(G,Y+32*E-4,G,Y+32*E+12,4);for(E=-1;8>E;++E)n(Z,te+32*E-4,Z,te+32*E+4,4),n(fe,Se+32*E-4,fe,Se+32*E+4,4)}var pe=m.Gd,be=m.Hd+R,Oe=re.ad,xe=re.Hc;if(0<q&&(n(G,Y-32,pe[be].y,0,16),n(Z,te-32,pe[be].f,0,8),n(fe,Se-32,pe[be].ea,0,8)),re.Za){var Ce=G,Ie=Y-32+16;for(0<q&&(R>=m.za-1?i(Ce,Ie,pe[be].y[15],4):n(Ce,Ie,pe[be+1].y,0,4)),E=0;4>E;E++)Ce[Ie+128+E]=Ce[Ie+256+E]=Ce[Ie+384+E]=Ce[Ie+0+E];for(E=0;16>E;++E,xe<<=2)Ce=G,Ie=Y+oA[E],Ka[re.Ob[E]](Ce,Ie),Sg(xe,Oe,16*+E,Ce,Ie)}else if(Ce=Bu(R,q,re.Ob[0]),nl[Ce](G,Y),xe!=0)for(E=0;16>E;++E,xe<<=2)Sg(xe,Oe,16*+E,G,Y+oA[E]);for(E=re.Gc,Ce=Bu(R,q,re.Dd),ao[Ce](Z,te),ao[Ce](fe,Se),xe=Oe,Ce=Z,Ie=te,255&(re=0|E)&&(170&re?Ns(xe,256,Ce,Ie):xr(xe,256,Ce,Ie)),re=fe,xe=Se,255&(E>>=8)&&(170&E?Ns(Oe,320,re,xe):xr(Oe,320,re,xe)),q<m.Ub-1&&(n(pe[be].y,0,G,Y+480,16),n(pe[be].f,0,Z,te+224,8),n(pe[be].ea,0,fe,Se+224,8)),E=8*H*m.B,pe=m.sa,be=m.ta+16*R+16*H*m.R,Oe=m.qa,re=m.ra+8*R+E,xe=m.Ha,Ce=m.Ia+8*R+E,E=0;16>E;++E)n(pe,be+E*m.R,G,Y+32*E,16);for(E=0;8>E;++E)n(Oe,re+E*m.B,Z,te+32*E,8),n(xe,Ce+E*m.B,fe,Se+32*E,8)}}function wc(m,x,E,R,q,H,G,Y,Z){var te=[0],fe=[0],Se=0,re=Z!=null?Z.kd:0,pe=Z??new Te;if(m==null||12>E)return 7;pe.data=m,pe.w=x,pe.ha=E,x=[x],E=[E],pe.gb=[pe.gb];e:{var be=x,Oe=E,xe=pe.gb;if(t(m!=null),t(Oe!=null),t(xe!=null),xe[0]=0,12<=Oe[0]&&!r(m,be[0],"RIFF")){if(r(m,be[0]+8,"WEBP")){xe=3;break e}var Ce=ye(m,be[0]+4);if(12>Ce||4294967286<Ce){xe=3;break e}if(re&&Ce>Oe[0]-8){xe=7;break e}xe[0]=Ce,be[0]+=12,Oe[0]-=12}xe=0}if(xe!=0)return xe;for(Ce=0<pe.gb[0],E=E[0];;){e:{var Ie=m;Oe=x,xe=E;var We=te,Me=fe,xt=be=[0];if((pt=Se=[Se])[0]=0,8>xe[0])xe=7;else{if(!r(Ie,Oe[0],"VP8X")){if(ye(Ie,Oe[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var ct=ye(Ie,Oe[0]+8),Ut=1+Be(Ie,Oe[0]+12);if(2147483648<=Ut*(Ie=1+Be(Ie,Oe[0]+15))){xe=3;break e}xt!=null&&(xt[0]=ct),We!=null&&(We[0]=Ut),Me!=null&&(Me[0]=Ie),Oe[0]+=18,xe[0]-=18,pt[0]=1}xe=0}}if(Se=Se[0],be=be[0],xe!=0)return xe;if(Oe=!!(2&be),!Ce&&Se)return 3;if(H!=null&&(H[0]=!!(16&be)),G!=null&&(G[0]=Oe),Y!=null&&(Y[0]=0),G=te[0],be=fe[0],Se&&Oe&&Z==null){xe=0;break}if(4>E){xe=7;break}if(Ce&&Se||!Ce&&!Se&&!r(m,x[0],"ALPH")){E=[E],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{ct=m,xe=x,Ce=E;var pt=pe.gb;We=pe.na,Me=pe.P,xt=pe.Sa,Ut=22,t(ct!=null),t(Ce!=null),Ie=xe[0];var Kt=Ce[0];for(t(We!=null),t(xt!=null),We[0]=null,Me[0]=null,xt[0]=0;;){if(xe[0]=Ie,Ce[0]=Kt,8>Kt){xe=7;break e}var Nn=ye(ct,Ie+4);if(4294967286<Nn){xe=3;break e}var zt=8+Nn+1&-2;if(Ut+=zt,0<pt&&Ut>pt){xe=3;break e}if(!r(ct,Ie,"VP8 ")||!r(ct,Ie,"VP8L")){xe=0;break e}if(Kt[0]<zt){xe=7;break e}r(ct,Ie,"ALPH")||(We[0]=ct,Me[0]=Ie+8,xt[0]=Nn),Ie+=zt,Kt-=zt}}if(E=E[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],xe!=0)break}E=[E],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(pt=m,xe=x,Ce=E,We=pe.gb[0],Me=pe.Ja,xt=pe.xa,ct=xe[0],Ie=!r(pt,ct,"VP8 "),Ut=!r(pt,ct,"VP8L"),t(pt!=null),t(Ce!=null),t(Me!=null),t(xt!=null),8>Ce[0])xe=7;else{if(Ie||Ut){if(pt=ye(pt,ct+4),12<=We&&pt>We-12){xe=3;break e}if(re&&pt>Ce[0]-8){xe=7;break e}Me[0]=pt,xe[0]+=8,Ce[0]-=8,xt[0]=Ut}else xt[0]=5<=Ce[0]&&pt[ct+0]==47&&!(pt[ct+4]>>5),Me[0]=Ce[0];xe=0}if(E=E[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],x=x[0],xe!=0)break;if(4294967286<pe.Ja)return 3;if(Y==null||Oe||(Y[0]=pe.xa?2:1),G=[G],be=[be],pe.xa){if(5>E){xe=7;break}Y=G,re=be,Oe=H,m==null||5>E?m=0:5<=E&&m[x+0]==47&&!(m[x+4]>>5)?(Ce=[0],pt=[0],We=[0],J(Me=new C,m,x,E),Hn(Me,Ce,pt,We)?(Y!=null&&(Y[0]=Ce[0]),re!=null&&(re[0]=pt[0]),Oe!=null&&(Oe[0]=We[0]),m=1):m=0):m=0}else{if(10>E){xe=7;break}Y=be,m==null||10>E||!hg(m,x+3,E-3)?m=0:(re=m[x+0]|m[x+1]<<8|m[x+2]<<16,Oe=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=pe.Ja||!Oe||!m?m=0:(G&&(G[0]=Oe),Y&&(Y[0]=m),m=1))}if(!m||(G=G[0],be=be[0],Se&&(te[0]!=G||fe[0]!=be)))return 3;Z!=null&&(Z[0]=pe,Z.offset=x-Z.w,t(4294967286>x-Z.w),t(Z.offset==Z.ha-E));break}return xe==0||xe==7&&Se&&Z==null?(H!=null&&(H[0]|=pe.na!=null&&0<pe.na.length),R!=null&&(R[0]=G),q!=null&&(q[0]=be),0):xe}function gh(m,x,E){var R=x.width,q=x.height,H=0,G=0,Y=R,Z=q;if(x.Da=m!=null&&0<m.Da,x.Da&&(Y=m.cd,Z=m.bd,H=m.v,G=m.j,11>E||(H&=-2,G&=-2),0>H||0>G||0>=Y||0>=Z||H+Y>R||G+Z>q))return 0;if(x.v=H,x.j=G,x.va=H+Y,x.o=G+Z,x.U=Y,x.T=Z,x.da=m!=null&&0<m.da,x.da){if(!at(Y,Z,E=[m.ib],H=[m.hb]))return 0;x.ib=E[0],x.hb=H[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*R/4&&x.hb<3*q/4,x.Kb=0),1}function yh(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function Xo(m,x,E,R){if(R==null||0>=m||0>=x)return 2;if(E!=null){if(E.Da){var q=E.cd,H=E.bd,G=-2&E.v,Y=-2&E.j;if(0>G||0>Y||0>=q||0>=H||G+q>m||Y+H>x)return 2;m=q,x=H}if(E.da){if(!at(m,x,q=[E.ib],H=[E.hb]))return 2;m=q[0],x=H[0]}}R.width=m,R.height=x;e:{var Z=R.width,te=R.height;if(m=R.S,0>=Z||0>=te||!(m>=kg&&13>m))m=2;else{if(0>=R.Rd&&R.sd==null){G=H=q=x=0;var fe=(Y=Z*lA[m])*te;if(11>m||(H=(te+1)/2*(x=(Z+1)/2),m==12&&(G=(q=Z)*te)),(te=a(fe+2*H+G))==null){m=1;break e}R.sd=te,11>m?((Z=R.f.RGBA).eb=te,Z.fb=0,Z.A=Y,Z.size=fe):((Z=R.f.kb).y=te,Z.O=0,Z.fa=Y,Z.Fd=fe,Z.f=te,Z.N=0+fe,Z.Ab=x,Z.Cd=H,Z.ea=te,Z.W=0+fe+H,Z.Db=x,Z.Ed=H,m==12&&(Z.F=te,Z.J=0+fe+2*H),Z.Tc=G,Z.lb=q)}if(x=1,q=R.S,H=R.width,G=R.height,q>=kg&&13>q)if(11>q)m=R.f.RGBA,x&=(Y=Math.abs(m.A))*(G-1)+H<=m.size,x&=Y>=H*lA[q],x&=m.eb!=null;else{m=R.f.kb,Y=(H+1)/2,fe=(G+1)/2,Z=Math.abs(m.fa),te=Math.abs(m.Ab);var Se=Math.abs(m.Db),re=Math.abs(m.lb),pe=re*(G-1)+H;x&=Z*(G-1)+H<=m.Fd,x&=te*(fe-1)+Y<=m.Cd,x=(x&=Se*(fe-1)+Y<=m.Ed)&Z>=H&te>=Y&Se>=Y,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,q==12&&(x&=re>=H,x&=pe<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||E!=null&&E.fd&&(m=yh(R)),m}var _c=64,Hi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wi=24,Jo=32,no=8,Zo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];oe("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(m){return m},L.Predictor2=function(m,x,E){return x[E+0]},L.Predictor3=function(m,x,E){return x[E+1]},L.Predictor4=function(m,x,E){return x[E-1]},L.Predictor5=function(m,x,E){return ze(ze(m,x[E+1]),x[E+0])},L.Predictor6=function(m,x,E){return ze(m,x[E-1])},L.Predictor7=function(m,x,E){return ze(m,x[E+0])},L.Predictor8=function(m,x,E){return ze(x[E-1],x[E+0])},L.Predictor9=function(m,x,E){return ze(x[E+0],x[E+1])},L.Predictor10=function(m,x,E){return ze(ze(m,x[E-1]),ze(x[E+0],x[E+1]))},L.Predictor11=function(m,x,E){var R=x[E+0];return 0>=de(R>>24&255,m>>24&255,(x=x[E-1])>>24&255)+de(R>>16&255,m>>16&255,x>>16&255)+de(R>>8&255,m>>8&255,x>>8&255)+de(255&R,255&m,255&x)?R:m},L.Predictor12=function(m,x,E){var R=x[E+0];return(Ue((m>>24&255)+(R>>24&255)-((x=x[E-1])>>24&255))<<24|Ue((m>>16&255)+(R>>16&255)-(x>>16&255))<<16|Ue((m>>8&255)+(R>>8&255)-(x>>8&255))<<8|Ue((255&m)+(255&R)-(255&x)))>>>0},L.Predictor13=function(m,x,E){var R=x[E-1];return(He((m=ze(m,x[E+0]))>>24&255,R>>24&255)<<24|He(m>>16&255,R>>16&255)<<16|He(m>>8&255,R>>8&255)<<8|He(255&m,255&R))>>>0};var vh=L.PredictorAdd0;L.PredictorAdd1=Ne,oe("Predictor2","PredictorAdd2"),oe("Predictor3","PredictorAdd3"),oe("Predictor4","PredictorAdd4"),oe("Predictor5","PredictorAdd5"),oe("Predictor6","PredictorAdd6"),oe("Predictor7","PredictorAdd7"),oe("Predictor8","PredictorAdd8"),oe("Predictor9","PredictorAdd9"),oe("Predictor10","PredictorAdd10"),oe("Predictor11","PredictorAdd11"),oe("Predictor12","PredictorAdd12"),oe("Predictor13","PredictorAdd13");var Fu=L.PredictorAdd2;Ee("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Ee("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var tn,jg=L.ColorIndexInverseTransform,Ss=L.MapARGB,js=L.VP8LColorIndexInverseTransformAlpha,bh=L.MapAlpha,xh=L.VP8LPredictorsAdd=[];xh.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var wh,_h,Qo,el,tl,Sc,rl,jc,wa,Ns,dr,xr,rn,jn,io,Sh,Uu,Ng,MN,DN,BN,FN,UN,zN,jh,qN,HN,WN,VN=a(511),GN=a(2041),KN=a(225),YN=a(767),XN=0,Ib=GN,Ag=KN,Vi=YN,_a=VN,kg=0,Eg=1,JN=2,Og=3,Pg=4,Lb=5,ZN=6,Rb=7,$b=8,Cg=9,Mb=10,zD=[2,3,7],qD=[3,3,11],QN=[280,256,256,256,40],HD=[0,1,1,1,0],WD=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],VD=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],GD=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],KD=8,Db=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Nh=null,YD=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],XD=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],eA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],JD=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ZD=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],QD=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],e9=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],nl=[],Ka=[],ao=[],t9=1,tA=2,il=[],Sa=[];Ei("UpsampleRgbLinePair",yc,3),Ei("UpsampleBgrLinePair",vc,3),Ei("UpsampleRgbaLinePair",mh,4),Ei("UpsampleBgraLinePair",ph,4),Ei("UpsampleArgbLinePair",xc,4),Ei("UpsampleRgba4444LinePair",bc,2),Ei("UpsampleRgb565LinePair",ti,2);var r9=L.UpsampleRgbLinePair,n9=L.UpsampleBgrLinePair,rA=L.UpsampleRgbaLinePair,nA=L.UpsampleBgraLinePair,iA=L.UpsampleArgbLinePair,aA=L.UpsampleRgba4444LinePair,i9=L.UpsampleRgb565LinePair,Tg=16,Ig=1<<Tg-1,Ah=-227,Fb=482,a9=6,sA=0,s9=a(256),o9=a(256),l9=a(256),c9=a(256),u9=a(Fb-Ah),d9=a(Fb-Ah);ro("YuvToRgbRow",yc,3),ro("YuvToBgrRow",vc,3),ro("YuvToRgbaRow",mh,4),ro("YuvToBgraRow",ph,4),ro("YuvToArgbRow",xc,4),ro("YuvToRgba4444Row",bc,2),ro("YuvToRgb565Row",ti,2);var oA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Lg=[0,2,8],f9=[8,7,6,4,4,2,2,2,1,1,1,1],h9=1;this.WebPDecodeRGBA=function(m,x,E,R,q){var H=Eg,G=new ve,Y=new gt;G.ba=Y,Y.S=H,Y.width=[Y.width],Y.height=[Y.height];var Z=Y.width,te=Y.height,fe=new tt;if(fe==null||m==null)var Se=2;else t(fe!=null),Se=wc(m,x,E,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(Se!=0?Z=0:(Z!=null&&(Z[0]=fe.width[0]),te!=null&&(te[0]=fe.height[0]),Z=1),Z){Y.width=Y.width[0],Y.height=Y.height[0],R!=null&&(R[0]=Y.width),q!=null&&(q[0]=Y.height);e:{if(R=new Iu,(q=new Te).data=m,q.w=x,q.ha=E,q.kd=1,x=[0],t(q!=null),((m=wc(q.data,q.w,q.ha,null,null,null,x,null,q))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(t(G!=null),R.data=q.data,R.w=q.w+q.offset,R.ha=q.ha-q.offset,R.put=Qe,R.ac=br,R.bc=wn,R.ma=G,q.xa){if((m=ic())==null){G=1;break e}if(function(re,pe){var be=[0],Oe=[0],xe=[0];t:for(;;){if(re==null)return 0;if(pe==null)return re.a=2,0;if(re.l=pe,re.a=0,J(re.m,pe.data,pe.w,pe.ha),!Hn(re.m,be,Oe,xe)){re.a=3;break t}if(re.xb=tA,pe.width=be[0],pe.height=Oe[0],!ws(be[0],Oe[0],1,re,null))break t;return 1}return t(re.a!=0),0}(m,R)){if(R=(x=Xo(R.width,R.height,G.Oa,G.ba))==0){t:{R=m;r:for(;;){if(R==null){R=0;break t}if(t(R.s.yc!=null),t(R.s.Ya!=null),t(0<R.s.Wb),t((E=R.l)!=null),t((q=E.ma)!=null),R.xb!=0){if(R.ca=q.ba,R.tb=q.tb,t(R.ca!=null),!gh(q.Oa,E,Og)){R.a=2;break r}if(!ac(R,E.width)||E.da)break r;if((E.da||St(R.ca.S))&&ba(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&ba()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!ee(R.s.vb,R.s.Wa.Xa)){R.a=1;break r}R.xb=0}if(!Va(R,R.V,R.Ba,R.c,R.i,E.o,Vo))break r;q.Dc=R.Ma,R=1;break t}t(R.a!=0),R=0}R=!R}R&&(x=m.a)}else x=m.a}else{if((m=new vb)==null){G=1;break e}if(m.Fa=q.na,m.P=q.P,m.qc=q.Sa,pg(m,R)){if((x=Xo(R.width,R.height,G.Oa,G.ba))==0){if(m.Aa=0,E=G.Oa,t((q=m)!=null),E!=null){if(0<(Z=0>(Z=E.Md)?0:100<Z?255:255*Z/100)){for(te=fe=0;4>te;++te)12>(Se=q.pb[te]).lc&&(Se.ia=Z*f9[0>Se.lc?0:Se.lc]>>3),fe|=Se.ia;fe&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=E.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(re,pe){if(re==null)return 0;if(pe==null)return dn(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!pg(re,pe))return 0;if(t(re.cb),pe.ac==null||pe.ac(pe)){pe.ob&&(re.L=0);var be=Lg[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=pe.v-be>>4,re.zb=pe.j-be>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=pe.o+15+be>>4,re.Hb=pe.va+15+be>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var Oe=re.ed;for(be=0;4>be;++be){var xe;if(re.Qa.Cb){var Ce=re.Qa.Lb[be];re.Qa.Fb||(Ce+=Oe.Tb)}else Ce=Oe.Tb;for(xe=0;1>=xe;++xe){var Ie=re.gd[be][xe],We=Ce;if(Oe.Pc&&(We+=Oe.vd[0],xe&&(We+=Oe.od[0])),0<(We=0>We?0:63<We?63:We)){var Me=We;0<Oe.wb&&(Me=4<Oe.wb?Me>>2:Me>>1)>9-Oe.wb&&(Me=9-Oe.wb),1>Me&&(Me=1),Ie.dd=Me,Ie.tc=2*We+Me,Ie.ld=40<=We?2:15<=We?1:0}else Ie.tc=0;Ie.La=xe}}}be=0}else dn(re,6,"Frame setup failed"),be=re.a;if(be=be==0){if(be){re.$c=0,0<re.Aa||(re.Ic=h9);t:{be=re.Ic,Oe=4*(Me=re.za);var xt=32*Me,ct=Me+1,Ut=0<re.L?Me*(0<re.Aa?2:1):0,pt=(re.Aa==2?2:1)*Me;if((Ie=Oe+832+(xe=3*(16*be+Lg[re.L])/2*xt)+(Ce=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=Ie)be=0;else{if(Ie>re.Vb){if(re.Vb=0,re.Ec=a(Ie),re.Fc=0,re.Ec==null){be=dn(re,1,"no memory during frame initialization.");break t}re.Vb=Ie}Ie=re.Ec,We=re.Fc,re.Ac=Ie,re.Bc=We,We+=Oe,re.Gd=s(xt,dg),re.Hd=0,re.rb=s(ct+1,nh),re.sb=1,re.wa=Ut?s(Ut,va):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=Me),t(!0),re.oc=Ie,re.pc=We,We+=832,re.ya=s(pt,ih),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=Me),re.R=16*Me,re.B=8*Me,Me=(xt=Lg[re.L])*re.R,xt=xt/2*re.B,re.sa=Ie,re.ta=We+Me,re.qa=re.sa,re.ra=re.ta+16*be*re.R+xt,re.Ha=re.qa,re.Ia=re.ra+8*be*re.B+xt,re.$c=0,We+=xe,re.mb=Ce?Ie:null,re.nb=Ce?We:null,t(We+Ce<=re.Fc+re.Vb),sc(re),i(re.Ac,re.Bc,0,Oe),be=1}}if(be){if(pe.ka=0,pe.y=re.sa,pe.O=re.ta,pe.f=re.qa,pe.N=re.ra,pe.ea=re.Ha,pe.Vd=re.Ia,pe.fa=re.R,pe.Rc=re.B,pe.F=null,pe.J=0,!XN){for(be=-255;255>=be;++be)VN[255+be]=0>be?-be:be;for(be=-1020;1020>=be;++be)GN[1020+be]=-128>be?-128:127<be?127:be;for(be=-112;112>=be;++be)KN[112+be]=-16>be?-16:15<be?15:be;for(be=-255;510>=be;++be)YN[255+be]=0>be?0:255<be?255:be;XN=1}rl=gg,jc=xb,Ns=wb,dr=_s,xr=mg,wa=bb,rn=bg,jn=xg,io=A,Sh=z,Uu=pc,Ng=wg,MN=ne,DN=ce,BN=hh,FN=hc,UN=yg,zN=vg,Ka[0]=Eb,Ka[1]=sh,Ka[2]=Ab,Ka[3]=kb,Ka[4]=Ob,Ka[5]=Qs,Ka[6]=Zs,Ka[7]=Pb,Ka[8]=Lu,Ka[9]=Cb,nl[0]=Ko,nl[1]=Sb,nl[2]=jb,nl[3]=oh,nl[4]=Nb,nl[5]=cc,nl[6]=lh,ao[0]=$u,ao[1]=_b,ao[2]=ch,ao[3]=uc,ao[4]=uh,ao[5]=Tb,ao[6]=dh,be=1}else be=0}be&&(be=function(Kt,Nn){for(Kt.M=0;Kt.M<Kt.Va;++Kt.M){var zt,mt=Kt.Jc[Kt.M&Kt.Xb],et=Kt.m,nn=Kt;for(zt=0;zt<nn.za;++zt){var Bt=et,Xt=nn,Ir=Xt.Ac,Vn=Xt.Bc+4*zt,mi=Xt.zc,Yr=Xt.ya[Xt.aa+zt];if(Xt.Qa.Bb?Yr.$b=he(Bt,Xt.Pa.jb[0])?2+he(Bt,Xt.Pa.jb[2]):he(Bt,Xt.Pa.jb[1]):Yr.$b=0,Xt.kc&&(Yr.Ad=he(Bt,Xt.Bd)),Yr.Za=!he(Bt,145)+0,Yr.Za){var ri=Yr.Ob,gi=0;for(Xt=0;4>Xt;++Xt){var An,Qt=mi[0+Xt];for(An=0;4>An;++An){Qt=ZD[Ir[Vn+An]][Qt];for(var hr=eA[he(Bt,Qt[0])];0<hr;)hr=eA[2*hr+he(Bt,Qt[hr])];Qt=-hr,Ir[Vn+An]=Qt}n(ri,gi,Ir,Vn,4),gi+=4,mi[0+Xt]=Qt}}else Qt=he(Bt,156)?he(Bt,128)?1:3:he(Bt,163)?2:0,Yr.Ob[0]=Qt,i(Ir,Vn,Qt,4),i(mi,0,Qt,4);Yr.Dd=he(Bt,142)?he(Bt,114)?he(Bt,183)?1:3:2:0}if(nn.m.Ka)return dn(Kt,7,"Premature end-of-partition0 encountered.");for(;Kt.ja<Kt.za;++Kt.ja){if(nn=mt,Bt=(et=Kt).rb[et.sb-1],Ir=et.rb[et.sb+et.ja],zt=et.ya[et.aa+et.ja],Vn=et.kc?zt.Ad:0)Bt.la=Ir.la=0,zt.Za||(Bt.Na=Ir.Na=0),zt.Hc=0,zt.Gc=0,zt.ia=0;else{var Xr,pr;if(Bt=Ir,Ir=nn,Vn=et.Pa.Xc,mi=et.ya[et.aa+et.ja],Yr=et.pb[mi.$b],Xt=mi.ad,ri=0,gi=et.rb[et.sb-1],Qt=An=0,i(Xt,ri,0,384),mi.Za)var Gn=0,Ya=Vn[3];else{hr=a(16);var an=Bt.Na+gi.Na;if(an=Nh(Ir,Vn[1],an,Yr.Eb,0,hr,0),Bt.Na=gi.Na=(0<an)+0,1<an)rl(hr,0,Xt,ri);else{var Oi=hr[0]+3>>3;for(hr=0;256>hr;hr+=16)Xt[ri+hr]=Oi}Gn=1,Ya=Vn[0]}var wr=15&Bt.la,kn=15&gi.la;for(hr=0;4>hr;++hr){var Gi=1&kn;for(Oi=pr=0;4>Oi;++Oi)wr=wr>>1|(Gi=(an=Nh(Ir,Ya,an=Gi+(1&wr),Yr.Sc,Gn,Xt,ri))>Gn)<<7,pr=pr<<2|(3<an?3:1<an?2:Xt[ri+0]!=0),ri+=16;wr>>=4,kn=kn>>1|Gi<<7,An=(An<<8|pr)>>>0}for(Ya=wr,Gn=kn>>4,Xr=0;4>Xr;Xr+=2){for(pr=0,wr=Bt.la>>4+Xr,kn=gi.la>>4+Xr,hr=0;2>hr;++hr){for(Gi=1&kn,Oi=0;2>Oi;++Oi)an=Gi+(1&wr),wr=wr>>1|(Gi=0<(an=Nh(Ir,Vn[2],an,Yr.Qc,0,Xt,ri)))<<3,pr=pr<<2|(3<an?3:1<an?2:Xt[ri+0]!=0),ri+=16;wr>>=2,kn=kn>>1|Gi<<5}Qt|=pr<<4*Xr,Ya|=wr<<4<<Xr,Gn|=(240&kn)<<Xr}Bt.la=Ya,gi.la=Gn,mi.Hc=An,mi.Gc=Qt,mi.ia=43690&Qt?0:Yr.ia,Vn=!(An|Qt)}if(0<et.L&&(et.wa[et.Y+et.ja]=et.gd[zt.$b][zt.Za],et.wa[et.Y+et.ja].La|=!Vn),nn.Ka)return dn(Kt,7,"Premature end-of-file encountered.")}if(sc(Kt),et=Nn,nn=1,zt=(mt=Kt).D,Bt=0<mt.L&&mt.M>=mt.zb&&mt.M<=mt.Va,mt.Aa==0)t:{if(zt.M=mt.M,zt.uc=Bt,xa(mt,zt),nn=1,zt=(pr=mt.D).Nb,Bt=(Qt=Lg[mt.L])*mt.R,Ir=Qt/2*mt.B,hr=16*zt*mt.R,Oi=8*zt*mt.B,Vn=mt.sa,mi=mt.ta-Bt+hr,Yr=mt.qa,Xt=mt.ra-Ir+Oi,ri=mt.Ha,gi=mt.Ia-Ir+Oi,kn=(wr=pr.M)==0,An=wr>=mt.Va-1,mt.Aa==2&&xa(mt,pr),pr.uc)for(Gi=(an=mt).D.M,t(an.D.uc),pr=an.yb;pr<an.Hb;++pr){Gn=pr,Ya=Gi;var yi=(Ki=(Kn=an).D).Nb;Xr=Kn.R;var Ki=Ki.wa[Ki.Y+Gn],Yi=Kn.sa,Pi=Kn.ta+16*yi*Xr+16*Gn,Xi=Ki.dd,Nr=Ki.tc;if(Nr!=0)if(t(3<=Nr),Kn.L==1)0<Gn&&FN(Yi,Pi,Xr,Nr+4),Ki.La&&zN(Yi,Pi,Xr,Nr),0<Ya&&BN(Yi,Pi,Xr,Nr+4),Ki.La&&UN(Yi,Pi,Xr,Nr);else{var Ji=Kn.B,Xa=Kn.qa,Nc=Kn.ra+8*yi*Ji+8*Gn,so=Kn.Ha,Kn=Kn.Ia+8*yi*Ji+8*Gn;yi=Ki.ld,0<Gn&&(jn(Yi,Pi,Xr,Nr+4,Xi,yi),Sh(Xa,Nc,so,Kn,Ji,Nr+4,Xi,yi)),Ki.La&&(Ng(Yi,Pi,Xr,Nr,Xi,yi),DN(Xa,Nc,so,Kn,Ji,Nr,Xi,yi)),0<Ya&&(rn(Yi,Pi,Xr,Nr+4,Xi,yi),io(Xa,Nc,so,Kn,Ji,Nr+4,Xi,yi)),Ki.La&&(Uu(Yi,Pi,Xr,Nr,Xi,yi),MN(Xa,Nc,so,Kn,Ji,Nr,Xi,yi))}}if(mt.ia&&alert("todo:DitherRow"),et.put!=null){if(pr=16*wr,wr=16*(wr+1),kn?(et.y=mt.sa,et.O=mt.ta+hr,et.f=mt.qa,et.N=mt.ra+Oi,et.ea=mt.Ha,et.W=mt.Ia+Oi):(pr-=Qt,et.y=Vn,et.O=mi,et.f=Yr,et.N=Xt,et.ea=ri,et.W=gi),An||(wr-=Qt),wr>et.o&&(wr=et.o),et.F=null,et.J=null,mt.Fa!=null&&0<mt.Fa.length&&pr<wr&&(et.J=fn(mt,et,pr,wr-pr),et.F=mt.mb,et.F==null&&et.F.length==0)){nn=dn(mt,3,"Could not decode alpha data.");break t}pr<et.j&&(Qt=et.j-pr,pr=et.j,t(!(1&Qt)),et.O+=mt.R*Qt,et.N+=mt.B*(Qt>>1),et.W+=mt.B*(Qt>>1),et.F!=null&&(et.J+=et.width*Qt)),pr<wr&&(et.O+=et.v,et.N+=et.v>>1,et.W+=et.v>>1,et.F!=null&&(et.J+=et.v),et.ka=pr-et.j,et.U=et.va-et.v,et.T=wr-pr,nn=et.put(et))}zt+1!=mt.Ic||An||(n(mt.sa,mt.ta-Bt,Vn,mi+16*mt.R,Bt),n(mt.qa,mt.ra-Ir,Yr,Xt+8*mt.B,Ir),n(mt.Ha,mt.Ia-Ir,ri,gi+8*mt.B,Ir))}if(!nn)return dn(Kt,6,"Output aborted.")}return 1}(re,pe)),pe.bc!=null&&pe.bc(pe),be&=1}return be?(re.cb=0,be):0})(m,R)||(x=m.a)}}else x=m.a}x==0&&G.Oa!=null&&G.Oa.fd&&(x=yh(G.ba))}G=x}H=G!=0?null:11>H?Y.f.RGBA.eb:Y.f.kb.y}else H=null;return H};var lA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(L,F){for(var k="",P=0;P<4;P++)k+=String.fromCharCode(L[F++]);return k}function u(L,F){return L[F+0]|L[F+1]<<8}function f(L,F){return(L[F+0]|L[F+1]<<8|L[F+2]<<16)>>>0}function p(L,F){return(L[F+0]|L[F+1]<<8|L[F+2]<<16|L[F+3]<<24)>>>0}new l;var h=[0],y=[0],g=[],b=new l,v=e,w=function(L,F){var k={},P=0,D=!1,M=0,U=0;if(k.frames=[],!function(T,C){for(var K=0;K<4;K++)if(T[C+K]!="RIFF".charCodeAt(K))return!0;return!1}(L,F)){for(p(L,F+=4),F+=8;F<L.length;){var V=c(L,F),W=p(L,F+=4);F+=4;var B=W+(1&W);switch(V){case"VP8 ":case"VP8L":k.frames[P]===void 0&&(k.frames[P]={}),(ae=k.frames[P]).src_off=D?U:F-8,ae.src_size=M+W+8,P++,D&&(D=!1,M=0,U=0);break;case"VP8X":(ae=k.header={}).feature_flags=L[F];var J=F+4;ae.canvas_width=1+f(L,J),J+=3,ae.canvas_height=1+f(L,J),J+=3;break;case"ALPH":D=!0,M=B+8,U=F-8;break;case"ANIM":(ae=k.header).bgcolor=p(L,F),J=F+4,ae.loop_count=u(L,J),J+=2;break;case"ANMF":var $,ae;(ae=k.frames[P]={}).offset_x=2*f(L,F),F+=3,ae.offset_y=2*f(L,F),F+=3,ae.width=1+f(L,F),F+=3,ae.height=1+f(L,F),F+=3,ae.duration=f(L,F),F+=3,$=L[F++],ae.dispose=1&$,ae.blend=$>>1&1}V!="ANMF"&&(F+=B)}return k}}(v,0);w.response=v,w.rgbaoutput=!0,w.dataurl=!1;var _=w.header?w.header:null,N=w.frames?w.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],y=[_.canvas_width];for(var S=0;S<N.length&&N[S].blend!=0;S++);}var j=N[0],O=b.WebPDecodeRGBA(v,j.src_off,j.src_size,y,h);j.rgba=O,j.imgwidth=y[0],j.imgheight=h[0];for(var I=0;I<y[0]*h[0]*4;I++)g[I]=O[I];return this.width=y,this.height=h,this.data=g,this}(function(e){var t,r,n,i,a,s,o,l,c,u=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new l,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new s,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new s,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var C=T;Object.defineProperty(this,"pdf",{get:function(){return C}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(ye){K=!!ye}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(ye){Q=!!ye}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(ye){isNaN(ye)||(ie=ye)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(ye){isNaN(ye)||(ue=ye)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ye){var ee;typeof ye=="number"?ee=[ye,ye,ye,ye]:((ee=new Array(4))[0]=ye[0],ee[1]=ye.length>=2?ye[1]:ee[0],ee[2]=ye.length>=3?ye[2]:ee[0],ee[3]=ye.length>=4?ye[3]:ee[1]),c.margin=ee}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(ye){ge=ye}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(ye){se=ye}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(ye){he=ye}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ye){ye instanceof u&&(c=ye)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ye){c.path=ye}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(ye){je=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var ee;ee=p(ye),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var ee=p(ye);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var me=null,Be=null;Object.defineProperty(this,"fontFaces",{get:function(){return Be},set:function(ye){me=null,Be=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var ee;if(this.ctx.font=ye,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var ut=ee[1];ee[2];var lt=ee[3],at=ee[4];ee[5];var Re=ee[6],rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(at)[2];at=Math.floor(rt==="px"?parseFloat(at)*this.pdf.internal.scaleFactor:rt==="em"?parseFloat(at)*this.pdf.getFontSize():parseFloat(at)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(at);var oe=function(Ae){var Ee,Fe,qe=[],ke=Ae.trim();if(ke==="")return B2;if(ke in SC)return[SC[ke]];for(;ke!=="";){switch(Fe=null,Ee=(ke=NC(ke)).charAt(0)){case'"':case"'":Fe=OSe(ke.substring(1),Ee);break;default:Fe=PSe(ke)}if(Fe===null||(qe.push(Fe[0]),(ke=NC(Fe[1]))!==""&&ke.charAt(0)!==","))return B2;ke=ke.replace(/^,/,"")}return qe}(Re);if(this.fontFaces){var $e=function(Ae,Ee){if(me===null){var Fe=function(qe){var ke=[];return Object.keys(qe).forEach(function(Ge){qe[Ge].forEach(function(Ve){var Xe=null;switch(Ve){case"bold":Xe={family:Ge,weight:"bold"};break;case"italic":Xe={family:Ge,style:"italic"};break;case"bolditalic":Xe={family:Ge,weight:"bold",style:"italic"};break;case"":case"normal":Xe={family:Ge}}Xe!==null&&(Xe.ref={name:Ge,style:Ve},ke.push(Xe))})}),ke}(Ae.getFontList());me=function(qe){for(var ke={},Ge=0;Ge<qe.length;++Ge){var Ve=D2(qe[Ge]),Xe=Ve.family,it=Ve.stretch,St=Ve.style,Ft=Ve.weight;ke[Xe]=ke[Xe]||{},ke[Xe][it]=ke[Xe][it]||{},ke[Xe][it][St]=ke[Xe][it][St]||{},ke[Xe][it][St][Ft]=Ve}return ke}(Fe.concat(Ee))}return me}(this.pdf,this.fontFaces),ze=oe.map(function(Ae){return{family:Ae,stretch:"normal",weight:lt,style:ut}}),Ue=function(Ae,Ee,Fe){for(var qe=(Fe=Fe||{}).defaultFontFamily||"times",ke=Object.assign({},ESe,Fe.genericFontFamilies||{}),Ge=null,Ve=null,Xe=0;Xe<Ee.length;++Xe)if(ke[(Ge=D2(Ee[Xe])).family]&&(Ge.family=ke[Ge.family]),Ae.hasOwnProperty(Ge.family)){Ve=Ae[Ge.family];break}if(!(Ve=Ve||Ae[qe]))throw new Error("Could not find a font-family for the rule '"+jC(Ge)+"' and default family '"+qe+"'.");if(Ve=function(it,St){if(St[it])return St[it];var Ft=J_[it],Jt=Ft<=J_.normal?-1:1,gt=_C(St,RD,Ft,Jt);if(!gt)throw new Error("Could not find a matching font-stretch value for "+it);return gt}(Ge.stretch,Ve),Ve=function(it,St){if(St[it])return St[it];for(var Ft=LD[it],Jt=0;Jt<Ft.length;++Jt)if(St[Ft[Jt]])return St[Ft[Jt]];throw new Error("Could not find a matching font-style for "+it)}(Ge.style,Ve),!(Ve=function(it,St){if(St[it])return St[it];if(it===400&&St[500])return St[500];if(it===500&&St[400])return St[400];var Ft=kSe[it],Jt=_C(St,$D,Ft,it<400?-1:1);if(!Jt)throw new Error("Could not find a matching font-weight for value "+it);return Jt}(Ge.weight,Ve)))throw new Error("Failed to resolve a font for the rule '"+jC(Ge)+"'.");return Ve}($e,ze);this.pdf.setFont(Ue.ref.name,Ue.ref.style)}else{var He="";(lt==="bold"||parseInt(lt,10)>=700||ut==="bold")&&(He="bold"),ut==="italic"&&(He+="italic"),He.length===0&&(He="normal");for(var de="",Ne={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},we=0;we<oe.length;we++){if(this.pdf.internal.getFont(oe[we],He,{noFallback:!0,disableWarning:!0})!==void 0){de=oe[we];break}if(He==="bolditalic"&&this.pdf.internal.getFont(oe[we],"bold",{noFallback:!0,disableWarning:!0})!==void 0)de=oe[we],He="bold";else if(this.pdf.internal.getFont(oe[we],"normal",{noFallback:!0,disableWarning:!0})!==void 0){de=oe[we],He="normal";break}}if(de===""){for(var _e=0;_e<oe.length;_e++)if(Ne[oe[_e]]){de=Ne[oe[_e]];break}}de=de===""?"Times":de,this.pdf.setFont(de,He)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};f.prototype.setLineDash=function(T){this.lineDash=T},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(T,C){if(isNaN(T)||isNaN(C))throw _r.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new s(T,C));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new s(T,C)},f.prototype.closePath=function(){var T=new s(0,0),C=0;for(C=this.path.length-1;C!==-1;C--)if(this.path[C].type==="begin"&&mr(this.path[C+1])==="object"&&typeof this.path[C+1].x=="number"){T=new s(this.path[C+1].x,this.path[C+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(T.x,T.y)},f.prototype.lineTo=function(T,C){if(isNaN(T)||isNaN(C))throw _r.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new s(T,C));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new s(K.x,K.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function(T,C,K,Q){if(isNaN(K)||isNaN(Q)||isNaN(T)||isNaN(C))throw _r.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new s(K,Q)),ue=this.ctx.transform.applyToPoint(new s(T,C));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new s(ie.x,ie.y)},f.prototype.bezierCurveTo=function(T,C,K,Q,ie,ue){if(isNaN(ie)||isNaN(ue)||isNaN(T)||isNaN(C)||isNaN(K)||isNaN(Q))throw _r.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new s(ie,ue)),se=this.ctx.transform.applyToPoint(new s(T,C)),he=this.ctx.transform.applyToPoint(new s(K,Q));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:he.x,y2:he.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new s(ge.x,ge.y)},f.prototype.arc=function(T,C,K,Q,ie,ue){if(isNaN(T)||isNaN(C)||isNaN(K)||isNaN(Q)||isNaN(ie))throw _r.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new s(T,C));T=ge.x,C=ge.y;var se=this.ctx.transform.applyToPoint(new s(0,K)),he=this.ctx.transform.applyToPoint(new s(0,0));K=Math.sqrt(Math.pow(se.x-he.x,2)+Math.pow(se.y-he.y,2))}Math.abs(ie-Q)>=2*Math.PI&&(Q=0,ie=2*Math.PI),this.path.push({type:"arc",x:T,y:C,radius:K,startAngle:Q,endAngle:ie,counterclockwise:ue})},f.prototype.arcTo=function(T,C,K,Q,ie){throw new Error("arcTo not implemented.")},f.prototype.rect=function(T,C,K,Q){if(isNaN(T)||isNaN(C)||isNaN(K)||isNaN(Q))throw _r.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,C),this.lineTo(T+K,C),this.lineTo(T+K,C+Q),this.lineTo(T,C+Q),this.lineTo(T,C),this.lineTo(T+K,C),this.lineTo(T,C)},f.prototype.fillRect=function(T,C,K,Q){if(isNaN(T)||isNaN(C)||isNaN(K)||isNaN(Q))throw _r.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,C,K,Q),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},f.prototype.strokeRect=function(T,C,K,Q){if(isNaN(T)||isNaN(C)||isNaN(K)||isNaN(Q))throw _r.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(T,C,K,Q),this.stroke())},f.prototype.clearRect=function(T,C,K,Q){if(isNaN(T)||isNaN(C)||isNaN(K)||isNaN(Q))throw _r.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,C,K,Q))},f.prototype.save=function(T){T=typeof T!="boolean"||T;for(var C=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(C),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},f.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var C=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(C),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(T){var C,K,Q,ie;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))C=0,K=0,Q=0,ie=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(ue!==null)C=parseInt(ue[1]),K=parseInt(ue[2]),Q=parseInt(ue[3]),ie=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)C=parseInt(ue[1]),K=parseInt(ue[2]),Q=parseInt(ue[3]),ie=parseFloat(ue[4]);else{if(ie=1,typeof T=="string"&&T.charAt(0)!=="#"){var ge=new kD(T);T=ge.ok?ge.toHex():"#000000"}T.length===4?(C=T.substring(1,2),C+=C,K=T.substring(2,3),K+=K,Q=T.substring(3,4),Q+=Q):(C=T.substring(1,3),K=T.substring(3,5),Q=T.substring(5,7)),C=parseInt(C,16),K=parseInt(K,16),Q=parseInt(Q,16)}}return{r:C,g:K,b:Q,a:ie,style:T}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(T,C,K,Q){if(isNaN(C)||isNaN(K)||typeof T!="string")throw _r.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!h.call(this)){var ie=B(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;P.call(this,{text:T,x:C,y:K,scale:ue,angle:ie,align:this.textAlign,maxWidth:Q})}},f.prototype.strokeText=function(T,C,K,Q){if(isNaN(C)||isNaN(K)||typeof T!="string")throw _r.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){Q=isNaN(Q)?void 0:Q;var ie=B(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;P.call(this,{text:T,x:C,y:K,scale:ue,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:Q})}},f.prototype.measureText=function(T){if(typeof T!="string")throw _r.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var C=this.pdf,K=this.pdf.internal.scaleFactor,Q=C.internal.getFontSize(),ie=C.getStringUnitWidth(T)*Q/C.internal.scaleFactor;return new function(ue){var ge=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this}({width:ie*=Math.round(96*K/72*1e4)/1e4})},f.prototype.scale=function(T,C){if(isNaN(T)||isNaN(C))throw _r.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new l(T,0,0,C,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.rotate=function(T){if(isNaN(T))throw _r.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var C=new l(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(C)},f.prototype.translate=function(T,C){if(isNaN(T)||isNaN(C))throw _r.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new l(1,0,0,1,T,C);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.transform=function(T,C,K,Q,ie,ue){if(isNaN(T)||isNaN(C)||isNaN(K)||isNaN(Q)||isNaN(ie)||isNaN(ue))throw _r.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new l(T,C,K,Q,ie,ue);this.ctx.transform=this.ctx.transform.multiply(ge)},f.prototype.setTransform=function(T,C,K,Q,ie,ue){T=isNaN(T)?1:T,C=isNaN(C)?0:C,K=isNaN(K)?0:K,Q=isNaN(Q)?1:Q,ie=isNaN(ie)?0:ie,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(T,C,K,Q,ie,ue)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(T,C,K,Q,ie,ue,ge,se,he){var je=this.pdf.getImageProperties(T),me=1,Be=1,ye=1,ee=1;Q!==void 0&&se!==void 0&&(ye=se/Q,ee=he/ie,me=je.width/Q*se/Q,Be=je.height/ie*he/ie),ue===void 0&&(ue=C,ge=K,C=0,K=0),Q!==void 0&&se===void 0&&(se=Q,he=ie),Q===void 0&&se===void 0&&(se=je.width,he=je.height);for(var ut,lt=this.ctx.transform.decompose(),at=B(lt.rotate.shx),Re=new l,rt=(Re=(Re=(Re=Re.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new o(ue-C*ye,ge-K*ee,Q*me,ie*Be)),oe=b.call(this,rt),$e=[],ze=0;ze<oe.length;ze+=1)$e.indexOf(oe[ze])===-1&&$e.push(oe[ze]);if(_($e),this.autoPaging)for(var Ue=$e[0],He=$e[$e.length-1],de=Ue;de<He+1;de++){this.pdf.setPage(de);var Ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],we=de===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ae=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ee=de===1?0:_e+(de-2)*Ae;if(this.ctx.clip_path.length!==0){var Fe=this.path;ut=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ut,this.posX+this.margin[3],-Ee+we+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=Fe}var qe=JSON.parse(JSON.stringify(rt));qe=w([qe],this.posX+this.margin[3],-Ee+we+this.ctx.prevPageLastElemOffset)[0];var ke=(de>Ue||de<He)&&g.call(this);ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,Ae,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,at),ke&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,at)};var b=function(T,C,K){var Q=[];C=C||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":Q.push(Math.floor((T.y+ie)/K)+1);break;case"arc":Q.push(Math.floor((T.y+ie-T.radius)/K)+1),Q.push(Math.floor((T.y+ie+T.radius)/K)+1);break;case"qct":var ue=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);Q.push(Math.floor((ue.y+ie)/K)+1),Q.push(Math.floor((ue.y+ue.h+ie)/K)+1);break;case"bct":var ge=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);Q.push(Math.floor((ge.y+ie)/K)+1),Q.push(Math.floor((ge.y+ge.h+ie)/K)+1);break;case"rect":Q.push(Math.floor((T.y+ie)/K)+1),Q.push(Math.floor((T.y+T.h+ie)/K)+1)}for(var se=0;se<Q.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<Q[se];)v.call(this);return Q},v=function(){var T=this.fillStyle,C=this.strokeStyle,K=this.font,Q=this.lineCap,ie=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=C,this.font=K,this.lineCap=Q,this.lineWidth=ie,this.lineJoin=ue},w=function(T,C,K){for(var Q=0;Q<T.length;Q++)switch(T[Q].type){case"bct":T[Q].x2+=C,T[Q].y2+=K;case"qct":T[Q].x1+=C,T[Q].y1+=K;default:T[Q].x+=C,T[Q].y+=K}return T},_=function(T){return T.sort(function(C,K){return C-K})},N=function(T,C){for(var K,Q,ie=this.fillStyle,ue=this.strokeStyle,ge=this.lineCap,se=this.lineWidth,he=Math.abs(se*this.ctx.transform.scaleX),je=this.lineJoin,me=JSON.parse(JSON.stringify(this.path)),Be=JSON.parse(JSON.stringify(this.path)),ye=[],ee=0;ee<Be.length;ee++)if(Be[ee].x!==void 0)for(var ut=b.call(this,Be[ee]),lt=0;lt<ut.length;lt+=1)ye.indexOf(ut[lt])===-1&&ye.push(ut[lt]);for(var at=0;at<ye.length;at++)for(;this.pdf.internal.getNumberOfPages()<ye[at];)v.call(this);if(_(ye),this.autoPaging)for(var Re=ye[0],rt=ye[ye.length-1],oe=Re;oe<rt+1;oe++){this.pdf.setPage(oe),this.fillStyle=ie,this.strokeStyle=ue,this.lineCap=ge,this.lineWidth=he,this.lineJoin=je;var $e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=oe===1?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],de=oe===1?0:Ue+(oe-2)*He;if(this.ctx.clip_path.length!==0){var Ne=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(K,this.posX+this.margin[3],-de+ze+this.ctx.prevPageLastElemOffset),S.call(this,T,!0),this.path=Ne}if(Q=JSON.parse(JSON.stringify(me)),this.path=w(Q,this.posX+this.margin[3],-de+ze+this.ctx.prevPageLastElemOffset),C===!1||oe===0){var we=(oe>Re||oe<rt)&&g.call(this);we&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,He,null).clip().discardPath()),S.call(this,T,C),we&&this.pdf.restoreGraphicsState()}this.lineWidth=se}else this.lineWidth=he,S.call(this,T,C),this.lineWidth=se;this.path=me},S=function(T,C){if((T!=="stroke"||C||!y.call(this))&&(T==="stroke"||C||!h.call(this))){for(var K,Q,ie=[],ue=this.path,ge=0;ge<ue.length;ge++){var se=ue[ge];switch(se.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:se,deltas:[],abs:[]});break;case"lt":var he=ie.length;if(ue[ge-1]&&!isNaN(ue[ge-1].x)&&(K=[se.x-ue[ge-1].x,se.y-ue[ge-1].y],he>0)){for(;he>=0;he--)if(ie[he-1].close!==!0&&ie[he-1].begin!==!0){ie[he-1].deltas.push(K),ie[he-1].abs.push(se);break}}break;case"bct":K=[se.x1-ue[ge-1].x,se.y1-ue[ge-1].y,se.x2-ue[ge-1].x,se.y2-ue[ge-1].y,se.x-ue[ge-1].x,se.y-ue[ge-1].y],ie[ie.length-1].deltas.push(K);break;case"qct":var je=ue[ge-1].x+2/3*(se.x1-ue[ge-1].x),me=ue[ge-1].y+2/3*(se.y1-ue[ge-1].y),Be=se.x+2/3*(se.x1-se.x),ye=se.y+2/3*(se.y1-se.y),ee=se.x,ut=se.y;K=[je-ue[ge-1].x,me-ue[ge-1].y,Be-ue[ge-1].x,ye-ue[ge-1].y,ee-ue[ge-1].x,ut-ue[ge-1].y],ie[ie.length-1].deltas.push(K);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(se)}}Q=C?null:T==="stroke"?"stroke":"fill";for(var lt=!1,at=0;at<ie.length;at++)if(ie[at].arc)for(var Re=ie[at].abs,rt=0;rt<Re.length;rt++){var oe=Re[rt];oe.type==="arc"?I.call(this,oe.x,oe.y,oe.radius,oe.startAngle,oe.endAngle,oe.counterclockwise,void 0,C,!lt):D.call(this,oe.x,oe.y),lt=!0}else if(ie[at].close===!0)this.pdf.internal.out("h"),lt=!1;else if(ie[at].begin!==!0){var $e=ie[at].start.x,ze=ie[at].start.y;M.call(this,ie[at].deltas,$e,ze),lt=!0}Q&&L.call(this,Q),C&&F.call(this)}},j=function(T){var C=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=C*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-K;case"top":return T+C-K;case"hanging":return T+C-2*K;case"middle":return T+C/2-K;default:return T}},O=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(C,K){this.colorStops.push([C,K])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(T,C,K,Q,ie,ue,ge,se,he){for(var je=V.call(this,K,Q,ie,ue),me=0;me<je.length;me++){var Be=je[me];me===0&&(he?k.call(this,Be.x1+T,Be.y1+C):D.call(this,Be.x1+T,Be.y1+C)),U.call(this,T,C,Be.x2,Be.y2,Be.x3,Be.y3,Be.x4,Be.y4)}se?F.call(this):L.call(this,ge)},L=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(T,C){this.pdf.internal.out(r(T)+" "+n(C)+" m")},P=function(T){var C;switch(T.align){case"right":case"end":C="right";break;case"center":C="center";break;default:C="left"}var K=this.pdf.getTextDimensions(T.text),Q=j.call(this,T.y),ie=O.call(this,Q)-K.h,ue=this.ctx.transform.applyToPoint(new s(T.x,Q)),ge=this.ctx.transform.decompose(),se=new l;se=(se=(se=se.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var he,je,me,Be=this.ctx.transform.applyToRectangle(new o(T.x,Q,K.w,K.h)),ye=se.applyToRectangle(new o(T.x,ie,K.w,K.h)),ee=b.call(this,ye),ut=[],lt=0;lt<ee.length;lt+=1)ut.indexOf(ee[lt])===-1&&ut.push(ee[lt]);if(_(ut),this.autoPaging)for(var at=ut[0],Re=ut[ut.length-1],rt=at;rt<Re+1;rt++){this.pdf.setPage(rt);var oe=rt===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[2],Ue=ze-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],de=He-this.margin[3],Ne=rt===1?0:$e+(rt-2)*Ue;if(this.ctx.clip_path.length!==0){var we=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(he,this.posX+this.margin[3],-1*Ne+oe),S.call(this,"fill",!0),this.path=we}var _e=w([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-Ne+oe+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*T.scale),me=this.lineWidth,this.lineWidth=me*T.scale);var Ae=this.autoPaging!=="text";if(Ae||_e.y+_e.h<=ze){if(Ae||_e.y>=oe&&_e.x<=He){var Ee=Ae?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||He-_e.x)[0],Fe=w([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-Ne+oe+this.ctx.prevPageLastElemOffset)[0],qe=Ae&&(rt>at||rt<Re)&&g.call(this);qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],de,Ue,null).clip().discardPath()),this.pdf.text(Ee,Fe.x,Fe.y,{angle:T.angle,align:C,renderingMode:T.renderingMode}),qe&&this.pdf.restoreGraphicsState()}}else _e.y<ze&&(this.ctx.prevPageLastElemOffset+=ze-_e.y);T.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=me)}else T.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*T.scale),me=this.lineWidth,this.lineWidth=me*T.scale),this.pdf.text(T.text,ue.x+this.posX,ue.y+this.posY,{angle:T.angle,align:C,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=me)},D=function(T,C,K,Q){K=K||0,Q=Q||0,this.pdf.internal.out(r(T+K)+" "+n(C+Q)+" l")},M=function(T,C,K){return this.pdf.lines(T,C,K,null,null)},U=function(T,C,K,Q,ie,ue,ge,se){this.pdf.internal.out([t(i(K+T)),t(a(Q+C)),t(i(ie+T)),t(a(ue+C)),t(i(ge+T)),t(a(se+C)),"c"].join(" "))},V=function(T,C,K,Q){for(var ie=2*Math.PI,ue=Math.PI/2;C>K;)C-=ie;var ge=Math.abs(K-C);ge<ie&&Q&&(ge=ie-ge);for(var se=[],he=Q?-1:1,je=C;ge>1e-5;){var me=je+he*Math.min(ge,ue);se.push(W.call(this,T,je,me)),ge-=Math.abs(me-je),je=me}return se},W=function(T,C,K){var Q=(K-C)/2,ie=T*Math.cos(Q),ue=T*Math.sin(Q),ge=ie,se=-ue,he=ge*ge+se*se,je=he+ge*ie+se*ue,me=4/3*(Math.sqrt(2*he*je)-je)/(ge*ue-se*ie),Be=ge-me*se,ye=se+me*ge,ee=Be,ut=-ye,lt=Q+C,at=Math.cos(lt),Re=Math.sin(lt);return{x1:T*Math.cos(C),y1:T*Math.sin(C),x2:Be*at-ye*Re,y2:Be*Re+ye*at,x3:ee*at-ut*Re,y3:ee*Re+ut*at,x4:T*Math.cos(K),y4:T*Math.sin(K)}},B=function(T){return 180*T/Math.PI},J=function(T,C,K,Q,ie,ue){var ge=T+.5*(K-T),se=C+.5*(Q-C),he=ie+.5*(K-ie),je=ue+.5*(Q-ue),me=Math.min(T,ie,ge,he),Be=Math.max(T,ie,ge,he),ye=Math.min(C,ue,se,je),ee=Math.max(C,ue,se,je);return new o(me,ye,Be-me,ee-ye)},$=function(T,C,K,Q,ie,ue,ge,se){var he,je,me,Be,ye,ee,ut,lt,at,Re,rt,oe,$e,ze,Ue=K-T,He=Q-C,de=ie-K,Ne=ue-Q,we=ge-ie,_e=se-ue;for(je=0;je<41;je++)at=(ut=(me=T+(he=je/40)*Ue)+he*((ye=K+he*de)-me))+he*(ye+he*(ie+he*we-ye)-ut),Re=(lt=(Be=C+he*He)+he*((ee=Q+he*Ne)-Be))+he*(ee+he*(ue+he*_e-ee)-lt),je==0?(rt=at,oe=Re,$e=at,ze=Re):(rt=Math.min(rt,at),oe=Math.min(oe,Re),$e=Math.max($e,at),ze=Math.max(ze,Re));return new o(Math.round(rt),Math.round(oe),Math.round($e-rt),Math.round(ze-oe))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,C,K=(T=this.ctx.lineDash,C=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:C}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(wt.API),function(e){var t=function(s){var o,l,c,u,f,p,h,y,g,b;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(p=(f=((f=((f=((f=(f-(b=f%85))/85)-(g=f%85))/85)-(y=f%85))/85)-(h=f%85))/85)%85,l.push(p+33,h+33,y+33,g+33,b+33)):l.push(122);return function(v,w){for(var _=w;_>0;_--)v.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,u,f,p=String,h="length",y=255,g="charCodeAt",b="slice",v="replace";for(s[b](-2),s=s[b](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,f=(s+=o="uuuuu"[b](s[h]%5||5))[h];f>u;u+=5)l=52200625*(s[g](u)-33)+614125*(s[g](u+1)-33)+7225*(s[g](u+2)-33)+85*(s[g](u+3)-33)+(s[g](u+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(w,_){for(var N=_;N>0;N--)w.pop()}(c,o[h]),p.fromCharCode.apply(p,c)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=H_(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(wt.API),function(e){e.loadFile=function(t,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,p=0,h=function(y){var g=y.length,b=[],v=String.fromCharCode;for(p=0;p<g;p+=1)b.push(v(255&y.charCodeAt(p)));return b.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(h(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)}(i,a,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(wt.API),function(e){function t(){return(Et.html2canvas?Promise.resolve(Et.html2canvas):x2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Et.DOMPurify?Promise.resolve(Et.DOMPurify):x2(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=mr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var y=u[h],g=y.src.find(function(b){return b.format==="truetype"});g&&c.addFont(g.url,y.ref.name,y.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,f).then(function(p){return c.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),p=c.call(f,o,l);return s.convert(p,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,wt.getPageSize=function(o,l,c){if(mr(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var y,g=0,b=0;if(h.hasOwnProperty(p))g=h[p][1]/f,b=h[p][0]/f;else try{g=c[1],b=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",b>g&&(y=b,b=g,g=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>b&&(y=b,b=g,g=y)}return{width:b,height:g,unit:l,k:f,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(D2):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(wt.API),wt.API.addJS=function(e){return kC=e,this.internal.events.subscribe("postPutResources",function(){D0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(D0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),AC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+kC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){D0!==void 0&&AC!==void 0&&this.internal.out("/Names <</JavaScript "+D0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var f=r.internal.newObject();u.push(f);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<u.length;a++)r.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(wt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,g={width:0,height:0,numcomponents:1},b=4;b<y;b+=2){if(b+=h,t.indexOf(f.charCodeAt(b+1))!==-1){p=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),g={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:p,numcomponents:f.charCodeAt(b+9)};break}h=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}}(wt.API),wt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=hSe(e,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&l===1?function(I){for(var L=I.width,F=I.height,k=I.data,P=I.palette,D=I.depth,M=!1,U=[],V=[],W=void 0,B=!1,J=0,$=0;$<P.length;$++){var ae=C6(P[$],4),T=ae[0],C=ae[1],K=ae[2],Q=ae[3];U.push(T,C,K),Q!=null&&(Q===0?(J++,V.length<1&&V.push($)):Q<255&&(B=!0))}if(B||J>1){M=!0,V=void 0;var ie=L*F;W=new Uint8Array(ie);for(var ue=new DataView(k.buffer),ge=0;ge<ie;ge++){var se=F2(ue,ge,D),he=C6(P[se],4)[3];W[ge]=he}}else J===0&&(V=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:M?8:void 0,colorBytes:k,alphaBytes:W,needSMask:M,palette:U,mask:V}}(a):l===2||l===4?function(I){for(var L=I.data,F=I.width,k=I.height,P=I.channels,D=I.depth,M=P===2?"DeviceGray":"DeviceRGB",U=P-1,V=F*k,W=U,B=V*W,J=1*V,$=Math.ceil(B*D/8),ae=Math.ceil(J*D/8),T=new Uint8Array($),C=new Uint8Array(ae),K=new DataView(L.buffer),Q=new DataView(T.buffer),ie=new DataView(C.buffer),ue=!1,ge=0;ge<V;ge++){for(var se=ge*P,he=0;he<W;he++)$C(Q,F2(K,se+he,D),ge*W+he,D);var je=F2(K,se+W,D);je<(1<<D)-1&&(ue=!0),$C(ie,je,1*ge,D)}return{colorSpace:M,colorsPerPixel:U,sMaskBitsPerComponent:ue?D:void 0,colorBytes:T,alphaBytes:C,needSMask:ue}}(a):function(I){var L=I.data,F=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:L instanceof Uint16Array?function(k){for(var P=k.length,D=new Uint8Array(2*P),M=new DataView(D.buffer,D.byteOffset,D.byteLength),U=0;U<P;U++)M.setUint16(2*U,k[U],!1);return D}(L):L,needSMask:!1}}(a);var f,p,h,y=i,g=y.colorSpace,b=y.colorsPerPixel,v=y.sMaskBitsPerComponent,w=y.colorBytes,_=y.alphaBytes,N=y.needSMask,S=y.palette,j=y.mask,O=null;return n!==wt.API.image_compression.NONE&&typeof H_=="function"?(O=function(I){var L;switch(I){case wt.API.image_compression.FAST:L=11;break;case wt.API.image_compression.MEDIUM:L=13;break;case wt.API.image_compression.SLOW:L=14;break;default:L=12}return L}(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(O," /Colors ").concat(b," /BitsPerComponent ").concat(u," /Columns ").concat(s),e=CC(w,Math.ceil(s*b*u/8),b,u,n),N&&(h=CC(_,Math.ceil(s*v/8),1,v,n))):(f=void 0,p=void 0,e=w,N&&(h=_)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:f,decodeParameters:p,transparency:j,palette:S,sMask:h,predictor:O,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:v,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,n,i){var a=new LSe(t),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new U2(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)},e.processGIF87A=e.processGIF89A}(wt.API),es.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},es.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){_r.log("bit decode error:"+r)}},es.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},es.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},es.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},es.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,c=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},es.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},es.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},es.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},es.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new es(t,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new U2(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(wt.API),DC.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new DC(t),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new U2(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(wt.API),wt.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],f=n[c+1],p=n[c+2],h=n[c+3];a[o++]=u,a[o++]=f,a[o++]=p,s[l++]=h}var y=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},wt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},rd=wt.API,B0=rd.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,p=0,h=e.length,y=0,g=o[0]||l,b=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(p=f&&mr(c[n])==="object"&&!isNaN(parseInt(c[n][y],10))?c[n][y]/u:0,b.push((o[n]||g)/l+p)),y=n;return b},EC=rd.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return rd.processArabic&&(e=rd.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:B0.apply(this,arguments).reduce(function(a,s){return a+s},0)},OC=function(e,t,r,n){for(var i=[],a=0,s=e.length,o=0;a!==s&&o+t[a]<r;)o+=t[a],a++;i.push(e.slice(0,a));var l=a;for(o=0;a!==s;)o+t[a]>n&&(i.push(e.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&i.push(e.slice(l,a)),i},PC=function(e,t,r){r||(r={});var n,i,a,s,o,l,c,u=[],f=[u],p=r.textIndent||0,h=0,y=0,g=e.split(" "),b=B0.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),w=[];g.map(function(N){(N=N.split(/\s*\n/)).length>1?w=w.concat(N.map(function(S,j){return(j&&S.length?`
`:"")+S})):w.push(N[0])}),g=w,l=EC.apply(this,[v,r])}for(a=0,s=g.length;a<s;a++){var _=0;if(n=g[a],l&&n[0]==`
`&&(n=n.substr(1),_=1),p+h+(y=(i=B0.apply(this,[n,r])).reduce(function(N,S){return N+S},0))>t||_){if(y>t){for(o=OC.apply(this,[n,i,t-(p+h),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);y=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(N,S){return N+S},0)}else u=[n];f.push(u),p=y+l,h=b}else u.push(n),p+=h+y,h=b}return c=l?function(N,S){return(S?v:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(c)},rd.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(PC.apply(this,[n[o],s,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var h,y,g,b,v=["{"];for(var w in p){if(h=p[w],isNaN(parseInt(w,10))?y="'"+w+"'":(w=parseInt(w,10),y=(y=s(w).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof h=="number")h<0?(g=s(h).slice(3),b="-"):(g=s(h).slice(2),b=""),g=b+g.slice(0,-1)+i[g.slice(-1)];else{if(mr(h)!=="object")throw new Error("Don't know what to do with value type "+mr(h)+".");g=o(h)}v.push(y+g)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,y,g,b,v={},w=1,_=v,N=[],S="",j="",O=p.length-1,I=1;I<O;I+=1)(b=p[I])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(b):b=="{"?(N.push([_,g]),_={},g=void 0):b=="}"?((y=N.pop())[0][y[1]]=_,g=void 0,_=y[0]):b=="-"?w=-1:g===void 0?n.hasOwnProperty(b)?(S+=n[b],g=parseInt(S,16)*w,w=1,S=""):S+=b:n.hasOwnProperty(b)?(j+=n[b],_[g]=parseInt(j,16)*w,w=1,g=void 0,j=""):j+=b;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var h=p.font,y=f.Unicode[h.postScriptName];y&&(h.metadata.Unicode={},h.metadata.Unicode.widths=y.widths,h.metadata.Unicode.kerning=y.kerning);var g=u.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(wt.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(ry(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(wt),wt.API.addSvgAsImage=function(e,t,r,n,i,a,s,o){if(isNaN(t)||isNaN(r))throw _r.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw _r.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Et.canvg?Promise.resolve(Et.canvg):x2(()=>import("./index.es-BNSrz3Mt.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),t,r,n,i,s,o)})},wt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},wt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function p(y,g){var b,v=!1;for(b=0;b<y.length;b+=1)y[b]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(mr(e)==="object"){for(i in e)if(a=e[i],p(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(n=!1);n===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?g.push("/"+y+" /"+r[y].value):g.push("/"+y+" "+r[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(wt.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,p=a.length;f<p;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(a){var s,o,l,c,u,f,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(a).sort(function(h,y){return h-y})).length;f<p;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",y=0;y<p.length;y++)h+=String.fromCharCode(p[y]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var b=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+od(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+od(o.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+od(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var y=c();u({data:p,addLength1:!0,objectId:y}),l("endobj");var g=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var b=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+od(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+od(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},f=a.mutex||{},p=f.pdfEscape,h=f.activeFontKey,y=f.fonts,g=h,b="",v=0,w="",_=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(w=o,g=h,Array.isArray(o)&&(w=o[0]),v=0;v<w.length;v+=1)y[g].metadata.hasOwnProperty("cmap")&&(s=y[g].metadata.cmap.unicode.codeMap[w[v].charCodeAt(0)]),s||w[v].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?b+=w[v]:b+="";var N="";return parseInt(g.slice(1))<14||_==="WinAnsiEncoding"?N=p(b,g).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(N=r(b,y[g])),f.isHex=!0,{text:N,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(wt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(wt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,s,o,l,c,u,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var N=function(k){var P=k.charCodeAt(),D=P>>8,M=g[D];return M!==void 0?f[256*M+(255&P)]:D===252||D===253?"AL":v.test(D)?"L":D===8?"R":"N"},S=function(k){for(var P,D=0;D<k.length;D++){if((P=N(k.charAt(D)))==="L")return!1;if(P==="R")return!0}return!1},j=function(k,P,D,M){var U,V,W,B,J=P[M];switch(J){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(J="AN");break;case"AL":w=!0,J="R";break;case"WS":case"BN":J="N";break;case"CS":M<1||M+1>=P.length||(U=D[M-1])!=="EN"&&U!=="AN"||(V=P[M+1])!=="EN"&&V!=="AN"?J="N":w&&(V="AN"),J=V===U?V:"N";break;case"ES":J=(U=M>0?D[M-1]:"B")==="EN"&&M+1<P.length&&P[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&D[M-1]==="EN"){J="EN";break}if(w){J="N";break}for(W=M+1,B=P.length;W<B&&P[W]==="ET";)W++;J=W<B&&P[W]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(B=P.length,W=M+1;W<B&&P[W]==="NSM";)W++;if(W<B){var $=k[M],ae=$>=1425&&$<=2303||$===64286;if(U=P[W],ae&&(U==="R"||U==="AL")){J="R";break}}}J=M<1||(U=P[M-1])==="B"?"N":D[M-1];break;case"B":w=!1,i=!0,J=_;break;case"S":a=!0,J="N"}return J},O=function(k,P,D){var M=k.split("");return D&&I(M,D,{hiLevel:_}),M.reverse(),P&&P.reverse(),M.join("")},I=function(k,P,D){var M,U,V,W,B,J=-1,$=k.length,ae=0,T=[],C=_?h:p,K=[];for(w=!1,i=!1,a=!1,U=0;U<$;U++)K[U]=N(k[U]);for(V=0;V<$;V++){if(B=ae,T[V]=j(k,K,T,V),M=240&(ae=C[B][y[T[V]]]),ae&=15,P[V]=W=C[ae][5],M>0)if(M===16){for(U=J;U<V;U++)P[U]=1;J=-1}else J=-1;if(C[ae][6])J===-1&&(J=V);else if(J>-1){for(U=J;U<V;U++)P[U]=W;J=-1}K[V]==="B"&&(P[V]=0),D.hiLevel|=W}a&&function(Q,ie,ue){for(var ge=0;ge<ue;ge++)if(Q[ge]==="S"){ie[ge]=_;for(var se=ge-1;se>=0&&Q[se]==="WS";se--)ie[se]=_}}(K,P,$)},L=function(k,P,D,M,U){if(!(U.hiLevel<k)){if(k===1&&_===1&&!i)return P.reverse(),void(D&&D.reverse());for(var V,W,B,J,$=P.length,ae=0;ae<$;){if(M[ae]>=k){for(B=ae+1;B<$&&M[B]>=k;)B++;for(J=ae,W=B-1;J<W;J++,W--)V=P[J],P[J]=P[W],P[W]=V,D&&(V=D[J],D[J]=D[W],D[W]=V);ae=B}ae++}}},F=function(k,P,D){var M=k.split(""),U={hiLevel:_};return D||(D=[]),I(M,D,U),function(V,W,B){if(B.hiLevel!==0&&u)for(var J,$=0;$<V.length;$++)W[$]===1&&(J=b.indexOf(V[$]))>=0&&(V[$]=b[J+1])}(M,D,U),L(2,M,P,D,U),L(1,M,P,D,U),M.join("")};return this.__bidiEngine__.doBidiReorder=function(k,P,D){if(function(U,V){if(V)for(var W=0;W<U.length;W++)V[W]=W;o===void 0&&(o=S(U)),c===void 0&&(c=S(U))}(k,P),s||!l||c)if(s&&l&&o^c)_=o?1:0,k=O(k,P,D);else if(!s&&l&&c)_=o?1:0,k=F(k,P,D),k=O(k,P);else if(!s||o||l||c){if(s&&!l&&o^c)k=O(k,P),o?(_=0,k=F(k,P,D)):(_=1,k=F(k,P,D),k=O(k,P));else if(s&&o&&!l&&c)_=1,k=F(k,P,D),k=O(k,P);else if(!s&&!l&&o^c){var M=u;o?(_=1,k=F(k,P,D),_=0,u=!1,k=F(k,P,D),u=M):(_=0,k=F(k,P,D),k=O(k,P),_=1,u=!1,k=F(k,P,D),u=M,k=O(k,P))}}else _=0,k=F(k,P,D);else _=o?1:0,k=F(k,P,D);return k},this.__bidiEngine__.setOptions=function(k){k&&(s=k.isInputVisual,l=k.isOutputVisual,o=k.isInputRtl,c=k.isOutputRtl,u=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(wt),wt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Hl(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new YSe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new RSe(this.contents),this.head=new MSe(this),this.name=new zSe(this),this.cmap=new DD(this),this.toUnicode={},this.hhea=new DSe(this),this.maxp=new qSe(this),this.hmtx=new HSe(this),this.post=new FSe(this),this.os2=new BSe(this),this.loca=new KSe(this),this.glyf=new WSe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,s,o;for(s=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var bs,Hl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),RSe=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,s,o,l,c,u,f,p,h,y,g;for(g in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),u=16*h-f,(i=new Hl).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(u),a=16*h,c=i.pos+a,o=null,y=[],r)for(p=r[g],i.writeString(g),i.writeInt(e(p)),i.writeInt(c),i.writeInt(p.length),y=y.concat(p),g==="head"&&(o=c),c+=p.length;c%4;)y.push(0),c++;return i.write(y),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,s;for(r=BD.call(r);r.length%4;)r.push(0);for(a=new Hl(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),$Se={}.hasOwnProperty,Xs=function(e,t){for(var r in t)$Se.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};bs=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var MSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xs(e,bs),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Hl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),BC=function(){function e(t,r){var n,i,a,s,o,l,c,u,f,p,h,y,g,b,v,w,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,a=function(){var N,S;for(S=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)S.push(t.readUInt16());return S}(),t.pos+=2,g=function(){var N,S;for(S=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)S.push(t.readUInt16());return S}(),c=function(){var N,S;for(S=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)S.push(t.readUInt16());return S}(),u=function(){var N,S;for(S=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)S.push(t.readUInt16());return S}(),i=(this.length-t.pos+this.offset)/2,o=function(){var N,S;for(S=[],l=N=0;0<=i?N<i:N>i;l=0<=i?++N:--N)S.push(t.readUInt16());return S}(),l=v=0,_=a.length;v<_;l=++v)for(b=a[l],n=w=y=g[l];y<=b?w<=b:w>=b;n=y<=b?++w:--w)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-y)-(p-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,i,a,s,o,l,c,u,f,p,h,y,g,b,v,w,_,N,S,j,O,I,L,F,k,P,D,M,U,V,W,B,J,$,ae,T,C,K,Q,ie,ue,ge,se,he,je,me;switch(M=new Hl,s=Object.keys(t).sort(function(Be,ye){return Be-ye}),r){case"macroman":for(g=0,b=function(){var Be=[];for(y=0;y<256;++y)Be.push(0);return Be}(),w={0:0},a={},U=0,J=s.length;U<J;U++)w[se=t[i=s[U]]]==null&&(w[se]=++g),a[i]={old:t[i],new:w[t[i]]},b[i]=w[t[i]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(b),{charMap:a,subtable:M.data,maxGlyphID:g+1};case"unicode":for(P=[],f=[],_=0,w={},n={},v=c=null,V=0,$=s.length;V<$;V++)w[S=t[i=s[V]]]==null&&(w[S]=++_),n[i]={old:S,new:w[S]},o=w[S]-i,v!=null&&o===c||(v&&f.push(v),P.push(i),c=o),v=i;for(v&&f.push(v),f.push(65535),P.push(65535),F=2*(L=P.length),I=2*Math.pow(Math.log(L)/Math.LN2,2),p=Math.log(I/2)/Math.LN2,O=2*L-I,l=[],j=[],h=[],y=W=0,ae=P.length;W<ae;y=++W){if(k=P[y],u=f[y],k===65535){l.push(0),j.push(0);break}if(k-(D=n[k].new)>=32768)for(l.push(0),j.push(2*(h.length+L-y)),i=B=k;k<=u?B<=u:B>=u;i=k<=u?++B:--B)h.push(n[i].new);else l.push(D-k),j.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*L+2*h.length),M.writeUInt16(0),M.writeUInt16(F),M.writeUInt16(I),M.writeUInt16(p),M.writeUInt16(O),ue=0,T=f.length;ue<T;ue++)i=f[ue],M.writeUInt16(i);for(M.writeUInt16(0),ge=0,C=P.length;ge<C;ge++)i=P[ge],M.writeUInt16(i);for(he=0,K=l.length;he<K;he++)o=l[he],M.writeUInt16(o);for(je=0,Q=j.length;je<Q;je++)N=j[je],M.writeUInt16(N);for(me=0,ie=h.length;me<ie;me++)g=h[me],M.writeUInt16(g);return{charMap:n,subtable:M.data,maxGlyphID:_+1}}},e}(),DD=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xs(e,bs),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new BC(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=BC.encode(t,r),(i=new Hl).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),DSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xs(e,bs),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),BSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xs(e,bs),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),FSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xs(e,bs),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(t.readUInt32());return l}).call(this)}},e}(),USe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},zSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xs(e,bs),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,s,o,l,c,u,f,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},a=u=0,f=n.length;u<f;a=++u)i=n[a],t.pos=i.offset,c=t.readString(i.length),s=new USe(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),qSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xs(e,bs),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),HSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xs(e,bs),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,s,o,l;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)u.push(t.readInt16());return u}(),this.widths=(function(){var c,u,f,p;for(p=[],c=0,u=(f=this.metrics).length;c<u;c++)a=f[c],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),BD=[].slice,WSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xs(e,bs),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,s,o,l,c,u,f;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,s=(o=new Hl(r.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[t]=s===-1?new GSe(o,c,f,l,u):new VSe(o,s,c,f,l,u),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=r.length;o<l;o++)i=t[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},e}(),VSe=function(){function e(t,r,n,i,a,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),GSe=function(){function e(t,r,n,i,a){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Hl(BD.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),KSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xs(e,bs),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},e}(),YSe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,s,o,l;for(i={},s=0,o=t.length;s<o;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,s,o,l,c,u,f,p,h,y,g,b,v;for(i in n=DD.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),h={0:0},v=n.charMap)h[(l=v[i]).old]=l.new;for(y in p=n.maxGlyphID,s)y in h||(h[y]=p++);return u=function(w){var _,N;for(_ in N={},w)N[w[_]]=_;return N}(h),f=Object.keys(u).sort(function(w,_){return w-_}),g=function(){var w,_,N;for(N=[],w=0,_=f.length;w<_;w++)o=f[w],N.push(u[o]);return N}(),a=this.font.glyf.encode(s,g,h),c=this.font.loca.encode(a.offsets,g),b={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e}();wt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+r},t}();function XSe(e){const t=new wt;let r=20;const n=t.internal.pageSize.getWidth(),i=20,a=n-2*i,s=(l,c,u=!1,f="#000000")=>{t.setFontSize(c),t.setTextColor(f),u?t.setFont("helvetica","bold"):t.setFont("helvetica","normal"),t.splitTextToSize(l,a).forEach(h=>{r>t.internal.pageSize.getHeight()-30&&(t.addPage(),r=20),t.text(h,i,r),r+=c*.5}),r+=5};s("Simulation Debrief Report",18,!0),r+=5,s(`Case: ${e.caseTitle}`,12,!0),s(`Patient: ${e.patientName}`,10),r+=5,s("Performance Summary",14,!0,"#3b82f6"),r+=3,s(`Overall Score: ${e.score.overall}%`,12,!0),s(`Diagnosis Accuracy: ${e.score.accuracy}%`,10),s(`MCQ Score: ${e.score.mcqScore}%`,10),s(`Time Taken: ${e.timeTaken} minutes`,10),s(`Current Streak: ${e.currentStreak} days`,10),r+=5,e.score.sloResults&&e.score.sloResults.length>0&&(s("Learning Outcomes",14,!0,"#3b82f6"),r+=3,e.score.sloResults.forEach(l=>{const c=l.status==="Achieved"?"":"";s(`${c} ${l.sloId}: ${l.percent}%`,10),l.sloText&&s(`   ${l.sloText}`,9)}),r+=5),s("Diagnosis Review",14,!0,"#3b82f6"),r+=3,s(`Your Diagnosis: ${e.diagnosis.student}`,10),s(`Correct Diagnosis: ${e.diagnosis.correct}`,10,!0),e.diagnosis.potential&&e.diagnosis.potential.length>0&&(s("Other Potential Diagnoses:",10,!0),e.diagnosis.potential.forEach(l=>{s(`   ${l.dx}`,9)})),r+=5,e.stepwiseReasoning&&(s("Stepwise Reasoning",14,!0,"#3b82f6"),r+=3,s(e.stepwiseReasoning,9),r+=5),e.mcqResults&&e.mcqResults.length>0&&(s("MCQ Results",14,!0,"#3b82f6"),r+=3,e.mcqResults.forEach((l,c)=>{s(`${c+1}. ${l.question}`,10,!0),l.options.forEach((u,f)=>{let p="  ";f===l.correctIndex&&(p=" "),f===l.selectedIndex&&!l.correct&&(p=" "),s(`${p}${u}`,9)}),l.explanation&&s(`Explanation: ${l.explanation}`,9),r+=3}),r+=5),e.rubricResults&&e.rubricResults.length>0&&(s("Rubric Assessment",14,!0,"#3b82f6"),r+=3,e.rubricResults.forEach((l,c)=>{s(`${c+1}. ${l.criterion}`,10,!0),s(`   Points: ${l.pointsEarned} / ${l.maxPoints}`,9),l.percentage!==void 0&&s(`   Score: ${l.percentage}%`,9),l.feedback&&s(`   Feedback: ${l.feedback}`,9),r+=3}),r+=5),e.learningPearls&&e.learningPearls.length>0&&(s("Learning Pearls",14,!0,"#3b82f6"),r+=3,e.learningPearls.forEach(l=>{s(` ${l}`,9)}),r+=5),e.furtherReading&&e.furtherReading.length>0&&(s("Further Reading",14,!0,"#3b82f6"),r+=3,e.furtherReading.forEach(l=>{s(` ${l.title}`,9),l.url&&s(`  ${l.url}`,8)}));const o=t.getNumberOfPages();for(let l=1;l<=o;l++)t.setPage(l),t.setFontSize(8),t.setTextColor("#666666"),t.text(`Page ${l} of ${o} | Generated on ${new Date().toLocaleDateString()}`,i,t.internal.pageSize.getHeight()-10);return t}function JSe({user:e}){var Be,ye,ee,ut,lt,at,Re,rt;const{runId:t}=p1(),r=gs(),n=Uo(),[i,a]=X.useState(null),[s,o]=X.useState(!0),[l,c]=X.useState(null),[u,f]=X.useState("feedback"),[p,h]=X.useState(0),[y,g]=X.useState({}),[b,v]=X.useState(!1),[w,_]=X.useState([]),[N,S]=X.useState(new Map),[j,O]=X.useState(new Set);X.useEffect(()=>{t&&(F(),L(),I())},[t]);const I=async()=>{try{const{data:oe}=await Le.from("competencies").select("*");oe&&_(oe);const{data:$e}=await Le.from("slo").select("*").not("competency_id","is",null);if($e){const ze=new Map;$e.forEach(Ue=>{ze.set(Ue.id,Ue)}),S(ze)}}catch(oe){console.error("Error loading competency data:",oe)}};X.useEffect(()=>{if(i&&i.transcript){const $e=i.transcript.postCaseMCQAnswers||{};g($e),v(Object.keys($e).length>0)}},[i]);const L=async()=>{try{const{data:oe}=await Le.from("simulation_runs").select("submitted_at, created_at").eq("student_id",e.id).not("submitted_at","is",null).order("submitted_at",{ascending:!1});if(!oe||oe.length===0){h(0);return}let $e=0;const ze=new Date;ze.setHours(0,0,0,0);let Ue=new Date(ze);for(const He of oe){const de=new Date(He.submitted_at||He.created_at);if(de.setHours(0,0,0,0),de.getTime()===Ue.getTime())$e++,Ue.setDate(Ue.getDate()-1);else if(de.getTime()<Ue.getTime())break}h($e)}catch(oe){console.error("Error calculating streak:",oe),h(0)}},F=async()=>{try{const{data:oe,error:$e}=await Le.from("simulation_runs").select("*").eq("id",t).single();if($e)throw $e;if(a(oe),oe){const ze=oe.transcript,Ue=(ze==null?void 0:ze.postCaseMCQAnswers)||{};g(Ue),v(Object.keys(Ue).length>0)}if(oe.assignment_id){const{data:ze}=await Le.from("assignments").select("snapshot_id").eq("id",oe.assignment_id).single();if(ze){const{data:Ue}=await Le.from("case_snapshots").select("*").eq("id",ze.snapshot_id).single();c(Ue)}}}catch(oe){console.error("Error loading debrief:",oe)}finally{o(!1)}};if(s)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(!i||!i.score)return d.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(Ao,{className:"w-12 h-12 text-primary-600 animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Debrief data not available yet. Please wait..."})]})});const k=i.score,P=k.overall||0,D=k.sloResults||[],M=k.rubricResults||[],U=i.transcript,W=(((Be=l==null?void 0:l.clinical_case)==null?void 0:Be.mcqs)||[]).slice(-3).slice(0,3),B=(U==null?void 0:U.postCaseMCQAnswers)||{},J=W.length>0&&W.some(oe=>B[`post-case-${oe.id}`]!==void 0),$=k.postCaseMCQs||[],ae=k.correctDiagnosis||((ut=(ee=(ye=l==null?void 0:l.clinical_case)==null?void 0:ye.potentialDiagnoses)==null?void 0:ee[0])==null?void 0:ut.dx)||"",T=k.studentDiagnosis||(U==null?void 0:U.diagnosis)||"",C=k.diagnosisCorrect||!1,K=k.diagnosisScore||0,ie=(()=>{if(!i.started_at||!i.submitted_at)return"N/A";const oe=new Date(i.started_at),$e=new Date(i.submitted_at),ze=Math.floor(($e.getTime()-oe.getTime())/6e4),Ue=Math.floor(($e.getTime()-oe.getTime())%6e4/1e3);return`${ze}m ${Ue}s`})(),ue=k.stepwiseReasoning||k.aiComments||"Stepwise reasoning not available.",ge=((lt=l==null?void 0:l.clinical_case)==null?void 0:lt.learningPearls)||[],se=((at=l==null?void 0:l.clinical_case)==null?void 0:at.furtherReading)||[],he=oe=>oe>=80?"text-green-600":oe>=60?"text-yellow-600":"text-red-600",je=oe=>oe>=80?"bg-green-100 text-green-800 border-green-200":oe>=60?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200",me=()=>{var Ne,we,_e,Ae,Ee;if(!i||!l)return;const oe=((Ne=l.clinical_case)==null?void 0:Ne.title)||"Untitled Case",$e=((_e=(we=l.clinical_case)==null?void 0:we.patientProfile)==null?void 0:_e.name)||"Patient";let ze=0;if(i.started_at&&i.submitted_at){const Fe=new Date(i.started_at),qe=new Date(i.submitted_at);ze=Math.floor((qe.getTime()-Fe.getTime())/6e4)}const Ue=($||[]).map((Fe,qe)=>{const ke=W.find(Xe=>Xe.question===Fe.question),Ge=(ke==null?void 0:ke.answerIndex)??-1,Ve=y[`post-case-${ke==null?void 0:ke.id}`]??-1;return{question:Fe.question||`Question ${qe+1}`,options:Fe.options||(ke==null?void 0:ke.options)||[],selectedIndex:Ve,correctIndex:Ge,correct:Ve===Ge,explanation:Fe.explanation}}),He={caseTitle:oe,patientName:$e,score:{overall:P,accuracy:K,mcqScore:Ue.length>0?Math.round(Ue.filter(Fe=>Fe.correct).length/Ue.length*100):0,sloResults:D.map(Fe=>({sloId:Fe.sloId||"Unknown",sloText:Fe.sloText,status:Fe.status||"Not Achieved",percent:Fe.percent||0}))},timeTaken:ze,currentStreak:p,stepwiseReasoning:ue,diagnosis:{student:T,correct:ae,potential:((Ae=l.clinical_case)==null?void 0:Ae.potentialDiagnoses)||[]},mcqResults:Ue,rubricResults:((Ee=i.score)==null?void 0:Ee.rubricResults)||[],learningPearls:ge,furtherReading:se};XSe(He).save(`debrief-${oe.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.pdf`)};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Simulation Debrief"}),((Re=l==null?void 0:l.clinical_case)==null?void 0:Re.title)&&d.jsx("p",{className:"text-gray-600",children:l.clinical_case.title})]}),d.jsxs("button",{onClick:()=>r("/results"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900",children:[d.jsx(Zp,{className:"w-4 h-4"}),"Back to Results"]})]}),d.jsx("div",{className:`mb-6 p-4 rounded-lg border-2 ${C?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[C?d.jsx(Mn,{className:"w-6 h-6 text-green-600"}):d.jsx(vo,{className:"w-6 h-6 text-red-600"}),d.jsxs("div",{children:[d.jsxs("div",{className:`font-semibold ${C?"text-green-800":"text-red-800"}`,children:["Diagnosis ",C?"Correct":"Incorrect"]}),!C&&d.jsxs("div",{className:"text-sm text-red-700 mt-1",children:["The correct diagnosis was: ",ae]})]})]})}),d.jsx(t5e,{accuracy:K,timeTaken:ie,currentStreak:p}),d.jsx(e5e,{activeTab:u,onTabChange:f}),d.jsxs("div",{className:"mt-6",children:[u==="feedback"&&d.jsxs("div",{children:[d.jsx(r5e,{reasoning:ue}),d.jsx(i5e,{pearls:ge}),d.jsx(a5e,{references:se}),k.aiComments&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(fs,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"AI-Generated Feedback"})]}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsx("div",{className:"text-gray-700",children:d.jsx(Ca,{content:k.aiComments})})})]}),k.osceFeedback&&k.osceFeedback.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(xi,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"1) OSCE feedback  per rubric section"})]}),d.jsx("div",{className:"space-y-3",children:k.osceFeedback.map((oe,$e)=>{const ze=j.has($e),Ue=oe.rubricHindi&&oe.rubricEnglish?`${oe.rubricHindi} (${oe.rubricEnglish})`:oe.rubric;return d.jsxs("div",{className:`border rounded-lg p-4 bg-white shadow-sm transition-all cursor-pointer ${ze?"bg-gray-50":"hover:bg-gray-50"}`,onClick:()=>{const He=new Set(j);ze?He.delete($e):He.add($e),O(He)},children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:Ue}),d.jsxs("p",{className:"text-sm text-gray-600",children:[oe.itemsCompleted||0," of ",oe.totalItems||0," items completed"]}),!ze&&d.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:"Tap to expand"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"text-right",children:d.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[oe.score||0,"/",oe.maxScore||0]})}),ze?d.jsx(Jd,{className:"w-5 h-5 text-gray-500"}):d.jsx(u4,{className:"w-5 h-5 text-gray-500"})]})]}),ze&&d.jsxs("div",{className:"mt-4 pt-4 border-t space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Analysis"}),d.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:oe.analysis})]}),oe.items&&oe.items.length>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Checklist Items"}),d.jsx("div",{className:"space-y-2",children:oe.items.map((He,de)=>{const Ne=de<(oe.itemsCompleted||0);return d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Ne?d.jsx(Mn,{className:"w-4 h-4 text-green-600 flex-shrink-0"}):d.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 rounded-full flex-shrink-0"}),d.jsx("span",{className:Ne?"text-gray-700":"text-gray-500",children:He})]},de)})})]}),oe.strengths&&oe.strengths.length>0&&d.jsxs("div",{children:[d.jsxs("h4",{className:"font-medium text-green-800 mb-2 flex items-center gap-2",children:[d.jsx(Mn,{className:"w-4 h-4"}),"Strengths"]}),d.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1 ml-2 text-sm",children:oe.strengths.map((He,de)=>d.jsx("li",{children:He},de))})]}),oe.areasForImprovement&&oe.areasForImprovement.length>0&&d.jsxs("div",{children:[d.jsxs("h4",{className:"font-medium text-orange-800 mb-2 flex items-center gap-2",children:[d.jsx(Ts,{className:"w-4 h-4"}),"Areas for Improvement"]}),d.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1 ml-2 text-sm",children:oe.areasForImprovement.map((He,de)=>d.jsx("li",{children:He},de))})]})]})]},$e)})})]}),k.missedSteps!==void 0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ts,{className:"w-5 h-5 text-orange-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"2) Missing Checklist"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Important steps you could have taken during this case to improve your assessment."}),k.missedSteps&&k.missedSteps.length>0?d.jsx("div",{className:"space-y-4",children:k.missedSteps.map((oe,$e)=>d.jsx("div",{className:"border-l-4 border-orange-500 bg-orange-50 rounded-r-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-orange-500 text-white rounded-full flex items-center justify-center font-semibold text-sm",children:$e+1}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"flex items-center gap-2 mb-2",children:d.jsx("span",{className:"px-2 py-1 bg-orange-200 text-orange-800 text-xs font-medium rounded",children:oe.category})}),d.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:oe.step}),d.jsx("p",{className:"text-sm text-gray-700",children:oe.reason})]})]})},$e))}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(Mn,{className:"w-12 h-12 mx-auto mb-2 text-green-500"}),d.jsx("p",{children:"Great job! No critical steps were missed."})]})]}),P<80&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Ts,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Areas for Improvement"}),d.jsxs("ul",{className:"list-disc list-inside text-yellow-800 space-y-1",children:[D.filter(oe=>oe.status!=="Achieved").slice(0,3).map((oe,$e)=>d.jsxs("li",{children:["Focus on improving ",oe.sloId||`SLO ${$e+1}`," (currently"," ",oe.percent.toFixed(0),"%)"]},$e)),d.jsx("li",{children:"Review the case materials and practice similar scenarios"}),d.jsx("li",{children:"Consider retaking this simulation to improve your score"})]})]})]})})]}),u==="review"&&d.jsxs("div",{children:[d.jsxs("div",{className:`bg-white rounded-lg shadow p-6 mb-6 border-2 ${je(P)}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Overall Performance"}),d.jsx(Mf,{className:`w-6 h-6 ${he(P)}`})]}),d.jsx("div",{className:"flex items-center justify-center mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:`text-6xl font-bold ${he(P)}`,children:[P.toFixed(0),"%"]}),d.jsx("div",{className:"text-gray-600 mt-2",children:"Overall Score"})]})}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:D.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"SLOs Assessed"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:D.filter(oe=>oe.status==="Achieved").length}),d.jsx("div",{className:"text-sm text-gray-600",children:"SLOs Achieved"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:ie}),d.jsx("div",{className:"text-sm text-gray-600",children:"Time Taken"})]})]})]}),((rt=l==null?void 0:l.clinical_case)==null?void 0:rt.potentialDiagnoses)&&d.jsx(n5e,{potentialDiagnoses:l.clinical_case.potentialDiagnoses,studentDiagnosis:T,correctDiagnosis:ae}),D.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx($a,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"SLO (Specific Learning Outcomes) Breakdown"})]}),d.jsx("div",{className:"space-y-4",children:D.map((oe,$e)=>d.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium text-gray-900",children:oe.sloId||`SLO ${$e+1}`}),oe.sloText&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:oe.sloText})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[oe.status==="Achieved"?d.jsx(Mn,{className:"w-5 h-5 text-green-600"}):d.jsx(vo,{className:"w-5 h-5 text-red-600"}),d.jsxs("span",{className:`font-semibold ${he(oe.percent)}`,children:[oe.percent.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:`h-3 rounded-full transition-all ${oe.percent>=70?"bg-green-600":oe.percent>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(oe.percent,100)}%`}})}),oe.feedback&&d.jsxs("p",{className:"text-sm text-gray-600 mt-2 italic",children:['"',oe.feedback,'"']})]},$e))})]}),M.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(xi,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Rubric Assessment"})]}),d.jsx("div",{className:"space-y-3",children:M.map((oe,$e)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"font-medium text-gray-900",children:oe.criterion}),d.jsxs("span",{className:"text-sm text-gray-600",children:[oe.pointsEarned," / ",oe.maxPoints," points"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${oe.pointsEarned/oe.maxPoints*100}%`}})}),oe.feedback&&d.jsx("p",{className:"text-sm text-gray-600 mt-2",children:oe.feedback})]},$e))})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(xi,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"1) OSCE feedback  per rubric section"})]}),k.osceFeedback&&Array.isArray(k.osceFeedback)&&k.osceFeedback.length>0?d.jsx("div",{className:"space-y-3",children:k.osceFeedback.map((oe,$e)=>{const ze=j.has($e),Ue=oe.rubricHindi&&oe.rubricEnglish?`${oe.rubricHindi} (${oe.rubricEnglish})`:oe.rubric;return d.jsxs("div",{className:`border border-gray-200 rounded-lg p-4 shadow-sm transition-all cursor-pointer ${ze?"bg-amber-50 border-amber-200":"bg-white hover:bg-gray-50"}`,onClick:()=>{const He=new Set(j);ze?He.delete($e):He.add($e),O(He)},children:[d.jsxs("div",{className:"flex items-start justify-between gap-4",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-semibold text-gray-900 mb-1.5 text-base",children:Ue}),d.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[oe.itemsCompleted||0," of ",oe.totalItems||0," items completed"]}),!ze&&d.jsx("p",{className:"text-xs text-gray-500 italic",children:"Tap to expand"})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsx("div",{className:"text-right",children:d.jsxs("div",{className:"text-base font-semibold text-gray-900",children:[oe.score||0,"/",oe.maxScore||0]})}),ze?d.jsx(Jd,{className:"w-5 h-5 text-gray-500 flex-shrink-0"}):d.jsx(u4,{className:"w-5 h-5 text-gray-500 flex-shrink-0"})]})]}),ze&&d.jsxs("div",{className:"mt-4 pt-4 border-t space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Analysis"}),d.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:oe.analysis})]}),oe.items&&oe.items.length>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Checklist Items"}),d.jsx("div",{className:"space-y-2",children:oe.items.map((He,de)=>{const Ne=de<(oe.itemsCompleted||0);return d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Ne?d.jsx(Mn,{className:"w-4 h-4 text-green-600 flex-shrink-0"}):d.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 rounded-full flex-shrink-0"}),d.jsx("span",{className:Ne?"text-gray-700":"text-gray-500",children:He})]},de)})})]}),oe.strengths&&oe.strengths.length>0&&d.jsxs("div",{children:[d.jsxs("h4",{className:"font-medium text-green-800 mb-2 flex items-center gap-2",children:[d.jsx(Mn,{className:"w-4 h-4"}),"Strengths"]}),d.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1 ml-2 text-sm",children:oe.strengths.map((He,de)=>d.jsx("li",{children:He},de))})]}),oe.areasForImprovement&&oe.areasForImprovement.length>0&&d.jsxs("div",{children:[d.jsxs("h4",{className:"font-medium text-orange-800 mb-2 flex items-center gap-2",children:[d.jsx(Ts,{className:"w-4 h-4"}),"Areas for Improvement"]}),d.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1 ml-2 text-sm",children:oe.areasForImprovement.map((He,de)=>d.jsx("li",{children:He},de))})]})]})]},$e)})}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(Ts,{className:"w-12 h-12 mx-auto mb-2 text-orange-500"}),d.jsx("p",{className:"font-medium mb-1",children:"OSCE feedback generation timed out"}),d.jsx("p",{className:"text-sm",children:"Please refresh the page to see the feedback."})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ts,{className:"w-5 h-5 text-orange-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"2) Missing Checklist"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Important steps you could have taken during this case to improve your assessment."}),k.missedSteps!==void 0?k.missedSteps&&Array.isArray(k.missedSteps)&&k.missedSteps.length>0?d.jsx("div",{className:"space-y-3",children:k.missedSteps.map((oe,$e)=>d.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-white shadow-sm hover:bg-gray-50 transition-colors",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-orange-500 text-white rounded-full flex items-center justify-center font-semibold text-sm",children:$e+1}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"flex items-center gap-2 mb-2",children:d.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded",children:oe.category})}),d.jsx("h3",{className:"font-semibold text-gray-900 mb-1.5 text-base",children:oe.step}),d.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:oe.reason})]})]})},$e))}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(Mn,{className:"w-12 h-12 mx-auto mb-2 text-green-500"}),d.jsx("p",{children:"Great job! No critical steps were missed."})]}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(Ts,{className:"w-12 h-12 mx-auto mb-2 text-orange-500"}),d.jsx("p",{className:"font-medium mb-1",children:"Missed steps analysis generation timed out"}),d.jsx("p",{className:"text-sm",children:"Please refresh the page to see the analysis."})]})]}),D.length>0&&w.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx($a,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"CBDC Assessment"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Your performance across CBDC competencies and their associated learning outcomes."}),(()=>{const oe=new Map;D.forEach(Ue=>{const He=N.get(Ue.sloId);if(He&&He.competency_id){const de=w.find(Ne=>Ne.id===He.competency_id);de&&(oe.has(de.id)||oe.set(de.id,{competency:de,slos:[],averageScore:0}),oe.get(de.id).slos.push({...Ue,sloText:He.text,millerLevel:He.miller_level,bloomDomain:He.bloom_domain}))}}),oe.forEach(Ue=>{if(Ue.slos.length>0){const He=Ue.slos.reduce((de,Ne)=>de+Ne.percent,0);Ue.averageScore=Math.round(He/Ue.slos.length)}});const $e=Array.from(oe.values()).sort((Ue,He)=>He.averageScore-Ue.averageScore),ze=D.filter(Ue=>{const He=N.get(Ue.sloId);return!He||!He.competency_id});return d.jsxs("div",{className:"space-y-6",children:[$e.map((Ue,He)=>d.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:Ue.competency.description}),d.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[d.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:Ue.competency.domain}),Ue.competency.level&&d.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded",children:Ue.competency.level}),d.jsxs("span",{className:"text-xs text-gray-600",children:[Ue.slos.length," SLO",Ue.slos.length!==1?"s":""]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:`text-2xl font-bold ${he(Ue.averageScore)}`,children:[Ue.averageScore,"%"]}),d.jsx("div",{className:"text-xs text-gray-600",children:"Average"})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:d.jsx("div",{className:`h-3 rounded-full transition-all ${Ue.averageScore>=70?"bg-green-600":Ue.averageScore>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(Ue.averageScore,100)}%`}})}),d.jsx("div",{className:"space-y-3 mt-4",children:Ue.slos.map((de,Ne)=>d.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium text-gray-900 text-sm",children:de.sloText||de.sloId}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[de.millerLevel&&d.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-100 text-green-800 rounded",children:de.millerLevel}),de.bloomDomain&&d.jsx("span",{className:"text-xs px-2 py-0.5 bg-orange-100 text-orange-800 rounded",children:de.bloomDomain})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[de.status==="Achieved"?d.jsx(Mn,{className:"w-4 h-4 text-green-600"}):d.jsx(vo,{className:"w-4 h-4 text-red-600"}),d.jsxs("span",{className:`text-sm font-semibold ${he(de.percent)}`,children:[de.percent,"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${de.percent>=70?"bg-green-600":de.percent>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(de.percent,100)}%`}})}),de.feedback&&d.jsxs("p",{className:"text-xs text-gray-600 mt-2 italic",children:['"',de.feedback,'"']})]},Ne))})]},He)),ze.length>0&&d.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[d.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Unassigned Learning Outcomes"}),d.jsx("div",{className:"space-y-3",children:ze.map((Ue,He)=>d.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"font-medium text-gray-900 text-sm",children:Ue.sloId}),d.jsxs("div",{className:"flex items-center gap-2",children:[Ue.status==="Achieved"?d.jsx(Mn,{className:"w-4 h-4 text-green-600"}):d.jsx(vo,{className:"w-4 h-4 text-red-600"}),d.jsxs("span",{className:`text-sm font-semibold ${he(Ue.percent)}`,children:[Ue.percent,"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${Ue.percent>=70?"bg-green-600":Ue.percent>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(Ue.percent,100)}%`}})})]},He))})]})]})})()]})]}),u==="questions"&&d.jsx("div",{children:W.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(xi,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"POST-CASE QUESTIONS"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:b?"Review your answers and results below.":"Answer these questions based on the case you just completed."}),d.jsx("div",{className:"space-y-4",children:W.map((oe,$e)=>{var _e;const ze=`post-case-${oe.id}`,Ue=y[ze],He=oe.answerIndex,de=oe.options[He],Ne=b||J,we=$.find(Ae=>Ae.question===oe.question);return d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsx("div",{className:"flex items-start justify-between mb-3",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"font-medium text-gray-900 mb-2",children:[$e+1,". ",oe.question]}),d.jsx("div",{className:"space-y-2 mt-3",children:(_e=oe.options)==null?void 0:_e.map((Ae,Ee)=>{const Fe=Ue===Ee,qe=Ee===He;return d.jsx("button",{onClick:()=>{Ne||g({...y,[ze]:Ee})},disabled:Ne,className:`w-full text-left p-3 rounded-lg border-2 transition-all ${Ne?qe?"bg-green-50 border-green-200":Fe&&!qe?"bg-red-50 border-red-200":"bg-white border-gray-200":Fe?"bg-primary-50 border-primary-300":"bg-white border-gray-200 hover:border-primary-300 hover:bg-gray-50"} ${Ne?"cursor-default":"cursor-pointer"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:Ae}),Ne&&qe&&d.jsx(Mn,{className:"w-5 h-5 text-green-600"}),Ne&&Fe&&!qe&&d.jsx(vo,{className:"w-5 h-5 text-red-600"}),!Ne&&Fe&&d.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-primary-600 bg-primary-100"})]})},Ee)})})]})}),Ne&&((we==null?void 0:we.explanation)||oe.explanation)&&d.jsxs("div",{className:"mt-3 pt-3 border-t",children:[d.jsx("div",{className:"font-medium text-gray-700 mb-1",children:"EXPLANATION"}),d.jsx("p",{className:"text-sm text-gray-600",children:(we==null?void 0:we.explanation)||`The correct answer is ${de}. ${oe.explanation||""}`})]})]},$e)})}),!b&&!J&&d.jsx("div",{className:"mt-6 pt-4 border-t",children:d.jsx("button",{onClick:async()=>{if(!W.every($e=>y[`post-case-${$e.id}`]!==void 0)){n.warning("Please answer all questions before submitting.");return}if(t){const $e={...U,postCaseMCQAnswers:y},{error:ze}=await Le.from("simulation_runs").update({transcript:$e}).eq("id",t);if(ze){n.error("Error saving answers: "+ze.message);return}try{const{error:Ue}=await Le.functions.invoke("score_simulation",{body:{runId:t}});Ue?console.error("Error re-scoring:",Ue):(await F(),v(!0))}catch(Ue){console.error("Error calling score function:",Ue)}}},disabled:W.some(oe=>y[`post-case-${oe.id}`]===void 0),className:"w-full px-4 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-all",children:"Submit Answers"})}),(b||J)&&d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:["Score: ",W.filter(oe=>y[`post-case-${oe.id}`]===oe.answerIndex).length," / ",W.length]}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[W.length>0?(W.filter(oe=>y[`post-case-${oe.id}`]===oe.answerIndex).length/W.length*100).toFixed(0):0,"%"]})]})})]})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6",children:[d.jsxs("button",{onClick:()=>r("/results"),className:"flex items-center justify-center gap-2 px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[d.jsx(Zp,{className:"w-4 h-4"}),"Back to Results"]}),d.jsxs("button",{onClick:me,className:"flex items-center justify-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(Id,{className:"w-4 h-4"}),"Download PDF Report"]})]})]}),d.jsx(Zn,{role:"student"}),d.jsx(Ul,{toasts:n.toasts,onClose:n.removeToast})]})}function ZSe({user:e}){const t=gs(),[r,n]=X.useState([]),[i,a]=X.useState(!0);X.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:c,error:u}=await Le.from("simulation_runs").select("*").eq("student_id",e.id).not("submitted_at","is",null).order("submitted_at",{ascending:!1});if(u)throw u;const f=await Promise.all((c||[]).map(async p=>{const{data:h}=await Le.from("assignments").select("*").eq("id",p.assignment_id).single();let y=null;if(h){const{data:g}=await Le.from("case_snapshots").select("*").eq("id",h.snapshot_id).single();y=g}return{...p,assignment:h,snapshot:y}}));n(f)}catch(c){console.error("Error loading results:",c)}finally{a(!1)}},o=c=>c>=80?"bg-green-100 text-green-800":c>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",l=(c,u)=>{const f=new Date(c),p=new Date(u);return`${Math.floor((p.getTime()-f.getTime())/6e4)} minutes`};return i?d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Results & History"}),d.jsx("p",{className:"text-gray-600",children:"View your past simulation attempts and performance"})]}),r.length>0&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.length>0?Math.round(r.reduce((c,u)=>{var p;const f=((p=u.score)==null?void 0:p.overall)||0;return c+f},0)/r.length):0,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:[r.length>0?Math.max(...r.map(c=>{var f;return((f=c.score)==null?void 0:f.overall)||0})):0,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]})]}),r.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsx(Mf,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 text-lg",children:"No completed simulations yet"}),d.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Complete a simulation to see your results here"})]}):d.jsx("div",{className:"space-y-4",children:r.map(c=>{var y,g,b,v,w,_,N;const u=((y=c.score)==null?void 0:y.overall)||0,f=((g=c.score)==null?void 0:g.sloResults)||[],p=((v=(b=c.snapshot)==null?void 0:b.clinical_case)==null?void 0:v.title)||"Untitled Station",h=((N=(_=(w=c.snapshot)==null?void 0:w.clinical_case)==null?void 0:_.patientProfile)==null?void 0:N.name)||"Patient";return d.jsx("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p}),d.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Patient: ",h]})]}),d.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${o(u)}`,children:[u.toFixed(0),"%"]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-gray-600",children:[c.started_at&&c.submitted_at&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(xu,{className:"w-4 h-4"}),d.jsx("span",{children:l(c.started_at,c.submitted_at)})]}),c.submitted_at&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Df,{className:"w-4 h-4"}),d.jsx("span",{children:new Date(c.submitted_at).toLocaleDateString()})]}),f.length>0&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(fs,{className:"w-4 h-4"}),d.jsxs("span",{children:[f.filter(S=>S.status==="Achieved").length," /"," ",f.length," SLOs Achieved"]})]})]}),f.length>0&&d.jsxs("div",{className:"mt-4 space-y-2",children:[f.slice(0,3).map((S,j)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${S.percent>=70?"bg-green-600":"bg-yellow-600"}`,style:{width:`${S.percent}%`}})}),d.jsxs("span",{className:"text-xs text-gray-600 w-12 text-right",children:[S.percent,"%"]})]},j)),f.length>3&&d.jsxs("p",{className:"text-xs text-gray-500",children:["+",f.length-3," more SLOs"]})]})]}),d.jsx("div",{className:"flex gap-2",children:d.jsxs("button",{onClick:()=>t(`/debrief/${c.id}`),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[d.jsx(v1,{className:"w-4 h-4"}),"View Details"]})})]})},c.id)})})]}),d.jsx(Zn,{role:"student"})]})}function QSe({user:e}){const t=Uo(),[r,n]=X.useState({totalAttempts:0,averageScore:0,bestScore:0,completedAssignments:0}),[i,a]=X.useState([]),[s,o]=X.useState([]),[l,c]=X.useState(!0),[u,f]=X.useState(!1),[p,h]=X.useState(!1),[y,g]=X.useState({totalTimeSpent:0,averageTimePerAttempt:0,improvementRate:0,slosAchieved:0,totalSlos:0,streak:0,lastActivity:null});X.useEffect(()=>{b(),v()},[]);const b=async()=>{try{const{data:S}=await Le.from("simulation_runs").select("score, submitted_at, started_at, created_at").eq("student_id",e.id).not("submitted_at","is",null),j=S||[],O=j.map(ie=>{var ue;return((ue=ie.score)==null?void 0:ue.overall)||0}).filter(ie=>ie>0),I=j.length,L=O.length>0?O.reduce((ie,ue)=>ie+ue,0)/O.length:0,F=O.length>0?Math.max(...O):0,{data:k}=await Le.from("cohort_members").select("cohort_id").eq("student_id",e.id);let P=0;if(k&&k.length>0){const ie=k.map(ge=>ge.cohort_id),{data:ue}=await Le.from("assignments").select("id").in("cohort_id",ie);if(ue){const ge=ue.map(he=>he.id),{data:se}=await Le.from("simulation_runs").select("assignment_id").eq("student_id",e.id).not("submitted_at","is",null).in("assignment_id",ge);P=new Set(se==null?void 0:se.map(he=>he.assignment_id)).size}}const{data:D}=await Le.from("simulation_runs").select("started_at, submitted_at, score, created_at").eq("student_id",e.id).not("submitted_at","is",null),M=(D||[]).reduce((ie,ue)=>{if(ue.started_at&&ue.submitted_at){const ge=new Date(ue.started_at),se=new Date(ue.submitted_at);return ie+Math.floor((se.getTime()-ge.getTime())/6e4)}return ie},0),U=j.length>0?Math.round(M/j.length):0;let V=0,W=0;j.forEach(ie=>{var ge;(((ge=ie.score)==null?void 0:ge.sloResults)||[]).forEach(se=>{W++,se.status==="Achieved"&&V++})});const B=O.slice(0,5),J=O.slice(5,10),$=B.length>0?B.reduce((ie,ue)=>ie+ue,0)/B.length:0,ae=J.length>0?J.reduce((ie,ue)=>ie+ue,0)/J.length:0,T=ae>0?($-ae)/ae*100:0,C=j[0],K=(C==null?void 0:C.submitted_at)||null;let Q=0;if(j.length>0){const ie=new Date;ie.setHours(0,0,0,0);let ue=new Date(ie);for(let ge=0;ge<j.length;ge++){const se=j[ge],he=new Date(se.submitted_at||se.created_at||se.started_at);if(he.setHours(0,0,0,0),he.getTime()===ue.getTime())Q++,ue.setDate(ue.getDate()-1);else if(he.getTime()<ue.getTime())break}}n({totalAttempts:I,averageScore:Math.round(L),bestScore:Math.round(F),completedAssignments:P}),g({totalTimeSpent:M,averageTimePerAttempt:U,improvementRate:Math.round(T*10)/10,slosAchieved:V,totalSlos:W,streak:Q,lastActivity:K})}catch(S){console.error("Error loading stats:",S)}finally{c(!1)}},v=async()=>{try{const{data:S}=await Le.from("cohort_members").select("cohort_id, cohorts(id, name, description)").eq("student_id",e.id),j=(S||[]).map(F=>F.cohort_id),O=(S||[]).map(F=>F.cohorts).filter(Boolean);a(O);const{data:I}=await Le.from("cohorts").select("id, name, description").order("name"),L=(I||[]).filter(F=>!j.includes(F.id));o(L)}catch(S){console.error("Error loading cohorts:",S)}},w=async S=>{f(!0);try{const{error:j}=await Le.from("cohort_members").insert({cohort_id:S,student_id:e.id});if(j)throw j;await v()}catch(j){t.error("Error joining cohort: "+j.message)}finally{f(!1)}},_=async S=>{if(confirm("Are you sure you want to leave this cohort? You will lose access to its assignments.")){f(!0);try{const{error:j}=await Le.from("cohort_members").delete().eq("cohort_id",S).eq("student_id",e.id);if(j)throw j;await v()}catch(j){t.error("Error leaving cohort: "+j.message)}finally{f(!1)}}},N=async()=>{await aj()};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Profile"}),d.jsx("p",{className:"text-gray-600",children:"View your account information and performance statistics"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx(Bs,{className:"w-10 h-10 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.name}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(b8,{className:"w-4 h-4"}),d.jsx("span",{children:e.email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(Df,{className:"w-4 h-4"}),d.jsxs("span",{children:["Member since ",new Date(e.created_at).toLocaleDateString()]})]})]})]}),d.jsx("div",{className:"border-t pt-4",children:d.jsx("div",{className:"flex items-center gap-2 text-sm",children:d.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full font-medium",children:"Student"})})})]}),!l&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(y1,{className:"w-5 h-5 text-primary-600"}),d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.totalAttempts})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(fs,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.averageScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Mf,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[r.bestScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(yp,{className:"w-5 h-5 text-primary-600"}),d.jsx("div",{className:"text-2xl font-bold text-primary-600",children:r.completedAssignments})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx($a,{className:"w-5 h-5 text-primary-600"}),"Performance Metrics"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Time Spent"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[y.totalTimeSpent," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Avg Time per Attempt"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[y.averageTimePerAttempt," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Improvement Rate"}),d.jsxs("span",{className:`font-semibold ${y.improvementRate>0?"text-green-600":y.improvementRate<0?"text-red-600":"text-gray-900"}`,children:[y.improvementRate>0?"+":"",y.improvementRate,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Current Streak"}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[y.streak," days"]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(yp,{className:"w-5 h-5 text-primary-600"}),"Learning Outcomes"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"SLOs Achieved"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[y.slosAchieved," / ",y.totalSlos]})]}),y.totalSlos>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all",style:{width:`${y.slosAchieved/y.totalSlos*100}%`}})}),d.jsxs("div",{className:"text-sm text-gray-500",children:[(y.slosAchieved/y.totalSlos*100).toFixed(1),"% achievement rate"]})]}),y.lastActivity&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-4 pt-4 border-t",children:[d.jsx(xu,{className:"w-4 h-4"}),d.jsxs("span",{children:["Last activity: ",new Date(y.lastActivity).toLocaleDateString()]})]})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ko,{className:"w-5 h-5 text-primary-600"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Cohorts"})]}),d.jsxs("button",{onClick:()=>h(!p),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[d.jsx(x8,{className:"w-4 h-4"}),"Manage"]})]}),i.length===0?d.jsx("p",{className:"text-gray-500 text-sm",children:"You are not in any cohorts yet."}):d.jsx("div",{className:"space-y-2",children:i.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:S.name}),S.description&&d.jsx("div",{className:"text-sm text-gray-500",children:S.description})]}),p&&d.jsx("button",{onClick:()=>_(S.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Leave cohort",children:d.jsx(Bf,{className:"w-4 h-4"})})]},S.id))}),p&&s.length>0&&d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Cohorts"}),d.jsx("div",{className:"space-y-2",children:s.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-md",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:S.name}),S.description&&d.jsx("div",{className:"text-sm text-gray-500",children:S.description})]}),d.jsxs("button",{onClick:()=>w(S.id),disabled:u,className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 transition-colors",children:[d.jsx(Wm,{className:"w-4 h-4"}),"Join"]})]},S.id))})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Actions"}),d.jsx("div",{className:"space-y-2",children:d.jsxs("button",{onClick:N,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors font-medium",children:[d.jsx(v8,{className:"w-5 h-5"}),"Sign Out"]})})]})]}),d.jsx(Zn,{role:"student"})]})}function eje({data:e}){return d.jsx(Jm,{width:"100%",height:300,children:d.jsxs(CN,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(ag,{strokeDasharray:"3 3"}),d.jsx(tc,{dataKey:"date"}),d.jsx(rc,{domain:[0,100]}),d.jsx(Ti,{}),d.jsx(Us,{}),d.jsx(ql,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2,name:"Score (%)",dot:{fill:"#3b82f6",r:4}})]})})}function tje({user:e}){const[t,r]=X.useState(null),[n,i]=X.useState(!0),[a,s]=X.useState([]);X.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:c}=await Le.from("cohort_members").select("cohort_id").eq("student_id",e.id),u=(c==null?void 0:c.map(T=>T.cohort_id))||[];let f=[];if(u.length>0){const{data:T}=await Le.from("assignments").select("*").in("cohort_id",u);f=T||[]}const{data:p}=await Le.from("simulation_runs").select("*, assignments!inner(snapshot_id, case_snapshots!inner(clinical_case))").eq("student_id",e.id).order("submitted_at",{ascending:!1}),h=(p||[]).filter(T=>T.submitted_at),y=(p||[]).filter(T=>!T.submitted_at),g=h.map(T=>{var C;return((C=T.score)==null?void 0:C.overall)||0}).filter(T=>T>0),b=g.length>0?g.reduce((T,C)=>T+C,0)/g.length:0,v=g.length>0?Math.max(...g):0,w=g.slice(0,3),_=g.slice(3,6),N=w.length>0?w.reduce((T,C)=>T+C,0)/w.length:0,S=_.length>0?_.reduce((T,C)=>T+C,0)/_.length:0,j=S>0?(N-S)/S*100:0,O=h.slice(0,10).map(T=>{var Q;const C=((Q=T.score)==null?void 0:Q.overall)||0,K=T.submitted_at||T.created_at;return{date:new Date(K).toLocaleDateString("en-US",{month:"short",day:"numeric"}),score:Math.round(C)}}).reverse();s(O);const I=new Map;h.forEach(T=>{var K;(((K=T.score)==null?void 0:K.sloResults)||[]).forEach(Q=>{const ie=Q.sloId||"unknown";I.has(ie)||I.set(ie,{achieved:0,total:0,text:Q.sloText});const ue=I.get(ie);ue.total++,Q.status==="Achieved"&&ue.achieved++})});const L=Array.from(I.entries()).map(([T,C])=>({sloId:T,sloText:C.text,achieved:C.achieved,total:C.total,percentage:C.total>0?C.achieved/C.total*100:0})).sort((T,C)=>C.percentage-T.percentage),F=h.reduce((T,C)=>{if(C.started_at&&C.submitted_at){const K=new Date(C.started_at),Q=new Date(C.submitted_at);return T+Math.floor((Q.getTime()-K.getTime())/6e4)}return T},0),k=h.slice(0,5).map(T=>{var C;return{date:T.submitted_at||T.created_at,action:"Completed simulation",score:((C=T.score)==null?void 0:C.overall)||0}}),P=new Set(h.map(T=>T.assignment_id)),D=new Set(y.map(T=>T.assignment_id)),M=f.filter(T=>P.has(T.id)).length,U=f.filter(T=>D.has(T.id)&&!P.has(T.id)).length,V=f.length-M-U,{data:W}=await Le.from("competencies").select("id, domain, level, description"),{data:B}=await Le.from("slo").select("id, competency_id, text"),J=new Map;B==null||B.forEach(T=>{T.competency_id&&J.set(T.id,T.competency_id)});const $=new Map;W==null||W.forEach(T=>{$.set(T.id,{competency:T.id,domain:T.domain,level:T.level||null,description:T.description,totalAttempts:0,achievedAttempts:0,assignments:[]})}),h.forEach(T=>{var he,je;if(!f.find(me=>me.id===T.assignment_id))return;const K=(he=T.assignments)==null?void 0:he.case_snapshots;if(!(K!=null&&K.clinical_case))return;const Q=K.clinical_case,ie=Q.sloMappings||[],ue=Q.title||"Untitled Assignment",ge=((je=T.score)==null?void 0:je.sloResults)||[],se=new Set(ge.filter(me=>me.status==="Achieved").map(me=>me.sloId));ie.forEach(me=>{const Be=J.get(me);if(!Be)return;const ye=$.get(Be);ye&&(ye.totalAttempts++,se.has(me)&&ye.achievedAttempts++,ye.assignments.includes(ue)||ye.assignments.push(ue))})});const ae=Array.from($.values()).filter(T=>T.totalAttempts>0).map(T=>({competency:T.competency,domain:T.domain,level:T.level,description:T.description,progress:T.totalAttempts>0?Math.round(T.achievedAttempts/T.totalAttempts*100):0,totalAttempts:T.totalAttempts,achievedAttempts:T.achievedAttempts,assignments:T.assignments})).sort((T,C)=>C.progress-T.progress);r({totalAssignments:f.length,completedAssignments:M,pendingAssignments:V,inProgressAssignments:U,totalAttempts:(p==null?void 0:p.length)||0,averageScore:Math.round(b),bestScore:Math.round(v),improvementTrend:Math.round(j*10)/10,sloProgress:L,recentActivity:k,timeSpent:F,competencyProgress:ae})}catch(c){console.error("Error loading analytics:",c)}finally{i(!1)}};if(n)return d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(!t)return d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 p-4",children:d.jsx("p",{children:"Unable to load analytics data."})});const l=t.totalAssignments>0?t.completedAssignments/t.totalAssignments*100:0;return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Analytics"}),d.jsx("p",{className:"text-gray-600",children:"Track your progress and performance"})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(yp,{className:"w-5 h-5 text-primary-600"}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[l.toFixed(0),"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completion Rate"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(fs,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[t.averageScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Mf,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[t.bestScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(xu,{className:"w-5 h-5 text-blue-600"}),d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.timeSpent})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Minutes Practiced"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx($a,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Progress Overview"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),d.jsxs("span",{className:"text-sm font-semibold",children:[t.completedAssignments,"/",t.totalAssignments]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-green-600 h-3 rounded-full transition-all",style:{width:`${l}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"In Progress"}),d.jsx("span",{className:"text-sm font-semibold",children:t.inProgressAssignments})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-yellow-600 h-3 rounded-full transition-all",style:{width:`${t.totalAssignments>0?t.inProgressAssignments/t.totalAssignments*100:0}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Pending"}),d.jsx("span",{className:"text-sm font-semibold",children:t.pendingAssignments})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gray-400 h-3 rounded-full transition-all",style:{width:`${t.totalAssignments>0?t.pendingAssignments/t.totalAssignments*100:0}%`}})})]})]})]}),a.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(fs,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Score Trend (Last 10 Attempts)"})]}),d.jsx(eje,{data:a})]}),t.improvementTrend!==0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(fs,{className:`w-5 h-5 ${t.improvementTrend>0?"text-green-600":"text-red-600"}`}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Performance Trend"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:`text-3xl font-bold ${t.improvementTrend>0?"text-green-600":"text-red-600"}`,children:[t.improvementTrend>0?"+":"",t.improvementTrend.toFixed(1),"%"]}),d.jsxs("div",{className:"text-gray-600",children:[t.improvementTrend>0?"Improving":"Declining"," compared to previous attempts"]})]})]}),t.sloProgress.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(yp,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"SLO Achievement"})]}),d.jsx("div",{className:"space-y-4",children:t.sloProgress.slice(0,5).map((c,u)=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.sloId}),c.sloText&&d.jsx("div",{className:"text-sm text-gray-600",children:c.sloText})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[c.percentage>=70?d.jsx(Mn,{className:"w-5 h-5 text-green-600"}):d.jsx(vo,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("span",{className:"font-semibold",children:[c.percentage.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${c.percentage>=70?"bg-green-600":"bg-yellow-600"}`,style:{width:`${c.percentage}%`}})}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Achieved ",c.achieved," out of ",c.total," attempts"]})]},u))})]}),t.recentActivity.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(EH,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"})]}),d.jsx("div",{className:"space-y-3",children:t.recentActivity.map((c,u)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Df,{className:"w-4 h-4 text-gray-400"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.action}),d.jsx("div",{className:"text-sm text-gray-500",children:new Date(c.date).toLocaleDateString()})]})]}),c.score!==void 0&&d.jsxs("div",{className:"font-semibold text-primary-600",children:[c.score.toFixed(0),"%"]})]},u))})]}),t.competencyProgress.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(yp,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Competency Progress"})]}),d.jsx("div",{className:"space-y-4",children:t.competencyProgress.slice(0,8).map((c,u)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.competency}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:c.description}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:c.domain}),c.level&&d.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded",children:c.level})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[c.progress>=70?d.jsx(Mn,{className:"w-5 h-5 text-green-600"}):c.progress>=50?d.jsx(vo,{className:"w-5 h-5 text-yellow-600"}):d.jsx(vo,{className:"w-5 h-5 text-red-600"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[c.progress,"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${c.progress>=70?"bg-green-600":c.progress>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${c.progress}%`}})}),d.jsxs("div",{className:"text-xs text-gray-500",children:["Achieved ",c.achievedAttempts," out of ",c.totalAttempts," attempts",c.assignments.length>0&&d.jsxs("span",{className:"ml-2",children:[" ",c.assignments.length," assignment",c.assignments.length!==1?"s":""]})]})]},u))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Assignment Status"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Assignments"}),d.jsx("span",{className:"font-semibold",children:t.totalAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Completed"}),d.jsx("span",{className:"font-semibold text-green-600",children:t.completedAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"In Progress"}),d.jsx("span",{className:"font-semibold text-yellow-600",children:t.inProgressAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Pending"}),d.jsx("span",{className:"font-semibold text-gray-600",children:t.pendingAssignments})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Stats"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Attempts"}),d.jsx("span",{className:"font-semibold",children:t.totalAttempts})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Average Score"}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[t.averageScore,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Best Score"}),d.jsxs("span",{className:"font-semibold text-yellow-600",children:[t.bestScore,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Time Practiced"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:[t.timeSpent," min"]})]})]})]})]})]}),d.jsx(Zn,{role:"student"})]})}function FD({data:e}){return!e||e.length===0?d.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:d.jsx("p",{children:"No performance data available"})}):d.jsx(Jm,{width:"100%",height:300,children:d.jsxs(CN,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(ag,{strokeDasharray:"3 3"}),d.jsx(tc,{dataKey:"date",angle:-45,textAnchor:"end",height:80}),d.jsx(rc,{domain:[0,100]}),d.jsx(Ti,{formatter:t=>[`${t.toFixed(1)}%`,"Average Score"],labelFormatter:t=>`Date: ${t}`}),d.jsx(Us,{}),d.jsx(ql,{type:"monotone",dataKey:"averageScore",stroke:"#3b82f6",strokeWidth:2,name:"Average Score",dot:{fill:"#3b82f6",r:4},activeDot:{r:6}})]})})}function UD({entries:e,maxDisplay:t=20}){if(!e||e.length===0)return d.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:d.jsx("p",{children:"No student performance data available"})});const r=e.slice(0,t),n=a=>a===1?d.jsx(qH,{className:"w-6 h-6 text-yellow-500"}):a===2?d.jsx(RH,{className:"w-6 h-6 text-gray-400"}):a===3?d.jsx(Mf,{className:"w-6 h-6 text-amber-600"}):d.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-gray-500 font-bold",children:a}),i=a=>a===1?"bg-yellow-50 border-yellow-200":a===2?"bg-gray-50 border-gray-200":a===3?"bg-amber-50 border-amber-200":"bg-white border-gray-200";return d.jsxs("div",{className:"space-y-2",children:[r.map((a,s)=>{const o=s+1;return d.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border-2 ${i(o)} transition-all hover:shadow-md`,children:[d.jsx("div",{className:"flex-shrink-0",children:n(o)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-gray-900 truncate",children:a.name}),d.jsx("div",{className:"text-sm text-gray-600 truncate",children:a.email})]}),d.jsxs("div",{className:"flex items-center gap-6 flex-shrink-0",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Avg Score"}),d.jsxs("div",{className:"text-lg font-bold text-primary-600",children:[a.averageScore.toFixed(1),"%"]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Attempts"}),d.jsx("div",{className:"text-lg font-semibold text-gray-700",children:a.totalAttempts})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Best"}),d.jsxs("div",{className:"text-lg font-semibold text-green-600",children:[a.bestScore.toFixed(1),"%"]})]})]})]},a.id)}),e.length>t&&d.jsxs("div",{className:"text-center text-sm text-gray-500 pt-2",children:["Showing top ",t," of ",e.length," students"]})]})}function rje({user:e}){const t=Uo(),[r,n]=X.useState({totalFaculty:0,totalStudents:0,activeStations:0,coverage:0}),[i,a]=X.useState(!0),[s,o]=X.useState([]),[l,c]=X.useState([]),[u,f]=X.useState(!0);X.useEffect(()=>{h(),y()},[]);const p=async()=>{try{const{data:g}=await Le.from("users").select("id, name, email, role, created_at"),{data:b}=await Le.from("stations").select("id, title, created_at"),{data:v}=await Le.from("case_snapshots").select("id, approved_at"),{data:w}=await Le.from("assignments").select("id, created_at"),{data:_}=await Le.from("simulation_runs").select("id, score, submitted_at").not("submitted_at","is",null),{data:N}=await Le.from("competencies").select("id, domain, level"),S=(g==null?void 0:g.filter(M=>M.role==="faculty").length)||0,j=(g==null?void 0:g.filter(M=>M.role==="student").length)||0,O=(_==null?void 0:_.filter(M=>M.submitted_at))||[],I=O.map(M=>{var U;return((U=M.score)==null?void 0:U.overall)||0}).filter(M=>M>0),L=I.length>0?I.reduce((M,U)=>M+U,0)/I.length:0,F={generatedAt:new Date().toISOString(),summary:{totalUsers:(g==null?void 0:g.length)||0,totalFaculty:S,totalStudents:j,totalStations:(b==null?void 0:b.length)||0,totalSnapshots:(v==null?void 0:v.length)||0,totalAssignments:(w==null?void 0:w.length)||0,totalCompletions:O.length,averageScore:Math.round(L),totalCompetencies:(N==null?void 0:N.length)||0},userBreakdown:{faculty:g==null?void 0:g.filter(M=>M.role==="faculty").map(M=>({name:M.name,email:M.email,joined:M.created_at})),students:g==null?void 0:g.filter(M=>M.role==="student").map(M=>({name:M.name,email:M.email,joined:M.created_at}))},performance:{totalAttempts:O.length,averageScore:Math.round(L),completionRate:w&&w.length>0?Math.round(O.length/w.length*100):0}},k=new Blob([JSON.stringify(F,null,2)],{type:"application/json"}),P=URL.createObjectURL(k),D=document.createElement("a");D.href=P,D.download=`system-report-${new Date().toISOString().split("T")[0]}.json`,D.click(),t.success("Report exported successfully!")}catch(g){t.error("Error exporting report: "+(g.message||"Unknown error")),console.error("Error exporting report:",g)}},h=async()=>{try{const{data:g}=await Le.from("users").select("role"),b=(g==null?void 0:g.filter(k=>k.role==="faculty").length)||0,v=(g==null?void 0:g.filter(k=>k.role==="student").length)||0,{data:w}=await Le.from("stations").select("id"),{data:_}=await Le.from("competencies").select("id"),{data:N}=await Le.from("slo").select("id, competency_id"),S=new Map;N==null||N.forEach(k=>{k.competency_id&&S.set(k.id,k.competency_id)});const{data:j}=await Le.from("case_snapshots").select("clinical_case"),O=new Set;j==null||j.forEach(k=>{var D;(((D=k.clinical_case)==null?void 0:D.sloMappings)||[]).forEach(M=>{const U=S.get(M);U&&O.add(U)})});const I=(_==null?void 0:_.length)||0,L=O.size,F=I>0?Math.round(L/I*100):0;n({totalFaculty:b,totalStudents:v,activeStations:(w==null?void 0:w.length)||0,coverage:F})}catch(g){console.error("Error loading stats:",g)}finally{a(!1)}},y=async()=>{try{f(!0);const{data:g,error:b}=await Le.from("simulation_runs").select("id, score, submitted_at, student_id").not("submitted_at","is",null).order("submitted_at",{ascending:!1}).limit(1e3);if(b)throw b;const v=new Map;g==null||g.forEach(j=>{var F,k;const O=(F=j.submitted_at)==null?void 0:F.split("T")[0];if(!O)return;const I=(k=j.score)==null?void 0:k.overall;if(!I||I<=0)return;v.has(O)||v.set(O,{scores:[],students:new Set});const L=v.get(O);L.scores.push(I),L.students.add(j.student_id)});const w=Array.from(v.entries()).map(([j,O])=>({dateKey:j,date:new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric"}),averageScore:O.scores.reduce((I,L)=>I+L,0)/O.scores.length,totalStudents:O.students.size})).sort((j,O)=>j.dateKey.localeCompare(O.dateKey)).slice(-30).map(({dateKey:j,...O})=>O);o(w);const _=new Map;g==null||g.forEach(j=>{var I;const O=(I=j.score)==null?void 0:I.overall;!O||O<=0||(_.has(j.student_id)||_.set(j.student_id,{scores:[],name:"",email:""}),_.get(j.student_id).scores.push(O))});const N=Array.from(_.keys());if(N.length>0){const{data:j}=await Le.from("users").select("id, name, email").eq("role","student").in("id",N);j==null||j.forEach(O=>{const I=_.get(O.id);I&&(I.name=O.name,I.email=O.email)})}const S=Array.from(_.entries()).map(([j,O])=>{const I=O.scores.reduce((F,k)=>F+k,0)/O.scores.length,L=Math.max(...O.scores);return{id:j,name:O.name||"Unknown",email:O.email||"",averageScore:I,totalAttempts:O.scores.length,bestScore:L}}).filter(j=>j.name!=="Unknown").sort((j,O)=>O.averageScore!==j.averageScore?O.averageScore-j.averageScore:O.totalAttempts-j.totalAttempts).slice(0,50);c(S)}catch(g){console.error("Error loading performance data:",g)}finally{f(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Bi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Admin Dashboard"}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Faculty"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.totalFaculty})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(ko,{className:"w-6 h-6 text-blue-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.totalStudents})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(ko,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.activeStations})]}),d.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:d.jsx(xi,{className:"w-6 h-6 text-purple-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"CBDC Coverage"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[r.coverage,"%"]})]}),d.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:d.jsx($a,{className:"w-6 h-6 text-orange-600"})})]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8 border border-gray-100",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Student Performance Trend"}),u?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):s.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[d.jsx($a,{className:"w-12 h-12 mb-3 text-gray-400"}),d.jsx("p",{className:"text-sm",children:"No performance data available yet"})]}):d.jsx(FD,{data:s})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8 border border-gray-100",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Student Leaderboard"}),u?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):l.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[d.jsx(ko,{className:"w-12 h-12 mb-3 text-gray-400"}),d.jsx("p",{className:"text-sm",children:"No leaderboard data available yet"})]}):d.jsx(UD,{entries:l,maxDisplay:20})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),d.jsx("div",{className:"flex gap-4",children:d.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors font-medium shadow-sm hover:shadow-md",children:[d.jsx(Id,{className:"w-4 h-4"}),"Export System Report"]})})]})]})]})})]})}function nje({isOpen:e,onClose:t,onSave:r}){const[n,i]=X.useState({id:"",domain:"",level:"",description:""}),[a,s]=X.useState(!1),[o,l]=X.useState(null);if(!e)return null;const c=async u=>{if(u.preventDefault(),l(null),!n.id.trim()||!n.domain.trim()||!n.description.trim()){l("ID, Domain, and Description are required");return}s(!0);try{await r({id:n.id.trim(),domain:n.domain.trim(),level:n.level.trim()||null,description:n.description.trim()}),i({id:"",domain:"",level:"",description:""}),t()}catch(f){l(f.message||"Failed to save competency")}finally{s(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Competency"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(Bf,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[o&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:o}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:n.id,onChange:u=>i({...n,id:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Domain ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:n.domain,onChange:u=>i({...n,domain:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),d.jsx("input",{type:"text",value:n.level,onChange:u=>i({...n,level:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:n.description,onChange:u=>i({...n,description:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Saving...":"Save"})]})]})]})})}function ije({isOpen:e,onClose:t,competency:r,onSave:n}){const[i,a]=X.useState({id:"",domain:"",level:"",description:""}),[s,o]=X.useState(!1),[l,c]=X.useState(null);if(X.useEffect(()=>{r&&a({id:r.id,domain:r.domain,level:r.level||"",description:r.description})},[r]),!e||!r)return null;const u=async f=>{if(f.preventDefault(),c(null),!i.domain.trim()||!i.description.trim()){c("Domain and Description are required");return}o(!0);try{await n({id:i.id,domain:i.domain.trim(),level:i.level.trim()||null,description:i.description.trim()}),t()}catch(p){c(p.message||"Failed to update competency")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Competency"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(Bf,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),d.jsx("input",{type:"text",value:i.id,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ID cannot be changed"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Domain ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i.domain,onChange:f=>a({...i,domain:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),d.jsx("input",{type:"text",value:i.level,onChange:f=>a({...i,level:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:i.description,onChange:f=>a({...i,description:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Update"})]})]})]})})}function aje({user:e}){const t=Uo(),[r,n]=X.useState([]),[i,a]=X.useState(!0),[s,o]=X.useState(!1),[l,c]=X.useState(null);X.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:g,error:b}=await Le.from("competencies").select("*").order("id");if(b)throw b;n(g||[])}catch(g){console.error("Error loading competencies:",g)}finally{a(!1)}},f=()=>{const g=[["ID","Domain","Level","Description"],...r.map(_=>[_.id,_.domain,_.level||"",_.description])].map(_=>_.map(N=>`"${N}"`).join(",")).join(`
`),b=new Blob([g],{type:"text/csv"}),v=URL.createObjectURL(b),w=document.createElement("a");w.href=v,w.download="cbdc-competencies.csv",w.click()},p=async g=>{const{error:b}=await Le.from("competencies").insert([g]);if(b)throw b;await u()},h=async g=>{const{error:b}=await Le.from("competencies").update({domain:g.domain,level:g.level,description:g.description}).eq("id",g.id);if(b)throw b;await u()},y=async g=>{if(!confirm(`Are you sure you want to delete competency "${g}"? This action cannot be undone.`))return;const{error:b}=await Le.from("competencies").delete().eq("id",g);if(b){t.error("Error deleting competency: "+b.message);return}await u()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Bi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CBDC Manager"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[d.jsx(Id,{className:"w-4 h-4"}),"Export CSV"]}),d.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(Wm,{className:"w-4 h-4"}),"Add Competency"]})]})]}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Domain"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(g=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.id}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.domain}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.level||"-"}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:g.description}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d.jsx("button",{onClick:()=>c(g),className:"text-primary-600 hover:text-primary-900 mr-4",title:"Edit competency",children:d.jsx(sj,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>y(g.id),className:"text-red-600 hover:text-red-900",title:"Delete competency",children:d.jsx(zH,{className:"w-4 h-4"})})]})]},g.id))})]})})]})}),d.jsx(nje,{isOpen:s,onClose:()=>o(!1),onSave:p}),d.jsx(ije,{isOpen:l!==null,onClose:()=>c(null),competency:l,onSave:h})]})}function sje({isOpen:e,onClose:t,user:r,onSave:n}){const[i,a]=X.useState({name:"",email:"",role:"student"}),[s,o]=X.useState(!1),[l,c]=X.useState(null);if(X.useEffect(()=>{r&&a({name:r.name,email:r.email,role:r.role})},[r]),!e||!r)return null;const u=async f=>{if(f.preventDefault(),c(null),!i.name.trim()||!i.email.trim()){c("Name and Email are required");return}o(!0);try{await n({id:r.id,name:i.name.trim(),email:i.email.trim(),role:i.role}),t()}catch(p){c(p.message||"Failed to update user")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit User"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(Bf,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i.name,onChange:f=>a({...i,name:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"email",value:i.email,onChange:f=>a({...i,email:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{value:i.role,onChange:f=>a({...i,role:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Update"})]})]})]})})}function oje({user:e}){const[t,r]=X.useState([]),[n,i]=X.useState(!0),[a,s]=X.useState(""),[o,l]=X.useState(null);X.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:h,error:y}=await Le.from("users").select("*").order("created_at",{ascending:!1});if(y)throw y;r(h||[])}catch(h){console.error("Error loading users:",h)}finally{i(!1)}},u=t.filter(h=>h.name.toLowerCase().includes(a.toLowerCase())||h.email.toLowerCase().includes(a.toLowerCase())),f=h=>{switch(h){case"admin":return"bg-red-100 text-red-800";case"faculty":return"bg-blue-100 text-blue-800";case"student":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},p=async h=>{const{error:y}=await Le.from("users").update({name:h.name,email:h.email,role:h.role}).eq("id",h.id);if(y)throw y;await c()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Bi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"User Management"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(oj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:h=>s(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),n?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(h=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Bs,{className:"w-5 h-5 text-gray-400 mr-2"}),d.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.email}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${f(h.role)}`,children:h.role})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(h.created_at).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>l(h),className:"text-primary-600 hover:text-primary-900",title:"Edit user",children:d.jsx(sj,{className:"w-4 h-4"})})})]},h.id))})]})})]})}),d.jsx(sje,{isOpen:o!==null,onClose:()=>l(null),user:o,onSave:p})]})}function lje({user:e}){const t=Uo(),[r,n]=X.useState([]),[i,a]=X.useState(null),[s,o]=X.useState([]),[l,c]=X.useState([]),[u,f]=X.useState(!0);X.useEffect(()=>{p(),g()},[]);const p=async()=>{try{const{data:b,error:v}=await Le.from("reports").select("*").order("created_at",{ascending:!1}).limit(10);if(v)throw v;n(b||[])}catch(b){console.error("Error loading reports:",b)}},h=async b=>{a(b);try{const v=new Date;let w,_=new Date(v);if(b==="quarterly"){const T=Math.floor(v.getMonth()/3);w=new Date(v.getFullYear(),T*3,1)}else w=new Date(v.getFullYear(),0,1);const{data:N}=await Le.from("competencies").select("*"),{data:S}=await Le.from("stations").select("id, title, blueprint"),{data:j}=await Le.from("case_snapshots").select("id, clinical_case, approved_at").gte("approved_at",w.toISOString()).lte("approved_at",_.toISOString()),{data:O}=await Le.from("assignments").select("id, snapshot_id, created_at").gte("created_at",w.toISOString()).lte("created_at",_.toISOString()),I=(O==null?void 0:O.map(T=>T.id))||[],{data:L}=await Le.from("simulation_runs").select("id, score, submitted_at").in("assignment_id",I).not("submitted_at","is",null),F=new Set;j==null||j.forEach(T=>{var K;(((K=T.clinical_case)==null?void 0:K.sloMappings)||[]).forEach(Q=>{F.add(Q)})});const k=(N==null?void 0:N.length)||0,P=F.size,D=k>0?Math.round(P/k*100):0,M=(L==null?void 0:L.filter(T=>T.submitted_at))||[],U=M.map(T=>{var C;return((C=T.score)==null?void 0:C.overall)||0}).filter(T=>T>0),V=U.length>0?U.reduce((T,C)=>T+C,0)/U.length:0,W={summary:{period:b==="quarterly"?"Quarterly":"Annual",periodStart:w.toISOString().split("T")[0],periodEnd:_.toISOString().split("T")[0],generatedAt:new Date().toISOString()},metrics:{totalCompetencies:k,coveredCompetencies:P,coverage:D,totalStations:(S==null?void 0:S.length)||0,totalSnapshots:(j==null?void 0:j.length)||0,totalAssignments:(O==null?void 0:O.length)||0,totalCompletions:M.length,averageScore:Math.round(V)},stationDistribution:{total:(S==null?void 0:S.length)||0,bySubject:{}},studentPerformance:{totalAttempts:M.length,averageScore:Math.round(V),completionRate:O&&O.length>0?Math.round(M.length/O.length*100):0},sloAchievement:{total:0,achieved:0,percentage:0}},{error:B}=await Le.from("reports").insert([{type:b,period_start:w.toISOString().split("T")[0],period_end:_.toISOString().split("T")[0],report_data:W,generated_by:e.id}]);if(B)throw B;const J=new Blob([JSON.stringify(W,null,2)],{type:"application/json"}),$=URL.createObjectURL(J),ae=document.createElement("a");ae.href=$,ae.download=`${b}-report-${w.toISOString().split("T")[0]}.json`,ae.click(),await p(),t.success("Report generated successfully!")}catch(v){t.error("Error generating report: "+(v.message||"Unknown error")),console.error("Error generating report:",v)}finally{a(null)}},y=b=>{try{const v=b.report_data;let w=`Compliance Report
`;w+=`Type,${b.type}
`,w+=`Period,${b.period_start} to ${b.period_end}
`,w+=`Generated,${new Date(b.created_at).toLocaleString()}

`,w+=`Metrics
`,w+=`Metric,Value
`,v.metrics&&(w+=`CBDC Coverage,${v.metrics.coverage}%
`,w+=`Total Stations,${v.metrics.totalStations}
`,w+=`Total Snapshots,${v.metrics.totalSnapshots}
`,w+=`Total Assignments,${v.metrics.totalAssignments}
`,w+=`Total Completions,${v.metrics.totalCompletions}
`,w+=`Average Score,${v.metrics.averageScore}%
`),w+=`
Student Performance
`,w+=`Metric,Value
`,v.studentPerformance&&(w+=`Total Attempts,${v.studentPerformance.totalAttempts}
`,w+=`Average Score,${v.studentPerformance.averageScore}%
`,w+=`Completion Rate,${v.studentPerformance.completionRate}%
`);const _=new Blob([w],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL(_),S=document.createElement("a");S.href=N,S.download=`${b.type}-report-${b.period_start}.csv`,S.click(),URL.revokeObjectURL(N),t.success("CSV exported successfully!")}catch(v){t.error("Error exporting CSV: "+(v.message||"Unknown error"))}},g=async()=>{try{f(!0);const{data:b,error:v}=await Le.from("simulation_runs").select("id, score, submitted_at, student_id").not("submitted_at","is",null).order("submitted_at",{ascending:!1}).limit(1e3);if(v)throw v;const w=new Map;b==null||b.forEach(O=>{var k,P;const I=(k=O.submitted_at)==null?void 0:k.split("T")[0];if(!I)return;const L=(P=O.score)==null?void 0:P.overall;if(!L||L<=0)return;w.has(I)||w.set(I,{scores:[],students:new Set});const F=w.get(I);F.scores.push(L),F.students.add(O.student_id)});const _=Array.from(w.entries()).map(([O,I])=>({dateKey:O,date:new Date(O).toLocaleDateString("en-US",{month:"short",day:"numeric"}),averageScore:I.scores.reduce((L,F)=>L+F,0)/I.scores.length,totalStudents:I.students.size})).sort((O,I)=>O.dateKey.localeCompare(I.dateKey)).slice(-30).map(({dateKey:O,...I})=>I);o(_);const N=new Map;b==null||b.forEach(O=>{var L;const I=(L=O.score)==null?void 0:L.overall;!I||I<=0||(N.has(O.student_id)||N.set(O.student_id,{scores:[],name:"",email:""}),N.get(O.student_id).scores.push(I))});const S=Array.from(N.keys());if(S.length>0){const{data:O}=await Le.from("users").select("id, name, email").eq("role","student").in("id",S);O==null||O.forEach(I=>{const L=N.get(I.id);L&&(L.name=I.name,L.email=I.email)})}const j=Array.from(N.entries()).map(([O,I])=>{const L=I.scores.reduce((k,P)=>k+P,0)/I.scores.length,F=Math.max(...I.scores);return{id:O,name:I.name||"Unknown",email:I.email||"",averageScore:L,totalAttempts:I.scores.length,bestScore:F}}).filter(O=>O.name!=="Unknown").sort((O,I)=>I.averageScore!==O.averageScore?I.averageScore-O.averageScore:I.totalAttempts-O.totalAttempts).slice(0,50);c(j)}catch(b){console.error("Error loading performance data:",b)}finally{f(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Bi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Compliance Reports"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Student Performance Trend"}),u?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx(FD,{data:s})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Student Leaderboard"}),u?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx(UD,{entries:l,maxDisplay:20})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Quarterly Report"}),d.jsx(xi,{className:"w-8 h-8 text-blue-600"})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Generate a comprehensive quarterly compliance report covering all competencies and stations."}),d.jsx("button",{onClick:()=>h("quarterly"),disabled:i!==null,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i==="quarterly"?d.jsxs(d.Fragment,{children:[d.jsx(Ao,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Id,{className:"w-4 h-4"}),"Generate Quarterly Report"]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Annual Report"}),d.jsx(fs,{className:"w-8 h-8 text-green-600"})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Generate an annual compliance report with year-over-year trends and analytics."}),d.jsx("button",{onClick:()=>h("annual"),disabled:i!==null,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i==="annual"?d.jsxs(d.Fragment,{children:[d.jsx(Ao,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Id,{className:"w-4 h-4"}),"Generate Annual Report"]})})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Report History"}),r.length===0?d.jsx("p",{className:"text-gray-600",children:"No reports generated yet."}):d.jsx("div",{className:"space-y-3",children:r.map(b=>{var v;return d.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded ${b.type==="quarterly"?"bg-blue-100":"bg-green-100"}`,children:b.type==="quarterly"?d.jsx(xi,{className:"w-5 h-5 text-blue-600"}):d.jsx(fs,{className:"w-5 h-5 text-green-600"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium text-gray-900 capitalize",children:[b.type," Report"]}),d.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[d.jsx(Df,{className:"w-4 h-4"}),new Date(b.period_start).toLocaleDateString()," - ",new Date(b.period_end).toLocaleDateString()]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"text-sm text-gray-500",children:new Date(b.created_at).toLocaleDateString()}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>{const w=new Blob([JSON.stringify(b.report_data,null,2)],{type:"application/json"}),_=URL.createObjectURL(w),N=document.createElement("a");N.href=_,N.download=`${b.type}-report-${b.period_start}.json`,N.click()},className:"p-2 text-primary-600 hover:bg-primary-50 rounded transition-colors",title:"Download JSON",children:d.jsx(Id,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>y(b),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Export to CSV",children:d.jsx(PH,{className:"w-4 h-4"})})]})]})]}),((v=b.report_data)==null?void 0:v.metrics)&&d.jsxs("div",{className:"mt-3 pt-3 border-t grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Coverage"}),d.jsxs("div",{className:"font-semibold text-gray-900",children:[b.report_data.metrics.coverage,"%"]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Stations"}),d.jsx("div",{className:"font-semibold text-gray-900",children:b.report_data.metrics.totalStations})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Completions"}),d.jsx("div",{className:"font-semibold text-gray-900",children:b.report_data.metrics.totalCompletions})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Avg Score"}),d.jsxs("div",{className:"font-semibold text-gray-900",children:[b.report_data.metrics.averageScore,"%"]})]})]})]},b.id)})})]})]})}),d.jsx(Ul,{toasts:t.toasts,onClose:t.removeToast})]})}function cje(){return d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})})}class uje extends X.Component{constructor(){super(...arguments);sr(this,"state",{hasError:!1,error:null});sr(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),window.location.href="/"})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}render(){var r;return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[d.jsx(Ts,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-gray-600 mb-4",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred"}),d.jsxs("button",{onClick:this.handleReset,className:"flex items-center justify-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors mx-auto",children:[d.jsx(MH,{className:"w-4 h-4"}),"Return to Home"]})]})}):this.props.children}}function dje({authUserId:e,authUserEmail:t,authUserName:r,onComplete:n}){const[i,a]=X.useState(r||""),[s,o]=X.useState("student"),[l,c]=X.useState([]),[u,f]=X.useState([]),[p,h]=X.useState(!1),[y,g]=X.useState(!1),[b,v]=X.useState(null);X.useEffect(()=>{s==="student"&&w()},[s]);const w=async()=>{h(!0);try{const{data:N,error:S}=await Le.from("cohorts").select("id, name, description").order("name");if(S)throw S;f(N||[])}catch(N){console.error("Error loading cohorts:",N)}finally{h(!1)}},_=async N=>{N.preventDefault(),g(!0),v(null);try{const{error:S}=await Le.from("users").insert({id:e,name:i.trim()||(t==null?void 0:t.split("@")[0])||"User",email:t||"",role:s}).select().single();if(S)throw S;if(s==="student"&&l.length>0){const j=l.map(I=>({cohort_id:I,student_id:e})),{error:O}=await Le.from("cohort_members").insert(j);O&&console.error("Error adding student to cohorts:",O)}n()}catch(S){v(S.message||"An error occurred while completing your profile"),g(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-primary-50 to-gray-100 px-4 py-8",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 md:p-10 w-full max-w-md border-2 border-gray-200",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-16 md:h-20 w-auto object-contain"})}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Complete Your Profile"}),d.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base",children:"Please provide the following information to complete your account setup"})]}),d.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i,onChange:N=>a(N.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400",placeholder:"Enter your full name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:t||"",disabled:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email is set from your OAuth account"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{value:s,onChange:N=>{o(N.target.value),c([])},required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 bg-white",children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),s==="student"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Cohorts (Optional)"}),p?d.jsx("div",{className:"text-sm text-gray-500",children:"Loading cohorts..."}):u.length===0?d.jsx("div",{className:"text-sm text-gray-500 p-3 bg-gray-50 rounded-md",children:"No cohorts available. You can join cohorts later from your profile settings."}):d.jsx("div",{className:"border border-gray-300 rounded-md max-h-40 overflow-y-auto p-2",children:u.map(N=>d.jsxs("label",{className:"flex items-start gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:l.includes(N.id),onChange:S=>{S.target.checked?c([...l,N.id]):c(l.filter(j=>j!==N.id))},className:"mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.name}),N.description&&d.jsx("div",{className:"text-xs text-gray-500",children:N.description})]})]},N.id))}),l.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," cohort",l.length!==1?"s":""," selected"]})]}),b&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:b}),d.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-6 rounded-xl hover:from-primary-700 hover:to-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 font-bold text-base md:text-lg shadow-lg transition-all transform hover:scale-[1.02]",children:y?"Completing Profile...":"Complete Profile"})]})]})})}const FC={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmN1c2ZzcHBqeWFsYmdxdHh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NjI2NjYsImV4cCI6MjA3ODQzODY2Nn0.DMugE2X3gBvcRBXt-NqWceWQB2Vmi9kbavEE6MEjAmI",VITE_SUPABASE_URL:"https://kivcusfsppjyalbgqtxy.supabase.co"};function fje(){const[e,t]=X.useState(null),[r,n]=X.useState(!0),[i,a]=X.useState(!1),[s,o]=X.useState(null);X.useEffect(()=>{Le.auth.getSession().then(({data:{session:h}})=>{h?l():n(!1)});const{data:{subscription:p}}=Le.auth.onAuthStateChange((h,y)=>{y?l():(t(null),n(!1))});return()=>p.unsubscribe()},[]);const l=async()=>{var p,h,y,g,b,v;try{const{data:{user:w}}=await Le.auth.getUser();if(!w){n(!1);return}const{data:_,error:N}=await Le.from("users").select("*").eq("id",w.id).single();if(N&&N.code==="PGRST116")if(((p=w.identities)==null?void 0:p.some(j=>j.provider!=="email"))||!1){o({id:w.id,email:w.email,name:((h=w.user_metadata)==null?void 0:h.name)||((y=w.user_metadata)==null?void 0:y.full_name)}),a(!0),n(!1);return}else{const{data:j}=await Le.from("users").insert({id:w.id,name:((g=w.user_metadata)==null?void 0:g.name)||((b=w.email)==null?void 0:b.split("@")[0])||"User",email:w.email,role:((v=w.user_metadata)==null?void 0:v.role)||"student"}).select().single();j&&t(j)}else _&&(t(_),a(!1))}catch(w){console.error("Error loading user:",w)}finally{n(!1)}},c=()=>{a(!1),o(null),l()};if(r)return d.jsx(cje,{});if(i&&s)return d.jsx(dje,{authUserId:s.id,authUserEmail:s.email,authUserName:s.name,onComplete:c});if(!e)return d.jsx(NH,{onAuthSuccess:l});const f=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"].filter(p=>!FC[p]||FC[p].trim()==="");return f.length>0?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Configuration Error"}),d.jsx("p",{className:"text-gray-700 mb-4",children:"The following required environment variables are missing:"}),d.jsx("ul",{className:"list-disc list-inside text-gray-600 mb-4 space-y-1",children:f.map(p=>d.jsx("li",{children:p},p))}),d.jsx("p",{className:"text-sm text-gray-500",children:"Please set these variables in your .env file and restart the application."})]})}):d.jsx(uje,{children:d.jsxs(QU,{children:[d.jsxs(VU,{children:[e.role==="faculty"&&d.jsxs(d.Fragment,{children:[d.jsx(pn,{path:"/dashboard",element:d.jsx(HH,{user:e})}),d.jsx(pn,{path:"/create",element:d.jsx(VH,{user:e})}),d.jsx(pn,{path:"/review/:stationId",element:d.jsx(oX,{user:e})}),d.jsx(pn,{path:"/assign/:snapshotId",element:d.jsx(lX,{user:e})}),d.jsx(pn,{path:"/library",element:d.jsx(cX,{user:e})}),d.jsx(pn,{path:"/analytics",element:d.jsx(Vwe,{user:e})}),d.jsx(pn,{path:"/profile",element:d.jsx(Gwe,{user:e})})]}),e.role==="student"&&d.jsxs(d.Fragment,{children:[d.jsx(pn,{path:"/home",element:d.jsx(S6,{user:e})}),d.jsx(pn,{path:"/assigned",element:d.jsx(S6,{user:e})}),d.jsx(pn,{path:"/analytics",element:d.jsx(tje,{user:e})}),d.jsx(pn,{path:"/simulation/:assignmentId",element:d.jsx(Qwe,{user:e})}),d.jsx(pn,{path:"/debrief/:runId",element:d.jsx(JSe,{user:e})}),d.jsx(pn,{path:"/results",element:d.jsx(ZSe,{user:e})}),d.jsx(pn,{path:"/profile",element:d.jsx(QSe,{user:e})})]}),e.role==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx(pn,{path:"/admin/dashboard",element:d.jsx(rje,{user:e})}),d.jsx(pn,{path:"/admin/reports",element:d.jsx(lje,{user:e})}),d.jsx(pn,{path:"/admin/cbdc",element:d.jsx(aje,{user:e})}),d.jsx(pn,{path:"/admin/users",element:d.jsx(oje,{user:e})})]}),d.jsx(pn,{path:"/",element:d.jsx(HU,{to:e.role==="faculty"?"/dashboard":e.role==="admin"?"/admin/dashboard":"/home",replace:!0})})]}),e&&d.jsx(Zn,{role:e.role})]})})}z2.createRoot(document.getElementById("root")).render(d.jsx(le.StrictMode,{children:d.jsx(fje,{})}));export{mr as _,_l as c,lr as g};
